"use strict";(globalThis.webpackChunk_dashlane_leeloo=globalThis.webpackChunk_dashlane_leeloo||[]).push([[496],{145398:(e,t,a)=>{a.d(t,{Z:()=>r});var n=a(696832),s=a(190481),i=a(714910);function r({path:e}){return n.createElement(s.GB,{exact:!0,path:[e,`${e}/create`,`${e}/create/confirm`]},n.createElement(s.rs,null,n.createElement(s.l_,{exact:!0,from:`${e}/`,to:`${e}/create`}),n.createElement(i.Z,{path:`${e}/create`,options:{flowIndicator:"memberAccount"}})))}},820326:(e,t,a)=>{a.d(t,{t:()=>r});var n=a(696832),s=a(446389);const i=({title:e,description:t,example:a})=>n.createElement("section",null,n.createElement("h3",{className:"tipTitle--E1xwuwFYGQ"},e),n.createElement("div",{className:"tipDescription--F8jzGudxgL"},t),a?n.createElement("p",{className:"tipExample--OSKD8mHhgv"},a):null),r=()=>{const{translate:e}=(0,s.Z)();return n.createElement(n.Fragment,null,n.createElement(i,{title:e("webapp_account_security_settings_passwordtips_general_rules_title"),description:n.createElement("ul",null,n.createElement("li",null,e("webapp_account_security_settings_passwordtips_general_rules_description_1")),n.createElement("li",null,e("webapp_account_security_settings_passwordtips_general_rules_description_2")),n.createElement("li",null,e("webapp_account_security_settings_passwordtips_general_rules_description_3")))}),n.createElement(i,{title:e("webapp_account_security_settings_passwordtips_story_method_title"),description:e("webapp_account_security_settings_passwordtips_story_method_description"),example:e("webapp_account_security_settings_passwordtips_story_method_example")}),n.createElement(i,{title:e("webapp_account_security_settings_passwordtips_series_words_title"),description:e("webapp_account_security_settings_passwordtips_series_words_description"),example:e("webapp_account_security_settings_passwordtips_series_words_example")}),n.createElement(i,{title:e("webapp_account_security_settings_passwordtips_letters_numbers_title"),description:e("webapp_account_security_settings_passwordtips_letters_numbers_description"),example:e("webapp_account_security_settings_passwordtips_letters_numbers_example")}))}},987112:(e,t,a)=>{var n=a(497458),s=a(676025),i=a(149492),r=a(696832),o=a(281190),l=a(566158),c=a(861456),d=a(616437),u=a(551816),m=a(809409),_=a(694800),p=(a(502073),a(241901)),g=a(80286),y=a(403092),h=a(140),b=a.n(h);const S=(0,a(798601).Z)("STATE_IN_URL",{}),v=(e,t)=>{if(t.length>0){const a=t[0];return a in e||(e[a]={}),v(e[a],t.slice(1))}return e},E=S.registerAction("RESTORE_DATA",((e,t)=>{const a={};return Object.keys(t).forEach((e=>{const n=e.split(".");v(a,n.slice(0,n.length-1))[n[n.length-1]]=t[e]})),b()({},e,a)})),{apply:N}=S,f=N,C=function(e,t){const a=(0,y.parse)(e);return Object.keys(t).filter((e=>e in a)).map((e=>({urlValue:a[e],userValue:t[e]}))).map((({urlValue:e,userValue:t})=>"string"==typeof t?{[t]:e}:t(e)||{})).reduce(((e,t)=>(Object.keys(t).forEach((t=>{if(t in e)throw new Error("Some URL options conflict")})),Object.assign(e,t))),{})};var T=a(190481),M=a(616274),x=a(607832),D=a(27606),I=a(127966),Z=a(530263),w=a(964611),A=a(182422),O=a(176644),k=a(527398),L=a(766482),z=a(657208),j=a(23054),P=a(654712),R=a(917194),U=a(175016),B=a(342534),G=a(970238),F=a(428694),V=a(945419),$=a(158432),W=a(524179);let H;function Q(){return H||(H=function(e){const t=[];i.bq&&t.push((0,W.createLogger)({timestamp:!1,collapsed:!0,diff:!0}));const a=(0,A.compose)((0,A.applyMiddleware)(...t),(window.devToolsExtension,e=>e))(A.createStore)(function(e){const t=(0,$.RC)(e);return function(e,a){return e=(0,A.combineReducers)({initialSyncProgress:V.Z.apply,notifications:k.Z.apply,carbon:O.ZP.apply,directorySyncKey:G.ZP.apply,cursor:(e={})=>e,locale:z.ZP.apply,logs:L.Z.apply,user:j.ZP.apply,webapp:R.ZP.apply,dialog:U.Z.apply,afterLogin:B.Z.apply,ieNotifications:F.Z.apply})(e,a),e=t(e,a),e=(0,P.Z)(e,a),f(e,a)}}(e));return a}(w.Z)),H}var Y,q=a(160399);const K=a(851285),X=document.getElementById("app"),J=window.location.host,ee=null!=(Y=X?.getAttribute("data-base"))?Y:"",te=(X?.getAttribute("data-build-type"),(0,p.q_)({basename:"/",hashType:"slash"}));let ae;(0,T.JB)(te);const ne="graphene-background-port";async function se(e,t){const a=await async function(e){return await async function(e){await function(e){return Promise.all([(0,c.ZP)({store:e,storage:localStorage,whiteList:["locale/language","locale/country"]})])}(e),(0,l.Z)(e),(0,u.CA)(e),function(e,t,a,n){const s=Object.assign(C("",n),C(t,n));Object.keys(s).length>0&&a.dispatch(E(s))}(0,(0,T.NW)(),e,{login:e=>"dummy"===e?{"user.session.login":"dummy-login@example.com","user.session.uki":"dummy-uki","user.password":null}:{"user.session.login":e},password:"user.session.password",showBillingAdmin:"cursor.app.team.account.billing.admin._.showConfirm",uki:"user.session.uki"})}(e),await(0,_.yd)(e),new Z.BrowserPortConnector(ne)}(e),n=(0,D.createApplicationClient)({appDefinition:I.R,channels:{background:new D.AcknowledgedChannel(a)},channelsListener:D.NoDynamicChannels}),s=n["carbon-legacy"].queries.carbonState({path:"userSession.sync.status"});return await(0,q.z)(s),n}var ie=a(74227);((e,t)=>{a(928058),a(744946),a(794383),(0,i.ZP)();const n=(0,ie.r)(e);(async(e,t)=>{const a=Q();!function(e,t){e.addEventListener("error",(e=>{e.preventDefault(),"ResizeObserver loop limit exceeded"!==e.message?t.dispatch((0,g.Z)(e.message,e.error)):e.stopPropagation()})),e.onunhandledrejection=e=>{e.preventDefault&&e.preventDefault();const a=e.reason,n=a instanceof Error?a:new Error('Promise rejection reason is not an error, but is "'+JSON.stringify(a)+'" instead');t.dispatch((0,g.Z)(`Unhandled promise rejection: ${n}`,n))}}(window,a);const n=await(0,d.eG)(a);if(ae||(ae=await se(a),(0,m.Q)(ae),M.C.liveAccountCreated.on((()=>{try{(0,x.t)(5e3)}catch(e){a.dispatch((0,g.Z)("Error - liveAccountCreated event cb: ",e))}}))),!ae)throw new Error;K.render(r.createElement(o.Z,{host:J,basePath:ee,history:te,store:a,translate:n,namedRoutes:t,routes:e,coreClient:ae}),X)})(t(n,e),n),(()=>{const e=document.querySelectorAll("link.light-scheme-favicon"),t=document.querySelectorAll("link.dark-scheme-favicon"),a=window.matchMedia("(prefers-color-scheme: dark)");function n(){a.matches?(e.forEach((e=>e.remove())),t.forEach((e=>document.head.append(e)))):(t.forEach((e=>e.remove())),e.forEach((e=>document.head.append(e))))}a.addEventListener?a.addEventListener("change",n):a.addListener(n),n()})()})(s.vX.CLIENT,n.t)},149492:(e,t,a)=>{a.d(t,{ZP:()=>r,bq:()=>i,sY:()=>s});var n=a(403092);let s=!1,i=!1;function r(){const e="kw_verbose";"verbose"in(0,n.parseLocationParams)(window.location)&&sessionStorage.setItem(e,"true");const t="true"===sessionStorage.getItem(e);t&&console.info("~~~ Logs activated ~~~"),s=t,i=t,window.KW_LOG=s}},347483:(e,t,a)=>{a.d(t,{j:()=>m});var n=a(696832),s=a(708608),i=a(277786),r=a(190481),o=a(446389),l=a(694435);const c="activateSSOText--uGZ1mGdPI0";var d,u;const m=({activateLink:e,onClose:t,localSsoRedirect:a,isNitroSSO:m,nitroLoginCommand:_})=>{const{translate:p}=(0,o.Z)(),[g,y]=n.useState(!0);return n.createElement(s.VqE,{closeIconName:p("_common_dialog_dismiss_button"),isOpen:g,onClose:()=>{y(!1),t()},disableOutsideClickClose:!0},n.createElement("div",{className:"dialogContainer--R1vvi6YG8s"},n.createElement(s.$N8,null,d||(d=n.createElement(s.HeP,{size:90})),n.createElement("h2",{className:"activateSSOTitle--TSG6RZuM4T"},p("activate_sso_popup_title"))),n.createElement(s.a7O,null,n.createElement("p",{className:c},p("activate_sso_popup_body")),n.createElement("p",{className:c},p("activate_sso_popup_body_secondary"))),n.createElement(s.cNS,{primaryButtonOnClick:async()=>{if(a)return(0,r.uX)(e);m?_():(0,i.nL)(e)},primaryButtonTitle:p("activate_sso_popup_primary_button"),secondaryButtonOnClick:()=>(0,i.Yo)(l.n0),secondaryButtonTitle:n.createElement(n.Fragment,null,u||(u=n.createElement(s.RTC,{size:20})),n.createElement("p",{className:"activateSSOTextWithIcon--p3VZNI9NKb"},p("activate_sso_popup_secondary_button")))})))}},248309:(e,t,a)=>{a.d(t,{S:()=>G});var n=a(696832),s=a(387327),i=(a(510606),a(373245)),r=a(148038),o=a(238250),l=a(421548),c=a(73526),d=a(676025),u=a(446389),m=a(616274),_=a(277786),p=a(906978),g=a(190481),y=a(311613),h=a(694435);var b=a(823468);let S;!function(e){e.ASK_FOR_MP="ASK_FOR_MP",e.ACCOUNT_CREATION="ACCOUNT_CREATION",e.D_SPINNER="D_SPINNER",e.CHANGE_MP_PROGRESS="CHANGE_MP_PROGRESS"}(S||(S={}));var v=a(429988),E=a(856096);var N;const f=({dispatchGlobal:e,onSubmit:t})=>n.createElement("div",{className:"panelsContainer--jB02U43E37"},N||(N=n.createElement(v.w,null)),n.createElement(E.R,{dispatchGlobal:e,onSubmit:t}));var C=a(708608);const T=({animation:e,shouldLoopAnimation:t=!1,progressValue:a=0})=>{const{translate:s}=(0,u.Z)();return n.createElement(n.Fragment,null,n.createElement("div",{className:"logo--zwQR6n8P2E"},n.createElement(C.D1W,{color:C.vei.DashGreen,size:C.r1z.Size39,title:s("_common_dashlane_logo_title")})),n.createElement("div",{className:"progressContainer--uN3zEbYKRy"},n.createElement("div",{className:"content--g692RTJxEb"},n.createElement(i.Z,{height:96,width:96,animationParams:{renderer:"svg",animationData:e,loop:t,autoplay:!0}}),n.createElement("p",{className:"progressValue--EWZwTNi5yM"},s("_common_generic_percentage",{number:a})),n.createElement("h2",{className:"description--urcB98N4_F"},s("webapp_sso_changemp_loading_desc")),n.createElement("p",{className:"subDescription--dtFN1rQZIb"},s("webapp_sso_changemp_loading_warning")))))};var M=a(865163),x=a(383849),D=a.n(x),I=a(710839),Z=a(395437),w=a(494770),A=a(241332);const O="disclaimerCheckboxWrapper--H9bH4mWFEN",k="visible--tgv48_Tn6M",L="disclaimerCheckbox--I9w4KoQzGz";var z;const j=e=>{const{memberEmail:t,onSubmit:a,error:s}=e,{isEu:i}=e.lee.carbon.currentLocation,r=null===i,o=n.useCallback((()=>Boolean(!!r||i)),[i,r]),{translate:l}=(0,u.Z)(),[c,d]=(0,n.useState)(!o()),[m,_]=(0,n.useState)(!1),[p,g]=(0,n.useState)(!1),y=n.createRef();(0,n.useEffect)((()=>{d(!o())}),[d,o]);const h=o()?l("member_account_creation_info_tips_and_offers_label"):l("member_account_creation_i_want_to_receive_spam_and_ads");return n.createElement("div",{className:"inner--PRBfrJ8ztr"},n.createElement("h1",{className:D()("heading--xkXNXFnweh _headingBase--w98gFdP6ar","acceptHeading--bN5eLgP37u")},l("member_account_creation_accept_content_heading")),r?z||(z=n.createElement(A.Z,{size:40})):n.createElement("form",{className:"form--mbE1UdEyiO"},n.createElement(I.n,{isDisabled:!0,placeholder:l("member_account_creation_email_hint_text"),labelText:l("member_account_creation_email_floating_label"),ref:y,defaultValue:t}),s?n.createElement("div",{className:"errorText--kkUVthMMSK"},s):null,n.createElement("div",{className:D()(O,k,"consentCheckbox--OxdBTmWrRI")},n.createElement(Z.Z,{label:h,labelClass:L,name:"emailsTipsAndOffers",onCheck:()=>{d(!c)},checked:c})),o()&&n.createElement("div",{className:D()(O,k)},n.createElement(Z.Z,{label:n.createElement(n.Fragment,null,l.markup("account_creation_confirm_terms_of_service_markup")),labelClass:L,name:"termsAndConditions",onCheck:()=>{_(!m)},checked:m})),n.createElement("div",{className:"formAction--_jE50Dey_6"},n.createElement(w.Z,{size:"large",label:l("member_account_creation_accept_next"),disabled:Boolean(o()&&!m),onClick:()=>{const e={privacyPolicyAndToS:m,subscribed:c,isEu:o(),setIsLoading:g};a(e)},loading:p,classNames:["nextButton--v8loMwl8E9"]})),o()?null:n.createElement("p",{className:"disclaimer--HdF8Agopgb"},l.markup("member_account_creation_accept_tos_markup",{},{linkTarget:"_blank"}))))},P=e=>{const{lee:t,...a}=e,s={standardHeader:"standardHeader--mQMlxYDQNk",logoContainer:"logoContainer--U1og3U_Xxu",logo:"logo--I6WuRV58HI"},i=n.createElement("div",{onClick:()=>(0,g.uX)(d.SF)});return n.createElement("div",{className:"wrapper--wU7M482wCS"},n.createElement(M.A,{lee:t,classes:s,logoComponent:i}),n.createElement("div",{className:"content--HXxzOJoWsC"},n.createElement(j,{lee:t,...a})))};var R=a(466404);const U="webapp_login_form_regsiter_fallback_browser_name",B=e=>{const{login:t,ssoToken:a,key:s,exists:v,currentAuths:E,expectedAuths:N,inStore:C}=(0,b.Ae)(e),{lee:M}=e,x="true"===v,[D,I]=(0,n.useState)(x?S.D_SPINNER:S.ACCOUNT_CREATION),{translate:Z}=(0,u.Z)(),[w,A]=(0,n.useState)(""),[O,k]=(0,n.useState)(0),L=(0,p.vV)(t)?t:"",z=(0,r.K_)({live:m.C.liveChangeMasterPasswordStatus},[]);(0,n.useEffect)((()=>{C||L.length&&s.length&&a.length||(0,g.uX)(d.TT)}),[C,L,s,a]),(0,n.useEffect)((()=>{x&&(async()=>{E===o.SsoMigrationServerMethod.MP&&N===o.SsoMigrationServerMethod.SSO&&I(S.CHANGE_MP_PROGRESS);const n=e.lee.carbon.localAccounts?.find((e=>e.login===t&&"sso"===e.rememberMeType)),i=!n&&"true"===localStorage.getItem(c.MG),r={deviceName:(0,y.M)(Z(U)),exist:!0,ssoServiceProviderKey:s,login:L,ssoToken:a,currentAuths:E,expectedAuths:N,inStore:C,requiredPermissions:(0,b.ox)(),shouldRememberMeForSSO:i};(await m.C.loginViaSSO(r)).success?N===o.SsoMigrationServerMethod.MP&&I(S.ASK_FOR_MP):(0,g.uX)(d.TT)})()}),[x]),(0,n.useEffect)((()=>{if(z.status!==r.iD.Received||!z.data)return;const{value:e}=z.data;k(e)}),[z]);const j=async({password:e})=>{const t={newPassword:e,flow:o.ChangeMPFlowPath.SSO_TO_MP};await(async e=>{if(I(S.CHANGE_MP_PROGRESS),!(await m.C.changeMasterPassword(e)).success)return(0,g.uX)(d.TT)})(t)},B=async({isEu:e,privacyPolicyAndToS:t,setIsLoading:n,subscribed:i})=>{var r;if(e&&!t){const e=new Error("termsOfService set to false on accept submit");M.reportError(e),(0,g.uX)(d.rM)}n(!0);const l=[];if(e){const e={consentType:"privacyPolicyAndToS",status:t};l.push(e)}const u={consentType:"emailsOffersAndTips",status:i};l.push(u);const p={consents:l,deviceName:(0,y.M)(Z(U)),exist:!1,ssoServiceProviderKey:s,login:L,ssoToken:a,currentAuths:E,expectedAuths:N,inStore:!1,requiredPermissions:(0,b.ox)(),anonymousUserId:(0,R.n5)(M.globalState),shouldRememberMeForSSO:"true"===localStorage.getItem(c.MG)};localStorage.removeItem(c.MG);const S=await m.C.loginViaSSO(p);if(n(!1),S.success){A("");let e=h.BJ;e=`${h.Mv}?email=${L}`,(0,_.nL)(e)}else{const e=L.slice(L.indexOf("@")+1);S.error.code===o.LoginViaSsoCode.SSO_VERIFICATION_FAILED?A(Z("webapp_sso_page_create_account_error",{domain:e})):A(null!=(r=S.error.message)?r:"")}};switch(D){case S.ACCOUNT_CREATION:return n.createElement(P,{lee:M,onSubmit:B,memberEmail:L,error:w});case S.ASK_FOR_MP:return n.createElement(f,{onSubmit:j,dispatchGlobal:M.dispatchGlobal});case S.CHANGE_MP_PROGRESS:return n.createElement(T,{animation:l,shouldLoopAnimation:!0,progressValue:O});case S.D_SPINNER:default:return n.createElement("div",{className:"loadingContainer--z9wx9Wo1ko"},n.createElement(i.Z,{height:150,width:150,animationParams:{renderer:"svg",animationData:l,loop:!0,autoplay:!0}}))}},G=e=>{const{loading:t}=(0,s.G)();return t?null:n.createElement(B,{...e})}},823468:(e,t,a)=>{a.d(t,{$9:()=>r,Ae:()=>i,ox:()=>o});var n=a(342868),s=a(238250);const i=e=>{const{location:{search:t}}=e,a={login:"",ssoToken:"",key:"",exists:"",currentAuths:s.SsoMigrationServerMethod.SSO,expectedAuths:s.SsoMigrationServerMethod.SSO,inStore:!1};try{if(t?.includes("ssoToken"))return{...a,...(0,n.parse)(t)}}catch(e){return a}return a},r=()=>`/sso?${(0,n.stringify)({ssoToken:"inStore",key:"inStore",currentAuths:s.SsoMigrationServerMethod.MP,expectedAuths:s.SsoMigrationServerMethod.SSO,exists:!0,inStore:!0})}`,o=()=>window.location.host.startsWith("console")?"BILLING":null},798601:(e,t,a)=>{function n(e,t){const a={};return{apply:function(e=t,n){return a[n.type]?a[n.type](e,n.params):e},registerAction:function(t,n){const s=`${e}/${t}`;return a[s]=n,function(e){return{type:s,params:e}}}}}a.d(t,{Z:()=>n})},204084:(e,t,a)=>{a.d(t,{Z:()=>i});var n=a(158432),s=a(375510);const i=(0,n.SP)("billing-date",{},[s.ZP])},375510:(e,t,a)=>{a.d(t,{K7:()=>s,V$:()=>i,ZP:()=>o,gk:()=>r});const n=(0,a(158432).SP)("past-receipts-dialog",{showRecipientErrorText:!1},[]),s=n.action("submit-form-without-recipient",(()=>({showRecipientErrorText:!0}))),i=n.action("input-in-recipient-field",(()=>({showRecipientErrorText:!1}))),r=n.action("close-past-receipts-dialog",(()=>({showRecipientErrorText:!1}))),o=n},869748:(e,t,a)=>{a.d(t,{Z:()=>i});var n=a(158432),s=a(204084);const i=(0,n.SP)("billing",{},[s.Z])},441054:(e,t,a)=>{a.d(t,{HH:()=>m,Ip:()=>u,Ti:()=>c,Ww:()=>d,ZP:()=>_});var n=a(233377),s=a(158432),i=a(453576),r=a(869748),o=a(660557);const l=(0,s.SP)("account",{billingType:n.Maybe.nothing(),creationDateUnix:n.Maybe.nothing(),creditCardLastDigits:n.Maybe.nothing(),endDate:n.Maybe.nothing(),isFreeTrial:n.Maybe.nothing(),isGracePeriod:n.Maybe.nothing(),isTeamUpgradeOpen:!1,isTeamUpgradeSuccessOpen:!1,isUpgradeSuccess:!1,lastAdditionalSeatsDetails:void 0,lastBillingDateUnix:n.Maybe.nothing(),lastBillingDetails:void 0,nextBillingDetails:n.Maybe.nothing(),planName:n.Maybe.nothing(),planTier:i.SpaceTier.Legacy,seatsNumber:n.Maybe.nothing(),usersToBeRenewedCount:n.Maybe.nothing()},[r.Z,o.ZP]),c=(l.action("credit-card-deleted",(()=>({billingType:n.Maybe.nothing(),creditCardLastDigits:n.Maybe.nothing()}))),l.action("credit-card-updated",(({param:e})=>({billingType:n.Maybe.just("stripe"),creditCardLastDigits:n.Maybe.maybe(e)}))),l.action("team-plan-details-loaded",(({param:e})=>({billingType:n.Maybe.maybe(e.billingType),creditCardLastDigits:n.Maybe.maybe(e.creditCardLastDigits),creationDateUnix:n.Maybe.maybe(e.creationDateUnix),lastBillingDateUnix:n.Maybe.maybe(e.lastBillingDateUnix),nextBillingDetails:n.Maybe.maybe(e.nextBillingDetails),isFreeTrial:n.Maybe.just(e.isFreeTrial),isGracePeriod:n.Maybe.just(e.isGracePeriod),seatsNumber:n.Maybe.just(e.seatsNumber),usersToBeRenewedCount:n.Maybe.maybe(e.usersToBeRenewedCount),planTier:e.planTier})))),d=l.action("premium-details-loaded",(({param:e})=>({endDate:n.Maybe.maybe(e.endDate),planName:n.Maybe.maybe(e.planName)}))),u=l.action("upgrade-toggled",(({param:e})=>({isTeamUpgradeOpen:e,isTeamUpgradeSuccessOpen:!1}))),m=l.action("upgrade-success-toggled",(({param:e})=>({isTeamUpgradeSuccessOpen:e.isTeamUpgradeSuccessOpen,isTeamUpgradeOpen:!1,lastAdditionalSeatsDetails:e.additionalSeatsDetails,lastBillingDetails:e.billingDetails}))),_=l},147511:(e,t,a)=>{a.d(t,{C:()=>c});var n=a(803843),s=a(148038),i=a(616274),r=a(863269),o=a(218681),l=a(696832);const c=({b2c:e,handleCardUpdate:t,pollInterval:a=2e3,timeoutAmount:c=6e5})=>{const[d,u]=(0,l.useState)(!1),[m,_]=(0,l.useState)({}),p=(0,r.Z)(),g=p.status!==s.rq.Success||!p.data,y=p?.status===s.rq.Success?p.data[e?"b2cSubscription":"b2bSubscription"]?.billingInformation:void 0,h=!(!y?.exp_year||!y?.exp_month)&&(0,n.Z)(new Date(y.exp_year,y.exp_month,0)),b=y?.last4?Number(y.last4).toLocaleString("en-US",{minimumIntegerDigits:4,useGrouping:!1}):void 0,S=y?.type?(0,o.v)(y.type):void 0,v=y?.exp_year,E=y?.exp_month,N=v&&E?`${E}/${v.toString().substring(2)}`:"",[f,C]=(0,l.useState)(),T=(0,l.useCallback)((()=>{d&&u(!1),f&&clearTimeout(f)}),[d,f]);return(0,l.useEffect)((()=>T),[]),(0,l.useEffect)((()=>{if(d){const e=setInterval((()=>{i.C.refreshSubscriptionInformation()}),a);if(!f){const e=window.setTimeout(T,c);C(e)}return()=>clearInterval(e)}}),[a,d,T,c,f]),(0,l.useEffect)((()=>{if(d&&m&&(m.last4DigitsFormatted!==b||m.expFormatted!==N)&&(T(),t)){const e=!m.last4DigitsFormatted;t(e)}}),[d,b,N,m,m.expFormatted,m.last4DigitsFormatted,T,t]),{loading:g,billingInformation:y,hasCreditCardPaymentMethod:y&&!!y.last4,last4Digits:y?.last4,last4DigitsFormatted:b,cardSvg:S,isExpired:h,expYear:y?.exp_year,expMonth:y?.exp_month,expFormatted:N,pollUntilCardUpdate:()=>{u(!0),_({last4DigitsFormatted:b,expFormatted:N})}}}},167458:(e,t,a)=>{a.d(t,{Ao:()=>i,Bc:()=>l,ZP:()=>c,jm:()=>o,kB:()=>r});var n=a(233377);const s=(0,a(158432).SP)("premium",{additionalSeatCount:n.Maybe.nothing(),promoCodeResponse:void 0,isSeatCountAboveCap:!1,isSeatCountBelowMinimum:!1,showPriceDetails:!1}),i=s.action("seat-count-updated",(({param:e})=>({additionalSeatCount:e.seatCount,isSeatCountAboveCap:e.isSeatCountAboveCap,isSeatCountBelowMinimum:e.isSeatCountBelowMinimum}))),r=s.action("promo-code-redeemed",(({param:e})=>({promoCodeResponse:{isRedeemed:e.isRedeemed}}))),o=s.action("promo-code-cleared",(()=>({promoCodeResponse:null}))),l=s.action("show-price-details-toggled",(({state:e})=>({showPriceDetails:!e.showPriceDetails}))),c=s},660557:(e,t,a)=>{a.d(t,{BO:()=>_,Dz:()=>r,J9:()=>p,Ve:()=>c,Yl:()=>o,ZP:()=>g,fD:()=>d,qr:()=>u,rX:()=>m,tl:()=>l});var n=a(158432),s=a(167458);const i=(0,n.SP)("upgrade",{licences:0,teamPlanId:"",planDetails:void 0,currentPlanPriceRange:void 0,isPremiumOpen:!1,isPremiumReady:!1,isBillingOpen:!1,isLoadingOpen:!1,isUpgradeSuccess:!1,isUpgradeFailure:!1,isUpgradeFailureCode:""},[s.ZP]),r=i.action("premium-toggled",(({param:e})=>({isPremiumOpen:e}))),o=i.action("billing-toggled",(({param:e})=>({isBillingOpen:e}))),l=i.action("premium-loaded-plan-details",(()=>({isPremiumReady:!0}))),c=i.action("licences-changed",(({param:e})=>({licences:e}))),d=i.action("team-plan-changed",(({param:e})=>({teamPlanId:e}))),u=i.action("loading-toggled",(({param:e})=>({isLoadingOpen:e,isUpgradeSuccess:!1,isUpgradeFailure:!1}))),m=i.action("upgrade-completed",(({param:e})=>Object.assign({isLoadingOpen:!0,isUpgradeSuccess:e.status,isUpgradeFailure:!e.status},e.code?{isUpgradeFailureCode:e.code}:{}))),_=i.action("b2boffer-updated",(({param:e})=>({planDetails:e}))),p=i.action("plan-details-updated",(({param:e})=>({currentPlanPriceRange:e}))),g=i},118003:(e,t,a)=>{a.d(t,{Z:()=>n});const n=(0,a(158432).SP)("master-password-reset-requests",{})},970238:(e,t,a)=>{a.d(t,{HK:()=>p,M2:()=>u,Qz:()=>d,ZP:()=>y,b3:()=>m,er:()=>g,vg:()=>_});var n=a(526849);const s=(0,a(798601).Z)("directory-sync-key",{displayDialog:!1,checkDirectorySyncKeyRequest:null,validationPostponed:!1});function i(e){return{...e,displayDialog:!1}}function r(e){return{...e,displayDialog:!0}}function o(e){return{...e,validationPostponed:!1}}function l(e,t){return{...e,checkDirectorySyncKeyRequest:t}}function c(e){return l(e,null)}const d=s.registerAction("CHECK_DIRECTORY_SYNC_KEY_REQUEST",((e,t)=>{if(!t)return e;const a=l(e,t);return e.validationPostponed?a:r(a)})),u=s.registerAction("KEY_VALIDATION_POSTPONED",(0,n.pipe)(i,(function(e){return{...e,validationPostponed:!0}}))),m=s.registerAction("REOPEN_DIALOG",(0,n.pipe)(r,o)),_=s.registerAction("CLOSE_NOTIFICATION",o),p=(s.registerAction("KEY_VALIDATED",(0,n.pipe)(i,o,c)),s.registerAction("KEY_REJECTED",(0,n.pipe)(i,o,c)),s.registerAction("HIDE_DIALOG",i)),g=s.registerAction("TERMINATE_REQUEST",(0,n.pipe)(o,c)),y=s},428694:(e,t,a)=>{a.d(t,{Z:()=>i,w:()=>s});const n=(0,a(798601).Z)("ie-drop-notification",{displayIeDropNotification:!0}),s=n.registerAction("IE_DROP_NOTIFICATION",(()=>({displayIeDropNotification:!1}))),i=n},781896:(e,t,a)=>{a.d(t,{Jo:()=>y,Rb:()=>g,S2:()=>d,VW:()=>m,Wq:()=>l,ZP:()=>b,bh:()=>c,bj:()=>u,eY:()=>h,lp:()=>p,vE:()=>_,xF:()=>o});var n=a(233377),s=a(158432),i=a(438042);const r=(0,s.SP)("members",{members:n.Maybe.nothing(),totalSeatCount:n.Maybe.nothing(),isFreeTrial:n.Maybe.nothing(),teamName:n.Maybe.nothing(),teamSecurityScore:n.Maybe.nothing()}),o=r.action("status-loaded",(({param:e})=>({isFreeTrial:n.Maybe.just(e.isFreeTrial),totalSeatCount:n.Maybe.just(e.membersNumber+e.extraFreeSlots),teamName:n.Maybe.maybe(e.teamName),teamSecurityScore:n.Maybe.maybe(e.teamSecurityScore)}))),l=r.action("members-loaded",(({param:e})=>({members:n.Maybe.just(e.members)}))),c=r.action("user-resent-invitation",(({param:e,state:t})=>({members:t.members.map((t=>t.map((t=>t.login===e.login?Object.assign({},t,{status:"pending",isChecked:!1}):t))))}))),d=r.action("user-resent-invitation-failed",(({param:e,state:t})=>({members:t.members.map((t=>t.map((t=>t.login===e.login?e:t))))}))),u=r.action("user-demoted-captain",(({state:e,param:t})=>({members:e.members.fmap((e=>e.map((e=>Object.assign({},e,{isTeamCaptain:e.login!==t.login&&e.isTeamCaptain})))))}))),m=r.action("user-promoted-captain",(({state:e,param:t})=>({members:e.members.map((e=>e.map((e=>Object.assign({},e,{isTeamCaptain:e.login===t.login||e.isTeamCaptain})))))}))),_=r.action("user-removed-group-manager",(({state:e,param:t})=>({members:e.members.fmap((e=>e.map((e=>Object.assign({},e,{isGroupManager:e.login!==t.login&&e.isGroupManager})))))}))),p=r.action("user-added-group-manager",(({state:e,param:t})=>({members:e.members.map((e=>e.map((e=>Object.assign({},e,{isGroupManager:e.login===t.login||e.isGroupManager})))))}))),g=r.action("user-revoked-single-member",(({state:e,param:t})=>({members:e.members.map((e=>e.map((e=>e.login===t.login?Object.assign({},e,{revokedDateUnix:(0,i.Z)(new Date),status:"removed"}):e)).filter((e=>Boolean(e)))))}))),y=r.action("user-revoked-single-member-failed",(({state:e,param:t})=>({members:e.members.map((e=>[...e.filter((e=>e.login!==t.login)),t]))}))),h=r.action("members-proposed",(({state:e,param:t})=>({members:n.Maybe.just(e.members.valueOr([]).concat(t.map((e=>({login:e,status:"pending",isTeamCaptain:!1,lastUpdateDateUnix:(0,i.Z)(new Date)}))))),totalSeatCount:e.totalSeatCount.map((a=>Math.max(a,t.length+e.members.valueOr([]).filter((e=>"removed"!==e.status)).length)))}))),b=r},864824:(e,t,a)=>{a.d(t,{Z:()=>m});var n=a(158432),s=a(441054),i=a(992750),r=a(553965),o=a(267667),l=a(458403),c=a(781896),d=a(806092),u=a(118003);const m=(0,n.SP)("team",{},[s.ZP,i.ZP,r.Z,o.ZP,l.ZP,c.ZP,d.Z,u.Z])},998383:(e,t,a)=>{a.d(t,{Z:()=>wy});var n=a(696832),s=a(676025),i=a(190481),r=a(708608),o=a(861817),l=a(446389);const c=({title:e,children:t,sx:a})=>n.createElement(r.Zbd,{sx:(0,r.jMf)([{display:"flex",flexDirection:"column",padding:"24px",gap:"16px",backgroundColor:r.O9T.white,borderRadius:"4px",border:`1px solid ${r.O9T.dashGreen05}`},...a?[a]:[]])},n.createElement(r.Ejs,{flexDirection:"column",sx:{display:"flex",flexDirection:"column",height:"100%"}},e?"string"==typeof e?n.createElement(r.X6q,{size:"small"},e):e:null,n.createElement(r.k$b,{flex:"1"},t)));a(135758);const d=({offer:e,currentSeats:t=0,additionalSeats:a=0})=>{const n=[...e.priceRanges].sort(((e,t)=>e.startMembers-t.startMembers)),s=t+a;return n.reduce(((e,t)=>t.startMembers<s&&t.startMembers>e.startMembers?t:e),n[0])},u=({offer:e,currentSeats:t,additionalSeats:a})=>d({offer:e,currentSeats:t,additionalSeats:a}).price/(e.duration.includes("y")?12:1),m=({offer:e,currentSeats:t,additionalSeats:a})=>{const n=d({offer:e,currentSeats:t,additionalSeats:a}).price;return e.duration.includes("y")?n:12*n},_=e=>"2020_business_tier"===e.name,p=e=>e?e.priceRanges[1].startMembers-1:0;var g,y,h;const b=({handleSelectClick:e,selected:t,businessOffer:a})=>{const{translate:s}=(0,l.Z)(),i=a?u({offer:a}):null;return n.createElement(r.Ejs,{flexDirection:"column",sx:{display:"flex",flexDirection:"column",height:"324px",padding:"18px 28px 32px",border:`1px solid ${r.O9T.dashGreen05}`,borderRadius:"4px",gap:"18px",width:"100%"}},n.createElement(r.Ejs,{sx:{backgroundColor:"#D8EBDB",padding:"2px",lineHeight:"10px",width:"89px",display:"flex",alignItems:"center",justifyContent:"center"}},n.createElement(r.j49,{color:"#086618",size:"small"},s("team_account_teamplan_changeplan_plans_plan_recommended"))),n.createElement(r.Ejs,{fullWidth:!0,gap:"12px"},n.createElement(r.Ejs,{fullWidth:!0},n.createElement(r.Ejs,{sx:{display:"flex",alignItems:"center",flex:1}},n.createElement(r.X6q,{size:"x-small"},s("team_account_teamplan_changeplan_plans_business_name"))),n.createElement(r.k$b,null,a?.currency&&i?n.createElement(r.Ejs,{flexDirection:"column",alignItems:"flex-end"},n.createElement(r.Ejs,{alignItems:"flex-end",gap:"2px"},n.createElement(r.nvN,{size:"small"},s.price(a.currency,i/100,{notation:"compact"})),n.createElement(r.nvN,{size:"small"},s("team_account_teamplan_changeplan_plans_seat"))),n.createElement(r.nvN,{color:r.O9T.grey01,size:"x-small"},s("team_account_teamplan_changeplan_plans_billed_anually"))):n.createElement(r.HoD,{size:16,color:r.O9T.black}))),n.createElement("hr",{style:{width:"100%",borderTop:`1px solid ${r.O9T.grey02}`,borderBottom:"0",margin:"0"}})),n.createElement(r.k$b,{flex:"1"},n.createElement(r.Ejs,{flexDirection:"column",gap:"6px"},n.createElement(r.nvN,{color:r.O9T.grey00,size:"x-small"},s("team_account_teamplan_changeplan_plans_business_header")),n.createElement(r.Ejs,{alignItems:"center",gap:"9px",sx:{display:"flex",alignItems:"center",gap:"9px",marginTop:"10px"}},g||(g=n.createElement(r.dtP,{size:8})),n.createElement(r.nvN,{size:"x-small",color:r.O9T.black},s.markup("team_account_teamplan_changeplan_plans_business_saml_markup",{ssoUrl:"https://support.dashlane.com/hc/articles/360015111019-SSO-FAQ"},{linkTarget:"_blank"},{color:r.O9T.black}))),n.createElement(r.Ejs,{alignItems:"center",gap:"9px"},y||(y=n.createElement(r.dtP,{size:8})),n.createElement(r.nvN,{size:"x-small"},n.createElement(r.rUS,{rel:"noopener noreferrer",href:"https://blog.dashlane.com/how-admins-can-simplify-provisioning/",target:"_blank"},s("team_account_teamplan_changeplan_plans_business_scim_provisioning")))),n.createElement(r.Ejs,{alignItems:"center",gap:"9px"},h||(h=n.createElement(r.dtP,{size:8})),n.createElement(r.nvN,{size:"x-small",color:r.O9T.black},s.markup("team_account_teamplan_changeplan_plans_business_free_family_plan_markup",{familyPlanUrl:"https://support.dashlane.com/hc/articles/360015393479-Getting-Premium-Family-with-Dashlane-Business"},{linkTarget:"_blank"},{color:r.O9T.black}))))),a?t?n.createElement(r.zxk,{sx:{width:"100%"},disabled:!0,nature:"secondary",size:"small",type:"button"},s("team_account_teamplan_changeplan_plans_selected")):n.createElement(r.zxk,{"data-testid":"btn-business-select",sx:{width:"100%"},size:"small",type:"button",onClick:e},s("team_account_teamplan_changeplan_plans_select")):n.createElement(r.Ejs,{justifyContent:"center",fullWidth:!0},n.createElement(r.HoD,{size:30,color:r.O9T.black})))};var S;const v=["team_account_teamplan_changeplan_plans_team_security_dashboard","team_account_teamplan_changeplan_plans_team_policy_management","team_account_teamplan_changeplan_plans_team_advanced_reporting","team_account_teamplan_changeplan_plans_team_group_sharing","team_account_teamplan_changeplan_plans_team_active_directory_integration","team_account_teamplan_changeplan_plans_team_dark_web_insights","team_account_teamplan_changeplan_plans_team_vpn_via_hotspot_shield","team_account_teamplan_changeplan_plans_team_audit_logs"],E=()=>{const{translate:e}=(0,l.Z)();return n.createElement(r.Ejs,{flexDirection:"column",sx:{display:"flex",flexDirection:"column",gap:"12px",height:"fit-content",width:"223px",backgroundColor:r.O9T.grey06,padding:"16px"}},n.createElement(r.Ejs,null,n.createElement(r.Ejs,{sx:{borderRadius:"1px",border:`1px solid ${r.O9T.midGreen03}`,padding:"1px",lineHeight:"10px"}},n.createElement(r.j49,{size:"small"},e("team_account_teamplan_changeplan_plans_plan_current")))),n.createElement(r.X6q,{color:r.O9T.grey00,size:"x-small"},e("team_account_teamplan_changeplan_plans_team_name"))," ",n.createElement("hr",{style:{width:"100%",borderTop:`1px solid ${r.O9T.grey02}`,borderBottom:"0",margin:"0"}}),n.createElement(r.Ejs,{flexDirection:"column",gap:"6px"},v.map((t=>n.createElement(r.Ejs,{key:t,alignItems:"center",gap:"9px"},S||(S=n.createElement(r.nQG,{size:8})),n.createElement(r.nvN,{color:r.O9T.grey00,size:"x-small"},e(t)))))))};var N,f,C,T=a(585921);const M=({plan:e,handleSelectClick:t,selected:a})=>{const{translate:s}=(0,l.Z)();return n.createElement(r.Ejs,{flexDirection:"column",sx:{height:"480px",display:"flex",flexDirection:"column",borderRadius:"4px",border:`1px solid ${e.currentPlan?"transparent":T.O9.lightTheme.ds.border.neutral.quiet.idle}`,flexGrow:"1",flexShrink:0,width:"188px",backgroundColor:e.currentPlan?T.O9.lightTheme.ds.container.expressive.neutral.supershy.hover:null,padding:"16px",gap:"24px"}},n.createElement(r.Ejs,{flexDirection:"column",gap:"16px"},n.createElement(r.Ejs,{alignItems:"center",justifyContent:"space-between"},n.createElement(r.nvN,{bold:!0,size:"medium"},s(e.heading.key)),e.currentPlan?n.createElement(r.Ejs,{sx:{border:`1px solid ${T.O9.lightTheme.ds.border.neutral.quiet.idle}`,backgroundColor:T.O9.lightTheme.ds.container.expressive.neutral.supershy.hover,padding:"2px",lineHeight:"10px",width:"89px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"2px"}},n.createElement(r.j49,{color:T.O9.lightTheme.ds.text.neutral.standard,size:"small"},s("team_account_teamplan_changeplan_plans_plan_current"))):null,e.recommended?n.createElement(r.Ejs,{sx:{border:`1px solid ${T.O9.lightTheme.ds.container.expressive.brand.catchy.idle}`,backgroundColor:T.O9.lightTheme.ds.container.expressive.brand.catchy.idle,padding:"2px",lineHeight:"10px",width:"89px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"2px"}},n.createElement(r.j49,{color:T.O9.lightTheme.ds.text.inverse.catchy,size:"small"},s("team_account_teamplan_changeplan_plans_plan_recommended"))):null),n.createElement(r.Ejs,{flexDirection:"column"},e.price?n.createElement(r.X6q,{as:"p",size:"large"},e.price):n.createElement(r.HoD,{size:44,color:T.O9.lightTheme.ds.text.neutral.standard}),n.createElement(r.Ejs,{flexDirection:"column",sx:{height:"48px"}},n.createElement(r.nvN,{size:"x-small",color:T.O9.lightTheme.ds.text.neutral.quiet},s(e.priceDescription1.key,e.priceDescription1.variables)),n.createElement(r.nvN,{size:"x-small",color:T.O9.lightTheme.ds.text.neutral.quiet},s(e.priceDescription2.key,e.priceDescription2.variables))))),a?n.createElement(T.zx,{disabled:!0,mood:"brand",size:"small",type:"button",fullsize:!0,icon:N||(N=n.createElement(r.nQG,null))},s("team_account_teamplan_changeplan_plans_selected")):t?n.createElement(T.zx,{mood:"brand",size:"small",onClick:t,fullsize:!0,"data-testid":`btn-${e.planName}-select`},s("team_account_teamplan_changeplan_plans_select")):n.createElement("div",{style:{height:"32px",width:"100%"}}),n.createElement(r.Ejs,{flexDirection:"column",gap:"6px"},e.features.map((({key:t,icon:a,variables:i,loading:o})=>n.createElement(r.Ejs,{key:t,sx:{display:"flex",alignItems:"center",gap:"9px",flexWrap:"nowrap",strong:{color:e.currentPlan?null:T.O9.lightTheme.ds.text.neutral.catchy}}},n.createElement(r.k$b,{sx:{width:"10px"}},"check"===a?f||(f=n.createElement(r.nQG,{size:14})):"add"===a?C||(C=n.createElement(r.dtP,{size:12})):null),o?n.createElement(r.k$b,{sx:{display:"flex",alignItems:"center",justifyContent:"center",flexGrow:"1"}},n.createElement(r.HoD,{size:32,color:T.O9.lightTheme.ds.text.neutral.catchy})):n.createElement(r.nvN,{color:T.O9.lightTheme.ds.text.neutral.quiet,size:"x-small"},t.includes("markup")?s.markup(t,i):s(t,i)))))),e.footer?n.createElement(r.Ejs,{alignItems:"center",gap:"9px",sx:{paddingLeft:"20px"}},n.createElement(r.nvN,{color:T.O9.lightTheme.ds.text.neutral.quiet,size:"x-small"},e.footer.key.includes("markup")?s.markup(e.footer.key):s(e.footer.key))):null)};var x,D,I=a(202281),Z=a(148038);const w=({selectedOffer:e,handleSelection:t,teamOffers:a})=>{const{translate:s}=(0,l.Z)(),i=(0,I.Y)(),o=i.status!==Z.rq.Success||!i.data,d=i.status===Z.rq.Success&&"2022_team_starter_tier"===i.data.planName,m=(e=>{const{translate:t}=(0,l.Z)(),a=e?.businessOffer?.currency,n=e?.businessOffer?u({offer:e.businessOffer}):null,s=e?.teamOffer?u({offer:e.teamOffer}):null,i=e?.starterOffer?u({offer:e.starterOffer}):null,r=p(e?.starterOffer),o=e?.starterOffer&&i?r*i:0;return{starter:{currentPlan:!0,planName:"starter",price:i&&a?t.price(a,i/100,{notation:"compact"}):null,heading:{key:"team_account_teamplan_changeplan_plans_starter_name"},priceDescription1:{key:"team_account_teamplan_changeplan_plans_per_seat_month"},priceDescription2:{key:"team_account_teamplan_changeplan_plans_billed_monthly_at",variables:{numberSeats:r,monthlyPrice:i&&a?t.price(a,o/100,{notation:"compact"}):null}},features:[{key:"team_account_teamplan_changeplan_plans_seats_flat_rate_markup",icon:"check",loading:!i,variables:{numberSeats:r,monthlyPrice:i&&a?t.price(a,o/100,{notation:"compact"}):null}},{icon:"check",key:"team_account_teamplan_changeplan_plans_unlimited_passwords"},{icon:"check",key:"team_account_teamplan_changeplan_plans_secure_sharing"},{icon:"check",key:"team_account_teamplan_changeplan_plans_business_and_personal_spaces"},{icon:"check",key:"team_account_teamplan_changeplan_plans_audit_logs"},{icon:"check",key:"team_account_teamplan_changeplan_plans_dark_web_insights"}],footer:{key:"team_account_teamplan_changeplan_plans_starter_footer_markup"}},team:{recommended:!0,planName:"team",price:s&&a?t.price(a,s/100,{notation:"compact"}):null,heading:{key:"team_account_teamplan_changeplan_plans_name_V2"},priceDescription1:{key:"team_account_teamplan_changeplan_plans_per_seat_month"},priceDescription2:{key:"team_account_teamplan_changeplan_plans_billed_anually"},features:[{key:"team_account_teamplan_changeplan_plans_everything_in_starter_markup",icon:"check"},{key:"team_account_teamplan_changeplan_plans_unlimited_seats",icon:"add"},{key:"team_account_teamplan_changeplan_plans_vpn_for_wifi_protection",icon:"add"}]},business:{planName:"business",price:n&&a?t.price(a,n/100,{notation:"compact"}):null,heading:{key:"team_account_teamplan_changeplan_plans_business_name_V2"},priceDescription1:{key:"team_account_teamplan_changeplan_plans_per_seat_month"},priceDescription2:{key:"team_account_teamplan_changeplan_plans_billed_anually"},features:[{key:"team_account_teamplan_changeplan_plans_everything_in_team_markup",icon:"check"},{icon:"add",key:"team_account_teamplan_changeplan_plans_sso_integration"},{icon:"add",key:"team_account_teamplan_changeplan_plans_scim_provisioning"},{icon:"add",key:"team_account_teamplan_changeplan_plans_free_friends_family_plan"},{icon:"add",key:"team_account_teamplan_changeplan_plans_phone_support"}]}}})(a),{businessOffer:_,teamOffer:g}=null!=a?a:{};return n.createElement(c,{title:s("team_account_teamplan_changeplan_plans")},o?x||(x=n.createElement(r.Ejs,{alignItems:"center",justifyContent:"center"},n.createElement(r.HoD,{size:30,color:"black"}))):d?n.createElement(r.Ejs,{sx:{height:"100%",display:"flex",gap:"16px",paddingTop:"8px"}},n.createElement(M,{plan:m.starter}),n.createElement(M,{plan:m.team,handleSelectClick:g?()=>t(g):void 0,selected:!!g&&e?.name===g?.name}),n.createElement(M,{plan:m.business,handleSelectClick:_?()=>t(_):void 0,selected:!!_&&e?.name===_?.name})):n.createElement(r.Ejs,{alignItems:"center"},D||(D=n.createElement(E,null)),n.createElement(r.Ejs,{sx:{display:"flex",flexGrow:"1"}},n.createElement(b,{businessOffer:_,selected:!!_&&e?.name===_?.name,handleSelectClick:_?()=>t(_):void 0}))))};var A=a(5727),O=a(671833);const k=()=>n.createElement("hr",{style:{width:"100%",borderTop:`1px solid ${r.O9T.grey02}`,borderBottom:"0",margin:"0"}}),L=({label:e,value:t})=>(0,A.tZ)(r.Ejs,{justifyContent:"flex-end",sx:{display:"flex",justifyContent:"flexEnd",padding:"0 10px"}},e?(0,A.tZ)(r.k$b,{flex:"1",sx:{display:"flex",alignItems:"center"}},e):null,t?(0,A.tZ)(r.k$b,{sx:{display:"flex",alignItems:"center"}},t):null);var z=a(670138),j=a(863269);const P=()=>{const e=(0,j.Z)(),t=e.status!==Z.rq.Success||!e.data,a=e?.status===Z.rq.Success?e?.data?.b2bSubscription?.billingInformation:null,n=a?.country;return{loading:t,billingCountry:n}};var R;const U=({currency:e,costData:t,isProratedDiscountLoading:a,isTaxLoading:s,selectedOffer:i,setAdditionalSeats:o})=>{const{translate:c}=(0,l.Z)(),d=(0,z.w)("monetization_avalara_b2b_change_tier_mid_cycle"),{loading:u,billingCountry:m}=P();if(u)return(0,A.tZ)(r.HoD,{color:r.O9T.midGreen00});const _="US"===m?"team_account_teamplan_changeplan_order_summary_tax":"team_account_teamplan_vat";return(0,A.tZ)(n.Fragment,null,i&&e?(0,A.tZ)(n.Fragment,null,(0,A.tZ)(L,{label:(0,A.tZ)(r.nvN,{bold:!0,size:"medium"},c("team_account_teamplan_changeplan_order_summary_seats_total",{totalSeats:t.totalSeats})),value:(0,A.tZ)(r.k$b,{sx:{width:"146px"}},(0,A.tZ)(O.w,{id:"test",inputWidth:"66px",label:"",minValue:0,onChange:o,defaultValue:0}))}),(0,A.tZ)(L,{label:(0,A.tZ)(r.nvN,{bold:!0,size:"small"},c("team_account_teamplan_changeplan_order_summary_seats_upgraded",{upgradedSeats:t.currentSeats})),value:(0,A.tZ)(r.nvN,{bold:!0,size:"small"},c.price(e,t.upgradedSeatsPrice/100))}),t.additionalSeats?(0,A.tZ)(L,{label:(0,A.tZ)(r.nvN,{bold:!0,size:"small"},c("team_account_teamplan_changeplan_order_summary_seats_new",{newSeats:t.additionalSeats})),value:(0,A.tZ)(r.nvN,{bold:!0,size:"small"},c.price(e,t.additionalSeatsPrice/100))}):null,R||(R=(0,A.tZ)(k,null)),(0,A.tZ)(L,{label:(0,A.tZ)(r.nvN,{bold:!0,size:"small"},c("team_account_teamplan_changeplan_order_summary_subtotal")),value:e?(0,A.tZ)(r.nvN,{bold:!0,size:"small"},c.price(e,t.subtotal/100)):null}),t?.proratedDiscount?(0,A.tZ)(L,{label:(0,A.tZ)(r.Ejs,{alignItems:"center",gap:"5px"},(0,A.tZ)(r.nvN,{size:"small",color:r.O9T.grey00},c("team_account_teamplan_changeplan_order_summary_prorated_discount")),(0,A.tZ)(r.ua7,{content:c("team_account_teamplan_changeplan_order_summary_prorated_discount_tooltip")},(0,A.tZ)(r.uMt,{size:16,color:r.O9T.grey00}))),value:a?(0,A.tZ)(r.HoD,{color:r.O9T.black,size:13}):t.proratedDiscount&&e?(0,A.tZ)(r.nvN,{size:"small",color:r.O9T.grey00},c.price(e,t.proratedDiscount/100)):null}):null,t.tax&&d?(0,A.tZ)(L,{label:(0,A.tZ)(r.nvN,{size:"small",color:r.O9T.grey00},c(_)),value:s?(0,A.tZ)(r.HoD,{color:r.O9T.black,size:13}):(0,A.tZ)(r.nvN,{size:"small",color:r.O9T.grey00},c.price(e,t.tax/100))}):null):null)};var B,G=a(110203);const F=({onDismiss:e,value:t,buttonProps:a})=>(0,A.tZ)(r.Ejs,{alignItems:"center",gap:"6px"},(0,A.tZ)(r.Ejs,{sx:{backgroundColor:r.O9T.midGreen05,padding:"4px 8px",borderRadius:"4px"}},"string"==typeof t?(0,A.tZ)(r.nvN,{size:"x-small"},t):{value:t}),e?(0,A.tZ)(r.zxk,{size:"small",type:"button",nature:"ghost",onClick:e,sx:{padding:0,minWidth:0},...a},B||(B=(0,A.tZ)(r.Two,{size:18}))):null);var V,$;const W=({currency:e,promoPrice:t,promoCode:a,hasError:n,isLoading:s,showInput:i,setShowInput:o,onSubmit:c,onCancel:d,onChange:u,onClear:m})=>{const{translate:_}=(0,l.Z)();return i?(0,A.tZ)(r.Ejs,{gap:"6px",fullWidth:!0,sx:{padding:"0 10px"}},(0,A.tZ)(r.k$b,{flex:"1"},(0,A.tZ)(r.oil,{fullWidth:!0,value:a,placeholder:_("team_account_teamplan_changeplan_order_summary_promo_code_cta"),feedbackText:n?_("team_account_teamplan_changeplan_order_summary_promo_code_error"):null,feedbackType:n?"error":void 0,onChange:u?e=>u(e?.target?.value):void 0})),(0,A.tZ)(r.zxk,{disabled:s,"data-testid":"promo_code_button_submit",type:"button",nature:"secondary",onClick:async()=>{c&&await c()}},s?(0,A.tZ)(r.HoD,{size:20,color:r.O9T.black}):V||(V=(0,A.tZ)(r.nQG,{size:20}))),(0,A.tZ)(r.zxk,{"data-testid":"promo_code_button_cancel",type:"button",nature:"ghost",onClick:()=>{d&&d()}},$||($=(0,A.tZ)(r.Two,{size:20})))):a?(0,A.tZ)(r.Ejs,{gap:"4px",fullWidth:!0,alignItems:"center",justifyContent:"space-between",sx:{padding:"0 10px"}},(0,A.tZ)(r.Ejs,{sx:{display:"flex",alignItems:"center",gap:"4px"}},(0,A.tZ)(r.nvN,{size:"small",color:r.O9T.black},_("team_account_teamplan_changeplan_order_summary_promo_code")),(0,A.tZ)(F,{value:a,onDismiss:m,buttonProps:{"data-testid":"promo_code_button_clear"}})),(0,A.tZ)(r.k$b,null,t&&e?(0,A.tZ)(r.nvN,{size:"small",color:r.O9T.black},_.price(e,(e=>e?-e/100:0)(t))):null)):(0,A.tZ)(r.Ejs,{sx:{padding:"0 10px"}},(0,A.tZ)(r.zxk,{"data-testid":"promo_code_button_enter",size:"small",type:"button",nature:"ghost",onClick:()=>o?o(!0):null,sx:{margin:0,padding:0,minWidth:0},"aria-label":_("team_account_teamplan_changeplan_order_summary_promo_code_cta")},(0,A.tZ)(r.rUS,null,(0,A.tZ)(r.nvN,{size:"x-small",color:r.O9T.midGreen00},_("team_account_teamplan_changeplan_order_summary_promo_code_cta")))))};var H=a(616274);function Q({total:e,onError:t}){const[a,s]=(0,n.useState)(),[i,r]=(0,n.useState)(!1),[o,l]=(0,n.useState)();return e&&e!==a&&(s(e),r(!0),(async()=>{if(e){const a=await H.C.getExpectedTaxInformation({priceInCents:e});if(r(!1),!a.success)return void(t&&t());l((()=>a.data))}})()),{isLoading:i,expectedTaxInformation:o}}var Y=a(241185),q=a(987364);const K=({selectedOffer:e,hasPromo:t,currentSeats:a,additionalSeats:n,planChangeStep:s})=>{const i=(0,I.Y)(),r=i.status===Z.rq.Success&&"2022_team_starter_tier"===i.data.planName?G.B2bPlanTier.StarterTeam:G.B2bPlanTier.Team;return{logChangePlanEvent:i=>{const o=i||e,l=o?_(o)?G.B2bPlanTier.Business:G.B2bPlanTier.Team:r;(0,q.K)(new G.UserChangeTeamPlanTierEvent({currentBillingPlanTier:r,currentPlanPaidSeatsCount:a,hasPromo:t,nextBillingPlanTier:l,planChangeStep:s,seatAddedCount:n}))}}},X={display:"flex",alignItems:"center",padding:"12px 10px",justifyContent:"space-between",backgroundColor:r.O9T.dashGreen06},J=({selectedOffer:e,currency:t,costData:a})=>{const{translate:n}=(0,l.Z)();return e&&t?(0,A.tZ)("div",{sx:X,"data-testid":"order-summary-plan-name"},(0,A.tZ)(r.nvN,{bold:!0,color:r.O9T.dashGreen01},_(e)?n("team_account_teamplan_changeplan_plans_business_name"):n("team_account_teamplan_changeplan_plans_team_name")),(0,A.tZ)(r.nvN,{color:r.O9T.dashGreen01},n("team_account_teamplan_changeplan_order_summary_seat_year",{cost:n.price(t,a.seatPrice/100,{notation:"compact"})}))):(0,A.tZ)("div",{sx:X},(0,A.tZ)(r.nvN,{color:r.O9T.dashGreen01},n("team_account_teamplan_changeplan_order_summary_select_plan")))};var ee=a(694435);const te=({selectedOffer:e,costData:t})=>{const{translate:a}=(0,l.Z)();return(0,A.tZ)(n.Fragment,null,e?(0,A.tZ)(n.Fragment,null,(0,A.tZ)(L,{label:(0,A.tZ)(r.Ejs,{gap:"5px"},(0,A.tZ)(r.nvN,{bold:!0,size:"medium"},a("team_account_teamplan_changeplan_order_summary_seats_total",{totalSeats:t.totalSeats})),(0,A.tZ)(r.nvN,{bold:!0,size:"medium"},"(",a("team_account_teamplan_changeplan_order_summary_seats_new",{newSeats:t.additionalSeats}),")"))}),(0,A.tZ)(r.vDh,{severity:"subtle",size:"small",title:a("team_account_teamplan_changeplan_order_summary_invoice_info")})):null,(0,A.tZ)(r.zxk,{"data-testid":"btn-request-a-quote",size:"large",sx:{width:"100%"},type:"button",disabled:!e,onClick:()=>{window.open(ee.vS,"_blank")}},a("team_account_teamplan_changeplan_order_summary_request_an_upgrade")))};var ae=a(664529);const ne=({selectedOffer:e,currency:t,costData:a})=>{const{translate:n}=(0,l.Z)(),s=(0,z.w)("monetization_avalara_b2b_change_tier_mid_cycle"),{isLoading:i,expectedTaxInformation:o}=Q({total:a.renewalPrice}),{loading:c,billingCountry:d}=P();if(c)return(0,A.tZ)(r.HoD,{color:r.O9T.midGreen00});const u="US"===d?"team_account_teamplan_changeplan_order_summary_footer_renewal":"team_account_teamplan_changeplan_order_summary_renewal_vat",m=!i&&void 0!==o?.expectedTaxesInCents&&o?.expectedTaxesInCents>0,_=m&&o?.expectedTaxesInCents?a.renewalPrice+o.expectedTaxesInCents:void 0,p=m&&s?u:"team_account_teamplan_changeplan_order_summary_footer_header",g=m&&s?_:a.renewalPrice;return(0,A.tZ)("div",{sx:{display:"flex",flexDirection:"column",gap:"12px",padding:"16px",backgroundColor:r.O9T.grey06}},e&&t&&g?(0,A.tZ)(r.nvN,{bold:!0,size:"small",color:r.O9T.grey00},n(p,{price:n.price(t,g/100),date:n.shortDate(a.renewalDate,ae.qG.ll)})):null,(0,A.tZ)(r.nvN,{size:"x-small",color:r.O9T.grey00},n.markup("team_account_teamplan_changeplan_order_summary_footer_markup",{privacyPolicyUrl:ee.Bz,termsUrl:ee.sz},{linkTarget:"_blank",onLinkClicked:e=>{e===ee.Bz?(0,q.K)(new G.UserCallToActionEvent({callToActionList:[G.CallToAction.PrivacyPolicy],chosenAction:G.CallToAction.PrivacyPolicy,hasChosenNoAction:!1})):e===ee.sz&&(0,q.K)(new G.UserCallToActionEvent({callToActionList:[G.CallToAction.TermsOfService],chosenAction:G.CallToAction.TermsOfService,hasChosenNoAction:!1}))}})))};var se,ie,re=a(25576);const oe=({currency:e,currentSeats:t,additionalSeats:a,selectedOffer:s,email:i,emailValid:o,onSuccess:u,onError:m,setAdditionalSeats:p,setOrderSummaryData:g})=>{const{translate:y}=(0,l.Z)(),h=(0,I.Y)(),b=h.status===Z.rq.Success&&h.data?.planType===re.PlanType.Invoice,{promoCode:S,currentPromoCode:v,showInput:E,isLoading:N,setShowInput:f,setCurrentPromoCode:C,validatePromoCode:T,clearPromoCode:M,cancelPromoCode:x,hasError:D,teamOffers:w}=function({selectedOffer:e,currentSeats:t,additionalSeats:a}){const[s,i]=(0,n.useState)(""),[r,o]=(0,n.useState)(""),[l,c]=(0,n.useState)(),[u,m]=(0,n.useState)(!1),[p,g]=(0,n.useState)(!1),[y,h]=(0,n.useState)(!1),[b,S]=(0,n.useState)(a),[v,E]=(0,n.useState)(e),N=(0,n.useCallback)((async()=>{if(!r)return!1;h(!0);const n=await H.C.getTeamOffers({couponCode:r});if(!n.success)return h(!1),m(!0),g(!0),!1;const s=d({offer:n.data.businessOffer,currentSeats:t,additionalSeats:a}),o=s.price!==s.equivalentPrice,l=d({offer:n.data.teamOffer,currentSeats:t,additionalSeats:a}),u=l.price!==l.equivalentPrice;return(e&&_(e)?o:u)?(h(!1),i(r),c((()=>n.data)),m(!1),g(!1),!0):(h(!1),m(!0),g(!0),!1)}),[t,a,r,e]);return(0,n.useEffect)((()=>{a!==b&&(S(a),N())}),[b,a,N]),(0,n.useEffect)((()=>{e?.name!==v?.name&&(E(e),N())}),[e,v,N]),{promoCode:s,currentPromoCode:r,setCurrentPromoCode:o,validatePromoCode:N,clearPromoCode:()=>{i(""),o(""),c(void 0),m(!1)},cancelPromoCode:()=>{u?(i(""),o("")):o(s),m(!1),g(!1)},showInput:p,setShowInput:g,hasError:u,teamOffers:l,isLoading:y,setIsLoading:h}}({selectedOffer:s,additionalSeats:a,currentSeats:t}),{isSaving:O,costData:j,changeTierMidCycle:P,isTaxLoading:R,isProratedDiscountLoading:B}=function({selectedOffer:e,currentSeats:t,additionalSeats:a,discountedTeamOffers:s,promoCode:i,email:r,onSuccess:o,onError:l}){var c,u;const[m,p]=n.useState(!1),g=(0,z.w)("monetization_avalara_b2b_change_tier_mid_cycle"),y=!!e&&_(e),h=!!e&&(e=>"2020_team_tier"===e.name)(e),b=s&&e?y?s.businessOffer:h?s.teamOffer:s.starterOffer:e,{isLoading:S,midCycleTierUpgradePrice:v}=function({seats:e,planName:t,onError:a}){const[s,i]=(0,n.useState)(0),[r,o]=(0,n.useState)(),[l,c]=(0,n.useState)(!1),[d,u]=(0,n.useState)();return(e!==s||t&&t!==r)&&(i(e),o(t),c(!0),(async()=>{if(void 0!==e&&t){const n=await H.C.getMidCycleTierUpgradePrice({numberOfSeats:e,newPlan:t});if(c(!1),!n.success)return void(a&&a());u((()=>n.data))}})()),{isLoading:l,midCycleTierUpgradePrice:d}}({seats:a,planName:b?.name}),E=b?d({offer:b,currentSeats:t,additionalSeats:a}):null,N=null!=(c=E?.equivalentPrice)?c:0,f=null!=(u=E?.price)?u:0,C=t+a,T=a*N,M=t*N,x=C*N,D=x-(f?C*f:x),I=v?.discountAmount?x+v?.discountAmount:void 0,Z=(0,Y.Z)(new Date,1),{isLoading:w,expectedTaxInformation:A}=Q({total:I}),O=g&&!w&&void 0!==A?.expectedTaxesInCents?A.expectedTaxesInCents:0,k=!w&&void 0!==A?.expectedTaxesInCents&&I?I+O-D:void 0;return{isSaving:m,changeTierMidCycle:async e=>{if(!(I&&A&&b))return void l();p((()=>!0));const t=await H.C.changeTierMidCycle({amountToPay:I,taxes:O,planId:b.name,couponCode:e||i,seatsToAdd:a,billingContactEmail:""!==r?r:void 0});p((()=>!1)),t.success?o():l()},isProratedDiscountLoading:S,isTaxLoading:w,costData:{seatPrice:N,additionalSeats:a,currentSeats:t,totalSeats:C,upgradedSeatsPrice:M,additionalSeatsPrice:T,subtotal:x,proratedDiscount:v?.discountAmount,tax:O,pretaxTotal:I,promoPrice:D,total:k,renewalPrice:x,renewalDate:Z}}}({selectedOffer:s,discountedTeamOffers:w,currentSeats:t,additionalSeats:a,promoCode:S,email:i,onSuccess:u,onError:m}),{logChangePlanEvent:F}=K({selectedOffer:s,hasPromo:!!S,currentSeats:t,additionalSeats:a,planChangeStep:G.PlanChangeStep.ConfirmAndPayCta});return(0,A.tZ)(c,{title:y("team_account_teamplan_changeplan_order_summary_header")},(0,A.tZ)(r.Ejs,{flexDirection:"column",gap:"16px",sx:{marginTop:"16px"}},(0,A.tZ)(J,{selectedOffer:s,currency:e,costData:j}),b?(0,A.tZ)(te,{selectedOffer:s,costData:j}):(0,A.tZ)(n.Fragment,null,(0,A.tZ)(U,{currency:e,costData:j,isProratedDiscountLoading:B,isTaxLoading:R,selectedOffer:s,setAdditionalSeats:p}),s&&e?(0,A.tZ)(W,{currency:e,promoCode:v,promoPrice:j?.promoPrice,hasError:D,showInput:E,isLoading:N,setShowInput:f,onSubmit:T,onChange:C,onCancel:x,onClear:M}):null,se||(se=(0,A.tZ)(k,null)),(0,A.tZ)(L,{label:(0,A.tZ)(r.nvN,{bold:!0,size:"large"},y("team_account_teamplan_changeplan_order_summary_due_today_V2")),value:!e||R||B?(0,A.tZ)(r.HoD,{size:23,color:r.O9T.black}):s?j.total?(0,A.tZ)(r.nvN,{bold:!0,size:"large"},y.price(e,j.total/100)):null:(0,A.tZ)(r.nvN,{bold:!0,size:"large"},`${y.priceSymbol(e)}--.--`)}),O?(0,A.tZ)(r.zxk,{size:"large",sx:{width:"100%"},type:"button",disabled:!0},ie||(ie=(0,A.tZ)(r.HoD,null))):(0,A.tZ)(r.zxk,{"data-testid":"btn-confirm-and-pay",size:"large",sx:{width:"100%"},type:"button",disabled:!s||!o||N,onClick:async()=>{(!D&&S===v||await T())&&(F(),P(v),g(j))}},y("team_account_teamplan_changeplan_order_summary_confirm_and_pay"))),(0,A.tZ)(ne,{selectedOffer:s,currency:e,costData:j})))};var le,ce=a(274187),de=a(906978);const ue=({email:e,emailValid:t,setEmail:a,setEmailValid:s})=>{const{translate:i}=(0,l.Z)(),o=(0,ce.G)(),[d,u]=n.useState(!1);return o?.email?n.createElement(c,{title:i("team_account_teamplan_changeplan_billing_contact_header")},le||(le=n.createElement("br",null)),n.createElement(r.nvN,{size:"medium",color:r.O9T.grey00},i.markup("team_account_teamplan_changeplan_billing_contact_copy_markup",{billContactEmail:o.email})),n.createElement("div",{style:{margin:"20px 0px"}},n.createElement(r.XZJ,{"data-testid":"additionalEmailCheckbox",label:i("team_account_teamplan_changeplan_billing_contact_checkbox_label"),checked:d,onChange:e=>{a(""),s(!0),u(e.currentTarget.checked)}})),d?n.createElement(r.oil,{"data-testid":"additionalEmailInput",type:"text",onChange:e=>a(e.currentTarget.value),onBlur:e=>(e=>{(0,de.vV)(e.currentTarget.value)?s(!0):s(!1)})(e),value:e,feedbackType:t?void 0:"error",feedbackText:t?"":i("team_account_teamplan_changeplan_billing_contact_input_warning"),autoFocus:!0}):null):null},me=()=>{const{translate:e}=(0,l.Z)();return n.createElement(c,{title:n.createElement(r.nvN,{bold:!0,size:"large"},e("team_account_teamplan_changeplan_questions_header"))},n.createElement(r.nvN,{color:r.O9T.grey00,size:"small",style:{marginBottom:"10px"}},e.markup("team_account_teamplan_changeplan_questions_help_center_markup",{helpCenterUrl:ee.Vr},{linkTarget:"_blank",onLinkClicked:()=>{(0,q.K)(new G.UserOpenHelpCenterEvent({helpCenterArticleCta:G.HelpCenterArticleCta.HelpCenter}))}})),n.createElement(r.nvN,{size:"small",color:r.O9T.grey00},e.markup("team_account_teamplan_changeplan_questions_customer_support_markup",{customerSupportUrl:ee.to},{linkTarget:"_blank",onLinkClicked:()=>{(0,q.K)(new G.UserCallToActionEvent({callToActionList:[G.CallToAction.ContactCustomerSupport],chosenAction:G.CallToAction.ContactCustomerSupport,hasChosenNoAction:!1}))}})))};var _e,pe,ge,ye,he,be;const Se=({targetPlan:e})=>{const{translate:t}=(0,l.Z)(),{data:a}=(({targetPlan:e})=>{const{routes:t}=(0,i.Xo)(),a={DIRECTORY_SYNC:`${t.teamSettingsRoutePath}${s.B9.DIRECTORY_SYNC}`,POLICIES:`${t.teamSettingsRoutePath}${s.B9.POLICIES}`,SSO:`${t.teamSettingsRoutePath}${s.B9.SSO}`};return{data:{team:{header:"team_account_teamplan_changeplan_success_team_header",description:"team_account_teamplan_changeplan_success_team_description",alert:"team_account_teamplan_changeplan_success_team_alert",features:[{header:"team_account_teamplan_changeplan_success_features_vpn_header",description:"team_account_teamplan_changeplan_success_features_vpn_description",icon:_e||(_e=n.createElement(r.Qut,{size:24})),actions:[{mood:"brand",intensity:"catchy",content:"team_account_teamplan_changeplan_success_features_actions_turn_on_vpn_access",link:a.POLICIES},{external:!0,mood:"neutral",intensity:"quiet",content:"team_account_teamplan_changeplan_success_features_actions_see_setup_guide",link:"https://support.dashlane.com/hc/articles/360000037900#title1"}]},{header:"team_account_teamplan_changeplan_success_features_protection_header",description:"team_account_teamplan_changeplan_success_features_protection_description",icon:pe||(pe=n.createElement(r.c6E,{size:24})),actions:[{mood:"brand",intensity:"catchy",content:"team_account_teamplan_changeplan_success_features_actions_add_seats",link:`${t.teamAccountRoutePath}?showSeatsDialog=true`}]}]},business:{header:"team_account_teamplan_changeplan_success_business_header",description:"team_account_teamplan_changeplan_success_business_description",alert:"team_account_teamplan_changeplan_success_business_alert",features:[{header:"team_account_teamplan_changeplan_success_sso_header",description:"team_account_teamplan_changeplan_success_sso_copy",icon:ge||(ge=n.createElement(r.oEX,{size:24})),actions:[{mood:"brand",intensity:"catchy",content:"team_account_teamplan_changeplan_success_features_actions_start_setup",link:a.SSO},{external:!0,mood:"neutral",intensity:"quiet",content:"team_account_teamplan_changeplan_success_features_actions_see_setup_guide",link:"https://support.dashlane.com/hc/articles/360015973719-Set-up-SSO-and-SCIM-with-Azure-AD"}]},{header:"team_account_teamplan_changeplan_success_features_scim_header",description:"team_account_teamplan_changeplan_success_features_scim_description",icon:ye||(ye=n.createElement(r.kpp,{size:24})),actions:[{mood:"brand",intensity:"catchy",content:"team_account_teamplan_changeplan_success_features_actions_start_setup",link:a.DIRECTORY_SYNC},{external:!0,mood:"neutral",intensity:"quiet",content:"team_account_teamplan_changeplan_success_features_actions_see_setup_guide",link:"https://support.dashlane.com/hc/articles/360015973719#h_01FTXPSRCV3CY1QVY1B5S5TD0J"}]},{header:"team_account_teamplan_changeplan_success_features_friends_and_family_header",description:"team_account_teamplan_changeplan_success_features_friends_and_family_description",icon:he||(he=n.createElement(r.c6E,{size:24})),actions:[{external:!0,mood:"brand",intensity:"catchy",content:"team_account_teamplan_changeplan_success_features_actions_learn_more",link:"https://www.dashlane.com/plans/family"}]},{header:"team_account_teamplan_changeplan_success_features_phone_support_header",description:"team_account_teamplan_changeplan_success_features_phone_support_description",icon:be||(be=n.createElement(r.qWc,{size:24})),actions:[{external:!0,mood:"brand",intensity:"catchy",content:"team_account_teamplan_changeplan_success_features_actions_schedule_a_call",link:"https://calendly.com/dashlane-support/call_back_form",logEvent:new G.UserCallToActionEvent({callToActionList:[G.CallToAction.ContactPhoneSupport],chosenAction:G.CallToAction.ContactPhoneSupport,hasChosenNoAction:!1})}]}]}}[e]}})({targetPlan:e}),{alert:o,show:d}=(0,r.VYq)({message:t(a.alert),severity:r.BLW.SUCCESS,size:r.k3y.SMALL,dismissDelay:5e3});return n.useEffect((()=>{d()}),[]),n.createElement(n.Fragment,null,n.createElement("div",{style:{bottom:"12px",position:"absolute",marginLeft:"auto",marginRight:"auto",left:0,right:0,width:"600px"}},o),n.createElement(c,{title:t(a.header),sx:{width:"632px",padding:"32px"}},n.createElement("div",{style:{marginTop:"8px"}},n.createElement(r.nvN,{size:"medium",color:T.O9.lightTheme.ds.text.neutral.quiet},t(a.description))),n.createElement(r.Ejs,{sx:{marginTop:"32px",display:"flex",flexDirection:"column",borderBottom:`1px solid ${T.O9.lightTheme.ds.border.neutral.quiet.idle}`}},a.features.map((e=>n.createElement(r.Ejs,{key:e.header,flexDirection:"column",sx:{display:"flex",flexDirection:"column",borderTop:`1px solid ${T.O9.lightTheme.ds.border.neutral.quiet.idle}`,padding:"32px 0"}},n.createElement(r.Ejs,{flexDirection:"row",gap:"16px",flexWrap:"nowrap"},n.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:"40px",height:"40px",borderRadius:"8px",backgroundColor:T.O9.lightTheme.ds.container.expressive.brand.quiet.idle}},e.icon),n.createElement(r.Ejs,{flexDirection:"column",gap:"8px"},n.createElement(r.nvN,{bold:!0,color:T.O9.lightTheme.ds.text.neutral.catchy},t(e.header)),n.createElement(r.nvN,{size:"x-small",color:T.O9.lightTheme.ds.text.neutral.quiet},t(e.description)),n.createElement(r.Ejs,{gap:"8px"},e.actions.map((e=>e.external?n.createElement("a",{href:e.link,key:e.content,target:"_blank",rel:"noreferrer"},n.createElement(T.zx,{mood:e.mood,intensity:e.intensity,size:"small",type:"button",onClick:()=>{e.logEvent&&(0,q.K)(e.logEvent)}},t(e.content))):n.createElement(i.rU,{to:e.link,key:e.content},n.createElement(T.zx,{mood:e.mood,intensity:e.intensity,size:"small",type:"button"},t(e.content))))))))))))))};var ve=a(419142);let Ee,Ne;!function(e){e.FREE="free",e.BUSINESS="business",e.TEAM="team"}(Ee||(Ee={})),function(e){e.FORM="form",e.SUCCESS="success"}(Ne||(Ne={}));const fe=()=>{const{translate:e}=(0,l.Z)();return n.createElement(c,{title:e("team_account_teamplan_changeplan_payment_method_header")},n.createElement(r.Ejs,{sx:{display:"flex",gap:"6px",marginTop:"16px"}},n.createElement(r.UXA,{size:16,color:r.O9T.grey00}),n.createElement(r.nvN,{size:"medium",color:r.O9T.grey00},e("team_account_teamplan_changeplan_payment_method_invoice_body"))))};var Ce,Te=a(841443),Me=a(532704);const xe=({currentSeats:e,teamOffers:t})=>{const{translate:a}=(0,l.Z)(),n=(0,I.Y)(),s=n.status===Z.rq.Success&&(0,Me.f1)(n.data),i=n.status===Z.rq.Success&&(0,Me.pq)(n.data),o=n.status===Z.rq.Success&&(0,Me.NG)(n.data),d=t?.businessOffer?.currency,u=t?.businessOffer?m({offer:t.businessOffer}):null,_=t?.teamOffer?m({offer:t.teamOffer}):null,g=t?.starterOffer?m({offer:t.starterOffer}):null,y=p(t?.starterOffer),h=s&&g&&d?a.price(d,g*y/100,{notation:"compact"}):i&&_&&d?a.price(d,_*e/100,{notation:"compact"}):o&&u&&d?a.price(d,u*e/100,{notation:"compact"}):null;return(0,A.tZ)(c,{title:a("team_account_teamplan_changeplan_current_plan_header")},(0,A.tZ)(r.Ejs,{flexDirection:"column",gap:"16px",sx:{marginTop:"16px"}},(0,A.tZ)("div",{sx:{display:"flex",alignItems:"center",padding:"12px 10px",justifyContent:"space-between",backgroundColor:"ds.container.agnostic.neutral.quiet"}},(0,A.tZ)(r.nvN,{bold:!0,color:"ds.text.neutral.standard"},s?a("team_account_teamplan_changeplan_current_plan_starter"):i?a("manage_subscription_plan_name_dashlane_team"):o?a("manage_subscription_plan_name_dashlane_business"):Ce||(Ce=(0,A.tZ)(r.HoD,{size:30,color:"ds.text.neutral.standard"}))),(0,A.tZ)(r.nvN,{color:"ds.text.neutral.standard"},h?a("team_account_teamplan_changeplan_current_plan_per_year",{cost:h}):null))))};var De=a(139378),Ie=a(331e3);const Ze=({children:e})=>n.createElement("header",{className:"header--XgLmMKYqmY"},e),we=e=>{const{brand:t,children:a,header:s,sidenav:i,openVaultBtn:r}=e;return n.createElement("div",{className:"layoutContainer--ANrXV_kxQP"},s?n.createElement("div",{className:"headerArea--DED7mGARS1"},s):null,t?n.createElement("div",{className:"brandArea--xmaHCXx7eM"},t):null,i?n.createElement("div",{className:"sidenavArea--AZpP1u2Prq"},i):null,n.createElement("div",{className:"mainArea--KLQAp2amgL"},a),r?n.createElement("div",null,r):null)};var Ae=a(383849),Oe=a.n(Ae),ke=a(375864),Le=a(196986),ze=a(277786),je=a(630886);const Pe="text--SF6xWDSFRD",Re="error--Pyuel29pVU",Ue=n.createContext(null),Be="NETWORK ERROR",Ge=({globalReportError:e,children:t})=>{const[a,s]=n.useState([]),{translate:i}=(0,l.Z)(),r=e=>{a.find((t=>t.title===e.title&&t.message===e.message))||s((t=>[...t,e]))};return n.createElement(Ue.Provider,{value:{queue:a,addAlertToQueue:r,popAlertFromQueue:()=>{s((e=>e.slice(1)))},reportTACError:(t,a)=>{t.message.toUpperCase()===Be&&r({title:i("_common_alert_network_error_title"),message:i("_common_alert_network_error_message")}),e(t,a)}}},t)},Fe=()=>{const e=n.useContext(Ue);if(!e)throw new Error("useAlertQueue must be called from within an AlertQueueProvider");return e},Ve="team_feedback_dialog_button_ok",$e="team_feedback_dialog_error_markup",We=e=>{const[t,a]=(0,n.useState)(!0),[s,i]=(0,n.useState)(!1),[o,c]=(0,n.useState)(!1),d=(0,z.w)("itadmin_tac_phonesupport"),{translate:u}=(0,l.Z)(),{reportTACError:m}=Fe(),_=(0,n.useRef)();(0,n.useEffect)((()=>{(0,q.N)(G.PageView.TacAccountSendFeedback,G.BrowseComponent.Tac)}),[]);const p=()=>{(0,q.K)(new G.UserCallToActionEvent({hasChosenNoAction:!0})),e.onDismiss()};function g(e){const{value:t}=e.target;a(!t)}async function y(){i(!0),c(!1);try{var t;await(e.lee.apiMiddleware.feedback?.send({body:null!=(t=_.current?.value)?t:""})),(0,q.K)(new G.UserCallToActionEvent({callToActionList:[G.CallToAction.SendEmail],chosenAction:G.CallToAction.SendEmail,hasChosenNoAction:!1})),e.onFeedbackSent()}catch(e){var a,n;const t=new Error(null!=(a=null!=(n=e.message)?n:e)?a:"unknown error in _sendFeedback");m(t),i(!1),c(!0)}}return d?(0,A.tZ)(je.o,{isOpen:!0,onRequestClose:p,footer:(0,A.tZ)(r.cNS,{intent:"primary",primaryButtonTitle:u(Ve),primaryButtonOnClick:()=>y(),primaryButtonProps:{disabled:t||s}}),title:u("team_feedback_dialog_upd_title"),showCloseIcon:!0},(0,A.tZ)("div",{className:Pe},u.markup("team_feedback_dialog_upd_text_markup",{},{linkTarget:"_blank"})),(0,A.tZ)(r.oil,{sx:{resize:"vertical",maxHeight:"300px"},fullWidth:!0,ref:_,multiline:!0,placeholder:u("team_feedback_dialog_upd_textarea_label"),onChange:g.bind(void 0)}),o?(0,A.tZ)("div",{className:Re},u.markup($e)):null):(0,A.tZ)(je.o,{isOpen:!0,onRequestClose:p,footer:(0,A.tZ)(r.cNS,{intent:"primary",primaryButtonTitle:u(Ve),primaryButtonOnClick:()=>y(),primaryButtonProps:{disabled:t||s},secondaryButtonTitle:u("team_feedback_dialog_button_cancel"),secondaryButtonOnClick:p}),title:u("team_feedback_dialog_title")},(0,A.tZ)("div",{className:Pe},u.markup("team_feedback_dialog_text_markup",{},{linkTarget:"_blank"})),(0,A.tZ)(r.oil,{sx:{resize:"vertical",maxHeight:"300px"},fullWidth:!0,ref:_,multiline:!0,placeholder:u("team_feedback_dialog_textarea_label"),onChange:g.bind(void 0)}),o?(0,A.tZ)("div",{className:Re},u.markup($e)):null)},He=({onDismiss:e})=>{const{translate:t}=(0,l.Z)();return n.createElement("div",null,n.createElement(je.o,{isOpen:!0,onRequestClose:e,title:t("team_feedback_result_dialog_title")},n.createElement("div",{className:"container--qOtqKRdBaF"},n.createElement("h1",null,t("team_feedback_result_body_title")),n.createElement("p",{className:"text--chLJWXuATn"},t("team_feedback_result_body_text")))))};var Qe;!function(e){e[e.FeedbackPopup=0]="FeedbackPopup",e[e.ResultPopup=1]="ResultPopup",e[e.Done=2]="Done"}(Qe||(Qe={}));const Ye=({lee:e,onDismiss:t,onSend:a})=>{const[s,i]=(0,n.useState)(Qe.FeedbackPopup);let r;const o=()=>{clearTimeout(r),i(Qe.Done),a()};return(0,A.tZ)("div",null,s===Qe.FeedbackPopup&&(0,A.tZ)(We,{lee:e,onDismiss:t,onFeedbackSent:()=>{i(Qe.ResultPopup),r=window.setTimeout((()=>{o()}),1e4)}}),s===Qe.ResultPopup&&(0,A.tZ)(He,{onDismiss:o}))},qe=e=>{(0,q.N)(e,G.BrowseComponent.Tac)},Ke=(e,t)=>{const a=[G.CallToAction.SendEmail];a.push(e?G.CallToAction.RequestCall:G.CallToAction.RequestUpgrade),(0,q.K)(new G.UserCallToActionEvent({callToActionList:a,chosenAction:t,hasChosenNoAction:!1}))};var Xe,Je=a(257627);const et=({onDismiss:e})=>{const{translate:t}=(0,l.Z)(),[a,s]=(0,n.useState)(null),i=null===a;return(0,n.useEffect)((()=>{(async()=>{const e=await(0,Je.I)();s(e.capabilities.phoneSupport.enabled)})()}),[]),(0,n.useEffect)((()=>{a?qe(G.PageView.TacAccountContactSupportBusiness):!1===a&&qe(G.PageView.TacAccountContactSupportTeam)}),[a]),(0,A.tZ)(je.o,{isOpen:!0,onRequestClose:()=>{(0,q.K)(new G.UserCallToActionEvent({hasChosenNoAction:!0})),e()},footer:i?null:(0,A.tZ)(r.cNS,{intent:"primary",primaryButtonTitle:t("team_contact_support_dialog_button_message"),primaryButtonOnClick:()=>{(0,ze.Yo)(ee.hc),(e=>{Ke(e,G.CallToAction.SendEmail)})(Boolean(a)),e()},secondaryButtonTitle:t(a?"team_contact_support_dialog_button_call":"team_contact_support_dialog_button_upgrade"),secondaryButtonOnClick:()=>{a?((e=>{Ke(e,G.CallToAction.RequestCall)})(a),(0,ze.Yo)(ee.Y8)):((e=>{Ke(e,G.CallToAction.RequestUpgrade)})(Boolean(a)),(0,ze.Yo)(ee.tB)),e()}}),showCloseIcon:!0,title:t("team_contact_support_dialog_title")},(0,A.tZ)(r.nvN,{color:r.O9T.grey00},t("team_contact_support_dialog_text")),null===a?(0,A.tZ)(r.nvN,{sx:{textAlign:"center"}},Xe||(Xe=(0,A.tZ)(r.HoD,{color:"primaries.5",size:44}))):a?null:(0,A.tZ)(r.vDh,{size:"simple",sx:{marginTop:"16px"},title:(0,A.tZ)(r.nvN,{size:"x-small",as:"h5",bold:!0},t("team_contact_support_dialog_infobox_title"))},(0,A.tZ)(r.nvN,{size:"x-small"},t("team_contact_support_dialog_infobox_text"))))},tt="dropdownElement--fRxFyumXai";var at,nt,st=a(273966);const it=({lee:e})=>{const[t,a]=(0,n.useState)(!1),[s,o]=(0,n.useState)(!1),[c,d]=(0,n.useState)(!1),{setVaultNavigationDialog:u}=((0,z.w)("onboarding_web_bettertacvaultnav"),(0,n.useContext)(Kt)),{routes:m}=(0,i.Xo)(),_=(0,st.B)(),{translate:p}=(0,l.Z)(),g=(0,Le.a)(e.dispatchGlobal),y=(e,t,a)=>e=>{a(e)},h=({className:e,...t})=>n.createElement(r.zxk,{type:"button",nature:"ghost",className:Oe()(tt,e),...t}),b=s?n.createElement(Ye,{lee:e,onDismiss:()=>o(!1),onSend:()=>o(!1)}):null,S=c?n.createElement(et,{onDismiss:()=>d(!1)}):null,v=_?.premiumStatus&&!(0,Me.wt)(_?.premiumStatus)&&((0,Me.pq)(_?.premiumStatus)||(0,Me.f1)(_?.premiumStatus)),E=_?.premiumStatus&&(0,Me.pq)(_?.premiumStatus)?"team":"business",N=_?.premiumStatus&&(0,Me.wt)(_?.premiumStatus),f=e.permission.adminAccess.hasBillingAccess;return n.createElement(n.Fragment,null,n.createElement("div",{className:"teamAccountDropdown--XD04fGIw1S"},n.createElement(ke.Lt,{alignment:ke.oA.End,position:ke.ir.Bottom,onToggle:()=>{a(!t)},withBackdrop:!1,renderRoot:e=>(e=>n.createElement(r.zxk,{type:"button",className:Oe()("teamAccountDropdownButton--SOE8XwpPlO",{"teamAccountDropdownOpened--h4AYTHtMVq":t}),nature:"ghost",onClick:e},p("team_account"),n.createElement("span",{className:"dropdownButtonIcon--OG7Ht_fAFB"},at||(at=n.createElement(r.veu,null)))))(e)},n.createElement("div",{className:"dropdownMenu--Uz1kni0KIt"},f?n.createElement(i.rU,{className:tt,to:e.routes.teamAccountRoutePath,onClick:y(0,0,(()=>{}))},p("team_plan")):null,n.createElement(h,{onClick:y(0,0,(()=>{(0,i.uX)("/")}))},p("team_webapp")),N&&f?n.createElement(h,{onClick:y(0,0,(()=>(0,ze.Yo)(`${ee.ub}?plan=${E}&subCode=${_?.subscriptionCode}`)))},p("team_buy_dashlane")):null,v&&f?n.createElement(h,{onClick:y(0,0,(()=>(0,i.uX)(`${m.teamAccountChangePlanRoutePath}`)))},p("team_upgrade")):null,n.createElement(h,{onClick:y(0,0,(()=>(0,ze.Yo)(ee.Pr)))},p("team_service_status")),n.createElement(h,{onClick:y(0,0,(()=>(0,ze.Yo)(ee.FX)))},p("team_support")),f?n.createElement(h,{onClick:()=>d(!0)},p("team_contact_support_menu_item")):null,n.createElement(h,{onClick:y(0,0,(()=>o(!0)))},p("team_feedback")),nt||(nt=n.createElement("hr",null)),n.createElement(h,{onClick:y(0,0,(()=>{g()})),className:"logout--x9WN8NkY4R"},p("team_logout"))))),b,S)};var rt=a(238250);let ot;!function(e){e.POLICIES="policies",e.DUO="duo",e.DIRECTORY_SYNC="directory-sync",e.ACCOUNT_RECOVERY="account-recovery",e.SSO="sso"}(ot||(ot={}));var lt=a(691974);const ct="tooltipMenuOption--uuMY2Xcfk0";var dt=a(35487),ut=a(737541);const mt=n.createContext(null),_t=({children:e})=>{const[t,a]=n.useState(!1);return n.createElement(mt.Provider,{value:{hasNewBreaches:t,setHasNewBreaches:a}},e)},pt=()=>{const e=n.useContext(mt);if(!e)throw new Error("useSideNavNotification must be called from within an SideNavNotificationProvider");return e};var gt=a(15192),yt=a(582028),ht=a(451175);const bt=({isSidenavCollapsed:e,settingsRoute:t,children:a})=>{const{translate:n}=(0,l.Z)(),s=(0,gt.k6)(),i=(0,ht.h)(),{unseen:o,setAsSeen:c}=(0,ut.m)(yt.NotificationName.AccountRecoveryAvailableAdminTooltip);return!o||i?(0,A.tZ)("div",null,a):(0,A.tZ)("div",{sx:{position:"relative"}},(0,A.tZ)(r.ua7,{sx:{width:"312px",minWidth:"312px",textAlign:"left",top:e?0:"-100px"},trigger:"persist",placement:"left",offset:[0,30],arrowSize:12,content:(0,A.tZ)(r.Ejs,{gap:"8px",sx:{padding:"8px"}},(0,A.tZ)(r.nvN,{size:"large",as:"h3",sx:{fontWeight:600,color:"ds.text.inverse.catchy"}},n("team_account_recovery_popover_title")),(0,A.tZ)(r.nvN,{color:"white",size:"x-small"},n("team_account_recovery_popover_description")),(0,A.tZ)(r.Ejs,{gap:"8px",justifyContent:"flex-end",sx:{width:"100%",marginTop:"8px"}},(0,A.tZ)(T.zx,{type:"button",mood:"neutral",size:"small","data-testid":"ar-tooltip-dismiss",onClick:()=>c()},n("team_account_recovery_popover_dismiss")),(0,A.tZ)(T.zx,{type:"button",mood:"brand",size:"small","data-testid":"ar-tooltip-go-to-settings",onClick:()=>{c(),s.push(t)}},n("team_account_recovery_popover_go_to_settings"))))},(0,A.tZ)("div",{sx:{position:"relative"}}," ",a)))};var St,vt,Et,Nt,ft,Ct,Tt,Mt,xt,Dt,It,Zt,wt,At,Ot;a(542899);const{dashGreen00:kt,dashGreen04:Lt}=r.O9T,zt="team_settings_menu_title_account_recovery",jt="team_settings_menu_title_directory_sync",Pt="team_settings_tab_duo",Rt="team_settings_menu_title_policies",Ut="team_settings",Bt="team_settings_menu_title_single_sign_on",Gt="webapp_sidemenu_open_vault_cta",Ft="beta",Vt=(e,t)=>{var a;return(null!=(a=e.notifications?.[t].length)?a:0)>0},$t=({isCollapsed:e=!1,permissionChecker:t,routes:a,selectedTab:o,team:c})=>{const{translate:d}=(0,l.Z)(),u={DIRECTORY_SYNC:`${a.teamSettingsRoutePath}${s.B9.DIRECTORY_SYNC}`,DUO:`${a.teamSettingsRoutePath}${s.B9.DUO}`,MASTER_PASSWORD_POLICIES:`${a.teamSettingsRoutePath}${s.B9.MASTER_PASSWORD_POLICIES}`,POLICIES:`${a.teamSettingsRoutePath}${s.B9.POLICIES}`,SSO:`${a.teamSettingsRoutePath}${s.B9.SSO}`},{setVaultNavigationDialog:m}=(0,n.useContext)(Kt),_=(0,z.w)("onboarding_web_bettertacvaultnav"),{unseen:p}=(0,ut.m)(rt.NotificationName.TacDarkWebInsightsNewBadge),{hasNewBreaches:g}=pt(),y=(0,lt.h)(),h=y.status!==Z.rq.Success,{itadmin_tac_breachreport_phase1:b=!1,itadmin_tac_dwi_mvp_v2:S=!1,"BBCOM-238-duo":v=!1,deployment_web_nitroSSOBeta:E=!1,deployment_web_nitroSSOBeta_chooseSSO:N=!1}=h?{}:y.data,f=b||S,C=E&&!N,M=({requiredPermission:e,children:a,...n})=>t.adminAccess.hasPermissionLevel(e)?(0,A.tZ)(r.KJW,{...n},a):null;return(0,A.tZ)(r.t7v,{collapsed:e},(0,A.tZ)(r.sMA,{sx:{pointerEvents:h?"none":"auto"}},(0,A.tZ)(M,{requiredPermission:"FULL",collapsed:e},(0,A.tZ)(i.rU,{to:a.teamDashboardRoutePath},(0,A.tZ)(r.zdj,{collapsed:e,icon:St||(St=(0,A.tZ)(r.QGC,null)),label:d("team_general"),selected:o===dt.$.DASHBOARD}))),(0,A.tZ)(M,{requiredPermission:"FULL",collapsed:e},(0,A.tZ)(i.rU,{to:a.teamMembersRoutePath},(0,A.tZ)(r.zdj,{collapsed:e,icon:vt||(vt=(0,A.tZ)(r.lMe,null)),label:d("team_members"),selected:o===dt.$.MEMBERS}))),(0,A.tZ)(M,{requiredPermission:"GROUP_READ",collapsed:e},(0,A.tZ)(i.rU,{to:a.teamGroupsRoutePath},(0,A.tZ)(r.zdj,{collapsed:e,icon:Et||(Et=(0,A.tZ)(r.c6E,null)),label:d("team_groups"),selected:o===dt.$.GROUPS}))),(0,A.tZ)(M,{requiredPermission:"FULL",collapsed:e},(0,A.tZ)(i.rU,{to:a.teamActivityRoutePath},(0,A.tZ)(r.zdj,{collapsed:e,hasNotification:void 0!==c&&Vt(c,"accountRecoveryRequests"),icon:Nt||(Nt=(0,A.tZ)(r.X4t,null)),label:d("team_activity"),selected:o===dt.$.ACTIVITY}))),(0,A.tZ)(M,{requiredPermission:"FULL",collapsed:e},(0,A.tZ)(bt,{isSidenavCollapsed:e,settingsRoute:u.MASTER_PASSWORD_POLICIES},e?(0,A.tZ)(r.ua7,{placement:"right",offset:[0,15],hoverCloseDelay:500,sx:{padding:"4px 0"},content:(0,A.tZ)("div",{sx:{width:C?"180px":"148px"}},(0,A.tZ)(i.rU,{to:u.POLICIES},(0,A.tZ)("div",{className:ct},d(Rt))),(0,A.tZ)(i.rU,{to:u.SSO},(0,A.tZ)("div",{className:Oe()(ct,{"tooltipMenuOptionWithBadge--YEb6lA66OH":C})},d(Bt),C?ft||(ft=(0,A.tZ)(T.Ct,{mood:"brand",intensity:"catchy",label:Ft})):null)),(0,A.tZ)(i.rU,{to:u.DIRECTORY_SYNC},(0,A.tZ)("div",{className:ct},d(jt))),(0,A.tZ)(i.rU,{to:u.MASTER_PASSWORD_POLICIES},(0,A.tZ)("div",{className:ct},d(zt))),v?(0,A.tZ)(i.rU,{to:u.DUO},(0,A.tZ)("div",{className:ct},d(Pt))):null)},(0,A.tZ)("div",{tabIndex:0},(0,A.tZ)(r.zdj,{collapsed:e,icon:Ct||(Ct=(0,A.tZ)(r.ewm,null)),label:d(Ut),selected:o===dt.$.SETTINGS}))):(0,A.tZ)(r.UlM,{size:"large",open:!0,sx:{backgroundColor:kt,span:{color:Lt},"> summary":{padding:"16px 0"},"&[open]":{padding:0},"&[open] > summary":{padding:"16px 0"},"&[open] > div:nth-of-type(1)":{pointerEvents:h?"none":"auto",padding:0},"svg, svg:hover":{fill:Lt}}},(0,A.tZ)(r._Oh,null,(0,A.tZ)("span",{className:"settingsMenuContainer--EascJOgBpz"},(0,A.tZ)("span",{className:"iconContainer--E97FJLapaB"},Tt||(Tt=(0,A.tZ)(r.ewm,null))),(0,A.tZ)(r.nvN,{size:"medium",bold:!0,as:"span"},d(Ut)))),(0,A.tZ)(r.rN7,null,(0,A.tZ)(i.rU,{to:u.POLICIES},(0,A.tZ)(r.zdj,{icon:Mt||(Mt=(0,A.tZ)("span",null)),label:d(Rt),selected:o===ot.POLICIES})),(0,A.tZ)(i.rU,{to:u.SSO},(0,A.tZ)(r.zdj,{icon:xt||(xt=(0,A.tZ)("span",null)),label:d(Bt),endAdornment:C?Dt||(Dt=(0,A.tZ)(T.Ct,{mood:"brand",intensity:"catchy",label:Ft})):void 0,selected:o===ot.SSO})),(0,A.tZ)(i.rU,{to:u.DIRECTORY_SYNC},(0,A.tZ)(r.zdj,{icon:It||(It=(0,A.tZ)("span",null)),label:d(jt),selected:o===ot.DIRECTORY_SYNC})),(0,A.tZ)(i.rU,{to:u.MASTER_PASSWORD_POLICIES},(0,A.tZ)(r.zdj,{icon:Zt||(Zt=(0,A.tZ)("span",null)),label:d(zt),selected:o===ot.ACCOUNT_RECOVERY})),v?(0,A.tZ)(i.rU,{to:u.DUO},(0,A.tZ)(r.zdj,{icon:wt||(wt=(0,A.tZ)("span",null)),label:d(Pt),selected:o===ot.DUO})):null)))),f&&t.adminAccess.hasFullAccess?(0,A.tZ)("div",{className:"securityCategory--Clfv_8oKCw"},(0,A.tZ)("div",{className:"categoryTitle--krvL3iQ_mG"},(0,A.tZ)(r.nvN,{color:r.O9T.dashGreen02,caps:!0,size:"x-small"},d("webapp_sidemenu_category_maintenance"))),(0,A.tZ)(M,{requiredPermission:"FULL",collapsed:e},(0,A.tZ)(i.rU,{to:a.teamDarkWebInsightsRoutePath,onClick:()=>{(0,q.K)(new G.UserOpenDomainDarkWebMonitoringEvent({accessPath:G.AccessPath.NavLeftMenuButton,isFirstVisit:p}))}},(0,A.tZ)(r.zdj,{collapsed:e,icon:At||(At=(0,A.tZ)(T.JO,{name:"FeatureDarkWebMonitoringOutlined"})),label:d("team_dashboard_dark_web_insights_heading"),selected:o===dt.$.DARK_WEB_INSIGHTS,hasNotification:g})))):null,_?(0,A.tZ)("div",{sx:{display:"flex",justifyContent:"center",borderTop:"1px solid",position:"fixed",bottom:"0",borderTopColor:r.O9T.dashGreen01,marginLeft:"-8px",width:e?"96px":"259px",backgroundColor:kt}},(0,A.tZ)(r.KJW,{collapsed:e},(0,A.tZ)("div",{sx:{display:"flex",justifyContent:"center"}},(0,A.tZ)(T.zx,{layout:e?"iconOnly":"iconLeading","aria-label":d(Gt),fullsize:!e,sx:{margin:e?"20px 25px":"20px 4px"},icon:Ot||(Ot=(0,A.tZ)(T.JO,{name:"VaultOutlined",size:"large",color:"ds.text.inverse.catchy"})),mood:"brand",intensity:"catchy",onClick:()=>{(0,i.uX)("/")}},d(Gt))))):null))};var Wt=a(418402),Ht=a.n(Wt);const Qt=({isCollapsed:e})=>{const{translate:t}=(0,l.Z)(),a=e||!1;return n.createElement(r.t7v,{collapsed:a},n.createElement(r.QUQ,{"data-testid":"logo-header"},a?n.createElement("div",{className:"collapsedLogo--BjOqWIOARt"},n.createElement(r.NJ6,{color:Ht()["--white"],height:39,width:39})):n.createElement(r.D1W,{color:r.vei.White,size:r.r1z.Size39,title:t("_common_dashlane_logo_title")})))};var Yt;const qt=e=>{const{translate:t}=(0,l.Z)();return(0,T.tZ)(r.VqE,{closeIconName:t("_common_dialog_dismiss_button"),isOpen:e.showVaultNavigationModal,onClose:()=>e.setShowVaultNavigationModal(!1)},(0,T.tZ)(r.$N8,{title:(0,T.tZ)(T.X6,{color:"ds.text.neutral.catchy",as:"h1",sx:{margin:"0px 15px",fontSize:"25px",fontWeight:"800"}},t("team_vault_navigation_dialog_title"))}),(0,T.tZ)(r.a7O,null,(0,T.tZ)(T.nv,{sx:{margin:"15px",fontSiz:"16px"},color:"ds.text.neutral.standard"},t("team_vault_navigation_dialog_paragrah")),(0,T.tZ)(T.nv,{sx:{margin:"15px",fontSiz:"16px"},color:"ds.text.neutral.standard"},t("team_vault_navigation_dialog_paragrah_two"))),(0,T.tZ)(r.cNS,{primaryButtonTitle:(0,T.tZ)(n.Fragment,null,(0,T.tZ)("span",{sx:{marginRight:"8px"}},t("team_vault_navigation_dialog_install_cta")),Yt||(Yt=(0,T.tZ)(T.JO,{name:"ActionOpenExternalLinkOutlined",size:"small",color:"ds.text.inverse.catchy"}))),primaryButtonOnClick:()=>{(0,ze.Yo)(ee.yi)},primaryButtonProps:{type:"button"},secondaryButtonTitle:t("team_vault_navigation_dialog_skip_btn"),secondaryButtonOnClick:()=>{(0,i.uX)("/"),e.setShowVaultNavigationModal(!1)}}))},Kt=n.createContext({navBarChildren:null,setNavBarChildren:()=>{},setVaultNavigationDialog:()=>{}}),Xt=()=>document.documentElement.clientWidth<1371,Jt=e=>{const{selectedTab:t,children:a,lee:s}=e,[i,r]=(0,n.useState)(Xt()),[o,l]=(0,n.useState)(),[c,d]=(0,n.useState)(!1);(0,n.useEffect)((()=>{const e=(0,De.throttle)((()=>{const e=Xt();e&&!i?r(!0):!e&&i&&r(!1)}),100);return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}),[i]);const u=(0,Ie.kA)(s.globalState),m=n.createElement(Ze,null,o,n.createElement(it,{lee:s})),_=n.createElement(Qt,{isCollapsed:i}),p=n.createElement($t,{isCollapsed:i,permissionChecker:s.permission,routes:s.routes,selectedTab:t,team:u}),g=n.createElement(qt,{showVaultNavigationModal:c,setShowVaultNavigationModal:d}),y={navBarChildren:o,setNavBarChildren:l,setVaultNavigationDialog:d};return n.createElement(Kt.Provider,{value:y},n.createElement(we,{brand:_,header:m,sidenav:p,openVaultBtn:g},a))};var ea,ta,aa=a(307973);const na=({currency:e,selectedOffer:t,costData:a})=>{const{translate:s}=(0,l.Z)(),i=(0,z.w)("monetization_avalara_b2b_change_tier_mid_cycle"),{loading:o,billingCountry:c}=P();if(o)return n.createElement(r.HoD,{color:r.O9T.midGreen00});const d="US"===c?"team_account_teamplan_changeplan_order_summary_tax":"team_account_teamplan_vat";return n.createElement(r.Ejs,{flexDirection:"column",gap:"32px",sx:{borderStyle:"solid",borderColor:"ds.border.neutral.quiet.idle",borderWidth:"1px",borderRadius:"4px",backgroundColor:"ds.container.agnostic.neutral.supershy",padding:"24px"}},n.createElement(L,{label:n.createElement(r.X6q,{size:"small"},s("team_account_teamplan_changeplan_order_summary_header")),value:n.createElement(r.nvN,{color:"ds.text.neutral.quiet"},(0,aa.Z)(new Date,"MM/dd/yyyy"))}),n.createElement(r.Ejs,{flexDirection:"column",gap:"16px",sx:{padding:"32px 0"}},n.createElement(J,{selectedOffer:t,currency:e,costData:a})),n.createElement(r.Ejs,{flexDirection:"column",gap:"16px"},n.createElement(r.nvN,{size:"small",color:"ds.text.neutral.catchy",sx:{padding:"0 10px",fontWeight:"light"}},s("team_account_teamplan_changeplan_order_summary_seats_total",{totalSeats:a.totalSeats})),n.createElement(L,{label:n.createElement(r.nvN,{size:"small",color:"ds.text.neutral.standard"},s("team_account_teamplan_changeplan_order_summary_subtotal")),value:e?n.createElement(r.nvN,{size:"small",color:"ds.text.neutral.standard"},s.price(e,a.subtotal/100)):null}),a.tax&&e&&i?n.createElement(L,{label:n.createElement(r.nvN,{size:"small",color:"ds.text.neutral.quiet"},s(d)),value:n.createElement(r.nvN,{size:"small",color:"ds.text.neutral.quiet"},s.price(e,a.tax/100))}):null,a?.proratedDiscount?n.createElement(L,{label:n.createElement(r.Ejs,{alignItems:"center",gap:"5px"},n.createElement(r.nvN,{size:"small",color:"ds.text.neutral.quiet"},s("team_account_teamplan_changeplan_order_summary_prorated_discount")),n.createElement(r.ua7,{content:s("team_account_teamplan_changeplan_order_summary_prorated_discount_tooltip")},ea||(ea=n.createElement(r.uMt,{size:16,color:"ds.text.neutral.quiet"})))),value:e?n.createElement(r.nvN,{size:"small",color:"ds.text.neutral.quiet"},s.price(e,a.proratedDiscount/100)):null}):null,a?.promoPrice?n.createElement(L,{label:n.createElement(r.nvN,{size:"small",color:"ds.text.neutral.quiet"},s("team_account_teamplan_upgrade_premium_coupon")),value:e?n.createElement(r.nvN,{size:"small",color:"ds.text.neutral.quiet"},"-",s.price(e,a.promoPrice/100)):null}):null,ta||(ta=n.createElement(k,null)),a?.total?n.createElement(L,{label:n.createElement(r.nvN,{bold:!0,size:"large"},s("team_account_teamplan_total")),value:e?n.createElement(r.nvN,{bold:!0,size:"large"},s.price(e,a.total/100)):null}):null))};var sa=a(147511);const ia=()=>{const{translate:e}=(0,l.Z)(),{loading:t,last4DigitsFormatted:a,expFormatted:n,cardSvg:s}=(0,sa.C)({});return t?(0,T.tZ)(r.HoD,{color:r.O9T.midGreen00}):(0,T.tZ)(r.Ejs,{flexDirection:"column",gap:"16px",sx:{borderStyle:"solid",borderColor:"ds.border.neutral.quiet.idle",borderWidth:"1px",backgroundColor:"ds.container.agnostic.neutral.supershy",padding:"24px",borderRadius:"4px"}},(0,T.tZ)(r.X6q,{size:"small"},e("team_account_addseats_success_credit_card_header")),(0,T.tZ)(r.Ejs,{flexDirection:"column",gap:"8px"},(0,T.tZ)(r.Ejs,{alignItems:"center",gap:"8px"},s,(0,T.tZ)(r.nvN,{color:"ds.text.neutral.standard"}," ",a)),(0,T.tZ)(r.Ejs,null,(0,T.tZ)(r.nvN,{color:"ds.text.neutral.standard"},e("team_account_addseats_success_credit_card_expires",{expirationDate:n})))))};var ra,oa,la,ca,da=a(485009),ua=a(199343),ma=a(433149),_a=a(466404),pa=a(514453);const ga="col1--a1XY6sTFa0",ya="col2--K8GKZ0pbNU",ha=({lee:e,handleSave:t,defaultValue:a})=>{const{translate:n}=(0,l.Z)();return(0,A.tZ)("div",null,(0,A.tZ)(r.nvN,{color:"ds.text.neutral.catchy",as:"h2",size:"large",sx:{mb:"1em"}},n("team_account_heading_team_name")),e.permission.adminAccess.hasFullAccess?(0,A.tZ)("div",null,(0,A.tZ)(pa.X,{defaultValue:a,saveBtnLabel:n("team_account_name_save_label"),savingBtnLabel:n("team_account_name_saving_label"),editBtnLabel:n("team_account_name_edit_label"),placeholder:n("team_account_name_add_your_team_name"),successMessage:n("team_account_name_add_your_team_success"),textFieldClassName:ga,buttonClassName:ya,onSave:t})):a)};var ba=a(453576),Sa=a(869375),va=a(494770);const Ea="team_account_teamplan_buy_more",Na="team_account_teamplan_hint_cannot_add_seats",fa="team_account_teamplan_upgrade_button",Ca="team_account_teamplan_contact_support",Ta="team_account_teamplan_changeplan_questions_customer_support",Ma=({isFreeTrial:e,isGracePeriod:t,isStarter:a,translate:n,onUpgrade:s,onBuyMore:i,licenseCount:r})=>{const o=(0,z.w)("monetization_tac_mtu");return(0,z.F)("monetization_TACbusinessBuy_website"),a?null:t&&!e?o?(0,A.tZ)(T.zx,{mood:"neutral",intensity:"quiet",title:n(Na),disabled:!0},n(Ea)):(0,A.tZ)(va.Z,{label:n(Ea),title:n(Na),disabled:!0}):e?o?(0,A.tZ)(T.zx,{mood:"neutral",intensity:"quiet",onClick:s,disabled:!1},n(fa)):(0,A.tZ)(va.Z,{label:n(fa),onClick:s,disabled:!1}):o?(0,A.tZ)(T.zx,{mood:"neutral",intensity:"quiet",onClick:i,disabled:r.caseOf({just:()=>!1,nothing:()=>!0})},n(Ea)):(0,A.tZ)(va.Z,{label:n(Ea),onClick:i,disabled:r.caseOf({just:()=>!1,nothing:()=>!0})})},xa={width:"300px"},Da={width:"220px",marginLeft:"10px"},Ia={marginTop:"20px",width:"100%","> div":{maxWidth:"unset"}},Za=({isFreeTrial:e,isGracePeriod:t,style:a,licenseCount:s,onRequestTeamUpgrade:o,onRequestBuyMoreSeats:c,planTier:d,billingType:u})=>{const{routes:m}=(0,i.Xo)(),{translate:_}=(0,l.Z)(),p=e.valueOr(!1),g=t.valueOr(!1),y=(0,Me.t0)(d),h=u.valueOr(""),b=y===ba.SpaceTier.Starter,S=y===ba.SpaceTier.Team,v=y===ba.SpaceTier.Business,E="invoice"===h,N=(0,n.useMemo)((()=>{let e;return e=_(b?"team_account_teamplan_changeplan_plans_starter_name":S?"team_account_teamplan_team":"team_account_teamplan_business"),p?_("team_account_teamplan_trial",{planName:e}):`Dashlane ${e}`}),[b,S,p,_]),{logChangePlanEvent:f}=K({hasPromo:!1,currentSeats:s.valueOr(0),additionalSeats:0,planChangeStep:G.PlanChangeStep.ChangePlanCta}),C=(0,z.w)("monetization_extension_invoice_addingCC"),M=(0,z.F)("monetization_tac_mtu");if(M.status===Z.rq.Loading)return(0,A.tZ)(r.Ejs,{flexDirection:"column",sx:{marginTop:"8px"}},(0,A.tZ)(r.Ejs,{alignItems:"center"},(0,A.tZ)(r.HoD,{size:30,color:r.O9T.black})));const x=()=>{(0,ze.Yo)(ee.to)};return M.status===Z.rq.Success&&!p&&M.data?(0,A.tZ)(r.Ejs,{flexDirection:"column",sx:{marginTop:"8px"}},(0,A.tZ)(r.Ejs,{alignItems:"center"},(0,A.tZ)("div",{sx:xa},(0,A.tZ)(r.nvN,{size:"medium"},_("team_account_teamplan_plan_name",{planName:N}))),(0,A.tZ)("div",{sx:Da},v?null:(0,A.tZ)(T.zx,{mood:"neutral",intensity:"quiet",type:"button",onClick:()=>{f(),(0,i.uX)(m.teamAccountChangePlanRoutePath)}},_("team_account_teamplan_change_plan")))),(0,A.tZ)(r.Ejs,{alignItems:"center",sx:{marginTop:"8px"}},(0,A.tZ)("div",{sx:xa},(0,A.tZ)(r.nvN,{size:"medium"},_("team_account_teamplan_seats",{numSeats:s.valueOr(0)}))),E&&!C?(0,A.tZ)("div",{sx:Ia},(0,A.tZ)(r.vDh,{size:"descriptive",title:_(Ca),layout:"inline",actions:[(0,A.tZ)(T.zx,{mood:"brand",key:"primary",onClick:x},_(Ta))]})):(0,A.tZ)("div",{sx:Da},(0,A.tZ)(Ma,{isGracePeriod:g,isFreeTrial:p,isStarter:b,translate:_,onBuyMore:c,onUpgrade:o,licenseCount:s})),(0,A.tZ)(Sa.h,{featureFlips:["monetization_TACbusinessBuy_website"],legacy:(0,A.tZ)(n.Fragment,null,!1)}))):(0,A.tZ)("div",{style:a},(0,A.tZ)("div",{className:"licenseStatusContainer--CehGjXAffX"},(0,A.tZ)("div",{className:ga},(0,A.tZ)("span",{className:"licenseCountText--hXtj4u8ji3"},N)),E&&!C?null:(0,A.tZ)("div",{className:Oe()(ya,"actionButton--IHzKuWt5Wu")},(0,A.tZ)(Ma,{isGracePeriod:g,isFreeTrial:p,isStarter:b,translate:_,onBuyMore:c,onUpgrade:o,licenseCount:s})),(0,A.tZ)(Sa.h,{featureFlips:["monetization_TACbusinessBuy_website"],legacy:(0,A.tZ)(n.Fragment,null,!1)})),(0,A.tZ)("div",{className:"licenseCountContainer--bEWqbHZbKG"},_("team_account_teamplan_users",{count:s.valueOr(0)})),E&&!C?(0,A.tZ)("div",{sx:Ia},(0,A.tZ)(r.vDh,{size:"descriptive",title:_(Ca),layout:"inline",actions:[(0,A.tZ)(T.zx,{mood:"brand",key:"primary",onClick:x},_(Ta))]})):null)};var wa,Aa=a(908233);!function(e){e[e.DUPLICATE=0]="DUPLICATE",e[e.SOMETHING_WRONG=1]="SOMETHING_WRONG",e[e.EMPTY=2]="EMPTY",e[e.MALFORMED=3]="MALFORMED"}(wa||(wa={}));const Oa=({translate:e},t)=>{switch(t){case wa.DUPLICATE:return e("team_account_name_already_exists");case wa.SOMETHING_WRONG:return e("team_account_name_error_something_wrong");case wa.EMPTY:return e("team_account_name_is_empty");case wa.MALFORMED:return e("team_account_name_is_malformed");default:return e("team_account_name_error_something_wrong")}};var ka,La,za=a(864319),ja=a(125229);const Pa=({dismissible:e})=>{const t=(0,za.D)(),a=(0,I.Y)(),n=a.status===Z.rq.Success&&a.data?.planType===re.PlanType.FreeTrial,s=a.status===Z.rq.Success&&(0,Me.NG)(a.data);if(a.status!==Z.rq.Success)return!1;if(s&&!n)return!1;const i=t.find((e=>e.type===rt.UserMessageTypes.DASHBOARD_UPRADE&&e.dismissedAt));return!e||!i},Ra=({iconName:e,children:t})=>(0,A.tZ)(r.Ejs,{flexDirection:"row",gap:"12px",alignItems:"center",flexWrap:"nowrap"},(0,A.tZ)("div",{sx:{padding:"8px",backgroundColor:"ds.container.expressive.brand.quiet.idle",borderRadius:"8px"}},(0,A.tZ)(T.JO,{name:e,size:"large",color:"ds.text.brand.standard"})),(0,A.tZ)(r.nvN,{color:"ds.text.neutral.catchy",size:"medium"},t)),Ua=({dismissible:e})=>{const{translate:t}=(0,l.Z)(),a=(()=>{const e=(0,st.B)(),{routes:t}=(0,i.Xo)(),a=(0,I.Y)(),n=a.status===Z.rq.Success&&a.data?.planType===re.PlanType.FreeTrial,s=a.status===Z.rq.Success&&(0,Me.f1)(a.data),r=a.status===Z.rq.Success&&(0,Me.pq)(a.data),o=a.status===Z.rq.Success&&(0,Me.NG)(a.data),l=a.status===Z.rq.Success&&a.data?(0,Me.B$)(a.data):void 0;return n&&r?{header:{key:"team_dashboard_upgrade_tile_team_trial_header_markup",variables:{daysLeft:l}},description:{key:"team_dashboard_upgrade_tile_business_trial_description"},features:[{iconName:"GroupOutlined",key:"team_dashboard_upgrade_tile_feature_unlimited_seats"},{iconName:"FeatureVpnOutlined",key:"team_dashboard_upgrade_tile_feature_vpn"}],cta:{key:"team_dashboard_upgrade_tile_cta_buy_dashlane",external:!0,link:`${ee.ub}?plan=team&subCode=${e?.subscriptionCode}`}}:n&&o?{header:{key:"team_dashboard_upgrade_tile_business_trial_header_markup",variables:{daysLeft:l}},description:{key:"team_dashboard_upgrade_tile_business_trial_description"},features:[{iconName:"ToolsOutlined",key:"team_dashboard_upgrade_tile_feature_sso"},{iconName:"SharedOutlined",key:"team_dashboard_upgrade_tile_feature_scim"},{iconName:"GroupOutlined",key:"team_dashboard_upgrade_tile_feature_friends_and_family"},{iconName:"ItemPhoneHomeOutlined",key:"team_dashboard_upgrade_tile_feature_support"}],cta:{key:"team_dashboard_upgrade_tile_cta_buy_dashlane",external:!0,link:`${ee.ub}?plan=business&subCode=${e?.subscriptionCode}`}}:!n&&s?{header:{key:"team_dashboard_upgrade_tile_team_upgrade_header"},description:{key:"team_dashboard_upgrade_tile_team_upgrade_description"},features:[{iconName:"GroupOutlined",key:"team_dashboard_upgrade_tile_feature_unlimited_seats"},{iconName:"FeatureVpnOutlined",key:"team_dashboard_upgrade_tile_feature_vpn"}],cta:{key:"team_dashboard_upgrade_tile_cta_upgrade",link:t.teamAccountChangePlanRoutePath}}:!n&&r?{header:{key:"team_dashboard_upgrade_tile_business_upgrade_header"},description:{key:"team_dashboard_upgrade_tile_business_upgrade_description"},features:[{iconName:"ToolsOutlined",key:"team_dashboard_upgrade_tile_feature_sso"},{iconName:"SharedOutlined",key:"team_dashboard_upgrade_tile_feature_scim"},{iconName:"GroupOutlined",key:"team_dashboard_upgrade_tile_feature_friends_and_family"},{iconName:"ItemPhoneHomeOutlined",key:"team_dashboard_upgrade_tile_feature_support"}],cta:{key:"team_dashboard_upgrade_tile_cta_upgrade",link:t.teamAccountChangePlanRoutePath}}:null})();return a?(0,A.tZ)(r.Ejs,{flexDirection:"column",gap:"24px"},(0,A.tZ)(r.Ejs,{flexDirection:"column",gap:"8px"},(0,A.tZ)(r.Ejs,{alignItems:"start",flexWrap:"nowrap",justifyContent:"space-between"},(0,A.tZ)(r.X6q,{size:"x-small"},a.header.key.includes("markup")?t.markup(a.header.key,a.header.variables):t(a.header.key,a.header.variables)),e?(0,A.tZ)(T.zx,{sx:{padding:"4px"},mood:"neutral",intensity:"supershy",size:"medium",layout:"iconOnly",onClick:()=>(0,ja.ql)({type:rt.UserMessageTypes.DASHBOARD_UPRADE}),icon:La||(La=(0,A.tZ)(T.JO,{color:"ds.text.neutral.quiet",name:"ActionCloseOutlined"}))}):null),(0,A.tZ)(r.nvN,{size:"small",color:"ds.text.neutral.quiet"},t(a.description.key))),a.features.map((e=>(0,A.tZ)(Ra,{key:e.key,iconName:e.iconName},e.key.includes("markup")?t.markup(e.key):t(e.key)))),a.cta.external?(0,A.tZ)("a",{href:a.cta.link,key:a.cta.key,target:"_blank",rel:"noreferrer"},(0,A.tZ)(T.zx,{fullsize:!0,mood:e?"brand":"neutral",intensity:e?"catchy":"quiet"},t(a.cta.key))):(0,A.tZ)(i.rU,{to:a.cta.link,key:a.cta.key},(0,A.tZ)(T.zx,{fullsize:!0,mood:e?"brand":"neutral",intensity:e?"catchy":"quiet"},t(a.cta.key)))):ka||(ka=(0,A.tZ)(r.HoD,{size:"24px",color:"ds.text.neutral.catchy"}))};var Ba;const Ga=e=>{const{translate:t}=(0,l.Z)(),{reportTACError:a}=Fe(),[s,i]=(0,n.useState)("");(0,n.useEffect)((()=>{(async({globalState:e})=>{var t;const a=(0,_a.v0)(e);if(!a)throw new Error(Aa.N);const n=await(new ma.Z).status({auth:a});return null!=(t=n.content.team?.info.name)?t:""})(e.lee).then(i).catch(a)}),[]);const o=Pa({});return(0,A.tZ)(r.Ejs,{flexDirection:"column"},(0,A.tZ)(r.X6q,{size:"medium",as:"h1",sx:{mb:"32px"},color:"neutrals.13"},t("team_account_heading_team_setup")),(0,A.tZ)(r.Ejs,{gap:"32px"},(0,A.tZ)(r.Ejs,{flexDirection:"column",sx:{flexGrow:"1",backgroundColor:"ds.container.agnostic.neutral.supershy",padding:"32px"}},(0,A.tZ)(ha,{lee:e.lee,handleSave:t=>(async(e,t,a)=>{const n=(0,_a.v0)(t.globalState);if(!n){const e=new Error(Oa(t,wa.SOMETHING_WRONG));throw a(e),e}if(!e.length)throw new Error(Oa(t,wa.EMPTY));if(!/^[\w\s-.]*$/.test(e))throw new Error(Oa(t,wa.MALFORMED));try{var s;const t=await(new ma.Z).editSettings({auth:n,operations:[{type:"set_name",value:e}]});return null!=(s=t.content.team?.info.name)?s:""}catch(e){const a="team_name_already_exists"===e.message?wa.DUPLICATE:wa.SOMETHING_WRONG;throw new Error(Oa(t,a))}})(t,e.lee,a),defaultValue:s}),(0,A.tZ)("div",{sx:{mt:"2em"}},(0,A.tZ)(r.nvN,{color:"ds.text.neutral.catchy",as:"h2",size:"large"},t("team_account_teamplan")),(0,A.tZ)(Za,{isFreeTrial:e.isFreeTrial,isGracePeriod:e.isGracePeriod,licenseCount:e.seatsNumber,onRequestBuyMoreSeats:e.onRequestBuyMoreSeats,onRequestTeamUpgrade:e.onRequestTeamUpgrade,userCount:e.usersToBeRenewedCount,planTier:e.planTier,planName:e.planName,billingType:e.billingType}))),o?(0,A.tZ)(r.k$b,{sx:{backgroundColor:"ds.container.agnostic.neutral.supershy",width:"416px",padding:"32px"}},Ba||(Ba=(0,A.tZ)(Ua,null))):null))};var Fa=a(925112),Va=a(681024),$a=a(526849),Wa=a(593800);var Ha;const Qa=e=>e.trim().toLocaleLowerCase(),Ya=({defaultSelected:e,handleConfirmClick:t,handleClose:a,allMembersCount:s,membersList:i,lee:o})=>{const{translate:l}=o,[c,d]=(0,n.useState)(e),[u,m]=(0,n.useState)(""),[_,p]=(0,n.useState)([]),[g,y]=(0,n.useState)(!1);(0,n.useEffect)((()=>{p(((e,t)=>""===t.trim()?e:e.filter((({login:e})=>Qa(e).includes(Qa(t)))))(i,u).slice(0,5))}),[i,u]);const h=n.useCallback((()=>{a()}),[a]),b=!_.length||e===c;return n.createElement(je.o,{isOpen:!0,showCloseIcon:!0,title:l("team_account_billing_admin_dialog_title"),footer:n.createElement(r.cNS,{primaryButtonTitle:l("team_account_billing_admin_dialog_confirm"),primaryButtonOnClick:()=>t(c),primaryButtonProps:{disabled:b}}),onRequestClose:h},n.createElement(r.T5p,{gap:"1.5em",gridTemplateColumns:"auto"},n.createElement(r.nvN,null,l("team_account_billing_admin_dialog_warning")),n.createElement(r.oil,{fullWidth:!0,autoFocus:!0,startAdornment:Ha||(Ha=n.createElement(r.W1M,null)),onChange:({target:{value:e}})=>{m(e),g||y(!0)},placeholder:l("team_account_billing_admin_search_field_placeholder")}),_.length>0?n.createElement(n.Fragment,null,n.createElement(Wa.S,{value:c,onChange:({target:{value:e}})=>{d(e)},groupName:"billingAdmins"},_.map((({login:e})=>n.createElement(Wa.E,{key:e,value:e,className:"radioWrapper--zUHiaWj5BN"},e)))),n.createElement(r.nvN,{color:"neutrals.8"},_.length<s?l("team_account_billing_admin_display_disclaimer",{count:_.length||"-",total:s||"-"}):null)):null,0===_.length?n.createElement(r.nvN,null,l("team_account_billing_admin_search_no_match")):null))},qa=e=>{const{lee:t}=e,{globalState:a}=t,[s,i]=(0,n.useState)(""),[o,c]=(0,n.useState)(0),[d,u]=(0,n.useState)([]),[m,_]=(0,n.useState)(!1),p=(0,_a.v0)(a),{translate:g}=(0,l.Z)(),{reportTACError:y}=Fe(),h=(0,Fa.V)();return(0,n.useEffect)((()=>{(async()=>{if(!p?.teamId)return;const e=await(0,Va.YY)({teamId:p.teamId}),t=e.filter((e=>"accepted"===e.status)),a=(0,$a.sortWith)([(0,$a.descend)((0,$a.prop)("isBillingAdmin")),(0,$a.descend)((0,$a.prop)("isTeamCaptain"))])(t);u(a),c(e.length);const n=a[0].login;i(n)})().catch(y)}),[p?.teamId]),p?(0,A.tZ)(n.Fragment,null,(0,A.tZ)(r.Ejs,{gap:"16px"},(0,A.tZ)(r.nvN,{color:"ds.text.neutral.catchy",as:"h2",size:"large"},g("team_account_heading_billing_admin")),(0,A.tZ)(r.nvN,{color:"ds.text.neutral.quiet",size:"small"},g("team_account_billing_admin_access_information"))),(0,A.tZ)("div",{className:"container--cNaXIUykkA"},(0,A.tZ)("div",{className:ga},(0,A.tZ)("span",{className:Oe()("text--Jm4WO6KPbc",{"emptyText--YnRMwaHw2m":!s})},s||"")),(0,A.tZ)("div",{className:ya},t.permission.adminAccess.hasFullAccess?(0,A.tZ)("div",{className:"editContainer--ZJk2BSq6aw"},(0,A.tZ)(T.zx,{mood:"neutral",intensity:"quiet",disabled:!d.length,onClick:()=>{_(!0),(0,q.N)(G.PageView.TacAccountBillingInfo)}},g("team_account_billing_admin_edit_contact")),m?(0,A.tZ)(Ya,{defaultSelected:s,handleConfirmClick:async e=>{if(s===e)return;_(!1),(0,q.N)(G.PageView.TacAccount);const t=(0,_a.v0)(a);if(t)try{await(new ma.Z).updateBillingAdmin({auth:t,newAdminLogin:e,oldAdminLogin:s}),h.showAlert(g("team_account_billing_admin_notification_success"),r.BLW.SUCCESS),i(e)}catch{h.showAlert(g("team_account_billing_admin_notification_something_wrong"),r.BLW.ERROR)}else y(new Error(da.N))},handleClose:()=>{_(!1),(0,q.N)(G.PageView.TacAccount)},membersList:d,allMembersCount:o,lee:t}):null):null))):(y(new Error(da.N)),null)};var Ka=a(473223),Xa=a(25197);const Ja="billing--etj61dTqkE",en=({isDisabled:e})=>{var t;const[a,s]=n.useState(!1),{translate:i}=(0,l.Z)(),o=(0,I.Y)(),{loading:c,billingInformation:d,last4DigitsFormatted:u,cardSvg:m,isExpired:_,expFormatted:p,pollUntilCardUpdate:g}=(0,sa.C)({});if(o.status!==Z.rq.Success||!o.data||c)return(0,A.tZ)(r.HoD,{color:r.O9T.midGreen00});(0,Xa.dV)(o.data);const y=()=>(0,A.tZ)("div",null,(0,A.tZ)(T.zx,{mood:"neutral",intensity:"quiet",onClick:()=>{g(),s(!0)},sx:{marginTop:"1em"}},a?t||(t=(0,A.tZ)(Ka.J,{b2c:!1,setPaymentLoading:s})):i("team_account_payment_add_credit_card")));return(0,Xa.dV)(o.data),(0,A.tZ)("div",{style:{marginTop:"2em"}},(0,A.tZ)(r.nvN,{color:"ds.text.neutral.catchy",as:"h2",size:"large"},i("team_account_paymentmethod_heading")),d?.billingType?u?(0,A.tZ)("div",{className:"container--GmEeyXCXpH"},(0,A.tZ)("div",{className:ga},(0,A.tZ)("div",{className:Ja},(0,A.tZ)("div",{className:Ja},m,(0,A.tZ)(r.nvN,{color:"ds.text.neutral.standard"},(0,A.tZ)("span",{style:{marginLeft:"10px"}},""),(0,A.tZ)("span",{"data-testid":"card-last-four",style:{marginLeft:"3px"}},u)))),_?(0,A.tZ)(r.nvN,{color:r.O9T.red00,sx:{marginBottom:"8px",fontSize:14}},i("manage_subscription_payment_section_expired_stripe")):(0,A.tZ)(r.nvN,{color:"ds.text.neutral.standard",sx:{marginBottom:"8px"}},p?i("manage_subscription_payment_section_expiration_date",{date:p}):null)),(0,A.tZ)("div",{className:ya},(0,A.tZ)(T.zx,{mood:"neutral",intensity:"quiet",onClick:()=>{g(),s(!0),(0,Xa.dV)(o.data)},disabled:e},a?(0,A.tZ)(Ka.J,{b2c:!1,setPaymentLoading:s}):i("team_account_payment_edit_credit_card")))):(0,A.tZ)("div",{sx:{marginTop:"1em"}},(0,A.tZ)("div",null,(0,A.tZ)(r.nvN,{color:"ds.text.neutral.quiet",size:"small"},i("team_account_paymentmethod_payment_method_unknow"))),(0,A.tZ)(y,null)):(0,A.tZ)("div",{sx:{marginTop:"1em"}},(0,A.tZ)("div",null,(0,A.tZ)(r.nvN,{color:"ds.text.neutral.quiet",size:"small"},i("team_account_paymentmethod_no_payment_method"))),(0,A.tZ)(y,null)))};var tn=a(210994);const{grey01:an}=r.O9T,nn=({date:e,details:t,heading:a,price:s})=>n.createElement("div",null,n.createElement(r.nvN,{color:an,as:"h2",bold:!0,size:"small"},a),e?n.createElement("span",{className:"date--cEPeZI7Zvc"},e):null,t?n.createElement("span",{className:"details--dvMS3I6Pwm"},t):null,s?n.createElement("span",{className:"price--GFbUHjFKT4"},s):null),sn=({endDate:e,lee:t,lastBillingDateUnix:a,nextBillingDetails:s,onRequestTeamUpgrade:i,handleGetPastReceipts:r,isFreeTrial:o,isGracePeriod:c,usersToBeRenewedCount:d})=>{const{translate:u}=(0,l.Z)(),m=()=>n.createElement("span",{style:{color:t.styleVars.grey}},""),_=e=>n.createElement("span",null,u("team_account_billing_date_trial_time_left",{count:(0,Me.Ob)((0,tn.Z)(e))})),p=()=>o.bind((e=>c.map((t=>e&&!t)))).valueOr(null),g=p(),y=o.bind((e=>c.map((t=>e&&t)))).valueOr(null),h=s.caseOf({just:()=>!0,nothing:()=>!1});return n.createElement("div",{className:"inner--U_l4qsmnoY"},g||y?(()=>{var t;const s=m();return a.caseOf({just:t=>{const[a,s]=(()=>{const t=m();return e.caseOf({just:e=>[_(e),n.createElement("span",null,u("team_account_heading_freetrial_signup_date"))],nothing:()=>[t,t]})})();return n.createElement(nn,{date:u.shortDate((0,tn.Z)(t),ae._T.ll),details:a,heading:p()?s:u("team_account_heading_graceperiod_start_date")})},nothing:()=>t||(t=n.createElement(nn,{date:s,details:s,heading:s}))})})():(()=>{var e;const t=m();return s.caseOf({just:e=>{const t=u.shortDate((0,tn.Z)(e.dateUnix),ae._T.ll),a=d.caseOf({just:e=>u("team_account_billing_date_members_renewed",{count:e}),nothing:()=>u("team_account_billing_date_members_renewed_loading")});return n.createElement(nn,{date:t,details:a,heading:u("team_account_heading_next_billing_date"),price:u.price(e.currency,e.amount/100)})},nothing:()=>e||(e=n.createElement(nn,{date:t,details:t,heading:t}))})})(),(h||g||y)&&n.createElement("div",{className:"buttonContainer--p59GQJO505"},g||y?n.createElement(T.zx,{mood:"neutral",intensity:"quiet",onClick:i},u("team_account_billing_date_cta_upgrade")):n.createElement(T.zx,{mood:"neutral",intensity:"quiet",onClick:r},u("team_account_billing_date_cta_past_receipts"))))};var rn=a(204084);var on,ln,cn;const dn=()=>n.createElement("span",{style:{color:r.O9T.grey06}},""),un=({nextBillingDetails:e,isFreeTrial:t,onRequestTeamUpgrade:a,handleGetPastReceipts:s,usersToBeRenewedCount:i})=>{const{translate:o}=(0,l.Z)(),c=t.caseOf({just:e=>e,nothing:()=>({})}),d=e.caseOf({just:e=>e,nothing:()=>({})}),{amount:u,currency:m,dateUnix:_}=d,p=i.caseOf({just:e=>e,nothing:()=>null}),g=_?(0,tn.Z)(_):null,y=u/100,h=y&&p?y/p:0,{isLoading:b,expectedTaxInformation:S}=Q({total:u}),{loading:v,billingCountry:E}=P();if(v)return n.createElement(r.HoD,{color:r.O9T.midGreen00});const N="US"===E?"team_account_teamplan_plan_total_with_tax":"team_account_teamplan_plan_total_with_vat",f=!b&&void 0!==S?.expectedTaxesInCents&&S?.expectedTaxesInCents>0,C=f&&u&&S?.expectedTaxesInCents?(u+S.expectedTaxesInCents)/100:void 0;return n.createElement(r.Ejs,{flexDirection:"column",gap:"24px"},c?n.createElement(r.Ejs,{sx:{display:"flex",flexDirection:"column",padding:"24px",backgroundColor:r.O9T.white,gap:"8px"}},n.createElement(r.nvN,{color:r.O9T.grey00},o("team_account_teamplan_plan_header_trial")),n.createElement(r.Ejs,{sx:{marginTop:"16px"}},n.createElement(r.X6q,{size:"small"},g?o.shortDate(g,ae.qG.LL):on||(on=n.createElement(dn,null)))),n.createElement(r.nvN,{color:r.O9T.black},g?o("team_account_teamplan_plan_copy_trial",{expireDate:o.shortDate(g,ae.qG.MMMM_D)}):ln||(ln=n.createElement(dn,null))),n.createElement(r.Ejs,{sx:{marginTop:"72px",display:"flex",justifyContent:"center"}},n.createElement(T.zx,{mood:"neutral",intensity:"quiet",onClick:a},o("team_account_teamplan_plan_buy_dashlane")))):n.createElement(r.Ejs,{sx:{display:"flex",flexDirection:"column",padding:"24px",backgroundColor:r.O9T.white,gap:"8px"}},n.createElement(r.nvN,{color:r.O9T.grey00},o("team_account_teamplan_plan_header_annual")),n.createElement(r.Ejs,{sx:{marginTop:"16px"}},n.createElement(r.X6q,{size:"small"},g?o.shortDate(g,ae.qG.ll):cn||(cn=n.createElement(dn,null)))),f?n.createElement(r.nvN,{color:r.O9T.black},o(N,{numSeats:p,seatCost:h?o.price(m,h,{notation:"compact"}):null,totalCost:C?o.price(m,C):null})):n.createElement(r.nvN,{color:r.O9T.black},o("team_account_teamplan_plan_copy",{numSeats:p,seatCost:h?o.price(m,h,{notation:"compact"}):null,totalCost:y?o.price(m,y,{notation:"compact"}):null})),n.createElement(r.Ejs,{sx:{marginTop:"72px",display:"flex",justifyContent:"center"}},n.createElement(T.zx,{mood:"neutral",intensity:"quiet",onClick:s},o("team_account_teamplan_plan_download_billing_history")))))};var mn;const _n=()=>{const{translate:e}=(0,l.Z)();return(0,A.tZ)(r.Ejs,{gap:"16px",sx:{margin:"24px 0"}},(0,A.tZ)(r.nvN,{color:"ds.text.neutral.catchy",as:"h2",size:"large"},e("team_account_invoice_payment_plan_heading")),(0,A.tZ)("div",null,(0,A.tZ)(r.nvN,{color:"ds.text.neutral.quiet",size:"small"},e("team_account_invoice_payment_plan_pay_credit_card")),(0,A.tZ)(r.nvN,{size:"small"},(0,A.tZ)(r.rUS,{href:ee.Bw,target:"_blank",rel:"noopener noreferrer",sx:{color:"ds.text.neutral.quiet",fontWeight:"400"}},e("team_account_invoice_payment_plan_contact_support")))),(0,A.tZ)(r.Ejs,{flexDirection:"row",gap:"8px",alignItems:"center",sx:{width:"100%"}},(0,A.tZ)("div",{sx:{padding:"8px",backgroundColor:"ds.container.expressive.brand.quiet.idle",borderRadius:"8px"}},mn||(mn=(0,A.tZ)(T.JO,{name:"ItemTaxNumberOutlined",size:"large",color:"ds.text.brand.standard"}))),(0,A.tZ)(r.nvN,{color:"ds.text.neutral.catchy",size:"medium"},e("team_account_invoice_payment"))))},pn=({isDisabled:e})=>{const[t,a]=(0,n.useState)(!1),{translate:s}=(0,l.Z)(),{loading:i,hasCreditCardPaymentMethod:o,last4DigitsFormatted:c,cardSvg:d,isExpired:u,expFormatted:m,pollUntilCardUpdate:_}=(0,sa.C)({handleCardUpdate:e=>{e&&(0,q.K)(new G.UserAddNewPaymentMethodEvent({flowStep:G.FlowStep.Complete}))}});return i?(0,A.tZ)(r.HoD,{color:r.O9T.midGreen00}):(0,A.tZ)(r.Ejs,{gap:"16px",sx:{marginTop:"24px"}},(0,A.tZ)(r.nvN,{color:"ds.text.neutral.catchy",as:"h2",size:"large"},s("team_account_invoice_payment_seats_heading")),o?(0,A.tZ)(r.T5p,{gridTemplateColumns:"1fr 1fr",sx:{width:"100%"}},(0,A.tZ)(r.dDn,{sx:{width:"300px"}},(0,A.tZ)(r.nvN,{color:"ds.text.neutral.standard",sx:{display:"flex",alignItems:"center"}},d,(0,A.tZ)("span",{style:{marginLeft:"10px"}},""),(0,A.tZ)("span",{"data-testid":"card-last-four",style:{marginLeft:"3px"}},c)),u?(0,A.tZ)(r.nvN,{color:r.O9T.red00,sx:{marginTop:"8px",fontSize:14}},s("manage_subscription_payment_section_expired_stripe")):(0,A.tZ)(r.nvN,{color:"ds.text.neutral.standard",sx:{marginTop:"8px"}},m?s("manage_subscription_payment_section_expiration_date",{date:m}):null)),(0,A.tZ)(r.dDn,{alignSelf:"center"},(0,A.tZ)(T.zx,{mood:"neutral",intensity:"quiet",onClick:()=>{_(),a(!0)},disabled:e},t?(0,A.tZ)(Ka.J,{b2c:!1,setPaymentLoading:a}):s("team_account_payment_edit_credit_card")))):(0,A.tZ)(n.Fragment,null,(0,A.tZ)("div",null,(0,A.tZ)(r.nvN,{color:"ds.text.neutral.quiet",size:"small"},s("team_account_invoice_payment_seats_save_credit_card")),(0,A.tZ)(r.nvN,{color:"ds.text.neutral.quiet",size:"small"},s("team_account_invoice_payment_seats_subscription"))),(0,A.tZ)("div",null,(0,A.tZ)(T.zx,{mood:"neutral",intensity:"quiet",onClick:()=>{(0,q.K)(new G.UserAddNewPaymentMethodEvent({flowStep:G.FlowStep.Start})),_(),a(!0)}},t?(0,A.tZ)(Ka.J,{b2c:!1,setPaymentLoading:a}):s("team_account_payment_add_credit_card")))))};var gn,yn,hn;const bn=e=>{const t=(0,z.w)("monetization_tac_mtu"),{translate:a}=(0,l.Z)(),s=e.planName.caseOf({just:()=>!1,nothing:()=>!0}),i=(0,z.w)("monetization_extension_invoice_addingCC"),o=(0,I.Y)();if(o.status!==Z.rq.Success||!o.data)return(0,A.tZ)(r.HoD,{color:r.O9T.midGreen00});const c="invoice"===o.data.planType;return(0,A.tZ)(r.Ejs,{flexDirection:"column"},(0,A.tZ)(r.X6q,{size:"medium",as:"h1",sx:{mb:"32px"},color:"neutrals.13"},a("team_account_heading_billing_information")),(0,A.tZ)(r.Ejs,{gap:"32px"},(0,A.tZ)(r.Ejs,{sx:{backgroundColor:"ds.container.agnostic.neutral.supershy",padding:"32px",flex:"1"},flexDirection:"column"},c&&i?(0,A.tZ)(n.Fragment,null,(0,A.tZ)(qa,{lee:e.lee}),(0,A.tZ)("div",{sx:{marginBottom:"24px"}}),gn||(gn=(0,A.tZ)(k,null)),yn||(yn=(0,A.tZ)(_n,null)),hn||(hn=(0,A.tZ)(k,null)),(0,A.tZ)(pn,{isDisabled:s})):(0,A.tZ)(n.Fragment,null,(0,A.tZ)(qa,{lee:e.lee}),(0,A.tZ)(en,{isDisabled:s}))),(0,A.tZ)(r.k$b,{sx:{maxWidth:"416px"}},t?(0,A.tZ)(un,{nextBillingDetails:e.nextBillingDetails,isFreeTrial:e.isFreeTrial,onRequestTeamUpgrade:e.onRequestTeamUpgrade,handleGetPastReceipts:e.handleGetPastReceipts,usersToBeRenewedCount:e.usersToBeRenewedCount}):(0,A.tZ)(n.Fragment,null,(0,A.tZ)(sn,{endDate:e.endDate,lee:e.lee.child(rn.Z),lastBillingDateUnix:e.lastBillingDateUnix,nextBillingDetails:e.nextBillingDetails,onRequestTeamUpgrade:e.onRequestTeamUpgrade,handleGetPastReceipts:e.handleGetPastReceipts,isFreeTrial:e.isFreeTrial,isGracePeriod:e.isGracePeriod,usersToBeRenewedCount:e.usersToBeRenewedCount}),(0,A.tZ)("div",{className:"rippedEdge--t9cXYbNScM"})))))};var Sn=a(233377),vn=a(844743),En=a(549967),Nn=a(782038);const fn={enter:"enter--ixjk82swCF",enterActive:"enterActive--wZwT0LPvIR",exit:"exit--VofQPAfgdO",exitActive:"exitActive--R4d2Fvb6kR"},Cn="priceDetailsEmphasized--YPHd8S_XIw";var Tn,Mn,xn,Dn;const In=e=>{const t=e.value.split("//").map(((e,t)=>t%2?n.createElement("span",{className:Cn,key:e},e):e));return n.createElement("span",null,t)},Zn=e=>{const t=e.isOpen?"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+Cjxzdmcgd2lkdGg9IjEycHgiIGhlaWdodD0iMTJweCIgdmlld0JveD0iMCAwIDEyIDEyIiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPgogICAgPCEtLSBHZW5lcmF0b3I6IFNrZXRjaCA0MS4yICgzNTM5NykgLSBodHRwOi8vd3d3LmJvaGVtaWFuY29kaW5nLmNvbS9za2V0Y2ggLS0+CiAgICA8dGl0bGU+cGx1cyBpY29uPC90aXRsZT4KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPgogICAgPGRlZnM+PC9kZWZzPgogICAgPGcgaWQ9IlBvcHVwcyIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+CiAgICAgICAgPGcgaWQ9IjFzdC10aW1lLWJ1eWluZy1zZWF0cy1bZmVlZGJhY2tdLS12MSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTQzMS4wMDAwMDAsIC01MDIuMDAwMDAwKSIgZmlsbD0iIzQ3OEM5RCI+CiAgICAgICAgICAgIDxnIGlkPSJHcm91cC0zIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgzNjguMDAwMDAwLCA1MDEuMDAwMDAwKSI+CiAgICAgICAgICAgICAgICA8ZyBpZD0icGx1cy1pY29uIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg2My4wMDAwMDAsIDEuMDAwMDAwKSI+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTYsMTEuMjUgQzguODk5NDk0OTQsMTEuMjUgMTEuMjUsOC44OTk0OTQ5NCAxMS4yNSw2IEMxMS4yNSwzLjEwMDUwNTA2IDguODk5NDk0OTQsMC43NSA2LDAuNzUgQzMuMTAwNTA1MDYsMC43NSAwLjc1LDMuMTAwNTA1MDYgMC43NSw2IEMwLjc1LDguODk5NDk0OTQgMy4xMDA1MDUwNiwxMS4yNSA2LDExLjI1IFogTTYsMTIgQzIuNjg2MjkxNSwxMiAwLDkuMzEzNzA4NSAwLDYgQzAsMi42ODYyOTE1IDIuNjg2MjkxNSwwIDYsMCBDOS4zMTM3MDg1LDAgMTIsMi42ODYyOTE1IDEyLDYgQzEyLDkuMzEzNzA4NSA5LjMxMzcwODUsMTIgNiwxMiBaIiBpZD0iT3ZhbCI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxyZWN0IGlkPSJDb21iaW5lZC1TaGFwZSIgeD0iMy41IiB5PSI1LjUiIHdpZHRoPSI1IiBoZWlnaHQ9IjEiPjwvcmVjdD4KICAgICAgICAgICAgICAgIDwvZz4KICAgICAgICAgICAgPC9nPgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zdmc+":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+Cjxzdmcgd2lkdGg9IjEycHgiIGhlaWdodD0iMTJweCIgdmlld0JveD0iMCAwIDEyIDEyIiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPgogICAgPCEtLSBHZW5lcmF0b3I6IFNrZXRjaCA0MS4yICgzNTM5NykgLSBodHRwOi8vd3d3LmJvaGVtaWFuY29kaW5nLmNvbS9za2V0Y2ggLS0+CiAgICA8dGl0bGU+cGx1cyBpY29uPC90aXRsZT4KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPgogICAgPGRlZnM+PC9kZWZzPgogICAgPGcgaWQ9IlBvcHVwcyIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+CiAgICAgICAgPGcgaWQ9IjFzdC10aW1lLWJ1eWluZy1zZWF0cy1bZmVlZGJhY2tdLS12MSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTQzMS4wMDAwMDAsIC01MDIuMDAwMDAwKSIgZmlsbD0iIzQ3OEM5RCI+CiAgICAgICAgICAgIDxnIGlkPSJHcm91cC0zIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgzNjguMDAwMDAwLCA1MDEuMDAwMDAwKSI+CiAgICAgICAgICAgICAgICA8ZyBpZD0icGx1cy1pY29uIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg2My4wMDAwMDAsIDEuMDAwMDAwKSI+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTYsMTEuMjUgQzguODk5NDk0OTQsMTEuMjUgMTEuMjUsOC44OTk0OTQ5NCAxMS4yNSw2IEMxMS4yNSwzLjEwMDUwNTA2IDguODk5NDk0OTQsMC43NSA2LDAuNzUgQzMuMTAwNTA1MDYsMC43NSAwLjc1LDMuMTAwNTA1MDYgMC43NSw2IEMwLjc1LDguODk5NDk0OTQgMy4xMDA1MDUwNiwxMS4yNSA2LDExLjI1IFogTTYsMTIgQzIuNjg2MjkxNSwxMiAwLDkuMzEzNzA4NSAwLDYgQzAsMi42ODYyOTE1IDIuNjg2MjkxNSwwIDYsMCBDOS4zMTM3MDg1LDAgMTIsMi42ODYyOTE1IDEyLDYgQzEyLDkuMzEzNzA4NSA5LjMxMzcwODUsMTIgNiwxMiBaIiBpZD0iT3ZhbCI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik02LjUsNS41IEw2LjUsMy41IEw1LjUsMy41IEw1LjUsNS41IEwzLjUsNS41IEwzLjUsNi41IEw1LjUsNi41IEw1LjUsOC41IEw2LjUsOC41IEw2LjUsNi41IEw4LjUsNi41IEw4LjUsNS41IEw2LjUsNS41IFoiIGlkPSJDb21iaW5lZC1TaGFwZSI+PC9wYXRoPgogICAgICAgICAgICAgICAgPC9nPgogICAgICAgICAgICA8L2c+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N2Zz4=";return n.createElement("img",{src:t,className:"priceDetailsIcon--yr3DoXKVZw"})},wn=e=>{const t=e.translate("team_account_teamplan_upgrade_premium_cost_breakdown_prorata",{count:e.daysLeftInBillingCycle,dueNow:e.dueNowTranslation}),a=e.additionalSeatsDetails.reduce(((e,t)=>e+t.costPerSeat*t.numberOfSeats),0);return n.createElement("div",{className:"priceDetails--QzHTv9H2Af",onClick:e.toggleShowPriceDetails},n.createElement("span",null,e.showPriceDetails?e.translate("team_account_teamplan_upgrade_premium_hide_details"):e.translate("team_account_teamplan_upgrade_premium_show_details")),n.createElement(Zn,{isOpen:e.showPriceDetails}),e.showPriceDetails&&n.createElement(En.Z,null,n.createElement(Nn.Z,{classNames:{...fn},timeout:200},n.createElement("div",{className:"priceDetailsBreakdown--HMkqgxxoBB",key:"priceDetailsBreakdown"},n.createElement("div",null,e.additionalSeatsDetails.map(((t,a)=>n.createElement("div",{key:a,className:"calculusElement--Xwmgo3vVPi"},n.createElement("div",null,a>0?Tn||(Tn=n.createElement("span",null," + ")):null,Mn||(Mn=n.createElement("span",null,"(")),n.createElement(In,{value:e.translate("team_account_teamplan_upgrade_premium_cost_breakdown",{count:t.numberOfSeats,costPerSeat:e.translate.price(e.billingDetails.currency,t.costPerSeat)})}),xn||(xn=n.createElement("span",null,") ")))))),Dn||(Dn=n.createElement("span",null," = ")),n.createElement("span",{className:Cn,"data-testid":"price-details-emphasized"},e.translate.price(e.billingDetails.currency,a))),n.createElement("div",null,!e.isFreeToPaidUpgrade&&n.createElement(In,{value:t}))))))},An=(e,t)=>t.startMembers-e.startMembers,On=(e,t,a)=>{if(!a)return[];const n=a.slice(0).sort(An);if(0!==n[n.length-1].startMembers)throw new Error("getAdditionalSeatsCostDetails:: missing tier one in price ranges");if(e<0||t<0)throw new Error("getAdditionalSeatsCostDetails:: number of licences cannot be negative");return n.reduce(((e,t)=>({membersRangeEnd:a,costDetails:n},s)=>{const i=s.startMembers;if(i<=t&&a>e&&t>e){const r=Math.max(Math.max(i-1,e),0),o=Math.min(t,a-1);n.unshift({costPerSeat:s.price/100,numberOfSeats:o-r})}return{membersRangeEnd:i,costDetails:n}})(e,t),{membersRangeEnd:Number.MAX_VALUE,costDetails:[]}).costDetails};var kn=a(167458),Ln=a(241332),zn=a(328290),jn=a(60797);const Pn=54999,Rn="sales@dashlane.com",Un=(e,t)=>e?Math.max(t,2):0,Bn=e=>e>Pn,Gn=(e,t,a)=>e<Un(t,a),Fn=(e,t,a)=>!!e&&!Bn(e)&&!Gn(e,t,a),Vn=({billingDetails:e,additionalSeatsDetails:t})=>{var a,n;const{translate:s}=(0,l.Z)(),i=e.additionalSeats.seatsCount,r=null!=(a=e.additionalSeats.taxes)?a:0,o=s.price(e.currency,r/100),c=r>0,d=e.renewal.value+(null!=(n=e.renewal.taxes)?n:0),u=s.price(e.currency,d/100),m=100*t.reduce(((e,t)=>e+t.costPerSeat*t.numberOfSeats),0),_=s.price(e.currency,m/100),p=m-e.additionalSeats.value,g=m+r-p;return{additionalSeatsCount:i,additionalSeatsTaxesTranslation:o,hasTax:c,renewalTotalPrice:u,tierPriceTranslation:_,proratedDiscountTranslation:s.price(e.currency,p/100),hasProratedDiscount:p>0,dueTodayTranslation:s.price(e.currency,g/100)}};var $n,Wn,Hn,Qn,Yn;const qn={display:"flex",margin:"24px 0",color:"ds.text.neutral.standard"},Kn=({label:e,labelSx:t,value:a})=>(0,A.tZ)(r.Ejs,{sx:qn},e?(0,A.tZ)(r.k$b,{flex:"1",sx:{...t}},e):null,a?(0,A.tZ)(r.k$b,{flex:"0"},a):null),Xn=e=>{const{additionalSeatsDetails:t,billingDetails:a,isComputingBilling:s,nextBillingDate:i,totalSeatCount:o,dueNowTranslation:c,planType:d}=e,{translate:u}=(0,l.Z)(),{additionalSeatsCount:m,additionalSeatsTaxesTranslation:_,hasTax:p,renewalTotalPrice:g,tierPriceTranslation:y,proratedDiscountTranslation:h,hasProratedDiscount:b}=Vn({billingDetails:a,additionalSeatsDetails:t}),{pollUntilCardUpdate:S}=(0,sa.C)({}),[v,E]=(0,n.useState)(!1),N=(0,z.w)("monetization_extension_invoice_addingCC"),{loading:f,billingCountry:C}=P();if(f)return(0,A.tZ)(r.HoD,{color:r.O9T.midGreen00});const M="US"===C?"team_account_teamplan_upgrade_tax":"team_account_teamplan_vat",x="invoice"===d?"team_account_teamplan_upgrade_invoice_renewal_price":p?"US"===C?"team_account_teamplan_upgrade_renewal_tax_price":"team_account_teamplan_upgrade_renewal_vat_price":"team_account_teamplan_upgrade_renewal_price";return(0,A.tZ)(n.Fragment,null,(0,A.tZ)(r.Ejs,{sx:{padding:"28px 0",fontSize:4,fontWeight:"bold",color:"ds.text.neutral.catchy"}},(0,A.tZ)(O.w,{inputWidth:"66px",label:e.seatCountLabel,id:"numberOfSeats",defaultValue:1,minValue:1,minValueDecrementButtonTooltip:e.getDisabledMinusButtonTooltipMessage(),onChange:e.onAdditionalSeatCountChange})),$n||($n=(0,A.tZ)(k,null)),(0,A.tZ)(Kn,{label:u("team_account_teamplan_upgrade_premium_number_of_seats"),value:o}),(0,A.tZ)(Kn,{label:u("team_account_teamplan_upgrade_new_seat",{count:m}),value:y}),p&&(0,A.tZ)(Kn,{label:u(M),value:_}),b&&(0,A.tZ)(Kn,{label:(0,A.tZ)(n.Fragment,null,(0,A.tZ)(r.nvN,null,u("team_account_teamplan_changeplan_order_summary_prorated_discount")),(0,A.tZ)(r.ua7,{content:u("team_account_teamplan_changeplan_order_summary_prorated_discount_tooltip")},(0,A.tZ)(r.uMt,{size:16,color:r.O9T.grey00}))),labelSx:{display:"flex",alignItems:"center"},value:h}),N&&(0,A.tZ)(n.Fragment,null,Wn||(Wn=(0,A.tZ)(k,null)),(0,A.tZ)(r.nvN,{sx:{marginTop:"24px",fontSize:"18px"}},u("team_payment_method_dialog_credit_card")),(0,A.tZ)(r.Ejs,{sx:{...qn,borderWidth:"1px",borderStyle:"solid",borderColor:"ds.border.neutral.quiet.idle",borderRadius:"4px"}},(0,A.tZ)(r.k$b,{flex:"1",sx:{paddingLeft:"16px"}},Hn||(Hn=(0,A.tZ)(Te.I,{b2b:!0,hideTitle:!0,hideUpdateButton:!0,displayModifiedCreditCardView:!0}))),(0,A.tZ)(r.k$b,{flex:"0",sx:{margin:"auto 0",paddingRight:"12px"}},(0,A.tZ)(T.zx,{icon:Qn||(Qn=(0,A.tZ)(T.JO,{name:"ActionEditOutlined"})),layout:"iconLeading",intensity:"supershy",onClick:()=>{S(),E(!0)}},v?(0,A.tZ)(Ka.J,{b2c:!1,setPaymentLoading:E,mode:Ka.A.UPDATE}):u("team_account_name_edit_label"))))),(0,A.tZ)(r.Ejs,{sx:qn},(0,A.tZ)(T.ke,{title:u(x,{totalPrice:g,totalSeat:o,date:u.shortDate(i,ae._T.LL)})})),Yn||(Yn=(0,A.tZ)(k,null)),(0,A.tZ)(r.Ejs,{sx:{display:"flex",marginTop:"24px",fontSize:4}},(0,A.tZ)(r.k$b,{flex:"1"},u("team_account_teamplan_upgrade_due_now")),(0,A.tZ)(ts,{isComputing:s,price:c,className:"totalAmount--HEQwYG2sow"})))},Jn="team_account_teamplan_upgrade_premium_below_used_seat_count",es=e=>{let t=null;return e.isFreeToPaidUpgrade?t=e.translate("team_account_teamplan_upgrade_premium_billing_disclaimer"):e.nextBillingDate&&(t=e.translate("team_account_teamplan_upgrade_premium_billing_cycle_info",{count:e.daysLeftInBillingCycle,nextBillingDate:e.translate.shortDate(e.nextBillingDate,ae._T.LL)})),n.createElement("div",{className:"billingCycle--OJZcVnvvdM"},t)},ts=e=>{const t=e.isComputing?n.createElement(Ln.Z,{size:16,containerStyle:{display:"inline-block",position:"relative"}}):e.price;return n.createElement("span",{className:e.className},t)},as=n.forwardRef((function(e,t){var a,s;const[i,o]=n.useState(0),[c,d]=n.useState(""),{translate:u}=(0,l.Z)(),{reportTACError:m}=Fe(),_=(0,z.w)("monetization_avalara_b2b_add_seats"),p=()=>{const t=_?1:0;return e.isFreeToPaidUpgrade?Math.max(e.numberOfCurrentUsedSlots,e.billingDetails.additionalSeats.seatsCount,2):t};function g(){return e.lee.state.additionalSeatCount.valueOr(p())}n.useEffect((()=>{const t=p();return o(t),e.onFormValidityChange&&e.onFormValidityChange(Fn(t,e.isFreeToPaidUpgrade,e.numberOfCurrentUsedSlots)),function(){e.lee.dispatch(kn.jm()),e.lee.dispatch(kn.Ao({seatCount:Sn.Maybe.nothing(),isSeatCountAboveCap:!1,isSeatCountBelowMinimum:!1}))}}),[]),n.useImperativeHandle(t,(()=>({getAdditionalSeatCount:g})));const y=t=>{e.onFormValidityChange&&e.onFormValidityChange(Fn(t,e.isFreeToPaidUpgrade,e.numberOfCurrentUsedSlots)),e.lee.dispatch(kn.Ao({seatCount:Sn.Maybe.just(t),isSeatCountAboveCap:Bn(t),isSeatCountBelowMinimum:Gn(t,e.isFreeToPaidUpgrade,e.numberOfCurrentUsedSlots)})),Bn(t)||Gn(t,e.isFreeToPaidUpgrade,e.numberOfCurrentUsedSlots)||(o(t),e.onSeatCountChange(t))},h=async()=>{var t;const a=null!=(t=c.trim())?t:"",n=(0,_a.v0)(e.lee.globalState);if(n)try{await(new vn.Z).teamCoupon({auth:n,coupon:a}),e.onPromoCodeRedeemed?.(!0),e.lee.dispatch(kn.kB({isRedeemed:!0})),y(i)}catch(t){e.onPromoCodeRedeemed?.(!1),e.lee.dispatch(kn.kB({isRedeemed:!1})),m(t)}else m(new Error(da.N))},b=()=>{const t=g()<=Un(e.isFreeToPaidUpgrade,e.numberOfCurrentUsedSlots);if(e.isFreeToPaidUpgrade&&t)return g()<2?u("team_account_teamplan_upgrade_premium_below_minimum_seat_count",{minSeatCount:2}):g()>=2?u(Jn,{usedSeatCount:e.numberOfCurrentUsedSlots}):void 0},{billingDetails:S,isFreeToPaidUpgrade:v}=e,E=i||S.renewal.seatsCount,N=e.isFreeToPaidUpgrade?E:e.numberOfCurrentPaidSlots+g(),f=e.nextBillingDetails.caseOf({just:e=>(0,tn.Z)(e.dateUnix),nothing:()=>new Date(0)}),C=(0,zn.Z)(f,(0,jn.Z)(new Date,0)),M=On(e.numberOfCurrentPaidSlots,S.renewal.seatsCount,e.currentPlanPriceRanges),x=null!=(a=S.renewal.taxes)?a:0,D=null!=(s=S.additionalSeats.taxes)?s:0,I=v?S.renewal.value+x:S.additionalSeats.value+D,Z=e.lee.state.isSeatCountAboveCap?"-":u.price(S.currency,I/100),w=e.isFreeToPaidUpgrade&&M.length>1||!e.isFreeToPaidUpgrade&&M.length>0,A=e.isFreeToPaidUpgrade?u("team_account_teamplan_upgrade_premium_number_of_seats_free_to_paid"):u("team_account_teamplan_upgrade_premium_number_of_additional_seats"),{translation:k="",translationIntent:L}=e.lee.state.promoCodeResponse?((e,t)=>({translation:t(e?"team_account_teamplan_upgrade_redeem_success":"team_account_teamplan_upgrade_redeem_error"),translationIntent:e?"success":"error"}))(e.lee.state.promoCodeResponse.isRedeemed,u):{},j=e.lee.state.isSeatCountAboveCap||e.lee.state.isSeatCountBelowMinimum?e.lee.state.isSeatCountAboveCap?u("team_account_teamplan_upgrade_premium_buy_more_seats_than_cap",{seatCap:Pn,salesEmail:Rn}):g()<(e.isFreeToPaidUpgrade?2:1)?e.isFreeToPaidUpgrade?u("team_account_teamplan_upgrade_premium_buy_more_seats_when_free",{count:2}):u("team_account_teamplan_upgrade_premium_buy_more_seats_when_premium",{count:1}):g()>=2?u(Jn,{usedSeatCount:e.numberOfCurrentUsedSlots}):null:null;return n.createElement(n.Fragment,null,j?n.createElement(T.ke,{className:"errorToaster--DHpE944Smz",title:j,mood:"danger"}):null,_?n.createElement(Xn,{nextBillingDate:f,billingDetails:S,dueNowTranslation:Z,seatCountLabel:A,totalSeatCount:N,getDefaultSeatCount:p,getDisabledMinusButtonTooltipMessage:b,onAdditionalSeatCountChange:y,isComputingBilling:e.isComputingBilling,additionalSeatsDetails:M,planType:e.lee.globalState.carbon.accountInfo.premiumStatus?.planType}):n.createElement(n.Fragment,null,n.createElement("div",{className:"coloredFrame--NgUOzQ3IV2 frame--nxetsnM4MV"},n.createElement(O.w,{inputWidth:"100px",label:A,id:"numberOfSeats",defaultValue:p(),minValue:Un(e.isFreeToPaidUpgrade,e.numberOfCurrentUsedSlots),minValueDecrementButtonTooltip:b(),onChange:y})),n.createElement("div",{className:"frame--nxetsnM4MV"},n.createElement("div",{className:"line--gCtF_ud12m"},n.createElement("span",null,u("team_account_teamplan_upgrade_premium_number_of_seats")),n.createElement("span",{className:"value--tlJVLXeNUT"},N)),n.createElement("div",{className:"redeem--jgU2nRWAMn"},n.createElement(r.oil,{fullWidth:!0,value:c,placeholder:u("team_account_teamplan_upgrade_premium_coupon"),onChange:e=>{const{value:t}=e.currentTarget;d(t)},onKeyPress:e=>{"Enter"===e.key&&h()},feedbackText:k,feedbackType:L}),n.createElement(r.zxk,{nature:"secondary",type:"button",disabled:!c.trim().length,onClick:h},u("team_account_teamplan_upgrade_premium_redeem")))),n.createElement(es,{translate:u,isFreeToPaidUpgrade:e.isFreeToPaidUpgrade,nextBillingDate:f,daysLeftInBillingCycle:C}),n.createElement("div",{className:"dueNow--TtXnIjJSFZ"},n.createElement("span",null,u("team_account_teamplan_upgrade_premium_pay_today")),n.createElement(ts,{isComputing:e.isComputingBilling,price:Z,className:"amount--GSHg4aEnJY"}),w&&!e.isComputingBilling&&n.createElement(wn,{toggleShowPriceDetails:()=>{e.lee.dispatch(kn.Bc())},translate:u,showPriceDetails:e.lee.state.showPriceDetails,daysLeftInBillingCycle:C,billingDetails:S,dueNowTranslation:Z,additionalSeatsDetails:M,isFreeToPaidUpgrade:e.isFreeToPaidUpgrade}))))}));var ns=a(660557);const ss=({teamPlans:e,isFreeToPaidUpgrade:t,getLatestRequestedSeatCount:a})=>{const{reportTACError:s}=Fe(),[i,r]=n.useState({renewal:{seatsCount:0,value:0,taxes:0},additionalSeats:{seatsCount:0,value:0,taxes:0},currency:"usd"}),[o,l]=n.useState(!1),[c,d]=n.useState(0),[u,m]=n.useState(0),_=(0,z.w)("monetization_avalara_b2b_add_seats"),p=(0,De.debounce)((n=>{var i;_?(async e=>{try{var n,i;const s=await H.C.computePlanPricing({seats:e});if(!s.success)return;const c={renewal:{seatsCount:(o=s.data).renewal.seatsCount,value:o.renewal.price.value,taxes:o.renewal.price.taxes},additionalSeats:{seatsCount:o.additionalSeats.seatsCount,value:o.additionalSeats.price.value,taxes:o.additionalSeats.price.taxes},currency:o.renewal.price.currency};if(null!==a&&a()!==c.additionalSeats.seatsCount)return;const u=t?c.renewal.value:c.additionalSeats.value,_=t?null!=(n=c.renewal.taxes)?n:0:null!=(i=c.additionalSeats.taxes)?i:0;d(u),m(_),r(c),l(!1)}catch(e){s(e)}var o})(n):(i=n,e&&e.computePlanPricing({seats:i}).then((e=>{const n=(e=>({renewal:{seatsCount:e.renewal.seatsCount,value:e.renewal.price.value},additionalSeats:{seatsCount:e.additionalSeats.seatsCount,value:e.additionalSeats.price.value},currency:e.renewal.price.currency}))(e);if(null!==a&&a()!==n.additionalSeats.seatsCount)return;const s=t?n.renewal.value:n.additionalSeats.value;d(s),r(n),l(!1)})).catch(s))}),500);return{billingDetails:i,isComputingBilling:o,amountToPay:c,amountToTax:u,onSeatCountChange:e=>{p(e),l(!0)}}},is="team_account_teamplan_upgrade_premium_next",rs=e=>{const t=n.useRef(null),[a,s]=n.useState(!1),{translate:i}=(0,l.Z)(),{reportTACError:o}=Fe(),c=(0,z.w)("monetization_avalara_b2b_add_seats"),d=(0,z.w)("monetization_extension_invoice_addingCC"),u=e.lee.apiMiddleware.teamPlans?e.lee.apiMiddleware.teamPlans:(o(new Error("teamPlans missing in apiMiddleware")),null),m=n.useCallback((()=>{const a=c?1:0;return Sn.Maybe.maybe(t.current).caseOf({just:e=>e.getAdditionalSeatCount(),nothing:()=>e.isFreeToPaidUpgrade?Math.max(e.numberOfCurrentUsedSlots,2):a})}),[c,e.isFreeToPaidUpgrade,e.numberOfCurrentUsedSlots]),{billingDetails:_,isComputingBilling:p,onSeatCountChange:g}=ss({teamPlans:u,isFreeToPaidUpgrade:e.isFreeToPaidUpgrade,getLatestRequestedSeatCount:m}),y=async()=>{const t=(0,_a.v0)(e.lee.globalState);if(!t)throw new Error(da.N);try{const{assignedPlanDetails:a,planDetails:n}=await(async e=>{const t=await(new ma.Z).status({auth:e}),{assignedPlanDetails:a,planDetails:n}=t.content.team;return{assignedPlanDetails:a,planDetails:n}})(t);e.lee.dispatch(ns.tl()),e.lee.dispatch(ns.fD(a.name)),e.lee.dispatch(ns.BO(a)),e.lee.dispatch(ns.J9(n.priceRanges))}catch(e){o(e)}},h=(0,Me.Uo)({tier:e.planTier,translate:i}),b=n.useCallback((t=>{e.lee.dispatch(ns.Dz(t))}),[]);n.useEffect((()=>{y(),e.isOpen&&b(!0)}),[]),n.useEffect((()=>{let t;return e.isOpen?(g(m()),t=window.setTimeout((()=>{b(!0)}),0)):t=window.setTimeout((()=>{b(!1),e.lee.dispatch(ns.qr(!1)),e.lee.dispatch(ns.Yl(!1))}),0),()=>{t&&clearTimeout(t)}}),[m,b,e.isOpen]);const S=()=>{e.lee.dispatch(ns.Dz(!1)),e.lee.dispatch(ns.Yl(!0)),e.lee.dispatch(ns.Ve(m()))},v=()=>{(0,q.K)(new G.UserBuySeatEvent({flowStep:G.FlowStep.Error,hasPromo:!1,initialSeatCount:_.renewal.seatsCount,priceAmountCents:_.additionalSeats.value,priceCurrencyCode:G.PriceCurrencyCode[_.currency],purchasedSeatCount:_.additionalSeats.seatsCount,errorCheckout:G.ErrorCheckout.UnexpectedUnknown}))},E=On(e.numberOfCurrentPaidSlots,_.renewal.seatsCount,e.lee.state.currentPlanPriceRange),N=()=>{e.onRequestClose(),e.onUserAcknowledgesPlanTypeUpdate()},f=()=>{e.onRequestClose()},C=c?i("team_account_teamplan_upgrade_add_seats_title",{plan:h}):i("team_account_teamplan_upgrade_premium_title"),M=(0,A.tZ)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"flex-end",maxWidth:"100%"}},(0,A.tZ)(T.zx,{intensity:"quiet",mood:"neutral",size:"medium",onClick:f,sx:{marginRight:"8px"}},i("team_account_teamplan_upgrade_premium_cancel")),c?(0,A.tZ)(T.zx,{mood:"brand",size:"medium",onClick:e.isFreeToPaidUpgrade?S:async()=>{e.lee.dispatch(ns.Dz(!1)),e.lee.dispatch(ns.qr(!0));try{(await H.C.addSeats({seats:m()})).success?((0,q.K)(new G.UserBuySeatEvent({flowStep:G.FlowStep.Complete,hasPromo:!1,initialSeatCount:_.renewal.seatsCount,priceAmountCents:_.additionalSeats.value,priceCurrencyCode:G.PriceCurrencyCode[_.currency],purchasedSeatCount:_.additionalSeats.seatsCount})),d&&e.onUpgradeSuccess(E,_),e.lee.dispatch(ns.rX({status:!0}))):(e.lee.dispatch(ns.rX({status:!1,code:"failure"})),v())}catch{e.lee.dispatch(ns.rX({status:!1,code:"failure"})),v()}}},i(e.isFreeToPaidUpgrade?is:"team_account_teamplan_upgrade_buy_seat",{count:m()})):(0,A.tZ)(T.zx,{mood:"brand",size:"medium",onClick:e.isFreeToPaidUpgrade?S:async()=>{if(e.lee.dispatch(ns.Dz(!1)),e.lee.dispatch(ns.qr(!0)),u)try{await u.addSeats({seats:m()}),d&&e.onUpgradeSuccess(E,_),e.lee.dispatch(ns.rX({status:!0}))}catch{e.lee.dispatch(ns.rX({status:!1,code:"failure"})),v()}},disabled:!e.lee.state.isPremiumReady||!a},i(e.isFreeToPaidUpgrade?is:"team_account_teamplan_upgrade_billing_confirm")));return(0,A.tZ)(n.Fragment,null,(0,A.tZ)(r.u_l,{isOpen:d&&e.lee.state.isLoadingOpen,onClose:()=>{}},(0,A.tZ)(r.Ejs,{alignItems:"center",flexDirection:"column",justifyContent:"center",sx:{width:"100vw",height:"100vh",backgroundColor:r.O9T.dashGreen06}},(0,A.tZ)(r.HoD,{size:"88px",color:r.O9T.dashGreen00}),(0,A.tZ)(r.Ejs,{alignItems:"center",flexDirection:"column",justifyContent:"center",gap:"6px",sx:{paddingTop:"22px"}},(0,A.tZ)(r.nvN,{size:"medium",color:r.O9T.grey00},i("team_account_addseats_processing_copy_line_1")),(0,A.tZ)(r.nvN,{size:"medium",color:r.O9T.grey00},i("team_account_addseats_processing_copy_line_2"))))),(0,A.tZ)(je.o,{showCloseIcon:!0,footer:M,title:C,isOpen:e.lee.state.isPremiumOpen,onRequestClose:f},(0,A.tZ)(as,{ref:t,isFreeToPaidUpgrade:e.isFreeToPaidUpgrade,lee:e.lee.child(kn.ZP),planDetails:e.lee.state.planDetails,nextBillingDetails:e.nextBillingDetails,billingDetails:_,isComputingBilling:p,onSeatCountChange:g,onPlanDetailsLoaded:()=>{e.lee.dispatch(ns.tl())},onPromoCodeRedeemed:y,onFormValidityChange:e=>{s(e)},numberOfCurrentPaidSlots:e.numberOfCurrentPaidSlots,numberOfCurrentUsedSlots:e.numberOfCurrentUsedSlots,currentPlanPriceRanges:e.lee.state.currentPlanPriceRange})),(0,A.tZ)(je.o,{showCloseIcon:!0,footer:(0,A.tZ)(r.cNS,{secondaryButtonTitle:i("team_account_teamplan_upgrade_loading_close"),secondaryButtonOnClick:N}),title:e.lee.state.isUpgradeSuccess?i("team_account_teamplan_upgrade_billing_title_success"):i("team_account_teamplan_upgrade_billing_title_failure"),isOpen:!d&&e.lee.state.isLoadingOpen&&(e.lee.state.isUpgradeSuccess||e.lee.state.isUpgradeFailure),onRequestClose:N},(0,A.tZ)("div",{style:{display:e.lee.state.isUpgradeSuccess?"block":"none"}},i("team_account_teamplan_upgrade_success")),(0,A.tZ)("div",{style:{display:e.lee.state.isUpgradeFailure?"block":"none"}},i(`team_account_teamplan_upgrade_${e.lee.state.isUpgradeFailureCode}`))))};var os=a(375510),ls=a(342868);const cs=e=>{const t=n.useRef(),a=n.useRef(),s=n.useRef(),i=n.useRef(),{translate:o}=(0,l.Z)(),{reportTACError:c}=Fe(),[d,u]=n.useState(void 0);n.useEffect((()=>{const t=(0,_a.v0)(e.lee.globalState);t?(new ma.Z).status({auth:t}).then((e=>{u(e.content.team.info.name)})).catch(c):c(new Error(da.N))}),[]);const m=()=>{e.lee.dispatch(os.gk()),e.onClose()},_=()=>{const n=(0,_a.v0)(e.lee.globalState);if(n)if(t.current?.value){m();try{(0,ze.Yo)("https://ws1.dashlane.com/1/invoiceGeneration/generateTeamReceipt.pdf?"+(e=>{const n={...e,recipient:t.current?.value,company:a.current?.value,address:s.current?.value,vatNumber:i.current?.value};return ls.stringify(n)})(n))}catch(e){c(e)}}else e.lee.dispatch(os.K7());else c(new Error(da.N))},p=e.lee.state.showRecipientErrorText?{feedbackText:o("team_account_past_receipts_dialog_recipient_is_required"),feedbackType:"error"}:{};return n.createElement(je.o,{title:o("team_account_past_receipts_dialog_title"),showCloseIcon:!0,isOpen:e.isOpen,onRequestClose:()=>{m()},footer:n.createElement(r.cNS,{primaryButtonTitle:o("team_account_past_receipts_dialog_button_generate"),primaryButtonOnClick:()=>{_()}})},n.createElement(r.T5p,{as:"form",onSubmit:_,gap:"1em"},n.createElement(r.oil,{fullWidth:!0,label:o("team_account_past_receipts_dialog_recipient")+" *",placeholder:o("team_account_past_receipts_dialog_recipient_hint"),onKeyDown:()=>{e.lee.state.showRecipientErrorText&&""!==t.current?.value&&e.lee.dispatch(os.V$())},ref:t,...p}),n.createElement(r.oil,{fullWidth:!0,label:o("team_account_past_receipts_dialog_company"),defaultValue:null!=d?d:"",placeholder:o("team_account_past_receipts_dialog_company_hint"),ref:a}),n.createElement(r.oil,{fullWidth:!0,label:o("team_account_past_receipts_dialog_billing_address"),placeholder:o("team_account_past_receipts_dialog_billing_address_hint"),ref:s}),n.createElement(r.oil,{fullWidth:!0,label:o("team_account_past_receipts_dialog_vat"),placeholder:o("team_account_past_receipts_dialog_vat_hint"),ref:i})))};var ds=a(869748),us=a(441054);var ms;const _s=({label:e,value:t,...a})=>(0,T.tZ)(r.Ejs,{justifyContent:"flex-end",sx:{display:"flex",justifyContent:"flexEnd"},...a},e?(0,T.tZ)(r.k$b,{flex:"1",sx:{display:"flex",alignItems:"center"}},e):null,t?(0,T.tZ)(r.k$b,{sx:{display:"flex",alignItems:"center"}},t):null),ps=({billingDetails:e,additionalSeatsDetails:t})=>{const{translate:a}=(0,l.Z)(),{additionalSeatsCount:n,additionalSeatsTaxesTranslation:s,hasTax:i,tierPriceTranslation:o,proratedDiscountTranslation:c,hasProratedDiscount:d,dueTodayTranslation:u}=Vn({billingDetails:e,additionalSeatsDetails:t});return(0,T.tZ)(r.Ejs,{flexDirection:"column",gap:"32px",sx:{borderStyle:"solid",borderColor:"ds.border.neutral.quiet.idle",borderWidth:"1px",backgroundColor:"ds.container.agnostic.neutral.supershy",padding:"24px",borderRadius:"4px"}},(0,T.tZ)(_s,{alignItems:"end",label:(0,T.tZ)(r.X6q,{size:"small"},a("team_account_addseats_success_order_summary_header")),value:(0,T.tZ)(r.nvN,{color:"ds.text.neutral.quiet"},(0,aa.Z)(new Date,"MM/dd/yyyy"))}),(0,T.tZ)(r.Ejs,{flexDirection:"column",gap:"16px"},(0,T.tZ)(_s,{label:(0,T.tZ)(r.nvN,{size:"small",color:"ds.text.neutral.catchy"},a("team_account_teamplan_upgrade_new_seat",{count:n})),value:(0,T.tZ)(r.nvN,{size:"small",color:"ds.text.neutral.catchy"},o)}),i?(0,T.tZ)(_s,{label:(0,T.tZ)(r.nvN,{size:"small",color:"ds.text.neutral.catchy"},a("team_account_addseats_success_order_summary_tax")),value:(0,T.tZ)(r.nvN,{size:"small",color:"ds.text.neutral.catchy"},s)}):null,d?(0,T.tZ)(_s,{label:(0,T.tZ)(r.Ejs,{alignItems:"center",gap:"5px"},(0,T.tZ)(r.nvN,{size:"small",color:"ds.text.neutral.catchy"},a("team_account_addseats_success_order_summary_prorated_discount")),(0,T.tZ)(r.ua7,{content:a("team_account_addseats_success_order_summary_prorated_discount_tooltip")},ms||(ms=(0,T.tZ)(r.uMt,{size:16,color:"ds.text.neutral.catchy"})))),value:(0,T.tZ)(r.nvN,{size:"small",color:"ds.text.neutral.catchy"},c)}):null,(0,T.tZ)("div",{style:{width:"100%",borderColor:T.O9.lightTheme.ds.border.neutral.quiet.idle,borderWidth:"1px",borderStyle:"solid",borderBottom:"0",margin:"0"}}),(0,T.tZ)(_s,{label:(0,T.tZ)(r.nvN,{size:"large",bold:!0,color:"ds.text.neutral.catchy"},a("team_account_addseats_success_order_summary_total")),value:(0,T.tZ)(r.nvN,{size:"large",bold:!0,color:"ds.text.neutral.catchy"},u)})))},gs=({isBusiness:e,additionalSeats:t,onGetPastReceipts:a})=>{const{routes:n}=(0,i.Xo)(),{translate:s}=(0,l.Z)();return(0,T.tZ)(r.Ejs,{flexDirection:"column",gap:"40px",sx:{borderStyle:"solid",borderColor:"ds.border.neutral.quiet.idle",borderWidth:"1px",borderRadius:"4px",backgroundColor:"ds.container.agnostic.neutral.supershy",padding:"32px"}},(0,T.tZ)(r.Ejs,{flexDirection:"column",gap:"8px"},e?(0,T.tZ)(r.X6q,{size:"small"},s("team_account_addseats_success_newseats_header_business",{count:t})):(0,T.tZ)(r.X6q,{size:"small"},s("team_account_addseats_success_newseats_header_team",{count:t})),(0,T.tZ)(r.nvN,{color:"ds.text.neutral.quiet"},s("team_account_addseats_success_newseats_body"))),(0,T.tZ)(r.Ejs,{gap:"8px"},(0,T.tZ)(i.rU,{to:n.teamMembersRoutePath},(0,T.tZ)(T.zx,{onClick:()=>{(0,q.K)(new G.UserSendManualInviteEvent({flowStep:G.FlowStep.Start,inviteCount:0,inviteFailedCount:0,inviteResentCount:0,inviteSuccessfulCount:0,isImport:!0,isResend:!1}))},mood:"brand"},s("team_account_addseats_success_newseats_invite_users_cta"))),(0,T.tZ)(T.zx,{mood:"neutral",intensity:"quiet",onClick:a},s("team_account_addseats_success_newseats_billing_history_cta"))))};var ys;const hs=()=>{const{translate:e}=(0,l.Z)();return(0,T.tZ)(r.Ejs,{flexWrap:"nowrap",gap:"16px",sx:{borderStyle:"solid",borderColor:"ds.border.neutral.quiet.idle",borderWidth:"1px",backgroundColor:"ds.container.agnostic.neutral.supershy",borderRadius:"4px",padding:"32px"}},(0,T.tZ)(r.Ejs,{sx:{padding:"10px 8px",width:"40px",height:"40px",borderRadius:"8px",backgroundColor:"ds.container.expressive.brand.quiet.idle"}},ys||(ys=(0,T.tZ)(T.JO,{name:"GroupOutlined",color:"ds.text.neutral.standard"}))),(0,T.tZ)(r.Ejs,{flexDirection:"column",gap:"16px",sx:{flexGrow:"1"}},(0,T.tZ)(r.Ejs,{flexDirection:"column",gap:"8px"},(0,T.tZ)(r.nvN,{size:"large",bold:!0,color:"ds.text.neutral.catchy"},e("team_account_addseats_success_friends_family_header")),(0,T.tZ)(r.nvN,{size:"small",color:"ds.text.neutral.quiet"},e("team_account_addseats_success_friends_family_body"))),(0,T.tZ)("a",{href:"https://support.dashlane.com/hc/articles/360013369820-Dashlane-Friends-Family-plan",target:"_blank",rel:"noreferrer"},(0,T.tZ)(T.zx,{mood:"neutral",intensity:"quiet"},e("team_account_addseats_success_friends_family_learn_more_cta")))))};var bs,Ss,vs,Es=a(217387);const Ns=({planTier:e,billingDetails:t,additionalSeatsDetails:a,onGetPastReceipts:s,onNavigate:i})=>{const{translate:o}=(0,l.Z)(),{additionalSeatsCount:c}=Vn({billingDetails:t,additionalSeatsDetails:a}),d=(0,T.tZ)("div",null,(0,T.tZ)(r.zxk,{type:"button",nature:"ghost",onClick:i},(0,T.tZ)(r.Ejs,{alignItems:"center"},bs||(bs=(0,T.tZ)(r.xCe,{size:14})),(0,T.tZ)(r.nvN,{bold:!0,sx:{marginLeft:"14px",color:"ds.text.neutral.standard"}},o("team_account_teamplan_changeplan_back"))))),u=e===Es.SpaceTier.Business,{setNavBarChildren:m}=(0,n.useContext)(Kt);return(0,n.useEffect)((()=>(m(d),()=>{m(null),i()})),[]),(0,T.tZ)(r.Ejs,{flexDirection:"column",gap:"32px",sx:{padding:"32px",flexWrap:"nowrap"}},(0,T.tZ)(r.Ejs,{gap:"16px",sx:{flexWrap:"nowrap"}},(0,T.tZ)(r.Ejs,{flexDirection:"column",gap:"16px",sx:{flexGrow:"2",maxWidth:"632px"}},(0,T.tZ)(gs,{onGetPastReceipts:s,isBusiness:u,additionalSeats:c}),u?Ss||(Ss=(0,T.tZ)(hs,null)):null),(0,T.tZ)(r.Ejs,{flexDirection:"column",gap:"16px",sx:{flexGrow:"1"}},(0,T.tZ)(ps,{billingDetails:t,additionalSeatsDetails:a}),vs||(vs=(0,T.tZ)(ia,null)))))};var fs,Cs,Ts,Ms,xs,Ds,Is;const Zs={marginTop:"16px","&:hover":{cursor:"pointer",borderWidth:"2px",borderColor:"ds.border.brand.standard.hover"}},ws={width:"100%",padding:"20px 16px"},As={padding:"8px",backgroundColor:"ds.container.expressive.brand.quiet.idle",borderRadius:"8px",margin:"auto"},Os=({cardTitle:e,cardDescription:t})=>(0,A.tZ)(n.Fragment,null,fs||(fs=(0,A.tZ)(r.dDn,{sx:As},(0,A.tZ)(T.JO,{name:"ItemPaymentOutlined",size:"large",color:"ds.text.brand.standard"}))),(0,A.tZ)(r.dDn,null,(0,A.tZ)(r.nvN,{color:"ds.text.neutral.standard",bold:!0},e),(0,A.tZ)(r.nvN,{color:"ds.text.neutral.quiet",size:"small",sx:{marginTop:"4px"}},t))),ks=({lee:e,handleClose:t})=>{const[a,s]=(0,n.useState)(!1),[i,o]=(0,n.useState)(!1),{translate:c}=(0,l.Z)(),d=()=>{t(),setTimeout((()=>{(0,q.N)(G.PageView.TacAccountBuy),e.dispatch(us.Ip(!0))}),300)},{loading:u,hasCreditCardPaymentMethod:m,isExpired:_,pollUntilCardUpdate:p}=(0,sa.C)({handleCardUpdate:d});if(u)return(0,A.tZ)(r.HoD,{color:r.O9T.midGreen00});const g=m?{cardTitle:"team_payment_method_dialog_another_credit_card",cardDescription:"team_payment_method_dialog_replace_credit_card"}:{cardTitle:"team_payment_method_dialog_credit_card",cardDescription:"team_payment_method_dialog_secondary_payment"},y=m?Ka.A.REPLACE:Ka.A.ADD;return(0,A.tZ)(r.VqE,{isOpen:!0,closeIconName:c("_common_dialog_dismiss_button"),onClose:t,ariaDescribedby:"dialogContent"},(0,A.tZ)(r.j49,{color:"ds.text.neutral.quiet",sx:{marginBottom:"16px"}},c("team_payment_method_dialog_buy_seats")),(0,A.tZ)(r.$N8,{title:c("team_payment_method_dialog_title")}),(0,A.tZ)(r.a7O,null,m&&(0,A.tZ)(r.Zbd,{sx:Zs,onClick:()=>{_?(p(),o(!0)):d()}},(0,A.tZ)(r.T5p,{gap:"12px",gridTemplateColumns:"1fr 60px",sx:{width:"100%",padding:"0 16px"}},Cs||(Cs=(0,A.tZ)(r.dDn,null,(0,A.tZ)(Te.I,{b2b:!0,hideTitle:!0,hideUpdateButton:!0,displayModifiedCreditCardView:!0}))),(0,A.tZ)(r.dDn,{sx:{margin:"auto"}},_?(0,A.tZ)(T.zx,{mood:"brand",intensity:"supershy",size:"large"},i?(0,A.tZ)(Ka.J,{b2c:!1,setPaymentLoading:o,mode:Ka.A.UPDATE}):Ts||(Ts=(0,A.tZ)(T.JO,{name:"ArrowRightOutlined",size:"medium",color:"ds.text.neutral.standard"}))):Ms||(Ms=(0,A.tZ)(T.zx,{mood:"brand",intensity:"supershy",size:"large",layout:"iconOnly",icon:(0,A.tZ)(T.JO,{name:"ArrowRightOutlined",size:"medium",color:"ds.text.neutral.standard"})}))))),(0,A.tZ)(r.Zbd,{sx:Zs,onClick:()=>{p(),s(!0)}},(0,A.tZ)(r.T5p,{gap:"12px",gridTemplateColumns:"40px 1fr 60px",sx:ws},(0,A.tZ)(Os,{cardTitle:c(g.cardTitle),cardDescription:c(g.cardDescription)}),(0,A.tZ)(r.dDn,{sx:{margin:"auto"}},(0,A.tZ)(T.zx,{mood:"brand",intensity:"supershy",size:"large"},a?(0,A.tZ)(Ka.J,{b2c:!1,setPaymentLoading:s,mode:y}):xs||(xs=(0,A.tZ)(T.JO,{name:"ArrowRightOutlined",size:"medium",color:"ds.text.neutral.standard"})))))),(0,A.tZ)(r.Zbd,{sx:Zs,onClick:()=>{(0,ze.Yo)(ee.i1)}},(0,A.tZ)(r.T5p,{gap:"12px",gridTemplateColumns:"40px 1fr 60px",sx:ws},Ds||(Ds=(0,A.tZ)(r.dDn,{sx:As},(0,A.tZ)(T.JO,{name:"ItemTaxNumberOutlined",size:"large",color:"ds.text.brand.standard"}))),(0,A.tZ)(r.dDn,null,(0,A.tZ)(r.nvN,{color:"ds.text.neutral.standard",bold:!0},c("team_account_invoice_payment")),(0,A.tZ)(r.nvN,{color:"ds.text.neutral.quiet",size:"small",sx:{marginTop:"4px"}},c("team_payment_method_dialog_support_team"))),(0,A.tZ)(r.dDn,{sx:{margin:"auto"}},Is||(Is=(0,A.tZ)(T.zx,{mood:"brand",intensity:"supershy",size:"large",layout:"iconOnly",icon:(0,A.tZ)(T.JO,{name:"ArrowRightOutlined",size:"medium",color:"ds.text.neutral.standard"})})))))))};var Ls=a(530817),zs=a(959074);const{grey00:js}=r.O9T;let Ps;!function(e){e[e.TAB_SCIM=0]="TAB_SCIM",e[e.TAB_ACTIVE_DIRECTORY=1]="TAB_ACTIVE_DIRECTORY",e[e.TAB_AUTHENTICATION=2]="TAB_AUTHENTICATION"}(Ps||(Ps={}));const Rs={width:"auto",whiteSpace:"nowrap"},Us=(e,t)=>[e.url,...e.subPaths?e.subPaths.map((t=>`${e.url}${t}`)):[]].includes(t),Bs=n.memo((({title:e,titleBadge:t,subtitle:a,tabs:n=[],extraInfo:s})=>{const{pathname:o}=(0,i.TH)();return e||n.length?(0,A.tZ)("nav",{className:"tabMenuContainer--y2MfbHSdck"},e?(0,A.tZ)("h1",{className:Oe()("title--oWA0HcI8lo",{"withBadge--cKsPfyqEMI":Boolean(t)})},e,t):null,a?(0,A.tZ)(r.nvN,{as:"h2",size:"large",color:js,sx:{marginBottom:"32px",a:{fontWeight:600}}},a):null,null!=s?s:null,n.length?(0,A.tZ)(r.G8v,null,n.map((e=>(0,A.tZ)(r.h2L,{key:e.label,label:e.label,notification:e.notifications,selected:Us(e,o),sx:e.isDisabled?{...Rs,pointerEvents:"none",color:"ds.text.oddity.disabled"}:Rs,as:t=>(0,A.tZ)(i.OL,{to:e.url,...t})})))):null):null})),Gs=(0,n.memo)((({title:e})=>{const{translate:t}=(0,l.Z)(),{routes:a}=(0,zs.Xo)(),n=(0,Z.qr)({queryConfig:{query:H.C.getAccountRecoveryRequestCount},liveConfig:{live:H.C.liveAccountRecoveryRequestCount}},[]),s=(0,ht.h)(),i=n.status===Z.rq.Success&&n.data,r=t.markup("team_activity_header_subtitle_markup",{},{linkTarget:"_blank"});return(0,A.tZ)(Bs,{title:e,subtitle:r,tabs:(()=>{const e=[];return e.push({label:t("team_activity_header_tab_activity_logs"),url:`${a.teamActivityRoutePath}/recent`}),s&&e.push({label:t("team_activity_header_tab_mpr_requests"),url:`${a.teamActivityRoutePath}/requests`,notifications:i||0}),e})()})})),Fs=({header:e,children:t})=>(0,A.tZ)("div",{className:"consolePage--HtrkOKa6CF"},(0,A.tZ)("div",{className:"consolePageHeader--XGguZ6asj0"},e),(0,A.tZ)("div",{className:"consolePageContent--iyjSb57VUO"},t)),Vs=({isLoading:e,children:t})=>{const{translate:a}=(0,l.Z)();return n.createElement(Fs,{header:n.createElement(Gs,{title:a("team_activity_header_title")})},e?n.createElement(Ln.Z,{containerStyle:{minHeight:240}}):n.createElement("div",{className:"activityPanel--j8T_kHhXKa"},t))};var $s=a(287327);const Ws=({text:e})=>{if(!e)return null;const t=e.split("**");return 1===t.length?n.createElement("span",null,e):n.createElement("span",null,t.map(((e,t)=>t%2==1?n.createElement("strong",{key:`${e}-${t}`},e):e)))};var Hs=a(750990);const Qs=Object.values(Hs.AuditLogType),Ys="team_audit_log_user_imported_credentials_one",qs="team_audit_log_user_imported_credentials_many",Ks={[Hs.AuditLogType.UserInvited]:(e,t)=>t("team_audit_log_user_invited",{email:`**${e?.properties?.target_login}**`}),[Hs.AuditLogType.UserReinvited]:(e,t)=>t("team_audit_log_user_reinvited",{email:`**${e?.properties?.target_login}**`}),[Hs.AuditLogType.UserRemoved]:(e,t)=>t("team_audit_log_user_removed",{email:`**${e?.properties?.target_login}**`}),[Hs.AuditLogType.TeamCaptainAdded]:(e,t)=>t("team_audit_log_team_captain_added",{email:`**${e?.properties?.target_login}**`}),[Hs.AuditLogType.TeamCaptainRemoved]:(e,t)=>t("team_audit_log_team_captain_removed",{email:`**${e?.properties?.target_login}**`}),[Hs.AuditLogType.GroupManagerAdded]:(e,t)=>t("team_audit_log_group_manager_added",{email:`**${e?.properties?.target_login}**`}),[Hs.AuditLogType.GroupManagerRemoved]:(e,t)=>t("team_audit_log_group_manager_removed",{email:`**${e?.properties?.target_login}**`}),[Hs.AuditLogType.MasterPasswordResetAccepted]:(e,t)=>t("team_audit_log_master_password_reset_accepted",{email:`**${e?.properties?.target_login}**`}),[Hs.AuditLogType.MasterPasswordResetRefused]:(e,t)=>t("team_audit_log_master_password_reset_refused",{email:`**${e?.properties?.target_login}**`}),[Hs.AuditLogType.BillingAdminAdded]:(e,t)=>t("team_audit_log_billing_admin_added",{email:`**${e?.properties?.target_login}**`}),[Hs.AuditLogType.BillingAdminRemoved]:(e,t)=>t("team_audit_log_billing_admin_removed",{email:`**${e?.properties?.target_login}**`}),[Hs.AuditLogType.UserGroupCreated]:(e,t)=>t("team_audit_log_user_group_created",{groupName:`**${e.properties?.group_name}**`}),[Hs.AuditLogType.UserGroupRenamed]:(e,t)=>t("team_audit_log_user_group_renamed",{newGroupName:`**${e.properties?.group_name}**`,oldGroupName:`**${e.properties?.old_group_name}**`}),[Hs.AuditLogType.UserGroupDeleted]:(e,t)=>t("team_audit_log_user_group_deleted",{groupName:`**${e.properties?.group_name}**`}),[Hs.AuditLogType.UserJoinedUserGroup]:(e,t)=>t("team_audit_log_user_joined_user_group",{groupName:`**${e.properties?.group_name}**`}),[Hs.AuditLogType.UserLeftUserGroup]:(e,t)=>t("team_audit_log_user_left_user_group",{groupName:`**${e.properties?.group_name}**`}),[Hs.AuditLogType.UserInvitedToUserGroup]:(e,t)=>t("team_audit_log_user_invited_to_user_group",{groupName:`**${e.properties?.group_name}**`,email:`**${e?.properties?.target_login}**`}),[Hs.AuditLogType.UserDeclinedInviteToUserGroup]:(e,t)=>t("team_audit_log_user_declined_invite_to_user_group",{groupName:`**${e.properties?.group_name}**`}),[Hs.AuditLogType.UserRemovedFromUserGroup]:(e,t)=>t("team_audit_log_user_removed_from_user_group",{groupName:`**${e.properties?.group_name}**`,email:`**${e?.properties?.target_login}**`}),[Hs.AuditLogType.DomainRequested]:(e,t)=>t("team_audit_log_domain_requested",{domain:`**${e.properties?.domain_url}**`}),[Hs.AuditLogType.DomainValidated]:(e,t)=>t("team_audit_log_domain_validated",{domain:`**${e.properties?.domain_url}**`}),[Hs.AuditLogType.SensitiveLogsEnabled]:(e,t)=>t("team_audit_log_collect_sensitive_data_audit_logs_enabled"),[Hs.AuditLogType.SensitiveLogsDisabled]:(e,t)=>t("team_audit_log_collect_sensitive_data_audit_logs_disabled"),[Hs.AuditLogType.SsoIdpMetadataSet]:(e,t)=>t("team_audit_log_sso_idp_metadata_set"),[Hs.AuditLogType.SsoServiceProviderUrlSet]:(e,t)=>t("team_audit_log_sso_service_provider_url_set"),[Hs.AuditLogType.SsoEnabled]:(e,t)=>t("team_audit_log_sso_enabled"),[Hs.AuditLogType.SsoDisabled]:(e,t)=>t("team_audit_log_sso_disabled"),[Hs.AuditLogType.TeamNameChanged]:(e,t)=>t("team_audit_log_team_name_changed",{name:`**${e.properties?.name}**`}),[Hs.AuditLogType.NewBillingPeriodCreated]:(e,t)=>t("team_audit_log_new_billing_period_created",{date:`**${t.shortDate((0,tn.Z)(e.properties?.new_end_date_unix),ae._T.L)}**`}),[Hs.AuditLogType.SeatsAdded]:(e,t)=>t("team_audit_log_seats_added",{count:`**${e.properties?.seats_added}**`}),[Hs.AuditLogType.ContactEmailChanged]:(e,t)=>t("team_audit_log_contact_email_changed",{email:`**${e?.properties?.new_contact_email}**`}),[Hs.AuditLogType.MasterPasswordMobileResetEnabled]:(e,t)=>t("team_audit_log_master_password_mobile_reset_enabled",{deviceName:e?.properties?.device_name?`**${e?.properties?.device_name}**`:"mobile"}),[Hs.AuditLogType.MasterPasswordMobileResetDisabled]:(e,t)=>t("team_audit_log_master_password_mobile_reset_disabled",{deviceName:e?.properties?.device_name?`**${e?.properties?.device_name}**`:"mobile"}),[Hs.AuditLogType.MasterPasswordChanged]:(e,t)=>t("team_audit_log_master_password_changed"),[Hs.AuditLogType.MpToViewPasswordsEnabled]:(e,t)=>t("team_audit_log_mp_to_view_passwords_enabled"),[Hs.AuditLogType.MpToViewPasswordsDisabled]:(e,t)=>t("team_audit_log_mp_to_view_passwords_disabled"),[Hs.AuditLogType.TwoFactorAuthenticationLoginMethodAdded]:(e,t)=>t("team_audit_log_two_factor_authentication_login_method_added"),[Hs.AuditLogType.TwoFactorAuthenticationLoginMethodRemoved]:(e,t)=>t("team_audit_log_two_factor_authentication_login_method_removed"),[Hs.AuditLogType.BiometricSignInDisabled]:(e,t)=>t("team_audit_log_biometric_sign_in_disabled",{deviceName:`**${e?.properties?.device_name}**`}),[Hs.AuditLogType.DWMEmailAdded]:(e,t)=>t("team_audit_log_dwm_email_added",{email:`**${e?.properties?.dark_web_monitoring_email}**`}),[Hs.AuditLogType.DWMEmailRemoved]:(e,t)=>t("team_audit_log_dwm_email_removed",{email:`**${e?.properties?.dark_web_monitoring_email}**`}),[Hs.AuditLogType.DWMAlertReceived]:(e,t)=>t("team_audit_log_dwm_alert_received",{email:`**${e?.properties?.dark_web_monitoring_email}**`}),[Hs.AuditLogType.UserDeviceAdded]:(e,t)=>t("team_audit_log_user_device_added",{name:`**${e.properties?.device_name}**`}),[Hs.AuditLogType.UserDeviceRemoved]:(e,t)=>t("team_audit_log_user_device_removed",{name:`**${e.properties?.device_name}**`}),[Hs.AuditLogType.UserDeviceLogin]:(e,t)=>t("team_audit_log_user_device_login",{name:`**${e.properties?.device_name}**`}),[Hs.AuditLogType.MasterPasswordReset]:(e,t)=>t("team_audit_log_master_password_reset"),[Hs.AuditLogType.RequestedAccountRecovery]:(e,t)=>t("team_audit_log_requested_account_recovery"),[Hs.AuditLogType.CompletedAccountRecovery]:(e,t)=>t("team_audit_log_completed_account_recovery"),[Hs.AuditLogType.MasterPasswordMobileReset]:(e,t)=>t("team_audit_log_master_password_mobile_reset",{deviceName:e?.properties?.device_name?`**${e?.properties?.device_name}**`:"mobile"}),[Hs.AuditLogType.UserSharedCredentialWithGroup]:(e,t)=>{const a=e;return t("admin"===a.properties.permission?"team_audit_log_user_shared_credential_with_group_full":"team_audit_log_user_shared_credential_with_group_limited",{domain:`**${a.properties.domain_url}**`,group:`**${a.properties.group_name}**`})},[Hs.AuditLogType.UserSharedCredentialWithEmail]:(e,t)=>{const a=e;return t("admin"===a.properties.permission?"team_audit_log_user_shared_credential_with_email_full":"team_audit_log_user_shared_credential_with_email_limited",{domain:`**${a.properties.domain_url}**`,email:`**${a.properties.target_login}**`})},[Hs.AuditLogType.UserSharedCredentialWithExternal]:(e,t)=>{const a=e;return t("admin"===a.properties.permission?"team_audit_log_user_shared_credential_with_external_full":"team_audit_log_user_shared_credential_with_external_limited",{domain:`**${a.properties.domain_url}**`,email:`**${a.properties.target_login}**`})},[Hs.AuditLogType.UserSharedSecureNoteWithGroup]:(e,t)=>{const a=e;return t("admin"===a.properties.permission?"team_audit_log_user_shared_secure_note_with_group_full":"team_audit_log_user_shared_secure_note_with_group_limited",{name:`**${a.properties.item_name}**`,group:`**${a.properties.group_name}**`})},[Hs.AuditLogType.UserSharedSecureNoteWithEmail]:(e,t)=>{const a=e;return t("admin"===a.properties.permission?"team_audit_log_user_shared_secure_note_with_email_full":"team_audit_log_user_shared_secure_note_with_email_limited",{name:`**${a.properties.item_name}**`,email:`**${a.properties.target_login}**`})},[Hs.AuditLogType.UserSharedSecureNoteWithExternal]:(e,t)=>{const a=e;return t("admin"===a.properties.permission?"team_audit_log_user_shared_secure_note_with_external_full":"team_audit_log_user_shared_secure_note_with_external_limited",{name:`**${a.properties.item_name}**`,email:`**${a.properties.target_login}**`})},[Hs.AuditLogType.UserRevokedSharedCredentialGroup]:(e,t)=>{const a=e;return t("team_audit_log_user_revoked_shared_credential_group",{domain:`**${a.properties.domain_url}**`,group:`**${a.properties.group_name}**`})},[Hs.AuditLogType.UserRevokedSharedCredentialEmail]:(e,t)=>{const a=e;return t("team_audit_log_user_revoked_shared_credential_email",{domain:`**${a.properties.domain_url}**`,email:`**${a.properties.target_login}**`})},[Hs.AuditLogType.UserRevokedSharedCredentialExternal]:(e,t)=>{const a=e;return t("team_audit_log_user_revoked_shared_credential_external",{domain:`**${a.properties.domain_url}**`,email:`**${a.properties.target_login}**`})},[Hs.AuditLogType.UserRevokedSharedSecureNoteGroup]:(e,t)=>{const a=e;return t("team_audit_log_user_revoked_shared_secure_note_group",{name:`**${a.properties.item_name}**`,group:`**${a.properties.group_name}**`})},[Hs.AuditLogType.UserRevokedSharedSecureNoteEmail]:(e,t)=>{const a=e;return t("team_audit_log_user_revoked_shared_secure_note_email",{name:`**${a.properties.item_name}**`,email:`**${a.properties.target_login}**`})},[Hs.AuditLogType.UserRevokedSharedSecureNoteExternal]:(e,t)=>{const a=e;return t("team_audit_log_user_revoked_shared_secure_note_external",{name:`**${a.properties.item_name}**`,email:`**${a.properties.target_login}**`})},[Hs.AuditLogType.UserAcceptedSharingInviteSecureNote]:(e,t)=>t("team_audit_log_user_accepted_sharing_invite_secure_note",{name:`**${e.properties.item_name}**`}),[Hs.AuditLogType.UserRejectedSharingInviteSecureNote]:(e,t)=>t("team_audit_log_user_rejected_sharing_invite_secure_note",{name:`**${e.properties.item_name}**`}),[Hs.AuditLogType.UserAcceptedSharingInviteCredential]:(e,t)=>t("team_audit_log_user_accepted_sharing_invite_credential",{domain:`**${e.properties.domain_url}**`}),[Hs.AuditLogType.UserRejectedSharingInviteCredential]:(e,t)=>t("team_audit_log_user_rejected_sharing_invite_credential",{domain:`**${e.properties.domain_url}**`}),[Hs.AuditLogType.UserCreatedCredential]:(e,t)=>t("team_audit_log_user_created_credential",{domain:`**${e.properties.domain_url}**`}),[Hs.AuditLogType.UserModifiedCredential]:(e,t)=>t("team_audit_log_user_modified_credential",{domain:`**${e.properties.domain_url}**`}),[Hs.AuditLogType.UserDeletedCredential]:(e,t)=>t("team_audit_log_user_deleted_credential",{domain:`**${e.properties.domain_url}**`}),[Hs.AuditLogType.UserImportedCredentials]:(e,t)=>t(e.properties.import_count>1?qs:Ys,{importCount:`**${e.properties.import_count}**`}),[Hs.AuditLogType.UserCreatedSecureNote]:(e,t)=>t("team_audit_log_user_created_secure_note",{name:`**${e.properties.item_name}**`}),[Hs.AuditLogType.UserModifiedSecureNote]:(e,t)=>t("team_audit_log_user_modified_secure_note",{name:`**${e.properties.item_name}**`}),[Hs.AuditLogType.UserDeletedSecureNote]:(e,t)=>t("team_audit_log_user_deleted_secure_note",{name:`**${e.properties.item_name}**`})},Xs=(e,t)=>Qs.includes(e.log_type)?Ks[e.log_type](e,t):"",Js=Object.values(Hs.AuditLogType),ei={table:"table--mfR78xcZe9",tableHead:"tableHead--YCQXFj5bUq",loginHeadCell:"loginHeadCell--jPwxyC874a",dateHeadCell:"dateHeadCell--FRHZHHwD2b",tableBody:"tableBody--VZKGv56Wgq",loginCell:"loginCell--GdxHLmyjUm",loginText:"loginText--M6tgnnYoDH",loginTextEmail:"loginTextEmail--PaU6Zf46bD",dateCell:"dateCell--JBqTpeYwB5"},ti=({columns:e})=>(0,A.tZ)("thead",null,(0,A.tZ)("tr",{sx:{backgroundColor:r.O9T.dashGreen06,color:r.O9T.dashGreen00},className:Oe()("tableHead--671BLxOj0q")},e?e.map((e=>(0,A.tZ)(n.Fragment,{key:e.headerKey},(0,A.tZ)("th",{colSpan:e.colSpan,onClick:e.onClick},e.headerElement?e.headerElement:null,e.tooltipLabel?(0,A.tZ)("button",{type:"button"},(0,A.tZ)(r.ua7,{content:e.tooltipLabel,sx:{textAlign:"start"}},(0,A.tZ)("span",{sx:{textTransform:"uppercase"}},e.headerLabel)),e.sortOrder?(0,A.tZ)("div",{className:"sortArrowContainer--FyrK9801Up"},(0,A.tZ)("img",{alt:e.sortOrder,className:Oe()("sortArrow--vU8QPawche",{"flip--fXyB7EqbAW":"desc"===e.sortOrder}),src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAiIGhlaWdodD0iNiIgdmlld0JveD0iMCAwIDEwIDYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgPHBhdGggZD0iTTkuNSAwLjVMNSA1LjVMMC41IDAuNSIgc3Ryb2tlPSIjMEUzNTNEIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz4KPC9zdmc+Cg=="})):null):(0,A.tZ)("span",null,e.headerLabel))))):null)),ai=({children:e})=>{const{translate:t}=(0,l.Z)(),a=[{headerLabel:t("team_activity_list_head_admin"),headerKey:"admin"},{headerLabel:t("team_activity_list_head_action"),headerKey:"action"},{headerLabel:t("team_activity_list_head_time"),headerKey:"time"}];return n.createElement("table",{className:ei.table},n.createElement(ti,{columns:a}),n.createElement("tbody",{key:"table-body",className:ei.tableBody},e))};var ni=a(405611),si=a(786096);const ii=({login:e,action:t,date:a})=>n.createElement("tr",null,n.createElement("td",{className:ei.loginCell},n.createElement(ni.q,{email:e,size:30}),n.createElement("div",{className:ei.loginText},n.createElement("span",{className:ei.loginTextEmail},e))),n.createElement("td",{className:ei.actionCell},t),n.createElement("td",{className:ei.dateCell},n.createElement(si.v,{date:a})));var ri=a(438042),oi=a(909087),li=a(293020);const ci=500;async function di(){const e=new Date,t=(0,ri.Z)((0,oi.Z)(e,3)),a=(0,ri.Z)(e),n=await H.C.startAuditLogsQuery({startDateRangeUnix:t,endDateRangeUnix:a});if(n.success)return n;throw(0,q.K)(new G.UserDownloadAuditLogsDataEvent({flowStep:G.FlowStep.Error,auditLogDownloadError:G.AuditLogDownloadError.UnexpectedUnknown})),new Error("[startAuditLogsQuery] - Server Error: Unable to start audit logs query and fetch queryExecutionId")}async function ui(e,t,a){const n=await H.C.getAuditLogQueryResults({queryExecutionId:e,maxResults:t,nextToken:a});return!n.success||n.data.state!==li.GetAuditLogQueryResultsState.Running&&n.data.state!==li.GetAuditLogQueryResultsState.Queued?n:(await new Promise((e=>setTimeout((()=>e()),3e3))),await ui(e,t,a))}async function mi(e,t,a=1,n){const s=await ui(t,ci,n);if(e(a),s.success){let n=s.data.auditLogs;if(s.data.nextToken){const i=await mi(e,t,a+1,s.data.nextToken);return i&&(n=n.concat(i)),n}return n}throw(0,q.K)(new G.UserDownloadAuditLogsDataEvent({flowStep:G.FlowStep.Error,auditLogDownloadError:G.AuditLogDownloadError.NoLogData})),new Error("[fetchAuditLogsPages] - Server Error: Unable to load audit logs data")}const _i={display:"block",height:"4px",borderRadius:1,transition:"width 1s ease-out",bg:"successes.4"},pi=({progressPercent:e})=>{const{translate:t}=(0,l.Z)(),a=Math.min(Math.max(e,0),100),n={width:`${a}%`},s=(0,r.jMf)([_i,n]),i="download-progress-description";return(0,A.tZ)(r.Ejs,{alignItems:"flex-start",flexDirection:"column",fullWidth:!0,sx:{mt:"8px",maxWidth:"100%"}},(0,A.tZ)(r.Ejs,{flexDirection:"row",justifyContent:"space-between",fullWidth:!0,sx:{bg:"primaries.1",maxWidth:"100%"}},(0,A.tZ)("div",{sx:{position:"relative",width:"100%"}},(0,A.tZ)("span",{"aria-describedby":i,"data-testid":"download-progress-bar",role:"img",sx:s}))),(0,A.tZ)(r.nvN,{sx:{mt:"4px",color:r.O9T.dashGreen01},size:"x-small",id:i},t("team_activity_download_modal_progress",{progressPercentage:a})))},gi=({isOpen:e,progress:t,onClose:a})=>{const{translate:n}=(0,l.Z)();return(0,A.tZ)(r.VqE,{isOpen:e,onClose:a,closeIconName:n("_common_dialog_dismiss_button"),ariaDescribedby:"csv-download-dialog-body",ariaLabelledby:"csv-download-dialog-title"},(0,A.tZ)(r.$N8,{id:"csv-download-dialog-title",title:n("team_activity_download_modal_title")}),(0,A.tZ)("div",{sx:{maxHeight:"fit-content",overflowX:"hidden",overflowY:"auto"}},(0,A.tZ)(pi,{progressPercent:t}),(0,A.tZ)(r.nvN,{size:"medium",sx:{marginTop:5,marginBottom:6,color:r.O9T.grey00}},n("team_activity_download_modal_body")),(0,A.tZ)(r.vDh,{severity:"warning",size:"small",title:n("team_activity_download_modal_warning")})))};var yi=a(763300),hi=a.n(yi);const bi=Object.values(Hs.AuditLogType),Si=({lee:e})=>{const{translate:t}=(0,l.Z)(),[a,s]=(0,n.useState)(""),{isStartAuditLogsQueryTriggered:i,isLoading:o,nextToken:c,hasError:d,list:u}=(e=>{const[t,a]=(0,n.useState)(!1),[s,i]=(0,n.useState)(!1),[r,o]=(0,n.useState)([]),[l,c]=(0,n.useState)(""),[d,u]=(0,n.useState)(""),[m,_]=(0,n.useState)(!1),p=(0,n.useCallback)((async t=>{try{a(!0);const n=await ui(t,50,e&&""!==e?e:void 0),s=[li.GetAuditLogQueryResultsState.Failed,li.GetAuditLogQueryResultsState.Cancelled];!n.success||s.includes(n.data.state)?i(!0):(o(((e=[])=>[...e,...n.data.auditLogs])),n?.data.nextToken?c(n.data.nextToken):c(null))}catch(e){i(!0)}finally{a(!1)}}),[e]),g=(0,n.useCallback)((async()=>{try{a(!0);const e=await di(),{queryExecutionId:t}=e.data;await p(t),u(t),_(!0)}catch(e){a(!1),i(!0)}}),[p]);return(0,n.useEffect)((()=>{m?""!==d?p(d):i(!0):g()}),[p]),{isStartAuditLogsQueryTriggered:m,isLoading:t,nextToken:l,hasError:s,list:r}})(a),m=!i&&o,_=i&&o,p=null!==c,g=(0,n.useRef)(null),y=(0,n.useRef)(null);(0,Ls.M)({hasMore:p,scrollContainerRef:g,bottomRef:y,loadMore:()=>{p&&s(c)}});const[h,b]=(0,n.useState)(!1),[S,v]=(0,n.useState)(!1),[E,N]=(0,n.useState)(0),f=(0,Fa.V)(),C=(0,n.useCallback)((()=>{v(!1),(0,q.N)(G.PageView.TacActivityList)}),[]),T=(0,n.useCallback)((e=>{const t=50+e-10;e<=10?N(5*e):e<=40&&e>10&&N(t)}),[]),M=async()=>{v(!0),N(0),b(!0),(0,q.N)(G.PageView.TacActivityDownload),(0,q.K)(new G.UserDownloadAuditLogsDataEvent({flowStep:G.FlowStep.Start,auditLogCount:0}));try{let e=[];const a=await di();e=await mi(T,a.data.queryExecutionId),N(100);const n="\ufeff",s=((e,t)=>{const a=[t("team_activity_list_head_admin"),t("team_activity_list_head_action"),t("team_activity_list_head_time_csv")].join(",")+"\n",n=e.filter((e=>bi.includes(e.log_type))).map((e=>{var a;const n=null!=(a=e.properties?.author_login)?a:"",s=Xs(e,t).replace(/\*\*/g,"").replace(/[]/g,'"'),i=new Date(e.date_time).toISOString();return`${n},${s},${i.substr(0,10)} ${i.substr(11,8)}`}));return(0,q.K)(new G.UserDownloadAuditLogsDataEvent({flowStep:G.FlowStep.Complete,auditLogCount:n.length})),a+n.join("\n")})(e,t),i=new Blob([n,s],{type:"text/csv;charset=utf-8"});setTimeout((()=>{try{hi()(i,"dashlane-activity-export.csv","text/csv"),b(!1),C()}catch(e){(0,q.K)(new G.UserDownloadAuditLogsDataEvent({flowStep:G.FlowStep.Error,auditLogDownloadError:G.AuditLogDownloadError.NoCsv}))}}),1e3)}catch(t){e.dispatchGlobal((0,$s.wN)(((e,t)=>{const a="directorySyncKeyValidationError",n=()=>e.dispatchGlobal((0,$s.FV)(a)),s=r.BLW.ERROR;return{key:a,level:s,textKey:"team_activity_download_modal_alert_error",handleClose:n,handleButtonClick:()=>{t(),n()},buttonTextKey:"team_activity_download_modal_alert_action"}})(e,M))),(0,q.K)(new G.UserDownloadAuditLogsDataEvent({flowStep:G.FlowStep.Error,auditLogDownloadError:G.AuditLogDownloadError.UnexpectedUnknown})),N(0),b(!1),C()}},x=u.map((e=>((e,t)=>{var a;return Js.includes(e.log_type)?{uuid:e.uuid,date:new Date(e.date_time),activityDescription:Xs(e,t),userLogin:null!=(a=e.properties?.author_login)?a:""}:null})(e,t))).filter((e=>null!==e));return(0,A.tZ)(Vs,{isLoading:!S&&m},(0,A.tZ)("div",{className:"container--XdLBgpl4YX",ref:g},(0,A.tZ)("div",{className:"top--RuWypqAKoN"},(0,A.tZ)(r.zxk,{type:"button",nature:"primary",onClick:M,disabled:h},(0,A.tZ)(r._8t,{color:r.O9T.white,sx:{marginRight:"10px"}}),t("team_activity_download_button"))),(0,A.tZ)(ai,null,x.map((e=>(0,A.tZ)(ii,{login:e.userLogin,action:(0,A.tZ)(Ws,{text:e.activityDescription}),date:e.date,key:e.uuid})))),d?f.showAlert(t("_common_generic_error"),r.BLW.ERROR):null,(0,A.tZ)("div",{ref:y},_?(0,A.tZ)("div",{sx:{display:"flex",height:"40px",justifyContent:"center",paddingTop:"20px",paddingBottom:"60px"}},(0,A.tZ)(r.HoD,{size:40,color:r.O9T.dashGreen00})):null)),S?(0,A.tZ)(gi,{isOpen:S,progress:E,onClose:()=>{C()}}):null)};var vi=a(550731);const Ei={table:"table--qduhC1TPu3",tableHead:"tableHead--Z4_moYjvml",loginHeadCell:"loginHeadCell--BtAWmwV2jZ",dateHeadCell:"dateHeadCell--KFeTK0q_SH",tableBody:"tableBody--hefVlKDhhp",loginCell:"loginCell--Zam1sAKBC8",loginText:"loginText--TplsICu7bQ",loginTextEmail:"loginTextEmail--rxPAxEiUVd",actionCell:"actionCell--cglSMoOlh7",button:"button--v4n4SCN07C"},Ni=(0,n.memo)((e=>{const{translate:t}=(0,l.Z)(),{dateFormatter:a}=e,n=[{headerLabel:t("team_master_password_reset_table_head_member"),headerKey:"member"},{headerLabel:t("team_master_password_reset_table_head_time"),headerKey:"time"},{headerLabel:"",headerKey:"actions"}];return(0,A.tZ)("table",{className:Ei.table},(0,A.tZ)(ti,{columns:n}),(0,A.tZ)("tbody",{key:"table-body",className:Ei.tableBody},e.requests.map((t=>{const n=(0,tn.Z)(t.creationDateUnix),s=a(n);return(0,A.tZ)("tr",{key:(0,De.uniqueId)(),className:Ei.loginCell},(0,A.tZ)("td",{className:Ei.loginCell},(0,A.tZ)(ni.q,{email:t.login,size:30}),(0,A.tZ)("div",{className:Ei.loginText},(0,A.tZ)("span",{className:Ei.loginTextEmail},t.login))),(0,A.tZ)("td",{className:Ei.dateCell},s),(0,A.tZ)("td",{className:Ei.actionCell},(0,A.tZ)("img",{className:Ei.button,onClick:()=>e.onDecline(t),src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTgiIGhlaWdodD0iMTgiIHZpZXdCb3g9IjAgMCAxOCAxOCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8cGF0aCBkPSJNNS41IDEyLjVMMTIuNSA1LjVNMTIuNSAxMi41TDUuNSA1LjVNMC41IDlDMC41IDQuMzA1ODcgNC4zMDU4NyAwLjUgOSAwLjVDMTMuNjk0MSAwLjUgMTcuNSA0LjMwNTg3IDE3LjUgOUMxNy41IDEzLjY5NDEgMTMuNjk0MSAxNy41IDkgMTcuNUM0LjMwNTg3IDE3LjUgMC41IDEzLjY5NDEgMC41IDlaIiBzdHJva2U9IiNGRjAwMkQiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIvPgo8L3N2Zz4K"}),(0,A.tZ)("img",{className:Ei.button,onClick:()=>e.onAccept(t),src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTgiIGhlaWdodD0iMTgiIHZpZXdCb3g9IjAgMCAxOCAxOCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8cGF0aCBkPSJNNiA5TDcuOTU5MjggMTFMMTEuOTc5NiA3TTAuNSA5QzAuNSA0LjMwNTQ1IDQuMzA2MyAwLjUgOSAwLjVDMTMuNjkzNyAwLjUgMTcuNSA0LjMwNTQ1IDE3LjUgOUMxNy41IDEzLjY5NDYgMTMuNjkzNyAxNy41IDkgMTcuNUM0LjMwNjMgMTcuNSAwLjUgMTMuNjk0NiAwLjUgOVoiIHN0cm9rZT0iIzIwQjQyMiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+Cjwvc3ZnPgo="})))}))))})),fi="dialogContent--koRKDSa9Ov",Ci="dialogContentStrong--OG0LUgIyIm dialogContent--koRKDSa9Ov";var Ti;var Mi=a(118003);const xi=(e,t)=>a=>n.createElement(Jt,{selectedTab:t,lee:a.lee},n.createElement(e,{...a})),Di=xi((e=>(n.useEffect((()=>{(0,q.N)(G.PageView.TacActivityList)}),[]),n.createElement(Si,{lee:e.lee}))),"activity"),Ii=xi((({lee:e})=>{var t;const{translate:a}=(0,l.Z)(),{reportTACError:s}=Fe(),[i,o]=(0,n.useState)(!1),c={dialogIsVisible:!1,dialogType:null,selectedRequest:null},[d,u]=(0,n.useState)(c),m=(0,n.useCallback)((()=>{const t=(0,_a.v0)(e.globalState);return t||s(new Error(da.N)),t}),[]),_=(0,n.useCallback)((async()=>{const e=m();e?.teamId&&await(0,Va.mP)({teamId:e.teamId})}),[m]);(0,n.useEffect)((()=>{(async()=>{try{o(!0);const{teamInfo:{recoveryEnabled:e}}=await(0,Je.I)();e&&(await _(),o(!1))}catch(e){console.error(`RequestsActivity - fetchStatus failed with error ${e}`),o(!1)}})()}),[_]);const p=e=>{u({dialogIsVisible:!0,dialogType:"accept",selectedRequest:e})},g=e=>{u({dialogIsVisible:!0,dialogType:"decline",selectedRequest:e})},y=e=>[a.shortDate(e,ae._T.l),a.shortDate(e,ae._T.LT)].join(" - "),h=()=>{u(c)},b=()=>{u(c)};return(0,A.tZ)(Vs,{isLoading:i},(()=>{const t=(()=>{var t;const a=m();if(!a)return[];const{teams:n}=(0,vi.e)(e.globalState),{teamId:s}=a;return null==s?[]:null!=(t=n[s]?.notifications?.accountRecoveryRequests)?t:[]})();return t.length?(0,A.tZ)("div",{className:"container--DRtotEoFLA"},(0,A.tZ)(Ni,{onAccept:p,onDecline:g,dateFormatter:y,requests:t})):(0,A.tZ)("div",{className:"containerNoItem--U7KH6tddpl container--DRtotEoFLA"},Ti||(Ti=(0,A.tZ)("img",{src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgdmlld0JveD0iMCAwIDQwIDQwIiBmaWxsPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgogIDxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNMzMuODMxOCAyNC45MTQ3QzM0LjIxMTggMjUuNDI0NyAzNC41NjE4IDI2LjA4NDcgMzQuNjYxOCAyNi43MDQ4QzM0Ljc1MTggMjcuMDI0NyAzNC43ODE4IDI3LjMxNDcgMzQuNzgxOCAyNy41OTQ3TDM0LjgxMTggMjguMDI0N0MzNC44MTE4IDI4LjE4NDcgMzQuODExOCAyOC4zOTQ3IDM0Ljc4MTggMjguNTc0N0MzNC42MDE4IDMwLjEwNDcgMzMuNDAxOCAzMS40MDQ3IDMxLjkxMTggMzEuNzI0N0MzMS43MzE4IDMxLjc2NDcgMzEuNTQxOCAzMS43OTQ3IDMxLjM1MTggMzEuODA0N0wzMS4wODE4IDMxLjgxNDhIMzAuOTExOEgzMC4yMzE4SDI4Ljg3MThIMjYuMTYxOEgxNS4zMTE4SDkuODkxOEg5LjIxMThIOC44NzE4SDguNjkxOEw4LjQxMTggMzEuODA0N0M3LjY1MTggMzEuNzQ0NyA2LjkyMTggMzEuNDM0NyA2LjM0MTggMzAuOTU0OEM1Ljc2MTggMzAuNDY0OCA1LjMzMTggMjkuODA0NyA1LjEzMTggMjkuMDc0N0M1LjAyMTggMjguNzI0NyA0Ljk5MTggMjguMjk0NyA1LjAwMTggMjcuOTg0N0w1LjA3MTggMjcuMTI0N0M1LjA4OTc3IDI3LjA0NTIgNS4xMDY0MyAyNi45NjU2IDUuMTIzMTEgMjYuODg1OEM1LjE3MTQzIDI2LjY1NDkgNS4yMjAwNCAyNi40MjI2IDUuMzAxOCAyNi4xODQ3QzUuMzI4NyAyNi4xMjMzIDUuMzU0ODcgMjYuMDYxIDUuMzgxMDcgMjUuOTk4N0M1LjQ5MTI0IDI1LjczNjcgNS42MDIxNiAyNS40NzI5IDUuNzcxOCAyNS4yNTQ3QzYuMTAyODcgMjQuNzM2OSA2LjQ5MTU5IDI0LjM5OTMgNi44Mjc4NSAyNC4xMDcyQzYuODg3NyAyNC4wNTUyIDYuOTQ1ODkgMjQuMDA0NiA3LjAwMTggMjMuOTU0OEM3LjczMTggMjMuMzY0NyA4LjEzMTggMjIuOTc0NyA4LjQ3MTggMjIuMzc0N0M5LjE0MTggMjEuMjA0NyA5LjM2MTggMTkuNDk0OCA5LjQ0MTggMTcuODE0OEw5LjQ3MTggMTYuNjg0N0MxMC40NjE4IDE3LjAzNDcgMTEuNDUxOCAxNy40MTQ3IDEyLjQ0MTggMTcuODM0N0wxMi40MzE4IDE4LjIzNDdDMTIuMzcxOCAxOS4yMTQ3IDEyLjI3MTggMjAuMjI0OCAxMi4wNTE4IDIxLjI0NDhDMTEuNzkxOCAyMi4yNjQ4IDExLjQ3MTggMjMuMzM0NyAxMC43OTE4IDI0LjMzNDdDMTAuMjYzIDI1LjE0MzkgOS40OTY4IDI1Ljc3OTggOC45NDU1OCAyNi4yMzcyQzguODA4NzcgMjYuMzUwNyA4LjY4NTIgMjYuNDUzMyA4LjU4MTgxIDI2LjU0NDdDOC41NTM1IDI2LjU3NTYgOC41MjYzNiAyNi42MDQ4IDguNTAwNDEgMjYuNjMyOEM4LjMyNDcgMjYuODIxOSA4LjIwNDA5IDI2Ljk1MTggOC4xNTE4IDI3LjEzNDhDOC4wNzE4MSAyNy4zMzQ4IDguMDIxOCAyNy42MjQ3IDguMDExOCAyNy45NzQ3TDguMDAxOCAyOC4wOTQ3VjI4LjE1NDdWMjguMTU0OEM4LjAwMTggMjguMTk0OCA4LjAwMTggMjguMjM0OCA4LjAxMTggMjguMjQ0OEM4LjAzMTggMjguMzI0OCA4LjA2MTggMjguMzk0OCA4LjEwMTggMjguNDU0OEM4LjE4MTggMjguNTk0NyA4LjMwMTggMjguNjk0NyA4LjQ0MTggMjguNzU0N0M4LjUxMTggMjguNzg0NyA4LjU4MTggMjguNzk0NyA4LjY2MTggMjguODA0N0g4LjcyMThIOC44OTE4SDkuMjQxODFIMTAuNjQxOEgxMy40MzE4SDI0LjYwMThIMzAuMTgxOEMzMS4wNTM3IDI4LjgxMiAzMS4yNzY2IDI4LjgxNCAzMS40NDE1IDI4LjcxNzNDMzEuNTA1NSAyOC42Nzk3IDMxLjU2MDggMjguNjI3NCAzMS42NDE4IDI4LjU1NDdDMzEuNzQxOCAyOC40NDQ3IDMxLjgwMTggMjguMzA0NyAzMS44MjE4IDI4LjE1NDdDMzEuODI5MiAyOC4xMjU0IDMxLjgyMDMgMjguMDA0MiAzMS44MTExIDI3Ljg3ODVDMzEuODA3OCAyNy44MzMxIDMxLjgwNDUgMjcuNzg3MiAzMS44MDE4IDI3Ljc0NDhDMzEuODAxOCAyNy41OTM3IDMxLjc3MzYgMjcuNDc3OSAzMS43NDY5IDI3LjM2NzdDMzEuNzQxNyAyNy4zNDY2IDMxLjczNjYgMjcuMzI1NyAzMS43MzE4IDI3LjMwNDdDMzEuNjcxOCAyNy4wMzQ3IDMxLjU3MTggMjYuODg0NyAzMS4zOTE4IDI2LjY0NDdDMzEuMjYyMiAyNi40ODc4IDMxLjA2NzMgMjYuMjk4MyAzMC44NDIzIDI2LjA3OTNDMzAuNzM3NSAyNS45Nzc0IDMwLjYyNjIgMjUuODY5MSAzMC41MTE4IDI1Ljc1NDdDMjkuNzYxOCAyNS4wNDQ3IDI5LjAzMTggMjQuMDI0NyAyOC42MjE4IDIzLjAyNDdDMjguNDQ4MSAyMi42NjI4IDI4LjMzMiAyMi4yOTU2IDI4LjIxNjYgMjEuOTMwOEMyOC4xNzI2IDIxLjc5MTYgMjguMTI4NyAyMS42NTI4IDI4LjA4MTggMjEuNTE0N0MyOC4wNTE4IDIxLjM4OTcgMjguMDIwNSAyMS4yNjQ3IDI3Ljk4OTMgMjEuMTM5N0MyNy44OTU1IDIwLjc2NDcgMjcuODAxOCAyMC4zODk3IDI3Ljc0MTggMjAuMDE0N0MyNy43MTk4IDE5Ljg2MDQgMjcuNjk2NyAxOS43MDUxIDI3LjY3MzYgMTkuNTQ5NEMyNy42MjM0IDE5LjIxMDggMjcuNTcyOSAxOC44NzA0IDI3LjUzMTggMTguNTM0N0wyNy40MTE4IDE3LjA3NDdDMjcuMzczNCAxNi4zMzY2IDI3LjM1ODYgMTUuNTY4OCAyNy4zNDQ3IDE0Ljg0ODhDMjcuMzQwNSAxNC42MzI0IDI3LjMzNjQgMTQuNDIwNCAyNy4zMzE4IDE0LjIxNDdDMjcuMzIxOCAxMy4zMzQ3IDI3LjI2MTggMTIuNDY0NyAyNy4xMzE4IDExLjY1NDdDMjYuODgxOCAxMC4wMDQ3IDI2LjI1MTggOC42ODQ3NSAyNS4xMjE4IDcuNDU0NzVDMjQuNTQxOCA2LjgxNDc1IDI0LjAwMTggNi4yODQ3NSAyMy4zNjE4IDUuOTA0NzVDMjIuNzMxOCA1LjUxNDc1IDIyLjAzMTggNS4yNTQ3NSAyMS4yODE4IDUuMTE0NzVDMTkuNzYxOCA0Ljg1NDc1IDE4LjEwMTggNS4wMTQ3NSAxNi44MjE4IDUuNzA0NzVDMTYuMTUxOCA2LjA1NDc1IDE1LjY0MTggNi40ODQ3NSAxNS4wMjE4IDcuMTM0NzVDMTQuNDMxOCA3Ljc0NDc1IDEzLjkyMTggOC4zNjQ3NCAxMy41NTE4IDkuMDM0NzRDMTIuNzkxOCAxMC4zMzQ3IDEyLjU0MTggMTEuOTc0NyAxMi40ODE4IDEzLjcyNDdMOS40ODE4IDEzLjYyNDdDOS41NDE4IDExLjc0NDcgOS44MDE4IDkuNjM0NzUgMTAuODQxOCA3LjcyNDc1QzExLjM0MTggNi43NzQ3NSAxMi4wMDE4IDUuOTU0NzUgMTIuNjgxOCA1LjIzNDc1QzEzLjMwMTggNC41NzQ3NSAxNC4xNDE4IDMuNzY0NzUgMTUuMDkxOCAzLjIzNDc1QzE3LjAwMTggMi4xMTQ3NSAxOS4yMjE4IDEuODM0NzUgMjEuMjgxOCAyLjA4NDc1QzIzLjM4MTggMi4zMTQ3NSAyNS41MTE4IDMuNDQ0NzQgMjYuODgxOCA0Ljk2NDc0QzI4LjI3MTggNi4zMTQ3NCAyOS41MTE4IDguMjg0NzUgMjkuOTIxOCAxMC4zMTQ4QzMwLjE1MTggMTEuMzE0OCAzMC4yNTE4IDEyLjMwNDcgMzAuMzAxOCAxMy4yNjQ3QzMwLjMyNDIgMTMuNjIzMyAzMC4zMjk5IDEzLjk4MTggMzAuMzM1NSAxNC4zMzYyQzMwLjMzNzQgMTQuNDU2MyAzMC4zMzkzIDE0LjU3NTggMzAuMzQxOCAxNC42OTQ3TDMwLjM3MTggMTYuMDA0N0MzMC40NDE4IDE3LjcyNDcgMzAuNTgxOCAxOS40NjQ3IDMxLjA1MTggMjAuOTY0N0MzMS4yNzE4IDIxLjcyNDcgMzEuNTkxOCAyMi4zNzQ3IDMyLjAwMTggMjIuOTM0N0MzMi4yMTA2IDIzLjIzNTIgMzIuNDY4NiAyMy40ODg5IDMyLjc3OTggMjMuNzk1QzMzLjA3OTggMjQuMDkgMzMuNDI5MyAyNC40MzM3IDMzLjgzMTggMjQuOTE0N1pNMjQuMTgxOCAzNi4zNTQ3QzIzLjAwMTggMzcuNTM0NyAyMS40NTE4IDM4LjEyNDcgMTkuOTAxOCAzOC4xMjQ3QzE4LjM2MTggMzguMTI0NyAxNi44MTE4IDM3LjUzNDcgMTUuNjQxOCAzNi4zNTQ3TDE0LjU4MTggMzUuMjk0N0wxNi43MDE4IDMzLjE3NDdMMTcuNzYxOCAzNC4yMzQ3QzE4Ljk0MTggMzUuNDI0NyAyMC44NzE4IDM1LjQyNDcgMjIuMDYxOCAzNC4yMzQ3TDIzLjEyMTggMzMuMTc0N0wyNS4yNDE4IDM1LjI5NDdMMjQuMTgxOCAzNi4zNTQ3WiIgZmlsbD0iI0U3RTdFNyIvPgo8L3N2Zz4K"})),(0,A.tZ)("div",{className:"noItemLabel--AypyKunLpo"},a("team_master_password_reset_table_empty_label")),(0,A.tZ)("div",{className:"noItemHelper--c9bX9Yn5sj"},a("team_master_password_reset_table_empty_helper")))})(),(0,A.tZ)(je.o,{isOpen:d.dialogIsVisible&&"accept"===d.dialogType,onRequestClose:h,footer:(0,A.tZ)(r.cNS,{intent:"primary",primaryButtonTitle:a("team_master_password_reset_dialog_accept_button_ok"),primaryButtonOnClick:()=>{m()&&d.selectedRequest&&(0,Va.Z8)({login:d.selectedRequest.login,recoveryKey:d.selectedRequest.recoveryClientKey,userPublicKey:d.selectedRequest.publicKey}).then((()=>{_(),u(c)})).catch((e=>{console.error(e)}))},secondaryButtonTitle:a("team_master_password_reset_dialog_accept_button_cancel"),secondaryButtonOnClick:h}),title:a("team_master_password_reset_dialog_accept_title")},d.selectedRequest?.login?(0,A.tZ)("p",{className:Ci},a("team_master_password_reset_dialog_accept_content_bold",{login:d.selectedRequest.login})):null,(0,A.tZ)("p",{className:fi},a("team_master_password_reset_dialog_accept_content"))),(0,A.tZ)(je.o,{isOpen:d.dialogIsVisible&&"decline"===d.dialogType,onRequestClose:b,footer:(0,A.tZ)(r.cNS,{intent:"danger",primaryButtonTitle:a("team_master_password_reset_dialog_decline_button_ok"),primaryButtonOnClick:async()=>{if((0,_a.v0)(e.globalState)){if(d.selectedRequest)try{await(0,Va.VK)({login:d.selectedRequest.login}),_(),u(c)}catch(e){console.error(e)}}else s(new Error(da.N))},secondaryButtonTitle:a("team_master_password_reset_dialog_decline_button_cancel"),secondaryButtonOnClick:b}),title:a("team_master_password_reset_dialog_decline_title")},d.selectedRequest?.login?(0,A.tZ)("p",{className:Ci},a("team_master_password_reset_dialog_decline_content_bold",{login:null!=(t=d.selectedRequest?.login)?t:""})):null,(0,A.tZ)("p",{className:fi},a("team_master_password_reset_dialog_decline_content"))))}),"activity");function Zi({path:e}){return n.createElement(i.GB,{path:[e,`${e}/recent`,`${e}/requests`],permission:e=>e.adminAccess.hasFullAccess},n.createElement(i.rs,null,n.createElement(i.l_,{exact:!0,from:`${e}/`,to:`${e}/recent`}),n.createElement(i.Vy,{path:`${e}/requests`,component:Ii,reducer:Mi.Z}),n.createElement(i.Vy,{path:`${e}/recent`,component:Di})))}a(568030);var wi=a(970238);const Ai="flex--NMArBNZ5l_",Oi="heading--RBodOQnn5X",ki="icon--pEAJkFclEO",Li="message--Ia84bnI4ma";a(461238);const zi=({children:e,onRequestClose:t,footer:a})=>{const{translate:s}=(0,l.Z)(),i=s("team_directory_sync_key_dialog_title");return n.createElement(je.o,{isOpen:!0,showCloseIcon:!0,onRequestClose:t,footer:a,title:i},e)},ji=e=>{const{translate:t}=(0,l.Z)(),[a,s]=n.useState({inputKey:"",isInputKeyInvalid:!1});return n.createElement(zi,{onRequestClose:e.handleDismiss,footer:n.createElement(r.cNS,{primaryButtonTitle:t("team_directory_sync_key_dialog_key_input_verify"),primaryButtonOnClick:async()=>{var t;const{publicKey:n=""}=null!=(t=e.checkDirectorySyncKeyRequest())?t:{},i=a.inputKey.replace(/\s/g,"").replace(/\n/g,"");var r;i===n?(()=>{const t=e.checkDirectorySyncKeyRequest();return t?(0,Va.QV)(t,"validated"):Promise.reject(new Error("missing params"))})().then((()=>{e.onSubmitKeySuccess()})).catch(e.handleError):(r=i).length%4==0&&atob(r).includes("</RSAKeyValue>")?e.onSubmitKeyError():s((e=>({...e,isInputKeyInvalid:!0})))},secondaryButtonTitle:t("team_directory_sync_key_dialog_key_input_postpone"),secondaryButtonOnClick:e.handleDismiss,intent:"primary"})},n.createElement("p",{className:"keyInputMessage--jfQAwZvR6u message--Ia84bnI4ma"},t.markup("team_directory_sync_key_dialog_key_input_message_markup")),n.createElement(r.oil,{multiline:!0,fullWidth:!0,placeholder:t("team_directory_sync_key_dialog_key_input_placeholder"),onChange:({target:{value:e}})=>{s({inputKey:e,isInputKeyInvalid:!1})},value:a.inputKey,feedbackText:a.isInputKeyInvalid?t("team_directory_sync_key_dialog_key_input_invalid"):void 0,feedbackType:a.isInputKeyInvalid?"error":void 0}))};var Pi;!function(e){e[e.initial=0]="initial",e[e.keyInput=1]="keyInput",e[e.keySuccess=2]="keySuccess",e[e.keyError=3]="keyError",e[e.keySuspended=4]="keySuspended"}(Pi||(Pi={}));const Ri="team_directory_sync_key_dialog_key_success_header",Ui="team_directory_sync_key_dialog_key_error_header",Bi=e=>{var t;const{translate:a}=(0,l.Z)(),[s,i]=n.useState(Pi.initial),o=()=>e.lee.globalState.directorySyncKey.checkDirectorySyncKeyRequest,c=()=>{e.lee.dispatchGlobal((0,wi.M2)())},d=()=>{e.lee.dispatchGlobal((0,wi.HK)())},u=()=>{e.lee.dispatchGlobal((0,wi.er)())},m=()=>{const t="directorySyncKeyValidationError",a=r.BLW.ERROR,n={key:t,level:a,textKey:"team_directory_sync_key_error_markup",handleClose:()=>e.lee.dispatchGlobal((0,$s.FV)(t))};e.lee.dispatchGlobal((0,$s.wN)(n)),d()},_=()=>{i(Pi.keyInput)},p=()=>{(()=>{const e=o();return e?(0,Va.QV)(e,"rejected"):Promise.reject(new Error("missing params"))})().then((()=>{i(Pi.keySuspended),u()})).catch(m)},g=()=>{i(Pi.keySuccess),u()},y=()=>{i(Pi.keyError)};switch(s){case Pi.initial:return n.createElement(zi,{onRequestClose:c,footer:n.createElement(r.cNS,{primaryButtonTitle:a("team_directory_sync_key_dialog_initial_continue"),primaryButtonOnClick:_,secondaryButtonTitle:a("team_directory_sync_key_dialog_initial_postpone"),secondaryButtonOnClick:c,intent:"primary"})},n.createElement("p",{className:Li},a.markup("team_directory_sync_key_dialog_initial_message_markup")));case Pi.keyInput:return t||n.createElement(ji,{onSubmitKeySuccess:g,onSubmitKeyError:y,checkDirectorySyncKeyRequest:o,handleDismiss:c,handleError:m});case Pi.keySuccess:return n.createElement(zi,{onRequestClose:d,footer:n.createElement(r.cNS,{secondaryButtonTitle:a("team_directory_sync_key_dialog_key_success_close"),secondaryButtonOnClick:d})},n.createElement("div",{className:Oe()(Ai,"success--TaIlsjKW_U")},n.createElement("div",{className:"iconSuccessWrapper--sE1yDBO_VA"},n.createElement("img",{src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iOTciIGhlaWdodD0iOTciIHZpZXdCb3g9IjAgMCA5NyA5NyIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8cGF0aCBkPSJNNDQuMzc5OCA1OS4wODgyTDY0Ljc0NzQgMzguMDM3OUw2MS4xNTQxIDM0LjU2MTFMNDQuNDMwOSA1MS44NDQ5TDM3LjA4NjcgNDQuMDM3NEwzMy40NDQ4IDQ3LjQ2MzJMNDQuMzc5OCA1OS4wODgyWiIgZmlsbD0iIzIwQjQyMiIvPgogIDxwYXRoIGQ9Ik02OS4xODk4IDc2Ljc0ODVDNjMuMzk0MiA4MS4wMDI5IDU2LjI0MDYgODMuNTE1NiA0OC41IDgzLjUxNTZDMjkuMTcgODMuNTE1NiAxMy41IDY3Ljg0NTYgMTMuNSA0OC41MTU2QzEzLjUgMjkuMTg1NyAyOS4xNyAxMy41MTU2IDQ4LjUgMTMuNTE1NkM2Ny44MyAxMy41MTU2IDgzLjUgMjkuMTg1NyA4My41IDQ4LjUxNTZDODMuNSA1Ni4yNTY1IDgwLjk4NyA2My40MTA0IDc2LjczMjQgNjkuMjA2Mkw4MC4zMDQyIDcyLjc3OEM4NS40NDU4IDY2LjA0ODMgODguNSA1Ny42Mzg2IDg4LjUgNDguNTE1NkM4OC41IDI2LjQyNDIgNzAuNTkxNCA4LjUxNTYyIDQ4LjUgOC41MTU2MkMyNi40MDg2IDguNTE1NjIgOC41IDI2LjQyNDIgOC41IDQ4LjUxNTZDOC41IDcwLjYwNyAyNi40MDg2IDg4LjUxNTYgNDguNSA4OC41MTU2QzU3LjYyMjcgODguNTE1NiA2Ni4wMzIxIDg1LjQ2MTcgNzIuNzYxNiA4MC4zMjA0TDY5LjE4OTggNzYuNzQ4NVoiIGZpbGw9IiMyMEI0MjIiLz4KPC9zdmc+Cg==",className:ki,alt:a(Ri)})),n.createElement("div",{className:"successContent--UqIINdh92d"},n.createElement("h1",{className:Oi},a(Ri)),n.createElement("p",{className:Li},a("team_directory_sync_key_dialog_key_success_message")))));case Pi.keyError:return n.createElement(zi,{onRequestClose:d,footer:n.createElement(r.cNS,{primaryButtonTitle:a("team_directory_sync_key_dialog_key_error_validate"),primaryButtonOnClick:p,secondaryButtonTitle:a("team_directory_sync_key_dialog_key_error_retry"),secondaryButtonOnClick:_,intent:"danger"})},n.createElement("div",{className:Oe()(Ai,"error--xPuuSFwgXo")},n.createElement("div",{className:"iconErrorWrapper--IOX6ttNhX_"},n.createElement("img",{src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iOTciIGhlaWdodD0iOTciIHZpZXdCb3g9IjAgMCA5NyA5NyIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8cGF0aCBkPSJNNDguNSA4My41MTU5QzU2LjI0MDYgODMuNTE1OSA2My4zOTQyIDgxLjAwMzEgNjkuMTg5OCA3Ni43NDg4TDcyLjc2MTYgODAuMzIwNkM2Ni4wMzIxIDg1LjQ2MTkgNTcuNjIyNyA4OC41MTU5IDQ4LjUgODguNTE1OUMyNi40MDg2IDg4LjUxNTkgOC41IDcwLjYwNzMgOC41IDQ4LjUxNTlDOC41IDI2LjQyNDUgMjYuNDA4NiA4LjUxNTg3IDQ4LjUgOC41MTU4N0M3MC41OTE0IDguNTE1ODcgODguNSAyNi40MjQ1IDg4LjUgNDguNTE1OUM4OC41IDU3LjYzODkgODUuNDQ1OCA2Ni4wNDg2IDgwLjMwNDIgNzIuNzc4Mkw3Ni43MzI0IDY5LjIwNjRDODAuOTg3IDYzLjQxMDcgODMuNSA1Ni4yNTY3IDgzLjUgNDguNTE1OUM4My41IDI5LjE4NTkgNjcuODMgMTMuNTE1OSA0OC41IDEzLjUxNTlDMjkuMTcgMTMuNTE1OSAxMy41IDI5LjE4NTkgMTMuNSA0OC41MTU5QzEzLjUgNjcuODQ1OCAyOS4xNyA4My41MTU5IDQ4LjUgODMuNTE1OVoiIGZpbGw9IiNGRjAwMkQiLz4KICA8cGF0aCBkPSJNNTcuNTU1NSAzNi41MTU5TDYwLjUwMDUgMzkuNDYwOEw1MS40NDU0IDQ4LjUxNTlMNjAuNTAwNSA1Ny41NzA5TDU3LjU1NTUgNjAuNTE1OUw0OC41MDA1IDUxLjQ2MDhMMzkuNDQ1NCA2MC41MTU5TDM2LjUwMDUgNTcuNTcwOUw0NS41NTU1IDQ4LjUxNTlMMzYuNTAwNSAzOS40NjA4TDM5LjQ0NTQgMzYuNTE1OUw0OC41MDA1IDQ1LjU3MDlMNTcuNTU1NSAzNi41MTU5WiIgZmlsbD0iI0ZGMDAyRCIvPgo8L3N2Zz4K",className:ki,alt:a(Ui)})),n.createElement("div",{className:"errorContent--iTxSajtDeU"},n.createElement("h1",{className:Oi},a(Ui)),n.createElement("p",{className:Li},a("team_directory_sync_key_dialog_key_error_message")))));case Pi.keySuspended:return n.createElement(zi,{onRequestClose:d,footer:n.createElement(r.cNS,{secondaryButtonTitle:a("team_directory_sync_key_dialog_key_suspended_close"),secondaryButtonOnClick:d})},n.createElement("p",{className:Li},a.markup("team_directory_sync_key_dialog_key_suspended_message_markup")))}};var Gi=a(857323),Fi=a(428694);const Vi=()=>{var e;const{translate:t}=(0,l.Z)(),{queue:a,popAlertFromQueue:s}=Fe(),i=()=>{s()},[o]=a;return o?n.createElement(je.o,{isOpen:!0,onRequestClose:i,footer:n.createElement(r.cNS,{secondaryButtonTitle:null!=(e=o.okButtonLabel)?e:t("_common_alert_dismiss_button"),secondaryButtonOnClick:i}),title:o.title},n.createElement("div",null,o.message)):null},$i=({lee:e,notificationKey:t,buttonTextKey:a,level:n,redirectPath:s,onClickButton:r,keyParams:o,notificationName:l})=>{const c={key:t,level:n,textKey:t,buttonTextKey:a,keyParams:o,handleClose:()=>{e.dispatchGlobal((0,$s.FV)(t)),l&&H.C.markNotificationAsSeen(l)}};s&&(c.handleLinkClick=a=>{a.preventDefault(),(0,ze.Tx)(s)?(0,ze.Yk)(s,{type:"",action:""}):(e.dispatchGlobal((0,$s.FV)(t)),(0,i.uX)(s))}),r&&(c.handleButtonClick=()=>{r()}),e.dispatchGlobal((0,$s.wN)(c))},Wi="TRIAL_PERIOD_0_15D",Hi="GRACE_PERIOD_TRIAL",Qi="GRACE_PERIOD_PAID",Yi="ENABLE_RECOVERY",qi="ADD_ADMINS",Ki="TAC_IN_EXTENSION",Xi={notification:"notification--JlZi_NwcwA"},Ji=({level:e=r.BLW.SUCCESS,text:t,buttonTextKey:a,onClose:s,onLinkClick:i,onClickButton:o})=>{const c=n.useRef(null),{translate:d}=(0,l.Z)(),u=(0,n.useCallback)((e=>{if(!i)return;const t=e.target;t&&"a"===t.tagName.toLowerCase()&&i(e)}),[i]);return(0,n.useEffect)((()=>{if(!c||!c.current)return;const e=c.current;return e.addEventListener("click",u),()=>{e.removeEventListener("click",u)}}),[u]),n.createElement("div",{className:Xi.notification},n.createElement(r.bZj,{severity:e,size:r.k3y.SMALL,showIcon:!0,closeIconName:d("_common_alert_dismiss_button"),onClose:s,onAction:o||void 0,actionText:a||void 0},n.createElement("span",{ref:c,className:Xi.text},t)))},er=({notifications:e})=>{const{translate:t}=(0,l.Z)();return n.createElement("div",{className:"notifications--SCKfre7VSM"},e.map((e=>n.createElement(Ji,{key:e.key,level:e.level,text:(0,ae.t5)(e.textKey)?t.markup(e.textKey,e.keyParams):t(e.textKey),buttonTextKey:e.buttonTextKey?t(e.buttonTextKey):void 0,onClose:e.handleClose,onLinkClick:e.handleLinkClick,onClickButton:e.handleButtonClick}))))};var tr=a(884076),ar=a(599943);var nr,sr;const ir=e=>{const[t,a]=n.useState([]),[s,i]=n.useState(!1);(0,tr._)();const o=(0,Le.a)(e.lee.dispatchGlobal),l=n.useCallback((t=>{t&&(async({lee:e,teamStatus:t,showTacInExtension:a,translate:n})=>{const s=(({lee:e,teamStatus:t,showTacInExtension:a})=>{const n=new Set;a&&n.add(Ki),t.isGracePeriod&&t.isFreeTrial&&n.add(Hi),t.isGracePeriod&&!t.isFreeTrial&&n.add(Qi),t.isFreeTrial&&!t.isGracePeriod&&((0,zn.Z)((0,tn.Z)(t.nextBillingDetails.dateUnix),(0,jn.Z)(new Date,0))<15?n.add("TRIAL_PERIOD_15_30D"):n.add(Wi)),t.info.recoveryEnabled||t.info.ssoEnabled||n.add(Yi);const s=(0,Ie.ev)(e.globalState)||0,i=e.carbon.spaceData.spaces.find((e=>s===+e.teamId));return i&&i.details.teamAdmins.length<=1&&n.add(qi),n})({lee:e,teamStatus:t,showTacInExtension:a});e.dispatchGlobal((0,$s.L1)());const i=e.permission.adminAccess.hasFullAccess,o=await H.C.getNotificationStatus();s.has(Ki)&&o.tacGetTheExtensionBanner===rt.NotificationStatus.Unseen&&Gi.Xh.isSafari(),s.has(Hi)&&(({lee:e,spaceTier:t,translate:a})=>{const n=(0,Me.Uo)({tier:t,translate:a});$i({lee:e,notificationKey:"team_notifications_free_trial_grace_period_markup",keyParams:{planTier:n},level:r.BLW.ERROR,redirectPath:e.routes.teamAccountRoutePath})})({lee:e,spaceTier:t.planTier,translate:n}),s.has(Qi)&&(e=>{$i({lee:e,notificationKey:"team_notifications_renewal_grace_period_markup",level:r.BLW.ERROR,redirectPath:e.routes.teamAccountRoutePath})})(e),i&&(s.has(Yi)&&o.tacEnableAccountRecoveryBanner===rt.NotificationStatus.Unseen&&(e=>{const t=`${e.routes.teamSettingsRoutePath}/master-password-policies`;$i({lee:e,notificationKey:"team_notifications_enable_account_recovery_markup",level:r.BLW.WARNING,redirectPath:t,notificationName:rt.NotificationName.TacEnableAccountRecoveryBanner})})(e),s.has(qi)&&o.tacOnlyOneAdminBanner===rt.NotificationStatus.Unseen&&(e=>{const t=e.routes.teamAccountRoutePath;$i({lee:e,notificationKey:"team_notifications_add_admins_markup",level:r.BLW.WARNING,redirectPath:t,notificationName:rt.NotificationName.TacOnlyOneAdminBanner})})(e)),s.has(Wi)&&(({lee:e,spaceTier:t,translate:a})=>{const n=(0,Me.Uo)({tier:t,translate:a});$i({lee:e,notificationKey:"team_notifications_free_trial_D0_T15_markup",keyParams:{planTier:n},level:r.BLW.SUCCESS,redirectPath:e.routes.teamAccountRoutePath})})({lee:e,spaceTier:t.planTier,translate:n})})({lee:e.lee,teamStatus:t,showTacInExtension:!1,translate:e.lee.translate})}),[]),c=()=>{const t=e.lee.globalState.carbon.loginStatus?.loggedIn,a=e.lee.globalState.user.session.login,n=e.lee.globalState.user.session.uki,s=e.lee.globalState.carbon.accountInfo?.premiumStatus,i=e.lee.globalState.user.session.permissions?.tacAccessPermissions;return t&&Boolean(a&&n)&&Boolean(s)&&Boolean(i)},d=()=>{const t=e.lee.globalState.user.session.permissions?.tacAccessPermissions;return Boolean(t?.size)};return n.useEffect((()=>{!c()||d()||o()}),[s]),n.useEffect((()=>{a([...e.lee.globalState.notifications.list,...function(e){const t=e.permission.adminAccess.hasFullAccess,a=e.globalState.directorySyncKey;return t&&a.validationPostponed?[{key:"directorySyncPosponedValidation",level:r.BLW.WARNING,textKey:"team_directory_sync_key_postponed_notif_markup",handleLinkClick:t=>{t.preventDefault(),e.dispatchGlobal((0,wi.b3)())},handleClose:()=>e.dispatchGlobal((0,wi.vg)())}]:[]}(e.lee),...function(e){const t=e.permission.adminAccess.hasFullAccess,a=e.globalState.ieNotifications;return t&&Gi.Xh.isInternetExplorer()&&a.displayIeDropNotification?[{key:"directorySyncPosponedValidation",level:r.BLW.WARNING,textKey:"wac_ie_drop_message_markup",handleClose:()=>e.dispatchGlobal((0,Fi.w)())}]:[]}(e.lee)])}),[e.lee.globalState.ieNotifications,e.lee.globalState.directorySyncKey,e.lee.globalState.notifications.list]),n.useEffect((()=>{const t=(0,_a.v0)(e.lee.globalState);t&&(new ma.Z).status({auth:t}).then((e=>{if(200!==e.code)return;const{content:{team:t}}=e;l(t)})).catch()}),[e.lee.globalState.user.session.uki]),c()&&d()?n.createElement(Ge,{globalReportError:e.lee.reportError},n.createElement(ar.qc,{lee:e.lee},n.createElement(_t,null,n.createElement("div",null,e.children,sr||(sr=n.createElement(Vi,null)),n.createElement(er,{notifications:t}),e.lee.globalState.directorySyncKey.displayDialog?n.createElement(Bi,{lee:e.lee}):null,n.createElement("div",{className:"alertPopup--S9uF3SnYTj",id:"alert-popup-portal"}))))):nr||(nr=n.createElement("div",null))},rr=1589932800;let or;!function(e){e[e.AllTime=0]="AllTime",e[e.Last7Days=1]="Last7Days",e[e.Last30Days=2]="Last30Days"}(or||(or={}));const lr=e=>{const t=e.toFixed(1),a=e.toFixed();return parseFloat(a)-parseFloat(t)==0?a:t},cr=({showPasswordHealthScore:e,securityIndex:t,shieldSize:a})=>{let s="";return e?(s=t>=80?Ht()["--accessible-validator-green"]:t>=40?Ht()["--orange-00"]:Ht()["--red-00"],t>=60?n.createElement(n.Fragment,null,n.createElement(r.FjK,{size:a,color:s,viewBox:"5 5 40 40"}),`${lr(t)}%`):n.createElement(n.Fragment,null,n.createElement(r.sQG,{size:a,color:s,viewBox:"5 5 40 40"}),`${lr(t)}%`)):(s=Ht()["--dash-green-00"],n.createElement(n.Fragment,null,n.createElement(r.P2E,{size:a,color:s}),"-"))},dr="value--w9XKkttPDT",ur="link--nWXIzseKub";var mr;const _r=({title:e})=>(0,A.tZ)(r.ua7,{sx:{fontSize:2,maxWidth:"180px"},placement:"bottom",content:e},mr||(mr=(0,A.tZ)(r.uMt,{size:13,tabIndex:0}))),pr=({children:e})=>(0,A.tZ)(r.Zbd,{sx:{height:"132px",width:"232px",marginRight:"32px",flexShrink:"0",padding:"16px",overflow:"inherit"}},e),gr=({passwordHealth:e,seats:t,passwordHealthHistoryEmpty:a})=>{const{translate:n}=(0,l.Z)(),{routes:s}=(0,zs.Xo)(),{compromised:r,securityIndex:o}=e,c=`${t.used}/${t.provisioned}`;return(0,A.tZ)("section",{className:"cardsRow--UeIGdGJnGY",sx:{display:"flex",justifyContent:"flex-start"}},(0,A.tZ)(pr,null,(0,A.tZ)("header",null,(0,A.tZ)("h1",null,n("team_dashboard_card_health_score")),(0,A.tZ)(_r,{title:n("team_dashboard_card_health_score_info")})),(0,A.tZ)("div",{className:dr},(0,A.tZ)(cr,{showPasswordHealthScore:!a,securityIndex:o,shieldSize:32}))),(0,A.tZ)(pr,null,(0,A.tZ)("header",null,(0,A.tZ)("h1",null,n("team_dashboard_card_compromised")),(0,A.tZ)(_r,{title:n("team_dashboard_card_compromised_info")})),(0,A.tZ)("div",{className:Oe()(dr,r?"compromised--m8LmAYo_e5":void 0)},r),r?(0,A.tZ)("footer",null,(0,A.tZ)(i.rU,{className:ur,to:s.teamMembersRoutePath},n("team_dashboard_card_compromised_details_link"))):null),(0,A.tZ)(pr,null,(0,A.tZ)("header",null,(0,A.tZ)("h1",null,n("team_dashboard_card_seats_taken")),(0,A.tZ)(_r,{title:n("team_dashboard_card_seats_taken_info")})),(0,A.tZ)("div",{className:Oe()(dr,{"fontSizeBigger--f83OiWuf4K":c.length>=8})},c),(0,A.tZ)("footer",null,(0,A.tZ)(i.rU,{className:ur,to:s.teamAccountRoutePath},n("team_dashboard_card_seats_buy_link")))),(0,A.tZ)(pr,null,(0,A.tZ)("header",null,(0,A.tZ)("h1",null,n("team_dashboard_card_pending_invitations")),(0,A.tZ)(_r,{title:n("team_dashboard_card_pending_invitations_info")})),(0,A.tZ)("div",{className:dr},t.pending),(0,A.tZ)("footer",null,(0,A.tZ)(i.rU,{className:ur,to:{pathname:s.teamMembersRoutePath,state:t.pending?{openResendPendingInvitationsDialog:!0}:{openSendInvitesDialog:!0}}},t.pending?n("team_dashboard_card_resend_invitations_link"):n("team_dashboard_card_send_invitations_link")))))};var yr=a(617615),hr=a(271327),br=a(101513),Sr=a(264441),vr=a(181037),Er=a(960377),Nr=a(433117),fr=a(440934),Cr=a(142094),Tr=a(174071),Mr=a(93443);const xr=(e,t,a)=>{const n=[];switch(e){case or.AllTime:{if(a>=5&&a<=8){t.forEach((e=>{const{date:t}=e;1===new Date(t).getDate()&&n.push(t)}));break}const{length:e}=t;if(e<=7){t.forEach((e=>{n.push(e.date)}));break}const s=e/7;let i=e-1;for(;i>=0;)n.push(t[Math.round(i)]?.date),i-=s;break}case or.Last7Days:t.forEach((e=>{n.push(e.date)}));break;case or.Last30Days:t.forEach((e=>{const{date:t}=e;0===new Date(t).getDay()&&n.push(t)}));break;default:(0,Tr.U)(e)}return n},Dr="legendItem--MoxC6xF4tG",Ir="legendIcon--p8Emm90xE4",Zr=({active:e,label:t,payload:a})=>{const{translate:s}=(0,l.Z)();if(!e)return null;const i=a?`${lr(a[0]?.value)}%`:null;return n.createElement("div",{className:"customTooltipContainer--iAM2rWgGzw"},n.createElement("time",{className:"date--JuYmIy6PnQ"},t),n.createElement("div",{className:"score--RRdFFcOQCh"},n.createElement("div",{className:Dr},n.createElement("div",{className:Ir}),n.createElement("p",null,s("team_dashboard_graph_score_hover_legend"))),n.createElement("p",null,i)))};var wr;const Ar=({history:e,passwordHealthHistoryEmpty:t})=>{const[a,s]=(0,n.useState)(or.AllTime),i=(e=>{const{length:t}=e;if(t<=2)return e;const a=(0,Nr.Z)(e[0].date),n=(0,Nr.Z)(e[t-1].date),s=(0,zn.Z)(n,a);if(s===t-1)return e;const i=[];let r=0,o=e[r].securityIndex,l=a,c=a;for(let t=0;t<=s;t++)(0,fr.Z)(c,l)?(i.push(e[r]),o=e[r].securityIndex,r++,l=(0,Nr.Z)(e[r]?.date)):i.push({date:c.toISOString().slice(0,10),securityIndex:o}),c=(0,Cr.Z)(c,1);return i})(e),o=((e,t)=>{switch(e){case or.AllTime:return t;case or.Last7Days:return t.slice(t.length-7,t.length);case or.Last30Days:return t.slice(t.length-30,t.length);default:(0,Tr.U)(e)}})(a,i),{translate:c}=(0,l.Z)();return(0,A.tZ)(n.Fragment,null,(0,A.tZ)("section",{className:Oe()("topSection--nM0XDipPte",{"addMarginTop--fLzJVO2qx1":t})},(0,A.tZ)("div",{className:Dr},(0,A.tZ)("div",{className:Ir}),(0,A.tZ)(r.nvN,{size:"x-small"},c("team_dashboard_graph_score_legend"))),(0,A.tZ)(r.G8v,null,i.length>7?(0,A.tZ)(r.yPU,{label:c("team_dashboard_graph_7_days_button"),selected:a===or.Last7Days,onClick:()=>{s(or.Last7Days)},size:"small"}):null,i.length>30?(0,A.tZ)(r.yPU,{label:c("team_dashboard_graph_30_days_button"),selected:a===or.Last30Days,onClick:()=>{s(or.Last30Days)},size:"small"}):null,(0,A.tZ)(r.yPU,{label:c("team_dashboard_graph_all_time_button"),selected:a===or.AllTime,onClick:()=>{i.length<=7||s(or.AllTime)},size:"small"}))),(0,A.tZ)("section",{sx:{width:"100%",height:"100px",flexGrow:1}},(0,A.tZ)(yr.h,{sx:{height:"100%",width:"100%"}},(0,A.tZ)(hr.w,{data:t?[]:o,sx:{position:"relative",right:"18px"}},wr||(wr=(0,A.tZ)(br.q,{vertical:!1})),(0,A.tZ)(Sr.B,{domain:[0,100],tickFormatter:e=>`${e}%`,fontSize:"small"}),(({historyToDisplay:e,passwordHealthHistoryEmpty:t,view:a})=>{const{translate:s}=(0,l.Z)(),i=0!==e.length?(e=>{const t=new Date,a=new Date(e);let n=12*(t.getFullYear()-a.getFullYear());return n-=a.getMonth(),n+=t.getMonth(),n+1})(e[0].date):0;return xr(a,e,i),n.createElement(Mr.K,{dataKey:"date",ticks:t?[]:xr(a,e,i),tickSize:4,tickFormatter:t?()=>"":e=>((e,t,a,n)=>{const s=t===or.AllTime&&a>=5,i=new Date(e),r=n.shortDate(i,s?ae._T.MMM:ae._T.L_M_D),o=n.shortDate(i,ae._T.MMMM);if(s)return r===o||r.endsWith(".")?r:`${r}.`;const[l,c]=r.split(" ");return l===o?r:`${l}. ${c}`})(e,a,i,s),fontSize:"small"})})({historyToDisplay:o,passwordHealthHistoryEmpty:t,view:a}),(0,A.tZ)(vr.u,{content:e=>{const t=c.shortDate((0,Nr.Z)(e.label),{year:"numeric",month:"long",day:"numeric",timeZone:"UTC"});return(0,A.tZ)(Zr,{...e,label:t})},animationDuration:500,animationEasing:"ease-out",cursor:!t}),(0,A.tZ)(Er.x,{dataKey:"securityIndex",stroke:"#0e6476",strokeWidth:"2",dot:!1,activeDot:{strokeWidth:0,r:4},animationDuration:500,isAnimationActive:!0})))))},Or=({isLoading:e,history:t,creationDateUnix:a,passwordHealthHistoryEmpty:n})=>{const{translate:s}=(0,l.Z)(),i=!e&&n,o=!e&&!n&&a<rr;return(0,A.tZ)("section",{sx:{padding:"3%",flexGrow:1,display:"flex",flexDirection:"column"}},(0,A.tZ)(r.X6q,{size:"x-small",sx:{marginBottom:"1%"}},s("team_dashboard_graph_heading")),i?(0,A.tZ)(r.vDh,{size:"small",sx:{marginBottom:"11px"},title:s("team_dashboard_graph_not_enough_data_warning",{minPasswords:5})}):null,o?(0,A.tZ)(r.vDh,{size:"small",sx:{marginBottom:"11px"},title:s("team_dashboard_graph_no_old_data_warning")}):null,(0,A.tZ)(Ar,{history:t,passwordHealthHistoryEmpty:n}))},kr=({title:e,value:t,color:a})=>(0,A.tZ)("div",{sx:{marginRight:"8px",minWidth:"70px"}},(0,A.tZ)("header",null,(0,A.tZ)("h1",null,e)),(0,A.tZ)("div",{sx:{fontSize:"x-large",fontWeight:"bold",color:a}},t)),Lr=({compromised:e,passwords:t,reused:a,safe:n,securityIndex:s,weak:i,passwordHealthHistoryEmpty:o})=>{const{translate:c}=(0,l.Z)();return(0,A.tZ)("section",{sx:{borderTop:`1px solid ${r.O9T.grey05}`,display:"flex",padding:"3% 2%"}},(0,A.tZ)("div",{sx:{width:"240px",padding:"0 24px",borderRight:`1px solid ${r.O9T.grey05}`}},(0,A.tZ)("header",null,(0,A.tZ)("h1",null,c("team_dashboard_password_health_breakdown_score"))),(0,A.tZ)("div",{sx:{fontSize:"x-large",fontWeight:"bold",display:"inline-flex","& > svg":{marginRight:"7px"}}},(0,A.tZ)(cr,{showPasswordHealthScore:!o,securityIndex:s,shieldSize:20}))),(0,A.tZ)("div",{sx:{display:"flex",justifyContent:"space-between",padding:"0 24px",width:"100%"}},(0,A.tZ)(kr,{title:c("team_dashboard_password_health_breakdown_total"),value:t}),(0,A.tZ)(kr,{title:c("team_dashboard_password_health_breakdown_safe"),value:n,color:n?r.O9T.accessibleValidatorGreen:void 0}),(0,A.tZ)(kr,{title:c("team_dashboard_password_health_breakdown_weak"),value:i,color:i?r.O9T.orange00:void 0}),(0,A.tZ)(kr,{title:c("team_dashboard_password_health_breakdown_reused"),value:a,color:a?r.O9T.orange00:void 0}),(0,A.tZ)(kr,{title:c("team_dashboard_password_health_breakdown_compromised"),value:e,color:e?r.O9T.accessibleValidatorRed:void 0})))},zr=({isLoading:e,report:t,passwordHealthHistoryEmpty:a,creationDateUnix:n})=>(0,A.tZ)(r.Zbd,{sx:{height:"100%",display:"flex",flexDirection:"column"}},(0,A.tZ)(Or,{isLoading:e,history:t.passwordHealthHistory,passwordHealthHistoryEmpty:a,creationDateUnix:n}),(0,A.tZ)(Lr,{...t.passwordHealth,passwordHealthHistoryEmpty:a})),jr="https://support.dashlane.com/hc/articles/4507132108946",Pr={HEADING:"team_dashboard_dark_web_insights_heading",SECURITY_INCIDENTS:{LABEL:"team_dashboard_dark_web_insights_security_incidents",TOOLTIP:"team_dashboard_dark_web_insights_security_incidents_tooltip"},EMAILS_AFFECTED:{LABEL:"team_dashboard_dark_web_insights_emails_affected",TOOLTIP:"team_dashboard_dark_web_insights_emails_affected_tooltip"},SUGGESTED_INVITATION:{LABEL:"team_dashboard_dark_web_insights_suggested_invitations",TOOLTIP:"team_dashboard_dark_web_insights_suggested_invitations_tooltip"},RETURNING_USER_CTA:"team_dashboard_dark_web_insights_go_to_cta",RETURNING_USER_VIEW_DOMAIN_GUIDE_CTA:"team_dashboard_dark_web_insights_view_guide_cta",UNVERIFIED_MSG:"team_dashboard_dark_web_insights_domain_unverified_msg",UNVERIFIED_SUBTEXT:"team_dashboard_dark_web_insights_domain_unverified_sub_text",INCIDENT_FREE_MSG:"team_dashboard_dark_web_insights_domain_incident_free_msg",INCIDENT_FREE_SUBTEXT:"team_dashboard_dark_web_insights_domain_incident_free_sub_text",GENERATING_INSIGHTS_MESSAGE:"team_dashboard_dark_web_insights_generating_msg",NEW_INCIDENTS_NOTIFICATION_MSG:{ONE:"team_dashboard_dark_web_insights_notify_new_incidents_one",MANY:"team_dashboard_dark_web_insights_notify_new_incidents_many"},TEAM_NEW_LABEL:"team_new_label"},Rr=({count:e,labelAndTooltip:t,primaryColor:a,secondaryColor:n})=>{const{translate:s}=(0,l.Z)();return(0,A.tZ)(r.Ejs,{gap:"6px",sx:{margin:"16px 0"}},(0,A.tZ)(r.X6q,{size:"x-small",color:a,sx:{width:"44px"}},e),(0,A.tZ)(r.ua7,{sx:{fontSize:2,maxWidth:"180px"},placement:"top",content:s(t.TOOLTIP)},(0,A.tZ)(r.nvN,{"aria-label":s(t.LABEL),size:"small",sx:{minWidth:"calc(100% - 70px)",width:"min-content"},color:null!=n?n:a},s(t.LABEL)),(0,A.tZ)(r.uMt,{size:13,tabIndex:0,color:null!=n?n:a})))},Ur=({children:e})=>(0,A.tZ)(r.Zbd,{sx:{minHeight:"418px",width:"282px"}},(0,A.tZ)(r.Ejs,{sx:{minHeight:"418px",padding:"20px"},flexDirection:"column",justifyContent:"space-between",alignItems:"start"},e)),Br=({text:e,subtext:t,imgSrc:a})=>(0,A.tZ)(n.Fragment,null,(0,A.tZ)("img",{src:a}),(0,A.tZ)(r.nvN,{size:"medium",bold:!0,sx:{marginBottom:"8px"}},e),(0,A.tZ)(r.nvN,{size:"small",color:r.O9T.grey00},t)),Gr=({domain:e})=>(0,A.tZ)(r.nvN,{size:"x-small",bold:!0,sx:{padding:"4px 8px",backgroundColor:`${r.O9T.dashGreen06}`,borderRadius:"4px",width:"fit-content",height:"24px",marginBottom:"34px"}},e),Fr=({newLeaksCount:e,newLeaksAffectedEmailCount:t})=>{const{translate:a}=(0,l.Z)(),{setHasNewBreaches:s}=pt();(0,n.useEffect)((()=>{e>0&&s(!0)}),[e,s]);const i=e>1?Pr.NEW_INCIDENTS_NOTIFICATION_MSG.MANY:Pr.NEW_INCIDENTS_NOTIFICATION_MSG.ONE;return e>0?(0,A.tZ)(r.Ejs,{flexDirection:"row",sx:{backgroundColor:r.O9T.pink05,borderRadius:"4px",padding:"5px 8px",marginTop:"25px"}},(0,A.tZ)(r.nvN,{size:"small",color:r.O9T.red00,sx:{width:"calc(100% - 5px)"}},a(i,{numIncidents:e,count:t})),(0,A.tZ)(r.P_k,{dot:!0,ariaLabel:a(Pr.TEAM_NEW_LABEL)})):null},Vr=({domainInfo:e})=>{const t=e.leaksCount,a=e.emailsImpactedCount,s=e.emailsImpactedCount-e.teamMembersImpactedCount;return(0,A.tZ)(n.Fragment,null,(0,A.tZ)(Rr,{count:t,labelAndTooltip:Pr.SECURITY_INCIDENTS,primaryColor:r.O9T.dashGreen00,secondaryColor:r.O9T.dashGreen01}),(0,A.tZ)(Rr,{count:a,labelAndTooltip:Pr.EMAILS_AFFECTED,primaryColor:r.O9T.dashGreen00,secondaryColor:r.O9T.dashGreen01}),(0,A.tZ)(Rr,{count:s,labelAndTooltip:Pr.SUGGESTED_INVITATION,primaryColor:r.O9T.dashGreen00,secondaryColor:r.O9T.dashGreen01}),(0,A.tZ)(Fr,{newLeaksCount:e.newLeaksCount,newLeaksAffectedEmailCount:e.newLeaksAffectedEmailCount}))},$r=({domainName:e,domainInfo:t})=>{const{translate:a}=(0,l.Z)(),{routes:s}=(0,zs.Xo)();return(0,A.tZ)(n.Fragment,null,(0,A.tZ)("section",{sx:{width:"100%"}},(0,A.tZ)(Gr,{domain:e}),t.leaksCount>0?(0,A.tZ)(Vr,{domainInfo:t}):(0,A.tZ)(Br,{imgSrc:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTIiIGhlaWdodD0iNTIiIHZpZXdCb3g9IjAgMCA1MiA1MiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGcgY2xpcC1wYXRoPSJ1cmwoI2NsaXAwXzMxMTNfMTkwOTY0KSI+CjxyZWN0IHdpZHRoPSI1MiIgaGVpZ2h0PSI1MiIgcng9IjI2IiBmaWxsPSIjRDlERkUwIi8+CjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNMjAuNzIxOSAxMy40NzMzQzE0LjI4MjEgMTQuMjgxNiA5LjcxNjc2IDIwLjE1NzMgMTAuNTI1IDI2LjU5NzJMMTEuMTk1MyAzMS45MzgxTDcuOTg0NDUgMzIuMzQxMUM2Ljg4ODQ4IDMyLjQ3ODYgNi4xMTE1MiAzMy40Nzg2IDYuMjQ5MDggMzQuNTc0Nkw5LjE2NTA4IDU3LjgwOEM5LjMwMjYzIDU4LjkwNCAxMC4zMDI2IDU5LjY4MDkgMTEuMzk4NiA1OS41NDM0TDQwLjI5OTIgNTUuOTE2MUM0MS4zOTUyIDU1Ljc3ODYgNDIuMTcyMSA1NC43Nzg2IDQyLjAzNDYgNTMuNjgyNkwzOS4xMTg2IDMwLjQ0OTJDMzguOTgxIDI5LjM1MzIgMzcuOTgxIDI4LjU3NjIgMzYuODg1MSAyOC43MTM4TDM0LjUxNjEgMjkuMDExMUwzMy44NDU4IDIzLjY3MDJDMzMuMDM3NiAxNy4yMzA0IDI3LjE2MTggMTIuNjY1MSAyMC43MjE5IDEzLjQ3MzNaTTE0LjE3NjUgMjYuNjYxTDE0Ljc4MjQgMzEuNDg3OUwzMC45Mjc1IDI5LjQ2MTVMMzAuMzIxNyAyNC42MzQ2QzI5Ljc2MjIgMjAuMTc2MiAyNS42OTQzIDE3LjAxNTYgMjEuMjM2IDE3LjU3NTJDMTYuNzc3NiAxOC4xMzQ4IDEzLjYxNyAyMi4yMDI2IDE0LjE3NjUgMjYuNjYxWk00Ni43NzUzIDE4LjY1ODZMNDAuNDg1NiAyMi42MTkzTDQxLjkxMTEgMjQuODgyOUw0OC4yMDA3IDIwLjkyMjJMNDYuNzc1MyAxOC42NTg2Wk00My4xODE2IDI3LjI3NjRMNDcuMDcxNyAyNy4zNjhMNDcuMDEwMyAyOS45Nzc3TDQzLjEyMDIgMjkuODg2MUw0My4xODE2IDI3LjI3NjRaTTM3LjQ1NiAxNS43NDIyTDM2LjA3NyAyMC42Nzc3TDM4LjgxNzQgMjEuNDQzNEw0MC4xOTY0IDE2LjUwNzlMMzcuNDU2IDE1Ljc0MjJaIiBmaWxsPSIjMEUzNTNEIi8+CjwvZz4KPGRlZnM+CjxjbGlwUGF0aCBpZD0iY2xpcDBfMzExM18xOTA5NjQiPgo8cmVjdCB3aWR0aD0iNTIiIGhlaWdodD0iNTIiIHJ4PSIyNiIgZmlsbD0id2hpdGUiLz4KPC9jbGlwUGF0aD4KPC9kZWZzPgo8L3N2Zz4K",text:a(Pr.INCIDENT_FREE_MSG,{domainName:e}),subtext:a(Pr.INCIDENT_FREE_SUBTEXT)})),(0,A.tZ)(i.rU,{to:s.teamDarkWebInsightsRoutePath,sx:{textDecoration:"none",color:`${r.O9T.midGreen00}`,marginBottom:"16px","&:hover":{textDecoration:"underline"}},onClick:()=>{(0,q.K)(new G.UserOpenDomainDarkWebMonitoringEvent({accessPath:G.AccessPath.MainDashboardButton,isFirstVisit:!1}))}},a(Pr.RETURNING_USER_CTA)))},Wr=({domainName:e})=>{const{translate:t}=(0,l.Z)();return(0,A.tZ)(n.Fragment,null,(0,A.tZ)("section",{sx:{width:"100%"}},(0,A.tZ)(Gr,{domain:e}),(0,A.tZ)(Br,{imgSrc:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTMiIGhlaWdodD0iNTMiIHZpZXdCb3g9IjAgMCA1MyA1MyIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjUzIiBoZWlnaHQ9IjUzIiByeD0iMjYuNSIgZmlsbD0iI0Q5REZFMCIvPgo8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTI2LjgwMDQgMTMuNzUzN0wyNi45NjE2IDEzLjEwOTFDMjcuNjA2MiAxMC42MTEzIDI5Ljg2MjIgOSAzMi4zNjAxIDlDMzUuMzQxMyA5IDM4IDExLjQxNzMgMzggMTQuNDc4OUMzOCAxNi45NzY4IDM2LjMwNzkgMTkuMDcxNiAzMy45NzEyIDE5LjcxNjRWMjAuNzY0SDMwLjc0ODJWMTguODMwM0MzMC43NDgyIDE3Ljc4MjcgMzEuNTU0IDE2LjgxNiAzMi42ODE5IDE2LjczNTRDMzMuODA5OSAxNi41NzQyIDM0Ljc3NjggMTUuNjg3OSAzNC43NzY4IDE0LjQ3OTRDMzQuNzc2OCAxMy4xOTAyIDMzLjY0ODkgMTIuMjIzMyAzMi4zNTk1IDEyLjIyMzNDMzEuMjMxNiAxMi4yMjMzIDMwLjM0NTMgMTIuODY3OSAzMC4wMjI5IDEzLjkxNTRMMjkuODYxNyAxNC41NTk5TDI2LjggMTMuNzU0MkwyNi44MDA0IDEzLjc1MzdaTTM0LjM3NDQgMjMuNzQ1NUMzNC4zNzQ0IDI0Ljg1OCAzMy40NzI2IDI1Ljc2IDMyLjM2MDEgMjUuNzZDMzEuMjQ3NiAyNS43NiAzMC4zNDU2IDI0Ljg1OCAzMC4zNDU2IDIzLjc0NTVDMzAuMzQ1NiAyMi42MzMgMzEuMjQ3NiAyMS43MzEzIDMyLjM2MDEgMjEuNzMxM0MzMy40NzI2IDIxLjczMTMgMzQuMzc0NCAyMi42MzMgMzQuMzc0NCAyMy43NDU1Wk0zNi44NzkxIDM0LjYzMzlDMzYuODc5MSAzMi42MTggMzYuNDE5MyAzMC42ODU5IDM1LjU0MTMgMjguODhMMzEuNjk1OCAyOC44OEwzMi4xOTczIDI5LjcxOTlDMzIuODI0MiAzMC43Njk5IDMzLjIwMDQgMzEuOTAzOSAzMy40MDk0IDMzLjA3OTlMMjkuMzEyOSAzMy4wNzk5QzI5LjI3MTIgMzAuOTggMjguOTc4NCAyOC44OCAyOC41MTg2IDI2LjgyMTlDMjcuNTk4OSAyMy4xNjgxIDI1LjkyNjkgMjEuMzIgMjMuNTAyNCAyMS4zMkMxNi4xMDMyIDIxLjI3OCAxMC4wNDE5IDI3LjI4NDEgMTAuMDAwMiAzNC42NzU5QzkuOTU4NDIgNDIuMDY3NyAxNS44OTQzIDQ4LjE1NzkgMjMuMjkzMyA0OC4xOTk4SDIzLjYyNzhDMzEuMDI2NyA0OC4xMTU4IDM2Ljk2MjUgNDIuMDY3OSAzNi44NzkxIDM0LjYzMzlaTTIxLjAzNjEgMzYuNDRMMjUuOTY4NiAzNi40NEMyNS43NTk1IDQxLjIyNzkgMjQuNzU2NSA0NC44Mzk5IDIzLjUwMjMgNDQuODM5OUMyMi4yNDgyIDQ0LjgzOTkgMjEuMjQ1MSA0MS4yMjc5IDIxLjAzNjEgMzYuNDRaTTIzLjUwMjMgMjQuNjgwM0MyNC43NTY1IDI0LjY4MDMgMjUuNzU5NSAyOC4zMzQyIDI1Ljk2ODYgMzMuMDgwMkgyMS4wMzYxQzIxLjI0NTIgMjguMzM0MiAyMi4yNDgyIDI0LjY4MDMgMjMuNTAyMyAyNC42ODAzWk0xNy42OTE3IDMzLjA4MDJMMTMuNjM2OSAzMy4wODAzQzE0LjA5NjcgMzAuMTQwMSAxNS44OTQxIDI3LjUzNjIgMTguNDg2IDI2LjAyNDJMMTguNzM2OCAyNS44OTgyQzE4LjY1MzEgMjYuMTkyMyAxOC41Njk3IDI2LjQ4NjIgMTguNDg2IDI2LjgyMjJDMTguMDI2MiAyOC44ODAzIDE3LjczMzQgMzAuOTgwMyAxNy42OTE3IDMzLjA4MDJaTTE4LjQ4NiA0Mi42OTgyQzE4LjU2OTcgNDMuMDM0MiAxOC42NTMxIDQzLjMyOCAxOC43MzY4IDQzLjYyMjFMMTguNzM2OCA0My42MjIyQzE3LjEwNjUgNDIuNzQwMSAxNS43MjcgNDEuNDM4MiAxNC44NDkgMzkuODAwMkMxNC4yMjIxIDM4Ljc1MDIgMTMuODQ1OSAzNy42MTYxIDEzLjYzNjkgMzYuNDQwMUgxNy42OTE3QzE3LjczMzQgMzguNTQwMSAxOC4wMjYyIDQwLjY0MDEgMTguNDg2IDQyLjY5ODJaTTI5LjMxMjggMzYuNDQwMUwzMy4zNjc2IDM2LjQ0QzMyLjkwNzggMzkuNDIyMSAzMS4xMTA0IDQxLjk4NDEgMjguNTE4NCA0My40OTYxTDI4LjI2NzcgNDMuNjIyMUMyOC4zNTE0IDQzLjMyOCAyOC40MzQ4IDQzLjAzNDEgMjguNTE4NCA0Mi42OTgxQzI4Ljk3ODMgNDAuNjQgMjkuMjcxMSAzOC41NCAyOS4zMTI4IDM2LjQ0MDFaIiBmaWxsPSIjMEUzNTNEIi8+Cjwvc3ZnPgo=",text:t(Pr.UNVERIFIED_MSG),subtext:t(Pr.UNVERIFIED_SUBTEXT)})),(0,A.tZ)(r.rUS,{sx:{textDecoration:"none",fontWeight:"lighter",marginBottom:"16px","&:hover":{textDecoration:"underline"}},color:r.O9T.midGreen00,target:"_blank",rel:"noopener noreferrer",href:jr,onClick:()=>{(0,q.K)(new G.UserOpenHelpCenterEvent({helpCenterArticleCta:G.HelpCenterArticleCta.ViewDomainVerificationGuide}))}},t(Pr.RETURNING_USER_VIEW_DOMAIN_GUIDE_CTA)))},Hr=({domainName:e})=>{const{translate:t}=(0,l.Z)();return(0,A.tZ)(n.Fragment,null,(0,A.tZ)(Gr,{domain:e}),(0,A.tZ)(r.HoD,{size:44,color:r.O9T.dashGreen00,sx:{alignSelf:"center"}}),(0,A.tZ)(r.nvN,{size:"small",color:r.O9T.grey00,sx:{marginBottom:"3em",overflow:"hidden",width:"-webkit-fill-available"}},t(Pr.GENERATING_INSIGHTS_MESSAGE)))},Qr=({verifiedOrPendingDomain:e,dwiSummaryResponse:t})=>{const{translate:a}=(0,l.Z)(),n=e.status===rt.DomainStatus.valid,s=e.name;return(0,A.tZ)(Ur,null,(0,A.tZ)(r.X6q,{size:"x-small"},a(Pr.HEADING)),n?t?.success?(0,A.tZ)($r,{domainName:s,domainInfo:t.data[s]}):(0,A.tZ)(Hr,{domainName:s}):(0,A.tZ)(Wr,{domainName:s}))},Yr=a.p+"daa928a30146cfbef943.png";var qr,Kr;const Xr={TEAM_NEW_LABEL:"team_new_label",HEADING:"team_dashboard_dark_web_insights_discovery_heading",SUBTEXT:"team_dashboard_dark_web_insights_discovery_subtext",ALTERNATE_HEADING:"team_dashboard_dark_web_insights_discovery_heading_alternate",ALTERNATE_SUBTEXT:"team_dashboard_dark_web_insights_discovery_subtext_alternate",SECURITY_INCIDENTS:{LABEL:"team_dashboard_dark_web_insights_security_incidents",TOOLTIP:"team_dashboard_dark_web_insights_security_incidents_tooltip"},EMAILS_AFFECTED:{LABEL:"team_dashboard_dark_web_insights_emails_affected",TOOLTIP:"team_dashboard_dark_web_insights_emails_affected_tooltip"},GET_STARTED_CTA:"team_dashboard_dark_web_insights_discovery_get_started_cta"},Jr=()=>{const{translate:e}=(0,l.Z)(),{routes:t}=(0,zs.Xo)(),a=(0,i.k6)(),{unseen:n}=(0,ut.m)(rt.NotificationName.TacDarkWebInsightsNewBadge);return(0,A.tZ)(r.zxk,{type:"button",nature:"primary",key:"primary",onClick:()=>{(0,q.K)(new G.UserOpenDomainDarkWebMonitoringEvent({accessPath:G.AccessPath.MainDashboardButton,isFirstVisit:n})),a.push(t.teamDarkWebInsightsRoutePath)}},e(Xr.GET_STARTED_CTA))},eo=({data:e,companyName:t})=>{const{translate:a}=(0,l.Z)(),[n]=Object.keys(e),s=e[n];return(0,A.tZ)(Ur,null,(0,A.tZ)(r.Cts,{intent:"info"},a(Xr.TEAM_NEW_LABEL)),(0,A.tZ)(r.X6q,{size:"x-small",sx:{marginTop:"1em",width:"100%",overflow:"hidden"}},a(Xr.HEADING,{companyName:t})),(0,A.tZ)(r.nvN,{size:"small",color:r.O9T.grey00},a(Xr.SUBTEXT)),(0,A.tZ)("div",{sx:{backgroundColor:`${r.O9T.dashGreen06}`,padding:"2px 14px",width:"100%",borderRadius:"10px"}},(0,A.tZ)(Rr,{count:s.leaksCount,labelAndTooltip:Xr.SECURITY_INCIDENTS,primaryColor:r.O9T.dashGreen01}),(0,A.tZ)(Rr,{count:s.emailsImpactedCount,labelAndTooltip:Xr.EMAILS_AFFECTED,primaryColor:r.O9T.dashGreen01})),qr||(qr=(0,A.tZ)(Jr,null)))},to=({companyName:e})=>{const{translate:t}=(0,l.Z)();return(0,A.tZ)(Ur,null,(0,A.tZ)("div",{sx:{alignSelf:"end"}},(0,A.tZ)(r.Cts,{intent:"info"},t(Xr.TEAM_NEW_LABEL))),(0,A.tZ)("img",{sx:{backgroundColor:`${r.O9T.midGreen05}`,height:"122px",width:"122px",borderRadius:"50%",backgroundImage:`url(${Yr})`,backgroundRepeat:"no-repeat",backgroundSize:"cover",backgroundPositionX:"60%"}}),(0,A.tZ)(r.X6q,{size:"x-small",sx:{width:"100%"}},t(Xr.ALTERNATE_HEADING,{companyName:e})),(0,A.tZ)(r.nvN,{size:"small",color:r.O9T.grey00},t(Xr.ALTERNATE_SUBTEXT)),Kr||(Kr=(0,A.tZ)(Jr,null)))},ao=({dwiSummaryResponse:e})=>{var t;const{spaceDetails:a}=(0,ar.fV)(),n=null!=(t=a?.teamName)?t:"-";return e?.success?(0,A.tZ)(eo,{data:e.data,companyName:n}):(0,A.tZ)(to,{companyName:n})};let no;!function(e){e.Loading="loading",e.Start="start",e.Pending="pending",e.Validated="validated",e.Deactivating="deactivating"}(no||(no={}));const so=()=>{const[e,t]=(0,n.useState)({domain:null,status:no.Loading}),a=(0,n.useCallback)((async()=>{try{const e=await H.C.getTeamDomains();if(e.success&&e.domains.length){const a=e.domains.filter((e=>e.status===rt.DomainStatus.pending)),n=e.domains.filter((e=>e.status===rt.DomainStatus.valid));if(n.length){const e=n[0];t({domain:e,status:no.Validated})}else if(a.length){const e=a[a.length-1];t({domain:e,status:no.Pending})}else t({domain:e.domains[e.domains.length-1],status:no.Pending})}else t({domain:null,status:no.Start})}catch(e){t({domain:null,status:no.Start})}}),[]);return{verifiedOrPendingDomain:e,updateDomainState:a,deactivateDomain:async()=>{if(null!==e.domain){t((e=>({domain:e.domain,status:no.Deactivating})));try{(await H.C.deactivateTeamDomain({domain:e.domain.name})).success?t({domain:null,status:no.Start}):a()}catch(e){a()}}},tryVerifyDomain:async()=>{await H.C.completeTeamDomainRegistration(),await a()}}};var io,ro;const oo=()=>{const{translate:e}=(0,l.Z)();return(0,A.tZ)(r.Zbd,{sx:{padding:"16px",width:"286px",minHeight:"171px",flexDirection:"column",display:"flex",justifyContent:"space-evenly",alignItems:"flex-start"}},(0,A.tZ)(r.X6q,{size:"x-small"},e("team_breach_report_need_help")),(0,A.tZ)(r.rUS,{sx:{alignSelf:"center",mr:"auto"},color:r.O9T.midGreen00,target:"_blank",rel:"noopener noreferrer",href:"https://support.dashlane.com/hc/articles/5015658490514",onClick:()=>{(0,q.K)(new G.UserOpenHelpCenterEvent({helpCenterArticleCta:G.HelpCenterArticleCta.LearnAboutDarkWebInsights}))}},e("team_dark_web_insights_learn_more_txt")),(0,A.tZ)(r.rUS,{sx:{alignSelf:"center",mr:"auto"},color:r.O9T.midGreen00,target:"_blank",rel:"noopener noreferrer",href:jr,onClick:()=>{(0,q.K)(new G.UserOpenHelpCenterEvent({helpCenterArticleCta:G.HelpCenterArticleCta.LearnAboutDomainVerification}))}},e("team_breach_report_learn_domain_verification_txt")))},lo=({registerDomain:e=(()=>{}),disabled:t,registrationError:a,clearRegistrationErrors:s=(()=>{}),domainLoadError:i})=>{const{translate:o}=(0,l.Z)(),[c,d]=n.useState(""),u=i?"":o("team_settings_domain_url_placeholder");return n.createElement(n.Fragment,null,n.createElement("div",{className:"domainUrlInput--VQjVVbbN2d"},n.createElement(r.oil,{value:c,placeholder:u,fullWidth:!0,feedbackText:a,feedbackType:a?"error":void 0,onChange:e=>{a&&s(),d(e.target.value)},disabled:!!i||t}),i&&n.createElement("p",{className:"domainLoadErrorText--WEJL2Ne0Pt"},i)),n.createElement(r.zxk,{type:"button",className:Oe()("domainUrlButton--lFqlfJ3Gzv",{"domainLoadError--ajAHmgDUO9":i}),disabled:t,nature:"secondary",onClick:()=>e(c)},o("team_settings_domain_button_add")))},co=({domain:e,onConfirm:t,onDismiss:a})=>{const{translate:s}=(0,l.Z)(),[i,o]=(0,n.useState)(!1),c=(0,n.useRef)(!1);return(0,n.useEffect)((()=>()=>{c.current=!0}),[c]),(0,A.tZ)(je.o,{isOpen:!0,onRequestClose:a,footer:(0,A.tZ)(r.cNS,{primaryButtonTitle:s("team_settings_domain_deactivate_button_remove"),primaryButtonOnClick:async()=>{o(!0),await t(),c.current||(o(!1),a())},primaryButtonProps:{disabled:i},secondaryButtonTitle:s("team_settings_domain_deactivate_button_cancel"),secondaryButtonOnClick:a,intent:"primary"}),title:s("team_settings_domain_deactivate_title")},(0,A.tZ)("p",null,s.markup("team_settings_domain_deactivate_description_markup",{domainUrl:e.name})))},uo=({domain:e,deactivateDomain:t,isDisabled:a,disabledTooltipText:s})=>{const[i,o]=(0,n.useState)(!1);return(0,A.tZ)(n.Fragment,null,i?(0,A.tZ)(co,{domain:e,onConfirm:t,onDismiss:()=>o(!1)}):null,(0,A.tZ)("div",{className:"deactivateTrashcan--nLkrRLE9CS",onClick:()=>{a||o(!0)}},(0,A.tZ)(r.ua7,{passThrough:!a,placement:"top",content:null!=s?s:"",sx:{maxWidth:"180px"}},(0,A.tZ)(r.XHJ,{disabled:a,size:25,color:Ht()["--dash-green-00"]}))))},mo="column--QmWD9Od6Ul",_o=({label:e,centerLabel:t,labelHelper:a,children:s})=>n.createElement("div",{className:"row--b0sY7KH6EJ"},n.createElement("div",{className:mo},n.createElement("div",{className:Oe()("label--IAVg4TIabV",{"centerLabel--kRDzb_3UrS":t})},e),a?n.createElement("div",{className:"labelHelper--ZvFzwTua9S"},a):null),n.createElement("div",{className:mo},s));let po,go,yo;!function(e){e[e.ClaimDomain=0]="ClaimDomain",e[e.VerifyDomain=1]="VerifyDomain",e[e.SSOConnector=2]="SSOConnector",e[e.EnableSSO=3]="EnableSSO"}(po||(po={})),function(e){e[e.SSOConnector=0]="SSOConnector",e[e.ConfigureIDP=1]="ConfigureIDP",e[e.EnableSSO=2]="EnableSSO"}(go||(go={})),function(e){e[e.dismiss=0]="dismiss",e[e.action=1]="action"}(yo||(yo={}));const ho="team_settings_domain_deactivate_button_tooltip_error",bo=({currentStep:e,deactivateDomain:t,domain:a,isDisabled:s,setCurrentSteps:i,verifyDomain:r})=>{var o;const[c,d]=n.useState(!1),{translate:u}=(0,l.Z)();return n.createElement("div",{className:"domainContainer--uTWD0PQykR",key:a.id},(()=>{if(!a)return null;switch(e){case No.Verify:case No.VerifyFailed:return n.createElement(n.Fragment,null,n.createElement(Mo,{domain:a,verifyDomain:()=>d(!0),domainStep:e}),n.createElement(uo,{domain:a,deactivateDomain:()=>t(a),isDisabled:s,disabledTooltipText:u(ho)}));case No.Complete:return n.createElement(n.Fragment,null,o||(o=n.createElement(Io,{domain:a})),n.createElement(uo,{domain:a,deactivateDomain:()=>t(a),isDisabled:s,disabledTooltipText:u(ho)}));default:return null}})(),(()=>{if(!a||!c)return null;switch(e){case No.Verify:return n.createElement(Ao,{domainName:a.name,onConfirm:()=>r(a),onDismiss:()=>d(!1)});case No.VerifyFailed:return n.createElement(Oo,{onDismiss:()=>{i((e=>({...e,[a.id]:No.Verify}))),d(!1)}});default:return null}})())},So=a(465343),vo="team_settings_domain_register_invalid_error",Eo={INVALID_PUBLIC_DOMAIN:"team_settings_domain_register_public_error",DOMAIN_CONTAINS_EXISTING_NONTEAM_USERS:"team_settings_domain_register_contact_support"};let No;!function(e){e[e.Register=0]="Register",e[e.Verify=1]="Verify",e[e.VerifyFailed=2]="VerifyFailed",e[e.Complete=3]="Complete"}(No||(No={}));const fo=({isTeamSettingsLoading:e,teamSettings:t,setStepComplete:a,uncompleteSteps:s})=>{const{translate:i}=(0,l.Z)(),[r,o]=n.useState(!1),[c,d]=n.useState([]),[u,m]=n.useState(""),[_,p]=n.useState(""),[g,y]=n.useState({}),h=e=>"valid"===e.status,b=()=>c.filter((e=>h(e))),S=t?.ssoEnabled||!1,v=n.useCallback(((e=[])=>{e.forEach((e=>{switch(e.status){case rt.DomainStatus.pending:y((t=>({...t,[e.id]:No.Verify}))),a(po.ClaimDomain);break;case rt.DomainStatus.valid:y((t=>({...t,[e.id]:No.Complete}))),a(po.ClaimDomain),a(po.VerifyDomain);break;default:y((t=>({...t,[e.id]:No.Register})))}}))}),[]),E=n.useCallback((async()=>{o(!0),p("");const e=await H.C.getTeamDomains();return o(!1),e.success?(d(e.domains),e.domains):(p(i("team_settings_domain_fetch_error")),Promise.resolve(void 0))}),[H.C.getTeamDomains]),N=async e=>{const t=await H.C.completeTeamDomainRegistration();t.success&&t.domains.find((t=>t.name===e.name))&&t.domains.find((t=>t.name===e.name))?.status===rt.DomainStatus.valid?(a(po.VerifyDomain),y((t=>({...t,[e.id]:No.Complete})))):y((t=>({...t,[e.id]:No.VerifyFailed})))},f=async e=>{e&&(await H.C.deactivateTeamDomain({domain:e.name})).success&&(v(await E()),b().length||s([po.EnableSSO,po.SSOConnector,po.ClaimDomain,po.VerifyDomain]))};return n.useEffect((()=>{(async()=>{v(await E())})()}),[E,v]),n.createElement(n.Fragment,null,n.createElement(_o,{label:`1. ${i("team_settings_domain_title")}`,labelHelper:i("team_settings_domain_multi_description")},r||e?n.createElement(Ln.Z,{size:20,containerStyle:{alignItems:"normal"}}):n.createElement(lo,{registerDomain:async e=>{if(c.length>=5)return;if(!So.isFQDN(e))return void m(i(vo));const t=await H.C.registerTeamDomain({domain:e});if(t.success)v(await E());else if(!t.success){const{error:{code:e}}=t,a=Eo[e];m(i(null!=a?a:vo))}},domainLoadError:_,registrationError:u,disabled:c.length>=5,clearRegistrationErrors:()=>m("")})),r||e||0===c.length?null:n.createElement(n.Fragment,null,n.createElement("div",{className:"divider--SU_Ctssudp"}),n.createElement(_o,{label:i("team_settings_domain_added")},n.createElement("div",{className:"domainsContainer--eO_SBqHaFr"},c.map(((e,t)=>t<5?n.createElement(bo,{key:e.id,currentStep:g[e.id],deactivateDomain:f,domain:e,isDisabled:S&&1===b().length&&h(e),setCurrentSteps:y,verifyDomain:N}):null))))))},{orange00:Co,dashGreen02:To}=r.O9T,Mo=({verifyDomain:e,domain:t,domainStep:a})=>{const{translate:s}=(0,l.Z)();return n.createElement(r.T5p,{gap:"10px",gridTemplateColumns:"1fr auto"},n.createElement(r.oil,{value:t?t.name:"",fullWidth:!0,readOnly:!0,endAdornment:n.createElement(r.T5p,{gridTemplateColumns:"auto auto",gap:"5px"},n.createElement(r.nvN,{size:"small",color:a===No.VerifyFailed?Co:To},a===No.VerifyFailed?s("team_settings_domain_verify_failed"):s("team_settings_domain_not_verified")),n.createElement(r.enX,{color:a===No.VerifyFailed?Co:To})),feedbackType:a===No.VerifyFailed?"warning":void 0}),n.createElement(r.zxk,{nature:"secondary",onClick:e,type:"button"},s("team_settings_domain_button_verify")))};var xo;const{accessibleValidatorGreen:Do}=r.O9T,Io=({domain:e})=>n.createElement(r.oil,{value:e.name,endAdornment:xo||(xo=n.createElement(r.rE2,{color:Do})),readOnly:!0,fullWidth:!0});var Zo=a(994825);const wo="team_settings_domain_verify_load_error",Ao=({description:e,isDarkWebInsights:t,secondaryDescription:a,domainName:s,href:i="https://support.dashlane.com/hc/articles/360013149040",linkLabel:o,onClick:c,onDismiss:d,onConfirm:u})=>{const{translate:m}=(0,l.Z)(),[_,p]=(0,n.useState)({id:0,name:""}),[g,y]=(0,n.useState)(""),[h,b]=(0,n.useState)(!1),[S,v]=(0,n.useState)(!1);(0,n.useEffect)((()=>{(async()=>{b(!0);try{const e=await H.C.getTeamDomains();if(e.success){const t=e.domains.find((e=>e.name===s));t?p(t):y(m(wo))}}catch(e){y(m(wo))}finally{b(!1)}})()}),[s,m]);const{dnsToken:{computedToken:E,challengeDomain:N}={computedToken:"",challengeDomain:""}}=_,f=({id:e,inputValue:t,labelText:a})=>({textInputProps:{id:e,label:a,readOnly:!0,disabled:h,fullWidth:!0,startAdornment:h?(0,A.tZ)(r.HoD,{color:r.O9T.midGreen00}):void 0},iconButtonProps:{disabled:h},inputValue:t});return(0,A.tZ)(r.VqE,{isOpen:!0,onClose:d,closeIconName:m("_common_dialog_dismiss_button")},(0,A.tZ)(r.$N8,{title:m("team_settings_domain_verify_title")}),(0,A.tZ)(r.a7O,null,(0,A.tZ)(r.T5p,{gap:"32px",gridTemplateColumns:"1fr",gridAutoRows:"auto"},(0,A.tZ)(r.nvN,{color:r.O9T.grey00},e||m.markup("team_settings_domain_verify_description_markup",{domainUrl:s})),g?(0,A.tZ)(r.nvN,{color:r.O9T.red00},g):(0,A.tZ)(n.Fragment,null,(0,A.tZ)(Zo.x,{...f({id:"hostnameInput",labelText:m("team_settings_domain_verify_host"),inputValue:N})}),(0,A.tZ)(Zo.x,{...f({id:"txtValueInput",labelText:m("team_settings_domain_verify_txt"),inputValue:E})})),a?(0,A.tZ)(r.nvN,{color:r.O9T.grey00},a):null)),(0,A.tZ)(r.cNS,{primaryButtonTitle:m("team_settings_domain_verify_confirm"),primaryButtonOnClick:async()=>{v(!0);try{await u()}catch(e){y(e.message),t&&(0,q.K)(new G.UserVerifyDomainEvent({domainVerificationStep:G.DomainVerificationStep.DomainVerificationError}))}finally{v(!1),t&&(0,q.K)(new G.UserVerifyDomainEvent({domainVerificationStep:G.DomainVerificationStep.TapVerifyDomainCtaWithDnsInformation}))}},primaryButtonProps:{disabled:!!g||h||S},intent:"primary"},(0,A.tZ)(r.rUS,{sx:{alignSelf:"center",mr:"auto"},color:r.O9T.midGreen00,target:"_blank",rel:"noopener noreferrer",href:i,onClick:c},o||m("team_settings_domain_verify_setup"))))},Oo=({onDismiss:e,domainName:t})=>{const{translate:a}=(0,l.Z)(),s=t?a.markup("team_settings_domain_verify_failure_title_markup",{domainUrl:t}):a("team_settings_domain_verify_failure_title");return n.createElement(r.VqE,{isOpen:!0,onClose:e},n.createElement(r.$N8,{title:s}),n.createElement(r.a7O,null,a("team_settings_domain_verify_failure_desc")),n.createElement(r.cNS,{primaryButtonTitle:a("team_settings_domain_verify_failure_button"),primaryButtonOnClick:e,intent:"primary"}))},ko=({description:e,isDarkWebInsights:t,secondaryDescription:a,domainName:s,linkLabel:i,href:r,onClick:o,onDismiss:l,onError:c,onSuccess:d})=>{const[u,m]=(0,n.useState)(!1),_=(0,n.useRef)(!1),p=(0,n.useCallback)((async()=>{const e=await H.C.completeTeamDomainRegistration();if(!_.current){if(e.success){const t=e.domains.find((e=>e.name===s));t?.status===rt.DomainStatus.valid?d():c&&c()}else m(!0);return()=>{_.current=!0}}}),[s,d,c]);return u?(0,A.tZ)(Oo,{onDismiss:l,domainName:s}):(0,A.tZ)(Ao,{description:e,isDarkWebInsights:t,secondaryDescription:a,linkLabel:i,domainName:s,href:r,onConfirm:p,onDismiss:l,onClick:o})},Lo=e=>(0,A.tZ)("div",{className:"container--vE8T8LPnPv"},(0,A.tZ)("img",{src:e.img,className:"img--m_seeXYeAW"}),(0,A.tZ)(r.nvN,{size:"medium",caps:!!e.caps||void 0,sx:{marginTop:"-43px",marginBottom:"11px"}},e.title),(0,A.tZ)(r.nvN,{color:r.O9T.grey00,size:"small"},e.subtitle),(0,A.tZ)("div",{className:"numberContainer--QTEn2wceZi"},(0,A.tZ)("div",{className:"dot--jKi_w8fAhr",style:e.dotStyle}),e.stepLabel&&e.stepNumber?(0,A.tZ)(r.nvN,{size:"small",sx:{textAlign:"left"}},e.stepLabel," ",e.stepNumber):null)),zo=()=>{const{translate:e}=(0,l.Z)(),t={marginTop:"18px"};return(0,A.tZ)(r.Zbd,{sx:{padding:"12px 12px 48px",minHeight:"200px"}},(0,A.tZ)(r.Ejs,{sx:{justifyContent:"space-between",marginTop:"80px",paddingLeft:"24px",borderBottom:`solid 2px ${r.O9T.grey00}`}},(0,A.tZ)(Lo,{img:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTMiIGhlaWdodD0iNTMiIHZpZXdCb3g9IjAgMCA1MyA1MyIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0yNi40NTgzIDEuNUMxMi42NzQyIDEuNSAxLjUgMTIuNjc0MiAxLjUgMjYuNDU4M0MxLjUgNDAuMjQyNCAxMi42NzQyIDUxLjQxNjcgMjYuNDU4MyA1MS40MTY3QzQwLjI0MjQgNTEuNDE2NyA1MS40MTY3IDQwLjI0MjQgNTEuNDE2NyAyNi40NTgzQzUxLjQxNjcgMTIuNjc0MiA0MC4yNDI0IDEuNSAyNi40NTgzIDEuNVpNMC41IDI2LjQ1ODNDMC41IDEyLjEyMTkgMTIuMTIxOSAwLjUgMjYuNDU4MyAwLjVDNDAuNzk0NyAwLjUgNTIuNDE2NyAxMi4xMjE5IDUyLjQxNjcgMjYuNDU4M0M1Mi40MTY3IDQwLjc5NDcgNDAuNzk0NyA1Mi40MTY3IDI2LjQ1ODMgNTIuNDE2N0MxMi4xMjE5IDUyLjQxNjcgMC41IDQwLjc5NDcgMC41IDI2LjQ1ODNaIiBmaWxsPSIjNjE1QjU3Ii8+CjxwYXRoIGQ9Ik0yNi4xMjgzIDMwSDI3LjYxNjNWMjEuMzI0SDI2LjYyMDNDMjYuNTYwMyAyMi4wNSAyNi4wMzgzIDIyLjQ0NiAyNC41MjAzIDIyLjQ0NlYyMy4zMTZIMjYuMTI4M1YzMFoiIGZpbGw9ImJsYWNrIi8+Cjwvc3ZnPgo=",title:e("team_breach_report_verify_domain_stepper_title"),subtitle:e("team_dark_web_insights_stepper_verify_domain_subtitle"),caps:!0,dotStyle:t}),(0,A.tZ)(Lo,{img:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTMiIGhlaWdodD0iNTMiIHZpZXdCb3g9IjAgMCA1MyA1MyIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0yNi40NTgzIDEuNUMxMi42NzQyIDEuNSAxLjUgMTIuNjc0MiAxLjUgMjYuNDU4M0MxLjUgNDAuMjQyNCAxMi42NzQyIDUxLjQxNjcgMjYuNDU4MyA1MS40MTY3QzQwLjI0MjQgNTEuNDE2NyA1MS40MTY3IDQwLjI0MjQgNTEuNDE2NyAyNi40NTgzQzUxLjQxNjcgMTIuNjc0MiA0MC4yNDI0IDEuNSAyNi40NTgzIDEuNVpNMC41IDI2LjQ1ODNDMC41IDEyLjEyMTkgMTIuMTIxOSAwLjUgMjYuNDU4MyAwLjVDNDAuNzk0NyAwLjUgNTIuNDE2NyAxMi4xMjE5IDUyLjQxNjcgMjYuNDU4M0M1Mi40MTY3IDQwLjc5NDcgNDAuNzk0NyA1Mi40MTY3IDI2LjQ1ODMgNTIuNDE2N0MxMi4xMjE5IDUyLjQxNjcgMC41IDQwLjc5NDcgMC41IDI2LjQ1ODNaIiBmaWxsPSIjNjE1QjU3Ii8+CjxwYXRoIGQ9Ik0yNC4wMDQ5IDMwSDMwLjEyNDlWMjguNzUySDI1LjYzMDlWMjguNjI2QzI1LjYzMDkgMjYuNTYyIDMwLjEwNjkgMjYuODUgMzAuMTA2OSAyMy43NTRDMzAuMTA2OSAyMi4yMyAyOC45NDI5IDIxLjIwNCAyNy4wODg5IDIxLjIwNEMyNC45NDA5IDIxLjIwNCAyMy44NTQ5IDIyLjQ4MiAyMy44MzA5IDI0LjA2NkgyNS4yNDY5QzI1LjM2MDkgMjMuMDI4IDI2LjA1MDkgMjIuNDQgMjcuMDQ2OSAyMi40NEMyNy45ODI5IDIyLjQ0IDI4LjU3MDkgMjIuOTggMjguNTcwOSAyMy43NkMyOC41NzA5IDI1Ljg2IDI0LjAwNDkgMjUuNzIyIDI0LjAwNDkgMjguODE4VjMwWiIgZmlsbD0iYmxhY2siLz4KPC9zdmc+Cg==",title:e("team_dark_web_insights_view_insights_stepper_title"),subtitle:e("team_dark_web_insights_view_insights_stepper_subtitle"),caps:!0,dotStyle:t}),(0,A.tZ)(Lo,{img:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTQiIGhlaWdodD0iNTMiIHZpZXdCb3g9IjAgMCA1NCA1MyIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0yNi45NDc5IDEuNUMxMi44ODQ0IDEuNSAxLjUgMTIuNjgzMiAxLjUgMjYuNDU4M0MxLjUgNDAuMjMzNSAxMi44ODQ0IDUxLjQxNjcgMjYuOTQ3OSA1MS40MTY3QzQxLjAxMTQgNTEuNDE2NyA1Mi4zOTU4IDQwLjIzMzUgNTIuMzk1OCAyNi40NTgzQzUyLjM5NTggMTIuNjgzMiA0MS4wMTE0IDEuNSAyNi45NDc5IDEuNVpNMC41IDI2LjQ1ODNDMC41IDEyLjExMyAxMi4zNTAyIDAuNSAyNi45NDc5IDAuNUM0MS41NDU3IDAuNSA1My4zOTU4IDEyLjExMyA1My4zOTU4IDI2LjQ1ODNDNTMuMzk1OCA0MC44MDM3IDQxLjU0NTcgNTIuNDE2NyAyNi45NDc5IDUyLjQxNjdDMTIuMzUwMiA1Mi40MTY3IDAuNSA0MC44MDM3IDAuNSAyNi40NTgzWiIgZmlsbD0iIzYxNUI1NyIvPgo8cGF0aCBkPSJNMjMuNzMzNSAyMy45MjhIMjUuMTQ5NUMyNS4yMDM1IDIyLjgwNiAyNi4wMDE1IDIyLjM2OCAyNi44Nzc1IDIyLjM2OEMyNy45MDk1IDIyLjM2OCAyOC41NjM1IDIyLjg3OCAyOC41NjM1IDIzLjU1QzI4LjU2MzUgMjQuMjgyIDI3Ljg0MzUgMjQuODUyIDI2LjgxNzUgMjQuODgyTDI2LjA3MzUgMjQuOTEyVjI2LjFMMjYuODc3NSAyNi4xMjRDMjcuOTYzNSAyNi4xNDggMjguNzc5NSAyNi42NTIgMjguNzc5NSAyNy41MzRDMjguNzc5NSAyOC4zNTYgMjguMDUzNSAyOC45MjYgMjYuODgzNSAyOC45MjZDMjUuOTQxNSAyOC45MjYgMjUuMjQ1NSAyOC40MzQgMjUuMDc3NSAyNy40MDJIMjMuNjU1NUMyMy42OTE1IDI5LjA4MiAyNC45MDM1IDMwLjEyIDI2Ljg1MzUgMzAuMTMyQzI4LjgwOTUgMzAuMTQ0IDMwLjM0NTUgMjkuMjIgMzAuMzQ1NSAyNy41N0MzMC4zNDU1IDI2LjQxOCAyOS41NTM1IDI1LjcxNiAyOC41MDk1IDI1LjQyOEMyOS42MjU1IDI1LjA0NCAzMC4xMjk1IDI0LjM0OCAzMC4xMjk1IDIzLjQ5QzMwLjEyOTUgMjEuOTcyIDI4Ljc3MzUgMjEuMjA0IDI2Ljg5NTUgMjEuMjA0QzI1LjE0MzUgMjEuMjA0IDIzLjczMzUgMjIuMTQ2IDIzLjczMzUgMjMuOTI4WiIgZmlsbD0iYmxhY2siLz4KPC9zdmc+Cg==",title:e("team_breach_report_reduce_risk_title"),subtitle:e("team_breach_report_reduce_risk_subtitle"),caps:!0,dotStyle:t})))};var jo,Po=a(919005);const Ro=a(465343),Uo="team_breach_report_domain_register_invalid_error",Bo={INVALID_PUBLIC_DOMAIN:"team_settings_domain_register_public_error",DOMAIN_CONTAINS_EXISTING_NONTEAM_USERS:"team_settings_domain_register_contact_support",DOMAIN_ALREADY_EXISTS:"team_settings_domain_register_duplicated_error"},Go=({onSuccess:e,onError:t})=>{const{translate:a}=(0,l.Z)(),s=(0,Po.f)(),[i,o]=(0,n.useState)(""),[c,d]=(0,n.useState)(""),[u,m]=(0,n.useState)(!1),[_,p]=(0,n.useState)(!1);return(0,n.useEffect)((()=>{if(void 0!==s){const e=s.substring(s.lastIndexOf("@")+1);o(e)}}),[s]),(0,A.tZ)(n.Fragment,null,jo||(jo=(0,A.tZ)(zo,null)),(0,A.tZ)("div",null,(0,A.tZ)(r.Zbd,{sx:{padding:"24px",margin:"24px 0"}},(0,A.tZ)(r.X6q,{size:"x-small"},a("team_dark_web_insights_verify_domain_title")),(0,A.tZ)(r.nvN,{sx:{marginBottom:"20px",marginTop:"10px"},color:r.O9T.grey00},a("team_breach_report_verify_domain_description")),(0,A.tZ)(r.Ejs,{gap:"16px"},(0,A.tZ)(r.k$b,{sx:{width:"75%"}},(0,A.tZ)(r.oil,{onChange:e=>{o(e.target.value),d("")},fullWidth:!0,value:i,autoFocus:!0,endAdornment:c||""===i||!Ro.isFQDN(i)?void 0:(0,A.tZ)(r.rE2,{color:r.O9T.accessibleValidatorGreen}),feedbackText:c||void 0,feedbackType:c?"error":void 0})),(0,A.tZ)(r.k$b,{sx:{width:"20%"}},(0,A.tZ)(r.zxk,{type:"button",disabled:""===i||_,onClick:()=>{(async e=>{if(!Ro.isFQDN(e))return void d(a(Uo));p(!0);const t=await H.C.registerTeamDomain({domain:e});if(p(!1),t.success)return d(""),void m(!0);if(!t.success){const{error:{code:e}}=t,n=Bo[e];d(a(null!=n?n:Uo))}})(i),(0,q.K)(new G.UserVerifyDomainEvent({domainVerificationStep:G.DomainVerificationStep.TapContinueCtaWithDomainUrl}))}},a("team_dwi_verify_domain_button"))))),u?(0,A.tZ)(ko,{description:a.markup("breach_report_verify_domain_dialog_description_markup"),secondaryDescription:a("breach_report_verify_domain_dialog_secondary_description"),linkLabel:a("breach_report_verify_domain_href_label"),href:jr,onClick:()=>{(0,q.K)(new G.UserOpenHelpCenterEvent({helpCenterArticleCta:G.HelpCenterArticleCta.ViewDomainVerificationGuide}))},domainName:i,onSuccess:()=>{e(i)},isDarkWebInsights:!0,onError:t,onDismiss:t}):null))};var Fo,Vo,$o;const Wo=({domainName:e})=>{const{translate:t}=(0,l.Z)();return(0,A.tZ)(r.Zbd,{sx:{minHeight:"575px",padding:"24px",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column"}},Fo||(Fo=(0,A.tZ)("img",{src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTEzIiBoZWlnaHQ9IjExMyIgdmlld0JveD0iMCAwIDExMyAxMTMiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHg9IjAuNSIgd2lkdGg9IjExMiIgaGVpZ2h0PSIxMTMiIHJ4PSI1NiIgZmlsbD0iI0Y1RjdGNyIvPgo8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTUwLjAzMzggMjYuNTYyMkM0MC45NzkgMjcuNjk4NiAzNC41NiAzNS45NjAyIDM1LjY5NjQgNDUuMDE1TDM2LjY0OTUgNTIuNjA4NUwzMS45OTUyIDUzLjE5MjZDMzAuODk5MiA1My4zMzAyIDMwLjEyMjMgNTQuMzMwMSAzMC4yNTk4IDU1LjQyNjFMMzQuNTYyMSA4OS43MDVDMzQuNjk5NyA5MC44MDEgMzUuNjk5NyA5MS41Nzc5IDM2Ljc5NTYgOTEuNDQwNEw3OS4wNDI4IDg2LjEzOEM4MC4xMzg4IDg2LjAwMDQgODAuOTE1NyA4NS4wMDA1IDgwLjc3ODIgODMuOTA0NUw3Ni40NzU5IDQ5LjYyNTZDNzYuMzM4MyA0OC41Mjk2IDc1LjMzODQgNDcuNzUyNyA3NC4yNDI0IDQ3Ljg5MDJMNjkuNDM5NiA0OC40OTNMNjguNDg2NiA0MC44OTk1QzY3LjM1MDEgMzEuODQ0OCA1OS4wODg1IDI1LjQyNTcgNTAuMDMzOCAyNi41NjIyWk00MC43NDk5IDQ0LjQ2OTlMNDEuNjkxOSA1MS45NzU2TDY0LjM5MjggNDkuMTI2NUw2My40NTA3IDQxLjYyMDhDNjIuNjY0IDM1LjM1MjEgNTYuOTQ0NCAzMC45MDgxIDUwLjY3NTcgMzEuNjk0OUM0NC40MDcxIDMyLjQ4MTcgMzkuOTYzMSAzOC4yMDEyIDQwLjc0OTkgNDQuNDY5OVpNNzguMTg0MiAzMi4yODA4TDc0LjE0ODUgMzYuNDAzNkw3NS43NCAzNy45NjE2TDc5Ljc3NTggMzMuODM4OEw3OC4xODQyIDMyLjI4MDhaTTc3LjI0NzEgNDAuMDg4Mkw3OS45MzA0IDM5LjUxNDhMODAuMjkzMiA0MS4yMTI1TDc3LjYwOTkgNDEuNzg1OUw3Ny4yNDcxIDQwLjA4ODJaTTcxLjA0MTMgMzEuODczOEw3MC44ODg3IDM1Ljg0ODRMNzIuNzg0MiAzNS45MjEyTDcyLjkzNjggMzEuOTQ2Nkw3MS4wNDEzIDMxLjg3MzhaIiBmaWxsPSIjOUZBRUIxIi8+Cjwvc3ZnPgo="})),Vo||(Vo=(0,A.tZ)("br",null)),(0,A.tZ)(r.nvN,{color:r.O9T.black,bold:!0,size:"large"},t("team_dashboard_dark_web_insights_domain_incident_free_title",{domainName:e})),$o||($o=(0,A.tZ)("br",null)),(0,A.tZ)(r.nvN,{color:r.O9T.grey00},t("team_dwi_domain_incident_free_description")))};var Ho,Qo;const Yo={minHeight:"575px",padding:"24px",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column"},qo=()=>{const{translate:e}=(0,l.Z)();return(0,A.tZ)(r.Zbd,{sx:Yo},(0,A.tZ)(r.HoD,{size:88,color:r.O9T.dashGreen00,strokeWidth:1}),Ho||(Ho=(0,A.tZ)("br",null)),(0,A.tZ)(r.nvN,{color:r.O9T.grey00},e("team_dark_web_insights_scanning_incidents_txt")))},Ko=()=>{const{translate:e}=(0,l.Z)();return(0,A.tZ)(r.Zbd,{sx:Yo},(0,A.tZ)(r.HoD,{size:88,color:r.O9T.dashGreen00,strokeWidth:1}),Qo||(Qo=(0,A.tZ)("br",null)),(0,A.tZ)(r.nvN,{color:r.O9T.grey00},e("team_dashboard_dark_web_insights_generating_msg")))};var Xo=a(96805);const Jo=({breach:e,id:t,isFirstInGroup:a=!1,isLastInGroup:n=!1,opened:s=!1})=>{const{translate:i}=(0,l.Z)();return(0,A.tZ)("tr",{id:t,sx:{backgroundColor:r.O9T.grey06,borderLeft:`3px solid ${r.O9T.dashGreen00}`,display:s?"table-row":"none",height:"44px","> td":{verticalAlign:"middle",padding:"5px 16px",paddingTop:a?"18px":void 0,paddingBottom:n?"18px":void 0}}},(0,A.tZ)("td",{colSpan:2},(0,A.tZ)(r.nvN,{size:"small",as:"div",sx:{fontWeight:"light",display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"flex-end"}},(0,A.tZ)("div",{sx:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"flex-end"}},e.domain&&""!==e.domain?(0,A.tZ)(r.plG,{size:"small",text:e.domain,backgroundColor:r.O9T.dashGreen00}):null,(0,A.tZ)("div",{title:e.domain,sx:{paddingLeft:"8px",width:"100px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},e.domain)))),(0,A.tZ)("td",null,(0,A.tZ)(r.nvN,{sx:{"::first-letter":{textTransform:"uppercase"},textTransform:"lowercase"},size:"x-small",color:r.O9T.grey00},e.types.map((e=>i(tl[e]))).join(", "))),(0,A.tZ)("td",{colSpan:3},(0,A.tZ)(r.nvN,{size:"x-small",as:"span",color:r.O9T.grey00},(0,A.tZ)(si.v,{date:(0,tn.Z)(e.breachDateUnix),format:ae._T.ll}))))},el={borderBottom:`1px solid ${r.O9T.dashGreen05}`,height:"55px",position:"relative",borderLeft:"3px solid white","&:hover,:focus-visible":{cursor:"pointer",boxShadow:"0px 4px 8px rgba(0, 0, 0, 0.16)"},'&[aria-expanded="true"]':{borderLeftColor:r.O9T.dashGreen00},"> td":{verticalAlign:"middle",padding:"0 16px"}},tl={[Xo.BreachType.Password]:"team_dark_web_insights_incident_data_type_password",[Xo.BreachType.CreditCard]:"team_dark_web_insights_incident_data_type_credit_card",[Xo.BreachType.IPAddress]:"team_dark_web_insights_incident_data_type_ip_address",[Xo.BreachType.MailingAddress]:"team_dark_web_insights_incident_data_type_mailing_address",[Xo.BreachType.Phone]:"team_dark_web_insights_incident_data_type_phone",[Xo.BreachType.Email]:"team_dark_web_insights_incident_data_type_email",[Xo.BreachType.Social]:"team_dark_web_insights_incident_data_type_social",[Xo.BreachType.GeoLocation]:"team_dark_web_insights_incident_data_type_geolocation",[Xo.BreachType.UserName]:"team_dark_web_insights_incident_data_type_username",[Xo.BreachType.PersonalInfo]:"team_dark_web_insights_incident_data_type_personalinfo"},al=({userReport:e,isPendingMember:t=!1,onInviteAction:a,shouldShowInviteButton:s})=>{const{translate:i}=(0,l.Z)(),[o,c]=(0,n.useState)(!1),d=e.leaks?.map(((t,a)=>`${e.email}-${a}`)).join(" ");return(0,A.tZ)(n.Fragment,null,(0,A.tZ)("tr",{id:e.email,key:e.email,tabIndex:0,"aria-expanded":o,"aria-controls":d,onKeyDown:e=>{"Enter"===e.key&&(e.preventDefault(),c((e=>!e)))},onClick:()=>{c((e=>!e))},sx:el},(0,A.tZ)("td",null,(0,A.tZ)(r.nvN,{size:"x-small",as:"span"},e.email)),(0,A.tZ)("td",null,(0,A.tZ)(r.Ejs,{flexDirection:"row"},(0,A.tZ)(r.nvN,{size:"medium",as:"span",sx:{fontWeight:"bold"}},e.breachesCount),e.viewStatus===Xo.EmailIncidentViewStatus.New?(0,A.tZ)(r.P_k,{dot:!0,ariaLabel:i("team_new_label")}):null)),(0,A.tZ)(r.nvN,{size:"x-small",as:"td",color:r.O9T.grey00,sx:{maxWidth:"160px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",textTransform:"lowercase","::first-letter":{textTransform:"uppercase"}}},(e=>{const t=e.leaks.map((e=>e.types.map((e=>i(tl[e])))));return[...new Set(t.flat())].join(", ")})(e)),(0,A.tZ)("td",null,(0,A.tZ)(r.nvN,{size:"x-small",as:"span",color:r.O9T.grey00},(0,A.tZ)(si.v,{date:(0,tn.Z)(e.leaks[0].breachDateUnix),format:ae._T.ll}))),(0,A.tZ)("td",null,s?(0,A.tZ)(r.zxk,{onClick:()=>{a(e.email)},type:"button",nature:"secondary"},i("team_dark_web_insights_incident_summary_invite_button")):(0,A.tZ)(r.nvN,{size:"x-small",as:"span",color:r.O9T.grey00},i(t?"team_dark_web_insights_incident_summary_pending":"team_dark_web_insights_incident_summary_member"))),(0,A.tZ)("td",{"aria-label":i("team_dark_web_insights_incident_summary_expand")},(0,A.tZ)(r.veu,{sx:{transform:o?"scale3D(1, -1, 1)":"scale3D(1, 1, 1)"}}))),e.leaks.map(((t,a,n)=>{const s=`${e.email}-${t.domain}-${t.breachDateUnix}`;return(0,A.tZ)(Jo,{id:s,key:s,breach:t,opened:o,isFirstInGroup:0===a,isLastInGroup:a===n.length-1})})))},nl=({emailsToInvite:e,reports:t,isLoading:a,pendingMembers:n,onInviteAction:s})=>{const{translate:i}=(0,l.Z)(),o=[{headerLabel:i("team_dark_web_insights_table_header_email_affected"),headerKey:"email-affected"},{headerLabel:i("team_dark_web_insights_table_header_incidents"),headerKey:"incidents"},{headerLabel:i("team_dark_web_insights_table_header_data_affected"),headerKey:"data-affected"},{headerLabel:i("team_dark_web_insights_table_header_last_incident"),headerKey:"last-incident"},{headerLabel:i("team_dark_web_insights_table_header_member_status"),headerKey:"member-status"},{headerLabel:"",headerKey:"actions"}];return(0,A.tZ)("div",{sx:{minWidth:"100%",minHeight:"600px"}},a?(0,A.tZ)("div",{sx:{display:"block",width:"950px",height:"600px",position:"absolute",textAlign:"center"}},(0,A.tZ)(r.HoD,{sx:{position:"relative",top:"50%"},size:120,color:r.O9T.dashGreen00,strokeWidth:1})):null,(0,A.tZ)("table",{sx:{minWidth:"100%"}},(0,A.tZ)(ti,{columns:o}),(0,A.tZ)("tbody",{sx:a?{opacity:"0.5"}:{}},t.map((t=>(0,A.tZ)(al,{key:t.email,userReport:t,onInviteAction:s,isPendingMember:n.includes(t.email),shouldShowInviteButton:e.includes(t.email)}))))))},sl=e=>(0,A.tZ)(n.Fragment,null,(0,A.tZ)(r.nvN,{size:"small",color:r.O9T.grey00,sx:{gridArea:e.labelGridArea,alignSelf:"end"}},e.label),(0,A.tZ)(r.T5p,{gridTemplateColumns:"auto 1fr",sx:{gridArea:e.titleGridArea}},(0,A.tZ)(r.X6q,{size:"x-small",sx:{margin:"4px 0"},color:r.O9T.black},e.title),(0,A.tZ)("div",null,(0,A.tZ)(r.ua7,{type:"info",placement:"top",content:e.tooltip},(0,A.tZ)(r.uMt,{sx:{marginTop:"4px",marginLeft:"6px"}}))))),il=({gridArea:e})=>(0,A.tZ)("div",{sx:{gridArea:e,backgroundColor:r.O9T.dashGreen05,height:"56px",width:"1px",alignSelf:"center"}});var rl,ol;const ll=({reports:e,suggestedInvitees:t,onInviteAll:a})=>{const{translate:n}=(0,l.Z)();return(0,A.tZ)(r.T5p,{gridTemplateColumns:"minmax(1fr,max-content) 1px minmax(1fr,max-content) 1px minmax(1fr,max-content)",gridTemplateRows:"max-content max-content max-content",gridTemplateAreas:'"label-0 divider-left label-1 divider-right label-2" "title-0 divider-left title-1 divider-right title-2" ". divider-left . divider-right invite-all"',sx:{columnGap:"32px",justifyContent:"center",padding:"64px 8px"}},(0,A.tZ)(sl,{labelGridArea:"label-0",label:n("team_dark_web_insights_summary_total_breaches_label"),titleGridArea:"title-0",title:n("team_dark_web_insights_summary_total_breaches",{totalBreaches:e.leaksCount}),tooltip:n("team_dark_web_insights_summary_total_breaches_tooltip")}),rl||(rl=(0,A.tZ)(il,{gridArea:"divider-left"})),(0,A.tZ)(sl,{labelGridArea:"label-1",label:n("team_dark_web_insights_summary_affected_emails_label"),titleGridArea:"title-1",title:n("team_dark_web_insights_summary_affected_emails",{numEmails:e.emailsImpactedCount}),tooltip:n("team_dark_web_insights_summary_affected_emails_tooltip")}),ol||(ol=(0,A.tZ)(il,{gridArea:"divider-right"})),(0,A.tZ)(sl,{labelGridArea:"label-2",label:t.length>0?n("team_dark_web_insights_summary_invitations_label"):n("team_dark_web_insights_summary_invitations_label_no_action"),titleGridArea:"title-2",title:n("team_dark_web_insights_summary_invitations",{numInvitations:t.length}),tooltip:n("team_dark_web_insights_summary_invitations_tooltip")}),t.length>0?(0,A.tZ)(r.dDn,{gridArea:"invite-all"},(0,A.tZ)(r.zxk,{type:"button",onClick:a},n("team_dark_web_insights_summary_invite_all_button"))):null)},cl=e=>e.filter((({status:e})=>"removed"!==e)).length;var dl=a(24836),ul=a(702639),ml=a(447760),_l=a(219515);const pl="counter--NpfuOeApPm",gl="active--VJ5ITGfmuJ";var yl=a(616437);const hl={INVITE_RESTRICTED:"team_invite_result_dialog_refused_member_reason_admin_restricted_markup",PRE_EXISTING_MP_USER:"team_invite_result_dialog_refused_member_reason_pre_existing_mp_user_markup",GENERIC_ERROR:"team_invite_result_dialog_refused_member_reason_generic_error_markup",EMAIL_DOES_NOT_MATCH_SSO_DOMAIN:"team_invite_result_dialog_refused_member_reason_EMAIL_DOES_NOT_MATCH_SSO_DOMAIN",ALREADY_MEMBER:"team_invite_result_dialog_refused_member_reason_already_member",ALREADY_MEMBER_OTHER_TEAM:"team_invite_result_dialog_refused_member_reason_already_member_other_team",HAS_AUTOMATIC_RENEW:"team_invite_result_dialog_refused_member_reason_has_automatic_renew",NO_FREE_SLOT_FREE_PLAN:"team_invite_result_dialog_refused_member_reason_no_free_slot_free_plan",SSO_ALREADY_ACTIVATED:"team_invite_result_dialog_refused_member_reason_sso_already_activated",PENDING_DEACTIVATION_DOMAIN_DOES_NOT_MATCH:"team_invite_result_dialog_refused_member_reason_pending_deactivation_domain_does_not_match"};let bl;function Sl(e){const[t,a]=n.useState(!0),[s,i]=n.useState({}),[r,o]=n.useState(null),[l,c]=n.useState(null),[d,u]=n.useState(null);return n.useEffect((()=>{if(void 0===e)return;const t=new AbortController;return(async()=>{a(!0);try{const{teamInfo:{ssoServiceProviderUrl:e,ssoIdpMetadata:a,ssoEnabled:n,recoveryEnabled:s,duoSecretKey:r,duoIntegrationKey:o,duoApiHostname:l,duo:d,activeDirectoryToken:m,activeDirectorySyncType:_,activeDirectorySyncStatus:p,uuid:g},capabilities:y,planTier:h}=await(0,Je.I)();if(t.signal.aborted)return;i({ssoServiceProviderUrl:e,ssoIdpMetadata:a,ssoEnabled:n,recoveryEnabled:s,duoSecretKey:r,duoIntegrationKey:o,duoApiHostname:l,duo:d,activeDirectoryToken:m,activeDirectorySyncType:_,activeDirectorySyncStatus:p,uuid:g}),u(h),c(y)}catch(e){const t=new Error(`useTeamSettings: ${e}`);o(t)}finally{a(!1)}})(),()=>{t.abort()}}),[e]),{teamSettingsLoading:t,teamSettingsError:r,teamSettings:s,updateTeamSettings:async t=>{if(null===e)return;const a={teamId:e,settings:t};try{await(0,Va.jy)(a)}catch(e){var n;throw new Error(null!=(n=e?.additionalInfo?.message)?n:"Failed to save metadata")}const r={...s,...t};i(r)},planTier:d,teamCapabilities:l}}!function(e){e.SSO_ALREADY_ACTIVATED="sso_already_activated",e.USER_HAS_MASTER_PASSWORD="USER_HAS_MASTER_PASSWORD"}(bl||(bl={}));const vl="inviteResultDialogHeader--v_8lOJQXCj",El="refusedMember--SNbCU5FzB1",Nl="reason--jFHJ7kk1d9",fl="irDialogIcon--Rx0OQmu57r";var Cl;const Tl={invitedMembers:{},refusedMembers:{},show:!1},Ml=()=>{const[e,t]=n.useState(Tl);return{invitePartialSuccessState:e,setInvitePartialSuccessState:t,handleInvitationResultClosed:()=>{t(Tl)}}},xl=({teamId:e,isOpen:t,invitedMembers:a,refusedMembers:s,onClose:i})=>{const{translate:o}=(0,l.Z)(),[c,d]=n.useState([]),[u,m]=n.useState([]),_=Object.keys(a).length,p=Object.keys(s).length,{teamSettings:g,teamSettingsLoading:y}=Sl(e),h=g?.ssoEnabled;return n.useEffect((()=>{if(y)return;const e=[],t=[];Object.keys(s).forEach((a=>{const n=s[a];n!==bl.SSO_ALREADY_ACTIVATED||h?n===bl.USER_HAS_MASTER_PASSWORD&&h?t.push({email:a,key:hl.PRE_EXISTING_MP_USER,errorType:n}):e.push({email:a,errorType:n}):t.push({email:a,key:hl.INVITE_RESTRICTED,errorType:n})})),d(e),m(t)}),[y,h,s]),n.createElement(r.VqE,{closeIconName:o("_common_dialog_dismiss_button"),isOpen:t,onClose:i,ariaDescribedby:"refusedList"},n.createElement(r.$N8,{title:o("team_invite_result_dialog_title")}),n.createElement(r.a7O,null,y?Cl||(Cl=n.createElement(Ln.Z,{size:30})):n.createElement(n.Fragment,null,_?n.createElement("div",{className:"successfulInvitesRatio--Jbd0Eax7op"},n.createElement("img",{src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTgiIGhlaWdodD0iMTgiIHZpZXdCb3g9IjAgMCAxOCAxOCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8cGF0aCBkPSJNNiA5TDcuOTU5MjggMTFMMTEuOTc5NiA3TTAuNSA5QzAuNSA0LjMwNTQ1IDQuMzA2MyAwLjUgOSAwLjVDMTMuNjkzNyAwLjUgMTcuNSA0LjMwNTQ1IDE3LjUgOUMxNy41IDEzLjY5NDYgMTMuNjkzNyAxNy41IDkgMTcuNUM0LjMwNjMgMTcuNSAwLjUgMTMuNjk0NiAwLjUgOVoiIHN0cm9rZT0iIzIwQjQyMiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+Cjwvc3ZnPgo=",className:fl}),n.createElement("span",{className:vl},o("team_invite_result_dialog_successful_invites_rate",{proposedMembers:_+p,invitedMembers:_}))):null,n.createElement("div",{className:"refusedMemberListTitle--Omq1aAlxkx"},n.createElement("img",{src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTgiIGhlaWdodD0iMTgiIHZpZXdCb3g9IjAgMCAxOCAxOCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8cGF0aCBkPSJNNS41IDEyLjVMMTIuNSA1LjVNMTIuNSAxMi41TDUuNSA1LjVNMC41IDlDMC41IDQuMzA1ODcgNC4zMDU4NyAwLjUgOSAwLjVDMTMuNjk0MSAwLjUgMTcuNSA0LjMwNTg3IDE3LjUgOUMxNy41IDEzLjY5NDEgMTMuNjk0MSAxNy41IDkgMTcuNUM0LjMwNTg3IDE3LjUgMC41IDEzLjY5NDEgMC41IDlaIiBzdHJva2U9IiNGRjAwMkQiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIvPgo8L3N2Zz4K",className:fl}),n.createElement("span",{id:"refusedList",className:vl},o("team_invite_result_dialog_refused_member_list_title",{count:p}))),n.createElement("ul",{className:"refusedMemberList--pPxtCXVRX3"},c.map((e=>n.createElement("li",{className:El,key:e.email},e.email,n.createElement("span",{className:Nl},": ",hl[e.errorType.toUpperCase()]?o(hl[e.errorType.toUpperCase()]):o.markup(hl.GENERIC_ERROR,{helpCenter:ee.Bw},{linkTarget:"_blank"}))))),u.map((e=>n.createElement("li",{className:El,key:e.email},e.email,n.createElement("span",{className:Nl},": ",(e=>{switch(e){case hl.INVITE_RESTRICTED:return yl.Iu.markup(hl.INVITE_RESTRICTED,{helpCenter:ee.Iw});case hl.PRE_EXISTING_MP_USER:return yl.Iu.markup(hl.PRE_EXISTING_MP_USER,{ssoLimitations:ee.Iw,dashlaneSupport:ee.Bw});default:return yl.Iu.markup(hl.GENERIC_ERROR,{helpCenter:ee.Bw})}})(e.key)))))))),n.createElement(r.cNS,{primaryButtonTitle:o("team_invite_result_dialog_button_ok"),primaryButtonOnClick:i,secondaryButtonTitle:o("team_invite_result_dialog_button_help_center"),secondaryButtonOnClick:()=>(0,ze.Yo)(ee.Bw)}))},Dl="securityScoreOver80--Hgr2G6S0v_",Il="securityScoreOver60--_JHvGMsVMu",Zl="securityScoreOver40--uopteVjbhe",wl="securityScoreOver20--DGwlRT6aTn",Al="securityScoreOver0--KWOlPM746R",Ol="securityScoreUnknown--X1UUUGTTOI",kl="box--b300GjbePX",Ll="shield--aR0K8YOyOo",zl="medium--oK53lyprG3",jl="small--Y3Ur7GidSI",Pl=e=>{const t="small"===e.size?jl:zl;return n.createElement("div",{className:Oe()(kl,(a=e.score,a.caseOf({nothing:()=>Ol,just:e=>e>=80?Dl:e>=60?Il:e>=40?Zl:e>=20?wl:Al})),t)},n.createElement("div",{className:Ll}),n.createElement("div",null,e.children));var a},Rl=({score:e})=>{const{translate:t}=(0,l.Z)();return n.createElement("div",{className:"separator--Ms8Z6xmqQa"},n.createElement(Pl,{score:e,size:"medium"},n.createElement("div",{className:"text--SUheooo_V_"},t("team_members_team_security_score_label")),n.createElement("div",{className:"score--R6OziY_sED"},e.map((e=>`${lr(e)}%`)).valueOr(""))))},Ul={container:"container--Pih3tFzute",header:"header--sWYs4tJFeg",seatsCount:"seatsCount--nUk1RMEdN1",title:"title--XG6lvelVTY",counter:"counter--qUaIaAvQ63",progressBarBackground:"progressBarBackground--iKhu1za_vU",progressBar:"progressBar--ihAKLss_mc",seatsCountBottomline:"seatsCountBottomline--hr897DNBX6",link:"link--y0d0DGiFaw"},Bl=({accountRoute:e,companyName:t,takenSeats:a,totalSeats:s,teamSecurityScore:r,shouldDisplayTeamSecurityScore:o})=>{const{translate:c}=(0,l.Z)();return n.createElement("div",{className:Ul.container},n.createElement("div",{className:Ul.header},n.createElement("div",{className:Ul.seatsCount},n.createElement("div",{className:Ul.title},n.createElement("span",{className:Ul.counter},c("team_members_header_title_counter",{takenSeats:a,totalSeats:s})),c("team_members_header_title_label",{companyName:t})),n.createElement("div",{className:Ul.seatsCountBottomline},n.createElement("div",{className:Ul.progressBarBackground},n.createElement("div",{className:Ul.progressBar,style:{width:s?Math.round(360*a/s):0}})),n.createElement(i.rU,{to:e,className:Ul.link},c("team_members_add_more_seats")))),o&&n.createElement("div",{className:Ul.teamSecurityScore},n.createElement(Rl,{score:r}))))};var Gl=a(23003),Fl=a(373312),Vl=a(320572);const $l="menu--svPbw6Qghp";var Wl=a(635818),Hl=a(781896);const Ql={teamCaptain:"team_members_assignment_dialog_admin_description",groupManager:"team_members_assignment_dialog_group_manager_description",member:"team_members_assignment_dialog_member_description"},Yl=({member:e,newRole:t,updateUsersRights:a,closeDialog:s})=>{const{translate:i}=(0,l.Z)(),o=(0,Fa.V)(),c=Jl(e),[d,u]=(0,n.useState)(null!=t?t:c);return(0,T.tZ)(r.VqE,{isOpen:!0,onClose:s,closeIconName:i("_common_dialog_dismiss_button")},(0,T.tZ)(r.$N8,{title:i("team_members_assignment_dialog_title",{user:e.login})}),(0,T.tZ)(r.a7O,null,(0,T.tZ)(Wa.S,{value:d,onChange:e=>{u(e.target.value)},groupName:"roles"},Object.values(Xl).map((e=>(0,T.tZ)(Wa.E,{key:e,value:e},(0,T.tZ)(r.nvN,{color:"ds.text.neutral.standard",size:"small"},i(ec[e])),(0,T.tZ)(r.nvN,{color:"ds.text.neutral.quiet",size:"small"},i(Ql[e])))))),d===Xl.GroupManager?(0,T.tZ)(T.ke,{mood:"brand",title:i("team_members_assignment_dialog_group_manager_infobox")}):null),(0,T.tZ)(r.cNS,{primaryButtonTitle:i("team_members_assignment_dialog_update_button"),primaryButtonOnClick:async()=>{if(d===c)return s();try{const t=await a([{member:e,oldRole:c,newRole:d}]);if(!t)return;if(t.successes.length)o.showAlert(i("team_members_assignment_single_success",{username:e.name||e.login||"Member",previousRole:i(ec[c]),newRole:i(ec[d])}),r.BLW.SUCCESS);else if(t.errors.length)throw t.errors[0].error}catch{o.showAlert(i("team_members_assignment_single_error",{username:e.name||e.login||"Member"}),r.BLW.ERROR)}finally{s()}},primaryButtonProps:{type:"button",style:{padding:"0 20px"},disabled:d===c},secondaryButtonTitle:i("team_members_assignment_dialog_cancel_button"),secondaryButtonOnClick:s,secondaryButtonProps:{type:"button",style:{border:"none",padding:"0 20px",color:"ds.text.neutral.catchy",backgroundColor:"ds.container.expressive.neutral.quiet.idle"}}}))},ql="team_members_assignment_multiple_error",Kl=({selectedMembers:e,newRole:t,updateUsersRights:a,closeDialog:n})=>{const{translate:s}=(0,l.Z)(),i=(0,Fa.V)();return(0,T.tZ)(je.o,{isOpen:!0,footer:(0,T.tZ)(r.cNS,{intent:"primary",primaryButtonTitle:s("team_members_assignment_multiple_dialog_submit"),primaryButtonOnClick:async()=>{const o=e.map((e=>({member:e,oldRole:Jl(e),newRole:t})));try{const e=await a(o);if(!e)return;const n=s(ec[t]);e.successes.length&&e.errors.length?i.showAlert(s("team_members_assignment_multiple_partial_success",{countSuccess:e.successes.length,countTotal:o.length,newRole:n}),r.BLW.WARNING):e.successes.length?i.showAlert(s("team_members_assignment_multiple_success",{count:e.successes.length,newRole:n}),r.BLW.SUCCESS):e.errors.length&&i.showAlert(s(ql,{count:e.errors.length}),r.BLW.ERROR)}catch{i.showAlert(s(ql,{count:e.length}),r.BLW.ERROR)}finally{n()}},secondaryButtonTitle:s("team_members_assignment_multiple_dialog_cancel"),secondaryButtonOnClick:n}),onRequestClose:n,title:s("team_members_assignment_multiple_dialog_title",{countTotal:e.length,newRole:s(ec[t])})},(()=>{switch(t){case Xl.TeamCaptain:return s("team_members_assignment_multiple_dialog_admin_message");case Xl.GroupManager:return s("team_members_assignment_multiple_dialog_group_manager_message");default:return s("team_members_assignment_multiple_dialog_member_message")}})())};let Xl;!function(e){e.TeamCaptain="teamCaptain",e.GroupManager="groupManager",e.Member="member"}(Xl||(Xl={}));const Jl=e=>e.isTeamCaptain?Xl.TeamCaptain:e.isGroupManager?Xl.GroupManager:Xl.Member,ec={teamCaptain:"team_members_assignment_dialog_admin_label",groupManager:"team_members_assignment_dialog_group_manager_label",member:"team_members_assignment_dialog_member_label"},tc=({selectedMembers:e,newRole:t,lee:a,closeDialog:n})=>{const{reportTACError:s}=Fe(),{translate:i}=(0,l.Z)(),{addGroupManager:o,removeGroupManager:c}=(0,dl.u7)(Wl.permissionsApi),d=async e=>{const t=(0,_a.v0)(a.globalState);if(!t)return void s(new Error(da.N));const{teamId:n}=t;if(!n)throw new Error("No team ID when attempting role assignment");const i={errors:[],successes:[]};for await(const{member:t,oldRole:s,newRole:r}of e)try{switch(s){case Xl.TeamCaptain:await(0,Va.Lx)({teamId:n,memberLogin:t.login}),a.dispatch(Hl.bj(t)),await(0,Va.hh)({teamId:n,action:"adminDemoted",users:[t.login]});break;case Xl.GroupManager:await c({memberLogin:t.login,teamId:n}),a.dispatch(Hl.vE(t))}switch(r){case Xl.TeamCaptain:await(0,Va.JQ)({teamId:n,memberLogin:t.login}),a.dispatch(Hl.VW(t)),await(0,Va.hh)({teamId:n,action:"adminPromoted",users:[t.login]});break;case Xl.GroupManager:await o({memberLogin:t.login,teamId:n}),a.dispatch(Hl.lp(t))}i.successes.push(t.login)}catch(e){i.errors.push({member:t.login,error:e})}return i};return e.length?1===e.length?(0,T.tZ)(Yl,{member:e[0],newRole:t,updateUsersRights:d,closeDialog:n}):(0,T.tZ)(Kl,{selectedMembers:e,newRole:null!=t?t:Xl.Member,updateUsersRights:d,closeDialog:n}):(0,T.tZ)(je.o,{isOpen:!0,footer:(0,T.tZ)(r.cNS,{intent:"secondary",secondaryButtonTitle:i("team_members_assignment_nobody_dialog_cancel"),secondaryButtonOnClick:n}),onRequestClose:n,title:i("team_members_assignment_nobody_dialog_title")},i("team_members_assignment_nobody_dialog_message",{newRole:t?i(ec[t]):""}))},ac="team_members_bulk_actions_menu_admin",nc="team_members_bulk_actions_menu_member",sc=({onMembersActionSelect:e,onMultipleReassignActionSelect:t})=>{const{translate:a}=(0,l.Z)(),s=(0,z.w)("group_manager_prod"),[i,r]=n.useState(!1),o=t=>{e(t),r(!1)},c=e=>{t(e),r(!1)};return n.createElement(Fl.j,{onOutsideClick:()=>{r(!1)}},n.createElement("div",{className:"container--zGfanmJ20J"},n.createElement(Vl.Z,{label:a("team_members_bulk_actions_menu_label"),onClick:()=>{r(!i)},classNames:["dropdownButton--eX1Pwf6noX"],icon:n.createElement("img",{className:Oe()("buttonIcon--K7qOhGWIeC",{"flip--CjjllwCv0e":i}),src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAiIGhlaWdodD0iNiIgdmlld0JveD0iMCAwIDEwIDYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgPHBhdGggZD0iTTkuNSAwLjVMNSA1LjVMMC41IDAuNSIgc3Ryb2tlPSIjNkU4NjhCIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz4KPC9zdmc+Cg=="}),iconClassName:["iconContainer--_MWkwTD793"],iconPosition:"right"}),i?s?n.createElement("ul",{className:$l},n.createElement("li",{key:"admin",onClick:()=>c(Xl.TeamCaptain)},a(ac)),n.createElement("li",{key:"groupManager",onClick:()=>c(Xl.GroupManager)},a("team_members_bulk_actions_menu_group_manager")),n.createElement("li",{key:"member",onClick:()=>c(Xl.Member)},a(nc))):n.createElement("ul",{className:$l},n.createElement("li",{key:"admin",onClick:()=>o("promote")},a(ac)),n.createElement("li",{key:"member",onClick:()=>o("demote")},a(nc))):null))};var ic=a(308696),rc=a(710839),oc=a(362211);const lc=({member:e,onDismiss:t,onMemberActionSelect:a})=>{const{translate:n}=(0,l.Z)(),s=(0,z.w)("group_manager_prod"),i=!!e.twoFAInformation&&("totp_device_registration"===e.twoFAInformation.type||"totp_login"===e.twoFAInformation.type);return(0,A.tZ)(Fl.j,{onOutsideClick:t},(0,A.tZ)("ul",{className:"menu--tp5V4puFsY"},(()=>{if("removed"===e.status)return(0,A.tZ)("li",{key:"reactivate",id:"reactivate-quick-action",onClick:()=>a("reactivate",e)},(0,A.tZ)(T.JO,{name:"ItemEmailOutlined",size:"medium",color:"ds.text.neutral.quiet",sx:{marginRight:"16px"}}),n("team_members_reactivate_single_label"));const t=[];return"pending"!==e.status&&"proposed"!==e.status||t.push((0,A.tZ)("li",{key:"resendInvite",id:"reinvite-quick-action",onClick:()=>a("reinvite",e)},(0,A.tZ)(T.JO,{name:"ItemEmailOutlined",size:"medium",color:"ds.text.neutral.quiet",sx:{marginRight:"16px"}}),n("team_members_resend_invite_label"))),s?"pending"!==e.status&&"proposed"!==e.status&&t.push((0,A.tZ)("li",{key:"reassign",id:"reassign-quick-action",onClick:()=>a("reassign",e)},(0,A.tZ)(T.JO,{name:"ItemPersonalInfoOutlined",size:"medium",color:"ds.text.neutral.quiet",sx:{marginRight:"16px"}}),n("team_members_change_role_label"))):(e.isTeamCaptain||"pending"===e.status||"proposed"===e.status||t.push((0,A.tZ)("li",{key:"promoteCaptain",id:"promote-quick-action",onClick:()=>a("promote",e)},(0,A.tZ)(T.JO,{name:"ItemPersonalInfoOutlined",size:"medium",color:"ds.text.neutral.quiet",sx:{marginRight:"16px"}}),n("team_members_promote_captain_label"))),e.isTeamCaptain&&t.push((0,A.tZ)("li",{key:"demoteCaptain",id:"demote-quick-action",onClick:()=>a("demote",e)},(0,A.tZ)(T.JO,{name:"ItemPersonalInfoOutlined",size:"medium",color:"ds.text.neutral.quiet",sx:{marginRight:"16px"}}),n("team_members_captain_demote_label")))),t.push((0,A.tZ)(r.ua7,{key:"revoke",content:n("team_members_assignment_dialog_remove_billing_contact_tooltip"),placement:"top",passThrough:!e.isBillingAdmin,sx:{whiteSpace:"normal"}},(0,A.tZ)("li",{key:"revoke",id:"revoke-quick-action",onClick:e.isBillingAdmin?void 0:()=>a("revoke",e),sx:e.isBillingAdmin?{cursor:"not-allowed !important",opacity:"0.5"}:void 0},(0,A.tZ)(T.JO,{name:"ActionDeleteOutlined",size:"medium",color:"ds.text.neutral.quiet",sx:{marginRight:"16px"}}),n("team_members_revoke_single_label")))),i&&"pending"!==e.status&&"proposed"!==e.status&&t.push((0,A.tZ)("li",{key:"generate2FABackupCodes",id:"generate-2fa-recovery-code-quick-action",onClick:()=>a("generateBackupCode",e)},(0,A.tZ)(T.JO,{name:"RecoveryKeyOutlined",size:"medium",color:"ds.text.neutral.quiet",sx:{marginRight:"16px"}}),n("team_members_generate_recovery_codes_label"))),t})()))};var cc=a(932954);var dc;const uc="team_members_row_invitation_pending",mc=e=>{const{translate:t}=(0,l.Z)(),[a,s]=(0,n.useState)(null),i=e=>{s(e===a?null:e)},o=(t,n)=>{i(a),e.onMemberActionSelect(t,n)};return(0,A.tZ)("tbody",{className:"tableBody--UVKDDE_osD"},(()=>{const n=(e,t)=>t||(["pending","removed"].includes(e)?"-":0);return e.members.map((s=>(0,A.tZ)("tr",{key:s.login,className:"removed"===s.status?"revoked--DFG0wnOSMX":""},(0,A.tZ)("td",null,s.login!==e.currentLoggedLogin&&"removed"!==s.status&&(0,A.tZ)("span",{className:Array.from(e.checkedMembers).find((e=>e.login===s.login))?"checkboxChecked--VjkXejmzP7 checkbox--akXfXOc5VH":"checkbox--akXfXOc5VH",onClick:()=>e.onMemberToggleCheck(s)})),(0,A.tZ)("td",{className:"loginCell--zmWQn6nt_m"},(0,A.tZ)(ni.q,{email:s.login,size:30}),(0,A.tZ)("div",{className:"loginText--UrH7gOl5S5"},(0,A.tZ)(cc.Z,{className:"loginTextEmail--_rJiVfje4x",tooltipText:s.login},s.login))),(0,A.tZ)("td",{className:"securityScoreCell--TRrWX93JKm"},(e=>{const a=Sn.Maybe.maybe(e.nbrPasswords>=5?e.securityIndex:null),n=(0,A.tZ)(Pl,{score:a,size:"small"},(0,A.tZ)("div",{className:"securityScoreCellText--uh3PGGldwN"},a.caseOf({just:e=>`${lr(e)}%`,nothing:()=>"-"})));return e.nbrPasswords>=5?n:(0,A.tZ)(r.ua7,{content:t("team_members_row_security_score_breakdown_less_than_five")},(0,A.tZ)("span",null,n))})(s)),(0,A.tZ)("td",{className:"passwordsCell--gft4asedk5"},(0,A.tZ)("span",{className:"passwordsCellIcon--oJaMYYHQ_9"}),n(s.status,s.nbrPasswords)),(0,A.tZ)("td",null,n(s.status,s.safePasswords)),(0,A.tZ)("td",null,n(s.status,s.weakPasswords)),(0,A.tZ)("td",null,n(s.status,s.reused)),(0,A.tZ)("td",null,n(s.status,s.compromisedPasswords)),(0,A.tZ)("td",null,(e=>{switch(!0){case["pending","proposed"].includes(e.status):return t(uc);case Boolean(e.lastUpdateDateUnix||e.revokedDateUnix):return(0,A.tZ)(oc.Z,{date:(0,tn.Z)(e.lastUpdateDateUnix||e.revokedDateUnix)});case"pending"===e.status:return t(uc);default:return t("team_members_row_never_logged_in")}})(s)),(0,A.tZ)("td",null,s.isBillingAdmin?(0,A.tZ)(r.ua7,{placement:"top",content:t("team_account_heading_billing_admin_tooltip"),sx:{textAlign:"start"}},(0,A.tZ)("div",{sx:{display:"flex",alignItems:"center"}},(0,A.tZ)(r.nvN,{bold:!0,size:"small",sx:{display:"inline-block"}},t("team_account_heading_billing_admin")),(0,A.tZ)(T.JO,{name:"FeedbackInfoOutlined",sx:{display:"inline-block",marginLeft:"4px"},size:"small"}))):null,(e=>"removed"===e.status?t("team_members_row_revoked"):e.isTeamCaptain?t("team_members_row_captain"):e.isGroupManager?t("team_members_row_group_manager"):t("team_members_row_member"))(s)),(0,A.tZ)("td",{className:"actionsCell--NotN6ngLnK",style:{position:"relative"}},s.login===a?(e=>(0,A.tZ)(lc,{member:e,onDismiss:()=>i(e.login),onMemberActionSelect:o}))(s):null,s.login!==e.currentLoggedLogin&&(0,A.tZ)(T.zx,{id:"users-action-menu-button",onClick:()=>i(s.login),layout:"iconOnly",intensity:"supershy",icon:dc||(dc=(0,A.tZ)(T.JO,{name:"SettingsOutlined",size:"medium",color:"ds.text.neutral.standard"}))})))))})())},_c=e=>e.filter((e=>["pending","proposed"].includes(e.status)));var pc,gc,yc,hc=a(181508);const bc="team_members_resend_invite_all",Sc=e=>{const{translate:t}=(0,l.Z)(),{getInviteLinkDataForAdmin:a}=(0,hc.h)(),n=()=>{e.onMembersActionSelect("reinviteAll",_c(e.members))},s=(0,z.w)("onboarding_web_teamsignuppage");return(0,T.tZ)(r.h_2,{sx:{zIndex:1001},content:s?[(0,T.tZ)(r.W7o,{key:"resendInvite",fullWidth:!0,onClick:n},(0,T.tZ)(r.Ejs,{gap:"4px"},pc||(pc=(0,T.tZ)(T.JO,{name:"NotificationOutlined",size:"medium"})),(0,T.tZ)("span",null,t(bc)))),(0,T.tZ)(r.W7o,{key:"shareInviteLink",onClick:async()=>{const t=await a(),n=!t?.teamKey||t?.disabled?"enableInviteLink":"shareInviteLink";e.onMembersActionSelect(n)},fullWidth:!0},(0,T.tZ)(r.Ejs,{gap:"4px"},gc||(gc=(0,T.tZ)(T.JO,{name:"ActionCopyOutlined",size:"medium"})),(0,T.tZ)("span",null,t("team_members_share_invite_link"))))]:[(0,T.tZ)(r.W7o,{key:"resendInvite",fullWidth:!0,onClick:n},(0,T.tZ)(r.Ejs,{gap:"4px"},t(bc)))]},(0,T.tZ)(T.zx,{intensity:"quiet",mood:"neutral",size:"medium",layout:"iconOnly",sx:{marginLeft:"16px"},icon:yc||(yc=(0,T.tZ)(T.JO,{name:"ActionMoreOutlined",size:"medium",color:"ds.text.neutral.standard"}))}))},vc={container:"container--lTIFkRrWrT",top:"top--Ax5tGm_mED",topButton:"topButton--vxY2fF8Lv4",tableHeaderContainer:"tableHeaderContainer--NOzH1jto0x",topContainer:"topContainer--ST6B1mEZjJ",topLeft:"topLeft--viTEuhR25Z",revokeButton:"revokeButton--_sdxTpsqR2 topButton--vxY2fF8Lv4",statusFilters:"statusFilters--SMNEn98faE",topRight:"topRight--YZ2DF7wcrD",topPagination:"topPagination--rTlBiQ0EDF",topPaginationText:"topPaginationText--etP6KJCQ0A",topPaginationTextStrong:"topPaginationTextStrong--VTW8829LEc",addButton:"addButton--qfO5ovYdoU",checkbox:"checkbox--jmvgdO7ugt",checkboxChecked:"checkboxChecked--vFOuF2l2VW checkbox--jmvgdO7ugt",checkboxHeaderChecked:"checkboxHeaderChecked--jVnsRESmiO checkboxChecked--vFOuF2l2VW checkbox--jmvgdO7ugt",checkboxMinus:"checkboxMinus--g44ABlDkh2 checkbox--jmvgdO7ugt",checkboxAdd:"checkboxAdd--GpneSBisBK checkbox--jmvgdO7ugt",table:"table--a8O2px0gHj",bottom:"bottom--b6BPTxGASq",nameColumn:"nameColumn--XYrrfjBTYI",tableHeadContent:"tableHeadContent--V8YR8p9Rji",tableHeadLabel:"tableHeadLabel--uX3llf_9jK"},Ec="team_members_heading_name",Nc="team_members_heading_security_score",fc="team_members_heading_password_count",Cc="team_members_heading_last_login",Tc="team_members_heading_rights",Mc=24;var xc;!function(e){e[e.TEAM_CAPTAIN=0]="TEAM_CAPTAIN",e[e.GROUP_MANAGER=1]="GROUP_MANAGER",e[e.BILLING_ADMIN=2]="BILLING_ADMIN",e[e.ACCEPTED=3]="ACCEPTED",e[e.PENDING_PROPOSED=4]="PENDING_PROPOSED",e[e.DEFAULT=5]="DEFAULT"}(xc||(xc={}));const Dc=({isTeamCaptain:e,isBillingAdmin:t,isGroupManager:a,status:n})=>{switch(!0){case e:return xc.TEAM_CAPTAIN;case a:return xc.GROUP_MANAGER;case t:return xc.BILLING_ADMIN;case"accepted"===n:return xc.ACCEPTED;case["pending","proposed"].includes(n):return xc.PENDING_PROPOSED;default:return xc.DEFAULT}},Ic=(e,t)=>"number"==typeof e?e:t&&["pending","removed"].includes(t)?-1:0,Zc=e=>e.map((e=>({...e,filterableStatus:"proposed"===e.status?"pending":e.status,sortableLastActivity:e.revokedDateUnix||e.lastUpdateDateUnix||0,sortablePasswords:Ic(e.nbrPasswords,e.status),sortableRights:Dc(e),sortableSecurityScore:Ic(e.securityIndex,e.status),sortableSafePasswords:Ic(e.safePasswords,e.status),sortableWeakPasswords:Ic(e.weakPasswords,e.status),sortableReused:Ic(e.reused,e.status),sortableCompromisedPasswords:Ic(e.compromisedPasswords,e.status)}))),wc=e=>{var t;const{translate:a}=(0,l.Z)(),s=(0,z.w)("group_manager_prod"),i=(0,_a.v0)(e.lee.globalState),o=null!=(t=i?.login)?t:"",[c,d]=(0,n.useState)(Zc(e.members)),[u,m]=(0,n.useState)(new Set),[_,p]=(0,n.useState)(0),[g,y]=(0,n.useState)(["accepted","pending","removed"]),[h,b]=(0,n.useState)(""),[S,v]=(0,n.useState)({sortBy:"sortableRights",sortOrder:"asc"});(0,n.useEffect)((()=>{m(new Set),d(Zc(e.members))}),[e.members]);const E=()=>{const e=h?.toLocaleUpperCase(),t="asc"===S.sortOrder?$a.ascend:$a.descend;return(0,$a.sortWith)([t((0,$a.prop)(S.sortBy))])(c.filter((e=>e.filterableStatus&&g.includes(e.filterableStatus))).filter((t=>!h||t.login.toLocaleUpperCase().includes(e))))},N=e=>{p(e)},f=e=>{const t=e===S.sortBy&&"asc"===S.sortOrder?"desc":"asc";v({sortBy:e,sortOrder:t})},C=e=>{p(0),y((t=>t.includes(e)?t.filter((t=>t!==e)):t.concat([e])))},M=e=>!e.isBillingAdmin&&["accepted","pending","proposed"].includes(e.status),x=()=>{m(new Set)},D=()=>{const e=_*Mc,t=new Set;E().slice(e,e+Mc).reduce(((e,t)=>(o===t.login||e.add({...t}),e)),t),Array.from(u).forEach((e=>t.add({...e}))),m(t)},I=_*Mc,Z=E(),w={first:Z.length?I+1:0,last:Math.min(Z.length,I+Mc)},O=Z.slice(I,I+Mc),k=(e=>{const t=e.filter((e=>Array.from(u).find((t=>t.login===e.login)))).length,a=e.find((e=>e.login===o))?e.length-1:e.length;let n,s;return 0===t?(n=vc.checkboxAdd,s=D):a>0&&t===a?(n=vc.checkboxHeaderChecked,s=x):(n=vc.checkboxMinus,s=x),(0,A.tZ)("span",{className:n,onClick:s})})(O),L=[{headerLabel:"",headerElement:k,headerKey:"checkbox"},{headerLabel:a(Ec),tooltipLabel:a(Ec),onClick:()=>f("login"),sortOrder:"login"!==S.sortBy?void 0:S.sortOrder,headerKey:"login"},{headerLabel:a(Nc),tooltipLabel:a(Nc),onClick:()=>f("sortableSecurityScore"),sortOrder:"sortableSecurityScore"!==S.sortBy?void 0:S.sortOrder,headerKey:"security-score"},{headerLabel:a(fc),tooltipLabel:a(fc),onClick:()=>f("sortablePasswords"),sortOrder:"sortablePasswords"!==S.sortBy?void 0:S.sortOrder,headerKey:"num-passwords"},{headerLabel:a("team_members_heading_safe"),tooltipLabel:a("team_members_heading_safe_tooltip"),onClick:()=>f("sortableSafePasswords"),sortOrder:"sortableSafePasswords"!==S.sortBy?void 0:S.sortOrder,headerKey:"safe-passwords"},{headerLabel:a("team_members_heading_weak"),tooltipLabel:a("team_members_heading_weak_tooltip"),onClick:()=>f("sortableWeakPasswords"),sortOrder:"sortableWeakPasswords"!==S.sortBy?void 0:S.sortOrder,headerKey:"weak-passwords"},{headerLabel:a("team_members_heading_reused"),tooltipLabel:a("team_members_heading_reused_tooltip"),onClick:()=>f("sortableReused"),sortOrder:"sortableReused"!==S.sortBy?void 0:S.sortOrder,headerKey:"reused-passwords"},{headerLabel:a("team_members_heading_compromised"),tooltipLabel:a("team_members_heading_compromised_tooltip"),onClick:()=>f("sortableCompromisedPasswords"),sortOrder:"sortableCompromisedPasswords"!==S.sortBy?void 0:S.sortOrder,headerKey:"compromised-passwords"},{headerLabel:a(Cc),tooltipLabel:a(Cc),onClick:()=>f("sortableLastActivity"),sortOrder:"sortableLastActivity"!==S.sortBy?void 0:S.sortOrder,headerKey:"last-login"},{headerLabel:(0,A.tZ)("span",{sx:{display:"flex",alignItems:"center"}},a(Tc)," ",s?(0,A.tZ)(T.JO,{name:"FeedbackInfoOutlined",sx:{display:"inline-block",marginLeft:"4px"},size:"small"}):null),tooltipLabel:s?a.markup("team_members_heading_rights_tooltip_markup"):a(Tc),onClick:()=>f("sortableRights"),sortOrder:"sortableRights"!==S.sortBy?void 0:S.sortOrder,headerKey:"permissions"},{headerLabel:"",headerKey:"actions"}];return(0,A.tZ)("div",{className:vc.container},(0,A.tZ)("div",{className:vc.top},(0,A.tZ)("div",{className:vc.tableHeaderContainer},(0,A.tZ)(rc.n,{type:"search",containerStyle:{flexGrow:1,maxWidth:"300px",marginBottom:"15px"},onChange:e=>{p(0),b(e.currentTarget.value)},placeholder:a("team_members_filter_control_search_placeholder"),placeholderIcon:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjEiIGhlaWdodD0iMjEiIHZpZXdCb3g9IjAgMCAyMSAyMSIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8cGF0aCBkPSJNNy4zNzUgMTMuNzY0Nkw0LjM3NSAxNi43NjQ2TTE2LjM3NSA5LjI2NDY1QzE2LjM3NSAxMS43NDk5IDE0LjM2MDMgMTMuNzY0NiAxMS44NzUgMTMuNzY0NkM5LjM4OTcyIDEzLjc2NDYgNy4zNzUgMTEuNzQ5OSA3LjM3NSA5LjI2NDY1QzcuMzc1IDYuNzc5MzcgOS4zODk3MiA0Ljc2NDY1IDExLjg3NSA0Ljc2NDY1QzE0LjM2MDMgNC43NjQ2NSAxNi4zNzUgNi43NzkzNyAxNi4zNzUgOS4yNjQ2NVoiIHN0cm9rZT0iI0NDQzdDMiIgc3Ryb2tlLXdpZHRoPSIxLjUiLz4KPC9zdmc+Cg=="}),(0,A.tZ)("div",{className:vc.topContainer},(0,A.tZ)("div",{className:vc.topLeft},(0,A.tZ)("div",{className:vc.statusFilters},(0,A.tZ)("span",{className:g.includes("accepted")?vc.checkboxChecked:vc.checkbox,onClick:()=>C("accepted")}),a("team_members_filter_control_include_active"),(0,A.tZ)("span",{className:g.includes("pending")?vc.checkboxChecked:vc.checkbox,onClick:()=>C("pending")}),a("team_members_filter_control_include_invited"),(0,A.tZ)("span",{className:g.includes("removed")?vc.checkboxChecked:vc.checkbox,onClick:()=>C("removed")}),a("team_members_filter_control_include_revoked"))),u.size>0&&[(0,A.tZ)(sc,{key:"dropdown",onMembersActionSelect:t=>{let a=[...u];"demote"===t&&(a=a.filter((e=>e.isTeamCaptain))),"promote"===t&&(a=a.filter((e=>!e.isTeamCaptain&&"accepted"===e.status))),e.onMembersActionSelect(t,a)},onMultipleReassignActionSelect:t=>{let a=[...u];switch(t){case"member":a=a.filter((e=>e.isTeamCaptain||e.isGroupManager));break;case"teamCaptain":a=a.filter((e=>!e.isTeamCaptain&&"accepted"===e.status));break;case"groupManager":a=a.filter((e=>!e.isGroupManager&&"accepted"===e.status))}e.onMembersActionSelect("reassign",a,t)}}),(0,A.tZ)(Gl.Z,{key:"button",classNames:[vc.revokeButton],label:a("team_members_revoke_multiple_label"),disabled:![...u].some(M),onClick:()=>{let t=[...u];t=t.filter(M),e.onMembersActionSelect("revoke",t)}})],(0,A.tZ)("div",{className:vc.topRight},(0,A.tZ)("div",{className:vc.topPagination},(0,A.tZ)("div",{className:vc.topPaginationText},(0,A.tZ)("span",{className:vc.topPaginationTextStrong},a("team_members_filter_pagination_top_count",{first:w.first,last:w.last})),a("team_members_filter_pagination_top_total",{total:Z.length})),(0,A.tZ)(ic.Z,{className:vc.paginationArrows,currentPageIndex:_,isShort:!0,itemsLength:Z.length,itemsPerPage:Mc,onChange:N})),(0,A.tZ)(r.zxk,{type:"button",className:vc.addButton,onClick:e.onMembersInvite},(0,A.tZ)(r.dtP,{color:Ht()["--white"]}),a("team_members_quota_progress_add")),e.members.length>1&&(0,A.tZ)(Sc,{members:e.members,onMembersActionSelect:e.onMembersActionSelect}))))),(0,A.tZ)("table",{className:vc.table},(0,A.tZ)(ti,{columns:L}),(0,A.tZ)(mc,{checkedMembers:u,currentLoggedLogin:o,members:O,onMemberActionSelect:(t,a)=>{e.onMembersActionSelect(t,[a])},onMemberToggleCheck:e=>{m((t=>{const a=Array.from(t).find((t=>t.login===e.login)),n=new Set(t);return a?n.delete(a):n.add({...e}),n}))}})),(0,A.tZ)("div",{className:vc.bottom},(0,A.tZ)(ic.Z,{currentPageIndex:_,itemsLength:Z.length,itemsPerPage:Mc,onChange:N})))},Ac=({handleClickOnRetry:e})=>{const{translate:t}=(0,l.Z)();return(0,A.tZ)(n.Fragment,null,(0,A.tZ)("div",{sx:{transform:"translate(-5px, -5px)",margin:"25px 0px"}},(0,A.tZ)(r.enX,{color:T.O9.lightTheme.ds.text.danger.quiet,size:75})),(0,A.tZ)(r.$N8,{id:"backup-code-generation-error-dialog-title",title:t("team_members_generate_recovery_codes_error_dialog_title")}),(0,A.tZ)(r.a7O,null,(0,A.tZ)(r.nvN,{id:"backup-code-generation-error-dialog-description",sx:{color:T.O9.lightTheme.ds.text.neutral.standard}},t("team_members_generate_recovery_codes_error_dialog_description"))),(0,A.tZ)(r.cNS,{primaryButtonTitle:t("team_members_generate_recovery_codes_error_dialog_confirm_button"),primaryButtonProps:{id:"backup-code-generation-error-dialog-try-again-button",type:"button",autoFocus:!0},primaryButtonOnClick:()=>e()}))};var Oc,kc=a(789921),Lc=a(89042);const zc=({memberLogin:e,recoveryCodes:t,handleClickOnDone:a})=>{const{translate:n}=(0,l.Z)();return(0,A.tZ)("div",null,(0,A.tZ)(r.$N8,{id:"backup-code-generation-dialog-list-title",title:n("team_members_generate_recovery_codes_dialog_title",{memberLogin:e})}),(0,A.tZ)(r.a7O,null,(0,A.tZ)(r.nvN,{id:'id="backup-code-generation-dialog-list-description"',sx:{mb:"24px",mt:"6px",color:T.O9.lightTheme.ds.text.neutral.standard}},n("team_members_generate_recovery_codes_dialog_description",{memberLogin:e})),(0,A.tZ)(r.j49,{color:T.O9.lightTheme.ds.text.brand.standard,id:'id="backup-code-generation-dialog-list-eyebrow"'},n("team_members_generate_recovery_codes_dialog_codes_label")),(0,A.tZ)(r.Zbd,{sx:{mt:"6px",padding:"8px 12px",width:"100%"}},t?.map(((e,t)=>(0,A.tZ)(r.nvN,{key:e,"data-testid":`two-factor-authentication-backup-code-${t}`},e)))),(0,A.tZ)(r.zxk,{sx:{mt:"24px"},type:"button",nature:"secondary",id:"backup-code-generation-dialog-list-download-button",onClick:()=>{const e=t?.join("\n");(0,kc.W)(e,Lc.B)}},(0,A.tZ)(r.Ejs,null,(0,A.tZ)(r.k$b,{sx:{mr:"10px"}},Oc||(Oc=(0,A.tZ)(r._8t,{size:16}))),n("team_members_generate_recovery_codes_dialog_download_button")))),(0,A.tZ)(r.cNS,{primaryButtonTitle:n("team_members_generate_recovery_codes_dialog_confirm_button"),primaryButtonProps:{id:"id=backup-code-generation-dialog-list-done-button",type:"button",autoFocus:!0},primaryButtonOnClick:()=>a()}))};var jc;const Pc=({isOpen:e,memberLogin:t,closeBackupCodeDialog:a})=>{const[s,i]=(0,n.useState)(!1),[o,c]=(0,n.useState)(),d=async()=>{const e=await H.C.getRecoveryCodesAsTeamCaptain({login:t});e.success?c(e.data.recoveryCodes):i(!0)},u=()=>{i(!1),c(void 0),a()};(0,n.useEffect)((()=>{e&&!s&&d()}),[e]);const{translate:m}=(0,l.Z)();return(0,A.tZ)(r.VqE,{isOpen:e,closeIconName:s?m("BUTTON_CLOSE_DIALOG"):"",onClose:()=>{u()}},s?(0,A.tZ)(Ac,{handleClickOnRetry:()=>{i(!1),d()}}):o?(0,A.tZ)(zc,{memberLogin:t,recoveryCodes:o,handleClickOnDone:u}):(0,A.tZ)(n.Fragment,null,(0,A.tZ)(r.$N8,{id:"backup-code-generation-dialog-loader-title",title:m("team_members_generate_recovery_codes_dialog_loading_title",{memberLogin:t})}),(0,A.tZ)(r.a7O,null,(0,A.tZ)("div",{sx:{mt:"26px"}},jc||(jc=(0,A.tZ)(Ln.Z,{mode:"light",size:75}))))))},Rc=({closeDialog:e,resendOrReactivate:t})=>{const{translate:a}=(0,l.Z)(),s=(0,Fa.V)(),i=(0,z.w)("onboarding_web_teamsignuppage"),{getInviteLinkDataForAdmin:o,inviteLinkDataForAdmin:c}=(0,hc.h)(),d=i&&!1===c?.disabled,u=(0,ee.cI)(c?.teamKey);return(0,n.useEffect)((()=>{o()}),[]),(0,A.tZ)(je.o,{showCloseIcon:!0,isOpen:!0,footer:(0,A.tZ)(r.cNS,{intent:"primary",primaryButtonTitle:(0,A.tZ)(n.Fragment,null,(0,A.tZ)(T.JO,{sx:{marginRight:"4px"},name:"NotificationOutlined",size:"medium",color:"ds.text.inverse.catchy"}),a("team_members_resend_invite_dialog_resend_confirm")),secondaryButtonTitle:d?(0,A.tZ)(n.Fragment,null,(0,A.tZ)(T.JO,{sx:{marginRight:"4px"},name:"ActionCopyOutlined",size:"medium",color:"ds.text.neutral.catchy"}),a("team_members_resend_copy_invite_link")):void 0,secondaryButtonOnClick:d?()=>{navigator.clipboard.writeText(u),s.showAlert(a("team_members_share_invite_link_copied"),r.BLW.SUCCESS)}:void 0,primaryButtonOnClick:()=>{t()}}),onRequestClose:e,title:a("team_members_reinvite_dialog_title")},(0,A.tZ)(r.Ejs,{flexDirection:"column",gap:4,sx:{marginTop:"12px"}},(0,A.tZ)(r.nvN,null,a("team_members_resend_invite_dialog_message")),d?(0,A.tZ)(n.Fragment,null,(0,A.tZ)(r.nvN,null,a("team_members_resend_invite_link_description")),(0,A.tZ)(r.nvN,{bold:!0,sx:{textDecoration:"underline"}},u)):null))},Uc={REVOKE_ERROR_MSG:"team_members_revoke_error_message",REVOKE_SUCCESS_MSG:"team_members_revoke_success_message",SINGLE:{REVOKE_DIALOG_CONFIRM:"team_members_revoke_single_dialog_confirm",REVOKE_DIALOG_CANCEL:"team_members_revoke_single_dialog_cancel",REVOKE_DIALOG_MSG:"team_members_revoke_single_dialog_message",REVOKE_DIALOG_TITLE:"team_members_revoke_single_dialog_title"},MULTIPLE:{REVOKE_DIALOG_CONFIRM:"team_members_remove_multiple_dialog_confirm",REVOKE_DIALOG_CANCEL:"team_members_revoke_multiple_dialog_cancel",REVOKE_DIALOG_MSG:"team_members_revoke_multiple_dialog_message",REVOKE_DIALOG_TITLE:"team_members_remove_multiple_dialog_title"}},Bc=({lee:e,closeDialog:t,selectedMembers:a})=>{const{translate:n}=(0,l.Z)(),s=(0,Fa.V)(),{reportTACError:i}=Fe(),o=1===a.length,c=o?Uc.SINGLE:Uc.MULTIPLE;return(0,A.tZ)(je.o,{isOpen:!0,footer:(0,A.tZ)(r.cNS,{intent:"primary",primaryButtonTitle:n(c.REVOKE_DIALOG_CONFIRM),primaryButtonOnClick:()=>(async()=>{t();const o=(0,_a.v0)(e.globalState);if(!o)return void i(new Error(da.N));const{teamId:l}=o;if(l)try{const t=a.map((e=>e.login)),{content:{removedMembers:i,unproposedMembers:c,refusedMembers:d}}=await(new ma.Z).revokeMembers({auth:o,memberLogins:t}),u=Object.keys({...i,...c});u.forEach((t=>{const n=a.find((e=>e.login===t));e.dispatch(Hl.Rb(n))})),Object.keys(d).forEach((t=>{const i=a.find((e=>e.login===t));if(!i)throw new Error(`member '${t}' not found in members list`);s.showAlert(n(Uc.REVOKE_ERROR_MSG),r.BLW.ERROR),e.dispatch(Hl.Jo(i))})),u.length&&(s.showAlert(n(Uc.REVOKE_SUCCESS_MSG,{count:u.length}),r.BLW.SUCCESS),await(0,Va.hh)({teamId:l,action:"memberRevoked",users:u}))}catch(e){i(e)}})(),secondaryButtonTitle:n(c.REVOKE_DIALOG_CANCEL),secondaryButtonOnClick:t}),onRequestClose:t,title:o?n(Uc.SINGLE.REVOKE_DIALOG_TITLE):n(Uc.MULTIPLE.REVOKE_DIALOG_TITLE,{count:a.length})},o?n(Uc.SINGLE.REVOKE_DIALOG_MSG,{username:a[0].login||a[0].name}):n(Uc.MULTIPLE.REVOKE_DIALOG_MSG))},Gc={CAPTAIN_PROMOTE_ERROR_GENERIC_TITLE:"team_members_captain_promote_error_generic_title",CAPTAIN_PROMOTE_ERROR_GENERIC_MESSAGE:"team_members_captain_promote_error_generic_message",CAPTAIN_PROMOTE_INVITE_ERROR_PK_TITLE:"team_members_captain_promote_invite_error_public_key_title",CAPTAIN_PROMOTE_INVITE_ERROR_PK_MESSAGE:"team_members_captain_promote_invite_error_public_key_message",CAPTAIN_PROMOTE_SUCCESS_MSG:"team_members_captain_promote_success_message",CAPTAIN_MULTIPLE_PROMOTE_DIALOG_MSG_NOBODY:"team_members_captain_multiple_promote_dialog_message_nobody",SINGLE:{PROMOTE_DIALOG_CONFIRM:"team_members_captain_single_promote_dialog_confirm",PROMOTE_DIALOG_CANCEL:"team_members_captain_single_promote_dialog_cancel",PROMOTE_DIALOG_MSG:"team_members_captain_single_promote_dialog_message",PROMOTE_DIALOG_TITLE:"team_members_captain_single_promote_dialog_title"},MULTIPLE:{PROMOTE_DIALOG_CONFIRM:"team_members_captain_multiple_promote_dialog_confirm",PROMOTE_DIALOG_CANCEL:"team_members_captain_multiple_promote_dialog_cancel",PROMOTE_DIALOG_MSG:"team_members_captain_multiple_promote_dialog_message",PROMOTE_DIALOG_TITLE:"team_members_captain_multiple_promote_dialog_title"}},Fc=({lee:e,closeDialog:t,selectedMembers:a})=>{const{translate:n}=(0,l.Z)(),s=(0,Fa.V)(),{reportTACError:i,addAlertToQueue:o}=Fe(),c=e=>{const t=Xc(e);(e=>{e.forEach((e=>{i(e)}))})(t);const a=t[0],s={title:n(Gc.CAPTAIN_PROMOTE_ERROR_GENERIC_TITLE),message:n(Gc.CAPTAIN_PROMOTE_ERROR_GENERIC_MESSAGE)},r={title:n(Gc.CAPTAIN_PROMOTE_INVITE_ERROR_PK_TITLE),message:n(Gc.CAPTAIN_PROMOTE_INVITE_ERROR_PK_MESSAGE)};let l;try{l=JSON.parse(a.message)}catch{l={}}o("MISSING_PUBLIC_KEY"===l?.code?r:s)};if(!a.length)return(0,A.tZ)(je.o,{isOpen:!0,footer:(0,A.tZ)(r.cNS,{intent:"secondary",secondaryButtonTitle:n(Gc.MULTIPLE.PROMOTE_DIALOG_CANCEL),secondaryButtonOnClick:t}),onRequestClose:t,title:n(Gc.MULTIPLE.PROMOTE_DIALOG_TITLE)},n(Gc.CAPTAIN_MULTIPLE_PROMOTE_DIALOG_MSG_NOBODY));const d=1===a.length,u=d?Gc.SINGLE:Gc.MULTIPLE;return(0,A.tZ)(je.o,{isOpen:!0,footer:(0,A.tZ)(r.cNS,{intent:"primary",primaryButtonTitle:d?n(Gc.SINGLE.PROMOTE_DIALOG_CONFIRM):n(Gc.MULTIPLE.PROMOTE_DIALOG_CONFIRM,{count:a.length}),primaryButtonOnClick:async()=>{const o=(0,_a.v0)(e.globalState);if(!o)return void i(new Error(da.N));const{teamId:l}=o;if(!l)return;const{errors:d,successes:u}=await qc(a,(async t=>(await(0,Va.JQ)({teamId:l,memberLogin:t.login}),e.dispatch(Hl.VW(t)),s.showAlert(n(Gc.CAPTAIN_PROMOTE_SUCCESS_MSG,{username:t.name||t.login||"Member"}),r.BLW.SUCCESS),t.login)));if(u.length)try{await(0,Va.hh)({teamId:l,action:"adminPromoted",users:u})}catch(e){c(e)}finally{t()}d.length&&c(d)},secondaryButtonTitle:n(u.PROMOTE_DIALOG_CANCEL),secondaryButtonOnClick:t}),onRequestClose:t,title:n(u.PROMOTE_DIALOG_TITLE)},d?n(Gc.SINGLE.PROMOTE_DIALOG_MSG,{username:a[0].login||a[0].name}):n(Gc.MULTIPLE.PROMOTE_DIALOG_MSG))},Vc={CAPTAIN_DEMOTE_FAILURE_MSG:"team_members_captain_demote_failure_message",CAPTAIN_DEMOTE_SUCCESS_MSG:"team_members_captain_demote_success_message",CAPTAIN_MULTIPLE_DEMOTE_DIALOG_MSG_NOBODY:"team_members_captain_multiple_demote_dialog_message_nobody",SINGLE:{DEMOTE_DIALOG_CONFIRM:"team_members_captain_single_demote_dialog_confirm",DEMOTE_DIALOG_CANCEL:"team_members_captain_single_demote_dialog_cancel",DEMOTE_DIALOG_MSG:"team_members_captain_single_demote_dialog_message",DEMOTE_DIALOG_TITLE:"team_members_captain_single_demote_dialog_title"},MULTIPLE:{DEMOTE_DIALOG_CONFIRM:"team_members_captain_multiple_demote_dialog_confirm",DEMOTE_DIALOG_CANCEL:"team_members_captain_multiple_demote_dialog_cancel",DEMOTE_DIALOG_MSG:"team_members_captain_multiple_demote_dialog_message",DEMOTE_DIALOG_TITLE:"team_members_captain_multiple_demote_dialog_title"}},$c=({lee:e,closeDialog:t,selectedMembers:a})=>{const{translate:n}=(0,l.Z)(),s=(0,Fa.V)(),{reportTACError:i}=Fe(),o=e=>{(e=>{e.forEach((e=>{i(e)}))})(Xc(e)),s.showAlert(n(Vc.CAPTAIN_DEMOTE_FAILURE_MSG),r.BLW.ERROR)};if(!a.length)return(0,A.tZ)(je.o,{isOpen:!0,footer:(0,A.tZ)(r.cNS,{intent:"secondary",secondaryButtonTitle:n(Vc.MULTIPLE.DEMOTE_DIALOG_CANCEL),secondaryButtonOnClick:t}),onRequestClose:t,title:n(Vc.MULTIPLE.DEMOTE_DIALOG_TITLE)},n(Vc.CAPTAIN_MULTIPLE_DEMOTE_DIALOG_MSG_NOBODY));const c=1===a.length,d=c?Vc.SINGLE:Vc.MULTIPLE;return(0,A.tZ)(je.o,{isOpen:!0,footer:(0,A.tZ)(r.cNS,{intent:"primary",primaryButtonTitle:c?n(Vc.SINGLE.DEMOTE_DIALOG_CONFIRM):n(Vc.MULTIPLE.DEMOTE_DIALOG_CONFIRM,{count:a.length}),primaryButtonOnClick:async()=>{const l=(0,_a.v0)(e.globalState);if(!l)return void i(new Error(da.N));const{teamId:c}=l;if(!c)return;const{errors:d,successes:u}=await qc(a,(async t=>(await(0,Va.Lx)({teamId:c,memberLogin:t.login}),e.dispatch(Hl.bj(t)),s.showAlert(n(Vc.CAPTAIN_DEMOTE_SUCCESS_MSG,{username:t.name||t.login||"Member"}),r.BLW.SUCCESS),t.login)));if(u.length)try{await(0,Va.hh)({teamId:c,action:"adminDemoted",users:u})}catch(e){o(e)}finally{t()}d.length&&o(d)},secondaryButtonTitle:n(d.DEMOTE_DIALOG_CANCEL),secondaryButtonOnClick:t}),onRequestClose:t,title:n(d.DEMOTE_DIALOG_TITLE)},c?n(Vc.SINGLE.DEMOTE_DIALOG_MSG,{username:a[0].login||a[0].name}):n(Vc.MULTIPLE.DEMOTE_DIALOG_MSG))};var Wc;const Hc=({closeDialog:e})=>{const{translate:t}=(0,l.Z)(),a=(0,Fa.V)(),s=(0,z.w)("onboarding_web_teamsignuppage"),{inviteLinkDataForAdmin:i,getInviteLinkDataForAdmin:o}=(0,hc.h)();(0,n.useEffect)((()=>{o()}),[o]);const c=(0,ee.cI)(i?.teamKey);return(0,A.tZ)(je.o,{showCloseIcon:!0,isOpen:s,footer:(0,A.tZ)(r.cNS,{intent:"primary",primaryButtonTitle:(0,A.tZ)(n.Fragment,null,Wc||(Wc=(0,A.tZ)(T.JO,{name:"ActionCopyOutlined",size:"medium",color:"ds.text.inverse.catchy"})),t("team_memebers_share_link_dialog_copy_link_button")),primaryButtonOnClick:async()=>{await navigator.clipboard.writeText(c),a.showAlert(t("team_members_share_invite_link_copied"),r.BLW.SUCCESS)}}),onRequestClose:e,title:t("team_memebers_share_link_dialog_title")},(0,A.tZ)(n.Fragment,null,(0,A.tZ)(r.nvN,null,t("team_memebers_share_link_dialog_paragraph")),(0,A.tZ)(r.nvN,{sx:{marginTop:"16px",fontWeight:"600"}},c)))},Qc=({membersWithoutPublicKey:e,onClose:t})=>{const{translate:a}=(0,l.Z)();return(0,A.tZ)(je.o,{isOpen:Boolean(e.length),footer:(0,A.tZ)(r.cNS,{intent:"secondary",secondaryButtonTitle:a("team_members_error_popup_public_keys_ok"),secondaryButtonOnClick:t}),onRequestClose:t,title:a("team_members_error_popup_public_keys_title")},(0,A.tZ)("div",null,a("team_members_error_popup_public_keys_message"),(0,A.tZ)("ul",{sx:{listStyleType:"disc",paddingLeft:"40px",marginTop:"1em",marginBottom:"1em"}},e.map((({login:e})=>(0,A.tZ)("li",{key:e},e))))))},Yc=({closeDialog:e,applyActionOnMembers:t})=>{const{translate:a}=(0,l.Z)(),s=(0,Fa.V)(),i=(0,z.w)("onboarding_web_teamsignuppage"),{getInviteLinkDataForAdmin:o,inviteLinkDataForAdmin:c,createInviteLink:d,toggleInviteLink:u}=(0,hc.h)(),{teamInfo:m}=(0,ve.G)();return(0,n.useEffect)((()=>{o()}),[o]),(0,A.tZ)(je.o,{showCloseIcon:!0,isOpen:i,footer:(0,A.tZ)(r.cNS,{intent:"primary",primaryButtonTitle:a("team_activation_dialog_activate_button"),primaryButtonOnClick:()=>(async()=>{var e;const n=null!=(e=m?.teamInfo?.name)?e:"";c?.teamKey?c?.disabled&&await u(!1):await d(n),s.showAlert(a("team_activation_dialog_notification"),r.BLW.SUCCESS),await o(),t("shareInviteLink")})(),secondaryButtonTitle:a("team_activation_dialog_notrightnow_button"),secondaryButtonOnClick:e}),onRequestClose:e,title:a("team_activation_dialog_title")},(0,A.tZ)(r.nvN,null,a("team_activation_dialog_paragrah")))},qc=async(e,t)=>{const a={errors:[],successes:[]};for await(const n of e)try{const e=await t(n);a.successes.push(e)}catch(e){a.errors.push(e)}return a},Kc=({refusedMembers:e={}}={})=>Object.keys(e).length>0,Xc=e=>(e instanceof Array?e:[e]).map((e=>e instanceof Error?e:e instanceof Object?new Error(JSON.stringify(e)):new Error(e)));var Jc;const ed=["text/*",".csv",".txt"],td="team_members_invite_error_message",ad=e=>{var t;const{routes:a}=(0,i.Xo)(),{translate:s}=(0,l.Z)(),o=(0,Fa.V)(),{reportTACError:c}=Fe(),[d,u]=(0,n.useState)(!1),[m,_]=(0,n.useState)(!1),[p,g]=(0,n.useState)(null!=(t=e.preFilledEmails)?t:new Set([])),[y,h]=(0,n.useState)(0),[b,S]=(0,n.useState)(0),[v,E]=(0,n.useState)(0),[N,f]=(0,n.useState)(0),[C,T]=(0,n.useState)(!1),M=(0,z.w)("monetization_avalara_b2b_propose_members"),{proposeMembers:x}=(0,dl.u7)(ul.teamMembersApi),D=e.lee.carbon.accountInfo.premiumStatus,I=e.lee.apiMiddleware.teamPlans?e.lee.apiMiddleware.teamPlans:(c(new Error("teamPlans missing in apiMiddleware")),null),{billingDetails:Z,amountToPay:w,amountToTax:O,onSeatCountChange:k}=ss({teamPlans:I,isFreeToPaidUpgrade:e.isFreeTrial,getLatestRequestedSeatCount:null});(0,n.useEffect)((()=>{_(d)}),[d]),(0,n.useEffect)((()=>{var t;g(null!=(t=e.preFilledEmails)?t:new Set([]))}),[e.preFilledEmails]),(0,n.useEffect)((()=>{p.size||E(0)}),[p]);const L=()=>{e.closeInviteDialog(),u(!1),h(0),S(0)},j=async(t,a)=>{var n;a=null!=(n=a)?n:0,S(t.length),u(!0);const i=a+Math.min(t.length-a,500),l=t.slice(a,i),d={};try{const a=await(async t=>{if(!(0,_a.v0)(e.lee.globalState)){const e=new Error(da.N);throw c(e),e}if(!e.lee.apiMiddleware.teamPlans)throw new Error("we want to remove this middleware but we can't just yet!");try{if(M){const e=await x({proposedMemberLogins:t,force:!0});if(e.error)throw o.showAlert(s(td),r.BLW.ERROR),new Error(s(td));return e.data}return await e.lee.apiMiddleware.teamPlans.addMembers(t)}catch(e){const t=e.code&&e.subCode?`invite_error_${e.code}_${e.subCode}`:td;throw o.showAlert(s(t),r.BLW.ERROR),new Error(s(t))}})(l);if(h(i),(0,De.merge)(d,a),i<t.length)return j(t,i);if(Kc(d)){e.handleInvitePartialSuccess(d.proposedMembers,d.refusedMembers);const t=Object.keys(d.proposedMembers).length,a=Object.keys(d.refusedMembers).length;(0,q.K)(new G.UserSendManualInviteEvent({flowStep:G.FlowStep.Complete,inviteCount:t,inviteFailedCount:a,inviteResentCount:0,inviteSuccessfulCount:t-a,isImport:v>0,importSize:v,isResend:!1}))}else e.handleInviteCompleteSuccess(t),N<0?1===p.size?o.showAlert(s("team_members_invite_success_message_with_added_seats_one_invite",{cost:s.price(Z.currency,(w+O)/100)}),r.BLW.SUCCESS):o.showAlert(s("team_members_invite_success_message_with_added_seats",{total:p.size,count:-N,cost:s.price(Z.currency,(w+O)/100)}),r.BLW.SUCCESS):o.showAlert(s("team_members_invite_success_message_with_count",{count:p.size}),r.BLW.SUCCESS),(0,q.K)(new G.UserSendManualInviteEvent({flowStep:G.FlowStep.Complete,inviteCount:t.length,inviteFailedCount:0,inviteResentCount:0,inviteSuccessfulCount:t.length,isImport:v>0,importSize:v,isResend:!1}));return L()}catch(e){throw(0,q.K)(new G.UserSendManualInviteEvent({flowStep:G.FlowStep.Error,inviteCount:p.size,inviteFailedCount:0,inviteResentCount:0,inviteSuccessfulCount:0,isImport:v>0,importSize:v,isResend:!1})),L(),e}},R=e=>function(e){if(function(e){const t=e.match(/[\x00-\x09\x0e-\x1F]/g);return!!t&&t.length/e.length>.03}(e))return[];if(!e.includes("@"))return[e];return function(e){const t={};return e.forEach((e=>t[e]=!0)),Object.keys(t)}(e.match(/[^<> ,;:\t\n\r"']+@[a-zA-Z0-9_.-]+/g)||[])}(e).filter((e=>{return t=e,!p.has(t);var t})),U=t=>(0,de.vV)(t)&&!(t=>!!e.exclude?.includes(t))(t),B=e=>{E(e.length),g(new Set([...p,...e]))},F=e=>{c(e)},V=[...p].filter((e=>!U(e))).length;let $=0===p.size||V>0||N<0&&Bn(-N)||C,W=null;const{slotsTotal:H,slotsTaken:Q}=e;(0,n.useEffect)((()=>{if(H){const e=H-(p.size-V)-Q;f(e),e<0?(k(-e),D&&(0,Me.f1)(D)&&T(!0)):T(!1)}}),[p,H,Q]);const{loading:Y,billingCountry:K}=P();if(Y)return(0,A.tZ)(r.HoD,{color:r.O9T.midGreen00});const X="US"===K?"team_invite_dialog_input_counter_negative_tax":"team_invite_dialog_input_counter_negative_vat";if(H){const t=N<0?Bn(-N)?s("team_account_teamplan_upgrade_premium_buy_more_seats_than_cap",{seatCap:Pn,salesEmail:Rn}):O?s(X,{count:-N,total:H,cost:s.price(Z.currency,(w+O)/100)}):s("team_invite_dialog_input_counter_negative",{count:-N,total:H,cost:s.price(Z.currency,w/100)}):s("team_invite_dialog_input_counter",{count:N,total:H}),a=s("team_invite_dialog_input_counter_special",{total:H});let n=t;e.isFreeTrial&&N<1&&($=N<0||$,n=a);const i=Oe()(pl,{"alert--WcUXIwBMog":N<1,[gl]:!d});W=(0,A.tZ)("div",{className:i},n)}return(0,A.tZ)(r.VqE,{isOpen:e.isOpen,closeIconName:d?void 0:s("_common_dialog_dismiss_button"),onClose:()=>{d||((0,q.K)(new G.UserSendManualInviteEvent({flowStep:G.FlowStep.Cancel,inviteCount:p.size,inviteFailedCount:0,inviteResentCount:0,inviteSuccessfulCount:0,isImport:v>0,importSize:v,isResend:!1})),L(),g(new Set([])))},ariaDescribedby:"dialogContent"},(0,A.tZ)(r.$N8,{title:s("invite_user_dialog_title")}),(0,A.tZ)(r.a7O,null,(0,A.tZ)("div",{className:"dialog--QnJrEK3_WD"},(0,A.tZ)("div",{id:"dialogContent",className:"instruction--MOkv4LlYxY"},s(d?"team_invite_dialog_input_label_sending":"invite_user_dialog_input_label")),(0,A.tZ)(ml.Z,{accept:ed,passClicksThrough:!0,className:"fileDropZone--_MXyrjuinL",onChange:e=>{B(R(e.join("\0")))},onError:F},(0,A.tZ)(_l.L,{key:"tags",setIsOverlayVisible:_,placeholder:s("team_invite_dialog_input_placeholder"),tags:[...p],isOverlayVisible:m,setTags:e=>{g(new Set(e))},formatToTags:R,validate:U})),!C&&W,C?(0,A.tZ)("div",{className:"alertOverride--o2y2pG7WQg"},(0,A.tZ)(r.bZj,{severity:r.BLW.SUBTLE},(0,A.tZ)("span",{style:{fontSize:"14px",fontWeight:"400"}},s("team_dialog_starter_limit_warning"),Jc||(Jc=(0,A.tZ)("br",null)),(0,A.tZ)(i.rU,{to:a.teamAccountRoutePath},s("team_dialog_starter_change_plan"))))):null,(0,A.tZ)("div",{className:Oe()(pl,{[gl]:d})},s("team_invite_dialog_invitations_counter",{count:y,total:b})),(0,A.tZ)("div",{className:Oe()("import--aJf1GXo5F5",{[gl]:!d})},(0,A.tZ)(ml.Z,{accept:ed,onChange:e=>{B(R(e.join("\0")))},onError:F},(0,A.tZ)("span",{className:"importTextAction--H7eyxahYri"},s("team_invite_dialog_import_description")))),(0,A.tZ)("div",{className:Oe()("importHint--xIB2QYXXMo",{[gl]:!d})},s("team_invite_dialog_import_example_text")))),(0,A.tZ)(r.cNS,{primaryButtonTitle:(0,A.tZ)(n.Fragment,null,(0,A.tZ)("span",{sx:{marginRight:"8px"}},(0,A.tZ)(r.bV6,{color:r.O9T.white})),s("invite_user_dialog_button")),primaryButtonOnClick:async()=>{try{await j([...p]),e.setShowTeamSignupPageModal(!0)}catch(e){(0,q.K)(new G.UserSendManualInviteEvent({flowStep:G.FlowStep.Error,inviteCount:p.size,inviteFailedCount:0,inviteResentCount:0,inviteSuccessfulCount:0,isImport:v>0,importSize:v,isResend:!1})),o.showAlert(s("_common_generic_error"),r.BLW.ERROR)}g(new Set([]))},primaryButtonProps:{disabled:$,type:"button"}}))},nd=({setShowActivateInviteLinkModal:e,setShowInviteLinkModal:t,setActivateLinkInteracted:a})=>{const{translate:s}=(0,l.Z)(),[i,o]=(0,n.useState)(!0),{getInviteLinkDataForAdmin:c,createInviteLink:d,toggleInviteLink:u}=(0,hc.h)(),{teamInfo:m}=(0,ve.G)(),_=(0,Fa.V)();return(0,A.tZ)(r.VqE,{closeIconName:s("_common_dialog_dismiss_button"),isOpen:i,onClose:()=>o(!1)},(0,A.tZ)(r.$N8,{title:s("team_activation_dialog_title")}),(0,A.tZ)(r.a7O,null,(0,A.tZ)(r.nvN,{sx:{marginBottom:"15px"},color:r.O9T.dashGreen01},s("team_activation_dialog_paragrah"))),(0,A.tZ)(r.cNS,{primaryButtonTitle:s("team_activation_dialog_activate_button"),primaryButtonOnClick:async()=>{var n;a?.(),o(!1),t(!0);const i=null!=(n=m?.teamInfo?.name)?n:"",l=await c();l?.teamKey?await u(!1):(await d(i),_.showAlert(s("team_activation_dialog_notification"),r.BLW.SUCCESS)),e(!1)},primaryButtonProps:{type:"button"},secondaryButtonTitle:s("team_activation_dialog_notrightnow_button"),secondaryButtonOnClick:()=>{a?.(),o(!1),e(!1),_.showAlert(s("team_activation_dialog_cancel_notification"),r.BLW.SUBTLE)}}))};var sd=a(306486);const id=({isOpen:e,setIsOpen:t})=>{const{translate:a}=(0,l.Z)(),{inviteLinkDataForAdmin:s,getInviteLinkDataForAdmin:i}=(0,hc.h)(),o=(0,Fa.V)();return(0,n.useEffect)((()=>{i()}),[i]),(0,A.tZ)(r.VqE,{closeIconName:a("_common_dialog_dismiss_button"),isOpen:e,onClose:()=>t(!1)},(0,A.tZ)(r.$N8,{title:a("team_sharing_invite_dialog_title")}),(0,A.tZ)(r.a7O,null,(0,A.tZ)(r.nvN,{sx:{marginBottom:"15px"},color:r.O9T.dashGreen01},a("team_sharing_invite_dialog_paragrah")),(0,A.tZ)(r.nvN,{sx:{marginBottom:"15px",fontWeight:"600"},color:r.O9T.dashGreen01},(0,ee.cI)(s?.teamKey))),(0,A.tZ)(r.cNS,null,(0,A.tZ)(sd.q,{copyValue:(0,ee.cI)(s?.teamKey),buttonText:a("team_sharing_invite_dialog_copy_link"),onClick:()=>{navigator.clipboard.writeText((0,ee.cI)(s?.teamKey)),o.showAlert(a("team_sharing_invite_dialog_copied_notification"),r.BLW.SUCCESS)}})))},rd=({lee:e,teamId:t,isFreeTrial:a,totalSeatCount:s,numSeatsTaken:i,excludedInviteMembers:r,shouldShowInviteDialog:o,handleCloseInviteDialog:l,handleInvitePartialSuccess:c,handleInviteCompleteSuccess:d,invitePartialSuccessState:u,handleInvitationResultClosed:m,preFilledInviteEmails:_})=>{const{inviteLinkDataForAdmin:p,inviteLinkDataLoading:g,getInviteLinkDataForAdmin:y}=(0,hc.h)(),h=(0,z.w)("onboarding_web_teamsignuppage"),[b,S]=n.useState(!1),{interacted:v,setAsInteracted:E}=(0,ut.d)(rt.NotificationName.ActivateInviteLink);return n.useEffect((()=>{y()}),[y]),n.createElement(n.Fragment,null,o?n.createElement(ad,{lee:e,slotsTotal:s,slotsTaken:i,exclude:r,isFreeTrial:a,isOpen:o,closeInviteDialog:l,handleInvitePartialSuccess:c,handleInviteCompleteSuccess:d,preFilledEmails:_,setShowTeamSignupPageModal:S}):null,v||!h||!b||g||p?.teamKey?null:n.createElement(nd,{setActivateLinkInteracted:E,setShowActivateInviteLinkModal:S,setShowInviteLinkModal:S}),h&&b&&!1===p?.disabled?n.createElement(id,{isOpen:b,setIsOpen:S}):null,u.show?n.createElement(xl,{teamId:t,isOpen:u.show,onClose:m,invitedMembers:u.invitedMembers,refusedMembers:u.refusedMembers}):null)},od=({lee:e,isOpen:t,onClose:a,prefilledEmails:s,teamMembers:i,handleInviteCompleteSuccess:r})=>{const o=(0,n.useRef)(!1),{invitePartialSuccessState:l,setInvitePartialSuccessState:c,handleInvitationResultClosed:d}=Ml(),{teamId:u}=(0,ar.fV)(),m=cl(i),[_,p]=(0,n.useState)(0),[g,y]=(0,n.useState)(!1);return(0,n.useEffect)((()=>{const t=(0,_a.v0)(e.globalState);if(t)return(new ma.Z).status({auth:t}).then((e=>{o.current||(p(e.content.team.membersNumber+e.content.team.extraFreeSlots),y(e.content.team.isFreeTrial))})).catch(),()=>{o.current=!0}}),[]),(0,A.tZ)(rd,{lee:e,teamId:u,totalSeatCount:_,numSeatsTaken:m,excludedInviteMembers:i.filter((({status:e})=>"removed"!==e)).map((({login:e})=>e)),isFreeTrial:g,shouldShowInviteDialog:t,handleCloseInviteDialog:a,handleInvitePartialSuccess:(e,t)=>c({show:!0,invitedMembers:e,refusedMembers:t}),handleInviteCompleteSuccess:r,invitePartialSuccessState:l,handleInvitationResultClosed:d,preFilledInviteEmails:s})},ld=e=>{const[t,a]=(0,n.useState)(!1),[s,i]=(0,n.useState)([]),[r,o]=(0,n.useState)(null),l=(0,n.useCallback)((async t=>{if(!t?.signal?.aborted)if(null!==e){a(!0);try{const t=await(0,Va.YY)({teamId:e});i(t)}catch(e){const t=new Error(`useTeamMember: ${e}`);o(t)}finally{a(!1)}}else o(new Error("No team id provided"))}),[e]);return(0,n.useEffect)((()=>{const e=new AbortController;return l(),()=>{e.abort()}}),[l]),{teamMembersLoading:t,teamMembersError:r,teamMembers:s,refreshTeamMembers:l}};var cd,dd;const ud=({lee:e,domainName:t})=>{const{translate:a}=(0,l.Z)(),s=(0,Fa.V)(),{teamId:i}=(0,ar.fV)(),{teamMembers:o,refreshTeamMembers:c}=ld(i),{setHasNewBreaches:d}=pt(),[u,m]=(0,n.useState)(!0),[_,p]=(0,n.useState)(null),[g,y]=(0,n.useState)(!1),[h,b]=(0,n.useState)(1),[S,v]=(0,n.useReducer)((e=>e+1),0),{unseen:E,setAsSeen:N}=(0,ut.m)(rt.NotificationName.TacDarkWebInsightsNewBadge),[f,C]=(0,n.useState)(!1),[T,M]=(0,n.useState)(new Set([])),x=o.filter((e=>["pending","proposed"].includes(e.status))).map((e=>e.login)),D=o.filter((e=>["pending","proposed","accepted"].includes(e.status))).map((e=>e.login)),I=(0,n.useMemo)((()=>{var e;return null!=(e=_?.allImpactedEmails.filter((e=>!D.includes(e))))?e:[]}),[_?.allImpactedEmails,D]),Z=async(e,t)=>{try{const a=await async function(e,t,a=0){const n=await H.C.getDarkWebInsightsReportResults({domain:e,offset:a,count:t});if(n?.success)return n.data;throw new Error("[fetchDarkWebInsightsResults] - Server Error: Unable to load dark web insight report results data")}(e,10,t);return!!a&&(p(a),!0)}catch{return!1}};(0,n.useEffect)((()=>{(0,q.N)(G.PageView.TacDarkWebInsights),d(!1),Z(t,0).then((()=>{(0,q.K)(new G.UserLoadDarkWebInsightsResultsEvent({})),m(!1)}))}),[d]),(0,n.useEffect)((()=>{E&&_?.emails&&N()}),[E,N,_?.emails]);const w=(0,n.useCallback)((async e=>{y(!0),await Z(t,10*(e-1))?b(e):(s.showAlert(a("team_dark_web_insights_generic_error"),r.BLW.ERROR),v()),y(!1)}),[s,t,a]),O=(0,n.useCallback)((()=>{I.length<=0||(C(!0),(0,q.K)(new G.UserSendManualInviteEvent({flowStep:G.FlowStep.Start,inviteCount:0,inviteFailedCount:0,inviteResentCount:0,inviteSuccessfulCount:0,isImport:!1,isResend:!1})),M(new Set(I)))}),[I]);return(0,A.tZ)(n.Fragment,null,u?cd||(cd=(0,A.tZ)(qo,null)):null,!u&&_?.emails?0===_.leaksCount?(0,A.tZ)(Wo,{domainName:t}):(0,A.tZ)(r.Zbd,{sx:{padding:5,display:"flex",flexDirection:"column"}},(0,A.tZ)(ll,{reports:_,suggestedInvitees:I,onInviteAll:O}),(0,A.tZ)(nl,{reports:_.emails,isLoading:g,pendingMembers:x,emailsToInvite:I,onInviteAction:e=>{C(!0),(0,q.K)(new G.UserSendManualInviteEvent({flowStep:G.FlowStep.Start,inviteCount:0,inviteFailedCount:0,inviteResentCount:0,inviteSuccessfulCount:0,isImport:!1,isResend:!1})),M(new Set([e]))}}),(0,A.tZ)(r.T5p,{gridTemplateColumns:"1fr auto 1fr",alignItems:"center",sx:{paddingTop:6,paddingBottom:3}},(0,A.tZ)(r.nvN,{color:r.O9T.grey00,size:"x-small"},a("team_dark_web_insights_table_pagination_page_size",{pageSize:10})),(0,A.tZ)(r.tlE,{key:S,totalPages:Math.ceil(_.emailsImpactedCount/10),currentPage:h,onPageChange:w})),(0,A.tZ)(od,{lee:e,isOpen:f,prefilledEmails:T,onClose:()=>{C(!1),M(new Set([]))},handleInviteCompleteSuccess:()=>c(),teamMembers:o})):null,u||_?.emails||""===t?null:dd||(dd=(0,A.tZ)(Ko,null)))};var md,_d;const pd=({lastVerificationAttemptDateUnix:e,onRetry:t})=>{const{translate:a}=(0,l.Z)();return(0,A.tZ)(r.Ejs,{sx:{justifyContent:"space-between",flexDirection:"column",margin:"30px 0",paddingLeft:"24px",borderLeft:`solid 2px ${r.O9T.grey00}`,gap:5}},(0,A.tZ)(r.nvN,{size:"x-small",bold:!0},a("team_dwi_pending_latest_attempt_label")," ",e?(0,A.tZ)(oc.Z,{date:(0,tn.Z)(e)}):null),(0,A.tZ)(r.zxk,{type:"button",nature:"ghost",sx:{width:"fit-content",margin:0,padding:0,minWidth:0,height:"fit-content","&:hover":{backgroundColor:"transparent !important",textDecoration:"underline"},"&:focus":{backgroundColor:"transparent !important",textDecoration:"underline"}},onClick:t},(0,A.tZ)(r.Ejs,{sx:{alignItems:"center",flexDirection:"row",gap:2}},md||(md=(0,A.tZ)(r.DuK,{size:12})),(0,A.tZ)(r.nvN,{size:"x-small",color:r.O9T.midGreen00},a("team_dwi_pending_retry_button_label")))))},gd=({domain:e,isDeactivating:t,handleDeactivateDomain:a,handleRetryValidateDomain:s})=>{const{translate:i}=(0,l.Z)(),{dnsToken:{computedToken:o,challengeDomain:c}={computedToken:"",challengeDomain:""},lastVerificationAttemptDateUnix:d}=e;return(0,A.tZ)(n.Fragment,null,_d||(_d=(0,A.tZ)(zo,null)),(0,A.tZ)("div",null,(0,A.tZ)(r.Zbd,{sx:{padding:"24px",margin:"24px 0"}},(0,A.tZ)(r.X6q,{size:"x-small"},i("team_breach_report_domain_verify_pending_title")),(0,A.tZ)(r.nvN,{sx:{marginBottom:"20px",marginTop:"10px"},color:r.O9T.grey00},i("team_dwi_pending_verification_txt")),(0,A.tZ)(pd,{lastVerificationAttemptDateUnix:d,onRetry:s}),(0,A.tZ)(r.Ejs,{gap:"16px"},(0,A.tZ)(r.k$b,{sx:{width:"70%"}},(0,A.tZ)(r.oil,{fullWidth:!0,defaultValue:e.name,disabled:!0})),(0,A.tZ)(r.k$b,null,(0,A.tZ)(r.zxk,{type:"button",disabled:t,nature:"secondary",onClick:a},i("team_dwi_pending_cancel_button_label"))),(0,A.tZ)(r.k$b,null,(0,A.tZ)(r.zxk,{type:"button",disabled:!0,sx:{maxWidth:"120px"}},i("team_breach_report_verifying_txt"))))),(0,A.tZ)(r.UQy,{size:"medium"},(0,A.tZ)(r.UlM,{open:!0},(0,A.tZ)(r._Oh,null,i("team_breach_report_domain_verify_dns_confirm_text")),(0,A.tZ)(r.rN7,null,(0,A.tZ)(r.T5p,{gap:"24px",gridTemplateColumns:"1fr",gridAutoRows:"auto"},(0,A.tZ)(r.nvN,{size:"small",color:r.O9T.grey00},i("team_breach_report_domain_verify_dns_description")),(0,A.tZ)(Zo.x,{inputValue:c,textInputProps:{fullWidth:!0,readOnly:!0,label:i("team_settings_domain_verify_host")}}),(0,A.tZ)(Zo.x,{inputValue:o,textInputProps:{fullWidth:!0,readOnly:!0,label:i("team_settings_domain_verify_txt")}}),(0,A.tZ)(r.nvN,{size:"small",sx:{marginBottom:"20px"},color:r.O9T.grey00},i("team_breach_report_domain_verify_dns_secondary_description"))))))))};var yd;const hd={display:"flex",justifyContent:"center",alignItems:"center",position:"absolute",top:"0",width:"100%",height:"100%",backgroundColor:`${r.O9T.dashGreen06}`},bd=e=>n.createElement("div",{className:"container--INT3GORhR4"},e.children);var Sd=a(284146);const vd=({header:e,children:t})=>(0,A.tZ)(Fs,{header:e},(0,A.tZ)("div",{className:"content--zBGSSVE1dv"},t)),Ed="group_name_already_in_use";var Nd=a(769573);const fd=({children:e})=>(0,A.tZ)("div",{className:"groupHeader--al0rVgMEDT"},e),Cd={nameContainer:"nameContainer--NmQCGqTrTR",nameInput:"nameInput--Vpc7anR7aO",nameEditIcon:"nameEditIcon--Thlp4CT5Bq",spinner:"spinner--QQ6Zpwc8Zd",_errorText:"_errorText--shQIAebNjL",errorMessage:"errorMessage--Btb66DLL6K _errorText--shQIAebNjL",error:"error--UkyphHJLOB _errorText--shQIAebNjL"},Td=e=>{const t=(0,n.useRef)(null),[a,s]=(0,n.useState)(e.defaultValue),[i,r]=(0,n.useState)(!1),[o,l]=(0,n.useState)(null);(0,n.useEffect)((()=>{i&&t.current?.focus()}),[i,t]);const c=()=>{const a=t.current?.value.trim();r(!1),s(a||e.defaultValue),e.onNameChanged&&a&&e.onNameChanged(a).then((({success:e,error:t=null})=>{r(!e),l(e?null:t)}))},d=Boolean(o);return(0,A.tZ)("h1",{className:Cd.title},!i&&(0,A.tZ)("div",{className:Oe()(Cd.nameContainer,{[Cd.hoverableContainer]:e.editable}),onClick:()=>{e.editable&&r(!0)}},a,e.saving?(0,A.tZ)(Ln.Z,{size:20,containerClassName:Cd.nameEditIcon}):(0,A.tZ)("img",{className:Cd.nameEditIcon,src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTUiIGhlaWdodD0iMTUiIHZpZXdCb3g9IjAgMCAxNSAxNSIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8cGF0aCBkPSJNMTAuMTY3OCAxLjA3MjAzQzEwLjkzMDUgMC4zMDkzMjMgMTIuMTY2OCAwLjMwOTMyMyAxMi45Mjk1IDEuMDcyMDNDMTMuNjkyMyAxLjgzNDc0IDEzLjY5MjMgMy4wNzEwOSAxMi45Mjk1IDMuODM0NzhNMS4xOTA0NCAxMC4wNDlMMC41IDEzLjUwMjJMMy45NTIyMSAxMi44MTE4TDExLjU0ODEgNS4yMTQ5N0w4Ljc4NjI4IDIuNDUzMkwxLjE5MDQ0IDEwLjA0OVoiIHN0cm9rZT0iIzBFNjQ3NiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+Cjwvc3ZnPgo="})),i&&(0,A.tZ)("div",{className:Cd.editNameContainer},(0,A.tZ)("input",{ref:t,type:"text",className:Oe()(Cd.nameInput,{[Cd.error]:d}),defaultValue:a,onBlur:c,onKeyUp:e=>{13===e.keyCode&&c()}})),i&&d?(0,A.tZ)("div",{className:Cd.errorMessage},o):null)};var Md=a(450244);const xd=Sn.Maybe.nothing(),Dd=e=>{const{translate:t}=(0,l.Z)(),[a,s]=(0,n.useState)(Sn.Maybe.nothing()),[i,o]=(0,n.useState)(!1);return(0,A.tZ)(fd,null,(0,A.tZ)("div",{className:"header--pRm7icVETs"},(0,A.tZ)(Td,{defaultValue:e.groupName,editable:!0,saving:i,onNameChanged:async a=>{o(!0);const{error:n}=await e.onRenameGroup(a);return o(!1),n===Ed?{success:!1,error:t("team_groups_edit_header_name_already_exists")}:{success:!0}}}),(0,A.tZ)("div",{style:{display:"flex",justifyContent:"space-between"}},(0,A.tZ)(Md.Z,{className:"headerBackLink--NenC6m6cyt _link--wB2UYTtkxK",onClick:t=>{e.onBackLinkClick(t)}},t("team_groups_edit_header_back")),(0,A.tZ)(Nd.Z,{linkLabel:t("team_groups_edit_header_delete_group"),cancelButtonLabel:t("team_groups_edit_header_delete_group_cancel_button"),confirmButtonLabel:t("team_groups_edit_header_delete_group_confirm_button"),confirmButtonColor:"red",confirmButtonDisabled:!a.caseOf({just:t=>t===e.groupName,nothing:()=>!1}),onCancelButtonClick:()=>{s(xd)},onConfirmButtonClick:()=>{s(xd),e.onDeleteClick()},linkClassName:"headerDeleteLink--geDtikV0SN _link--wB2UYTtkxK",popupClassName:"confirmPopup--NTDDMjDo4B"},(0,A.tZ)("div",{style:{display:"flex",flexDirection:"column",gap:10,marginBottom:12}},(0,A.tZ)(r.nvN,{size:"large"},t.markup("team_groups_edit_header_delete_group_confirm_title_markup",{group:e.groupName})),(0,A.tZ)(r.nvN,{color:"neutrals.8"},t("team_groups_edit_header_delete_group_confirm_subtitle")),(0,A.tZ)(r.oil,{fullWidth:!0,onChange:e=>{const t=e.target.value&&e.target.value.trim();s(Sn.Maybe.maybe(t))},type:"text",defaultValue:a.caseOf({just:e=>e,nothing:()=>{}}),autoFocus:!0}))))))};var Id;const Zd=e=>n.createElement("svg",{className:e.className,width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",fill:"none"},Id||(Id=n.createElement("path",{d:"M13.5 2.5V15.5H2.5V2.5M10.5 2.5V0.5H5.5V2.5M1 2.5H15M5.5 6V11M8 6V11M10.5 6V11",stroke:"#0E6476",strokeLinecap:"round",strokeLinejoin:"round"})));var wd;const Ad=n.memo((({member:e,handleRemoveMember:t})=>{const{translate:a}=(0,l.Z)();return n.createElement("tr",null,n.createElement("td",{className:"emailCell--c3avC4hgf6"},n.createElement("div",{className:"emailCellContainer--yFS7a4HnT_"},n.createElement(ni.q,{className:"avatar--XHrkwJbc_C",email:e.alias,size:32}),e.alias)),n.createElement("td",{className:"rightsCell--Z6diiNotCT"},a((s=e.permission,i=e.status,"admin"===s&&"accepted"===i?"team_groups_edit_member_list_rights_manager":"limited"===s&&"accepted"===i?"team_groups_edit_member_list_rights_member":"pending"===i?"team_groups_edit_member_list_rights_pending":""))),n.createElement("td",{className:"plusCell--B02g3LGOlG"},n.createElement("div",{style:{cursor:"pointer"},onClick:()=>t(e)},wd||(wd=n.createElement(Zd,null)))));var s,i})),Od=(0,$a.ascend)((0,$a.prop)("permission")),kd=(0,$a.ascend)((0,$a.compose)($a.toLower,(0,$a.prop)("alias"))),Ld=(0,$a.sortWith)([Od,kd]),zd=Sn.Maybe.nothing(),jd=e=>{const{translate:t}=(0,l.Z)(),[a,s]=n.useState(0),[i,o]=n.useState({showRemoveUserDialog:!1,removeMemberCandidate:Sn.Maybe.nothing()}),c=e=>{o({showRemoveUserDialog:!0,removeMemberCandidate:Sn.Maybe.just(e)})},d=()=>(e.userGroup.users||[]).filter((e=>"accepted"===e.status||"pending"===e.status)),u=()=>{o({showRemoveUserDialog:!1,removeMemberCandidate:zd})},m=(0,$a.map)((e=>n.createElement(Ad,{key:e.alias,member:e,handleRemoveMember:c}))),_=[{headerLabel:t("team_groups_edit_member_list_header_email"),headerKey:"email"},{headerLabel:t("team_groups_edit_member_list_header_group_rights"),colSpan:2,headerKey:"group-rights"}];return n.createElement("div",null,n.createElement("table",{className:Oe()(e.className,"table--hj3WYleNh5")},n.createElement(ti,{columns:_}),n.createElement("tbody",null,(()=>{const e=24*a;return(0,$a.compose)(m,(0,$a.slice)(e,e+24),Ld)(d())})())),n.createElement("div",{className:"pagination--Xk8h572zZ7"},n.createElement(ic.Z,{currentPageIndex:a,itemsLength:d().length,itemsPerPage:24,onChange:e=>{s(e)}})),n.createElement(je.o,{isOpen:i.showRemoveUserDialog,onRequestClose:u,footer:n.createElement(r.cNS,{primaryButtonTitle:t("team_groups_edit_member_list_action_remove_dialog_cta"),primaryButtonOnClick:()=>{Sn.Maybe.sequence({removeMemberCandidate:i.removeMemberCandidate,userGroup:Sn.Maybe.just(e.userGroup)}).caseOf({just:({removeMemberCandidate:a,userGroup:n})=>{e.revokeMembers(e.lee.dispatchGlobal,{groupId:n.groupId,revision:n.revision,users:[a.userId]},{title:t("team_groups_edit_revoke_member_from_group_error_title"),message:t("team_groups_edit_revoke_member_from_group_error_message")})},nothing:()=>{}}),o({showRemoveUserDialog:!1,removeMemberCandidate:zd})},secondaryButtonTitle:t("team_groups_edit_member_list_action_remove_dialog_cancel"),secondaryButtonOnClick:u}),title:t("team_groups_edit_member_list_action_remove_dialog_header")},n.createElement("div",null,n.createElement("div",{className:"removeDialogTitle--Zn2JmJtOF0"},t("team_groups_edit_member_list_action_remove_dialog_title",{email:i.removeMemberCandidate.caseOf({just:e=>e.userId,nothing:()=>""})})),n.createElement("div",null,t("team_groups_edit_member_list_action_remove_dialog_subtitle")))))};var Pd=a(200225),Rd=a(821762);const Ud=({lee:e,userGroup:t})=>{const a=(0,n.useRef)(null),{translate:s}=(0,l.Z)(),{teamId:i}=(0,ar.fV)(),{teamMembers:r}=ld(i),{addAlertToQueue:o,reportTACError:c}=Fe(),[d,u]=(0,n.useState)(null),[m,_]=(0,n.useState)([]),{invitePartialSuccessState:p,setInvitePartialSuccessState:g,handleInvitationResultClosed:y}=Ml(),h=e=>(0,A.tZ)(ni.q,{className:"avatar--EHLDaADALb",email:e,size:32}),b=()=>Boolean(m.length);return(0,A.tZ)("div",null,(0,A.tZ)(Pd.e,{ref:a,buttonLabel:s("team_groups_edit_add_members"),confirmButtonLabel:s("team_groups_edit_add_member_confirm"),cancelButtonLabel:s("team_groups_edit_add_member_cancel"),confirmButtonDisabled:!b(),onCancelButtonClick:()=>{_([]),u(null)},onConfirmButtonClick:async()=>{if(!b())return;const n=m,{groupId:r,revision:l}=t,d=n.map((e=>({alias:e.toLowerCase(),permission:"limited"})));if(null!==i)try{const e=await(0,Va.j_)({teamId:i,groupId:r,revision:l,users:d});Object.keys(e.refusedMembers).length&&g({invitedMembers:{},refusedMembers:e.refusedMembers,show:!0}),a.current&&a.current.hidePopup(),_([]),u(null)}catch(e){o({title:s("team_groups_edit_invite_member_to_group_error_title"),message:e&&"MISSING_PUBLIC_KEY"===e.message?s.markup("team_groups_edit_invite_member_to_group_missing_public_key_error_message_markup",{},{linkTarget:"_blank"}):s.markup("team_groups_edit_invite_member_to_group_error_message_markup",{},{linkTarget:"_blank"})}),c(e)}else e.reportError(new Error(da.N))},popupClassName:"addMemberPopup--pQXdA4Vr4x"},(0,A.tZ)("span",{className:"addMemberLabel--ZCKvByej7d"},s("team_groups_edit_add_member_header")),d&&(0,A.tZ)("div",{className:"error--m_ggR8E9ag"},d),(0,A.tZ)(Rd.J,{autoFocus:!0,className:"addMemberMultiselect--chwmKj1vG1",dataSource:(()=>{const e=new Set(t.users.filter((({status:e})=>["accepted","pending"].includes(e))).map((({alias:e})=>e)));return r.filter((({login:t,status:a})=>"removed"!==a&&!e.has(t))).map((({login:e})=>({text:e,icon:h(e)})))})(),getCurrentSelectionAvatar:h,defaultValue:m,isItemValid:e=>(0,de.vV)(e),onChange:e=>{_(e)},onError:e=>u(e?s(`team_groups_edit_error_${e.message}`):null),placeholder:s("team_groups_edit_add_member_input_placeholder")})),(0,A.tZ)(xl,{teamId:(0,Ie.ev)(e.globalState),isOpen:p.show,onClose:y,invitedMembers:p.invitedMembers,refusedMembers:p.refusedMembers}))};var Bd=a(704841),Gd=a(611792);const Fd=e=>`{${e.match.params.uuid}}`,Vd={userGroup:{live:H.C.liveAdministrableUserGroup,liveParam:Fd,query:H.C.getAdministrableUserGroup,queryParam:Fd}},$d={strategies:Vd},Wd=(0,Bd.$)((0,Gd.i)((({lee:e,userGroup:t})=>{n.useEffect((()=>{(0,q.N)(G.PageView.TacGroupDetails)}),[]);const{translate:a}=(0,l.Z)(),{addAlertToQueue:s}=Fe(),r=(e,t,a,n)=>{try{const e=JSON.parse(n);e.code&&(t.message+=` : ${e.code}`)}finally{e(Sd.Qy.error({message:a,content:{error:n}})),s(t)}};if(!t)return null;const o=n.createElement(Dd,{onBackLinkClick:()=>{(0,i.uX)(e.routes.teamGroupsRoutePath)},onDeleteClick:()=>{const{groupId:n,revision:s}=t;(0,Va.FU)({groupId:n,revision:s}).then((()=>{(0,i.uX)(e.routes.teamGroupsRoutePath)})).catch((t=>{const n={title:a("team_groups_edit_delete_group_error_title"),message:a("team_groups_edit_delete_group_error_message")};r(e.dispatchGlobal,n,"Group deletion failed",t.message)}))},onRenameGroup:async n=>{if(n===t.name)return{success:!0};const s=(t,n)=>{const s={title:a("team_groups_edit_rename_group_error_title"),message:a("team_groups_edit_rename_group_error_message")};return r(e.dispatchGlobal,s,n,t.message),{success:!1,error:"group_renaming_failed"}};try{if(!await H.C.isGroupNameAvailable(n))return{success:!1,error:Ed}}catch(e){return s(e,"Group name availability check failed")}try{const{groupId:e,revision:a}=t;return await(0,Va.J0)({groupId:e,revision:a,name:n}),{success:!0}}catch(e){return s(e,"Group renaming failed")}},groupName:t.name});return n.createElement(vd,{header:o},n.createElement("div",{className:"actionBar--OQ8l_wBoMd"},n.createElement(Ud,{lee:e.child(),userGroup:t})),n.createElement(jd,{lee:e.child(),userGroup:t,revokeMembers:(e,t,a)=>{try{H.C.revokeUserGroupMembers(t).then((({error:t})=>{t&&r(e,a,"Revoke member from group failed",t.message)}))}catch(t){r(e,a,"Revoke member from group failed",t.message)}}}))}),$d),Vd);var Hd=a(158432);const Qd=(0,Hd.SP)("edit",{},[]),Yd="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTUiIGhlaWdodD0iMTQiIHZpZXdCb3g9IjAgMCAxNSAxNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8cGF0aCBkPSJNOC41IDEuMTMyMzJMMTQuNSA3LjEzMjMyTTguNSAxMy4xMzIzTDE0LjUgNy4xMzIzMk0xNC41IDcuMTMyMzJMMC41MDAwMDEgNy4xMzIzMiIgc3Ryb2tlPSIjRDZEMkNFIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz4KPC9zdmc+Cg==",qd="onboardingStepArrow--gqb_E47Df_",Kd="onboardingStepPanel--qnDSxlGTtS",Xd="onboardingStepCounterPanel--KZLs4foheX",Jd="onboardingStepText--K_Kh_SIwEm",eu="circle--mihUuCFcJa";var tu,au;const nu=()=>{const{translate:e}=(0,l.Z)();return n.createElement("div",{className:"onboardingContainer--rP5364OajH"},n.createElement("div",{className:"onboardingTitlePanel--yGKYcW_2lp"},n.createElement("div",{className:"onboardingTitle--PulZ_ZvXpS"},e("team_groups_list_onboarding_title"))),n.createElement("div",{className:"onboardingStepsContainer--LZ8j5MDbRH"},n.createElement("div",{className:Kd},n.createElement("div",{className:Xd},n.createElement("div",{className:eu},"1")),n.createElement("div",{className:Jd},e("team_groups_list_onboarding_step_1"))),n.createElement("div",{className:qd},tu||(tu=n.createElement("img",{src:Yd}))),n.createElement("div",{className:Kd},n.createElement("div",{className:Xd},n.createElement("div",{className:eu},"2")),n.createElement("div",{className:Jd},e("team_groups_list_onboarding_step_2"))),n.createElement("div",{className:qd},au||(au=n.createElement("img",{src:Yd}))),n.createElement("div",{className:Kd},n.createElement("div",{className:Xd},n.createElement("div",{className:eu},"3")),n.createElement("div",{className:Jd},e("team_groups_list_onboarding_step_3")))))};var su,iu;const ru="team_groups_list_search_placeholder",ou=(e,t)=>{const a=e.name.toLocaleLowerCase(),n=t.name.toLocaleLowerCase();return a.localeCompare(n)},lu={userGroups:{live:H.C.liveAdministrableUserGroups,query:H.C.getAdministrableUserGroups}},cu={strategies:lu,loadingComponent:n.createElement(Ln.Z,{containerStyle:{minHeight:240}})},du=(0,Bd.$)((0,Gd.i)((({userGroups:e,lee:t})=>{const a=(0,n.useRef)(null),{translate:s}=(0,l.Z)(),{teamId:o}=(0,ar.fV)(),{routes:c}=(0,zs.Xo)(),{addAlertToQueue:d,reportTACError:u}=Fe(),[m,_]=(0,n.useState)(""),[p,g]=(0,n.useState)(!1),[y,h]=(0,n.useState)(""),[b,S]=(0,n.useState)(e);(0,n.useEffect)((()=>{(0,q.N)(G.PageView.TacGroupList)}),[]),(0,n.useEffect)((()=>{const t=[...e].sort(ou),a=y?t.filter((e=>e.name.toLocaleLowerCase().includes(y.trim().toLocaleLowerCase()))):t;S(a)}),[y,e]);const v=async e=>{var t;const a=null!=(t=e.target.value.trim())?t:"",n=""!==a&&await H.C.isGroupNameAvailable(a);_(a),g(n)},E=()=>{_("")},N=async()=>{if(!o)throw new Error("teamId missing when attempting to create group");try{await(0,Va.wZ)(t.dispatchGlobal,{name:m,teamId:o}),a.current?.hidePopup(),_("")}catch(e){let t;try{t=JSON.parse(e.message)?.code}catch{t=`${e?.message}`.toUpperCase()}t!==Be&&d({title:s("team_groups_list_create_group_error_title"),message:s("MISSING_PUBLIC_KEY"===t?"team_groups_list_create_group_missing_public_key_error_message":"team_groups_list_create_group_error_message")}),u(new Error(e.message))}},f=(0,A.tZ)(fd,null,(0,A.tZ)("h1",{className:"title--gMwN9TjgYg"},s("team_groups_list_title")));return(0,A.tZ)(vd,{header:f},(()=>{const t=e?.length?(0,A.tZ)(r.T5p,{gap:"16px",gridTemplateColumns:"repeat(auto-fill, minmax(400px, 1fr))",gridAutoRows:"48px"},(e=>e.map((e=>e?(0,A.tZ)("div",{key:e.groupId,onClick:()=>(e=>{(0,i.uX)(c.teamGroupRoutePath(e.groupId))})(e),className:"groupItem--tRHcTfsj2Z",title:e.name},e.name):null)))(b)):su||(su=(0,A.tZ)(nu,null)),n=!p&&""!==m;return(0,A.tZ)("div",null,(0,A.tZ)("div",{className:"actionBar--Ud2ilwPvSj"},(0,A.tZ)(T.oi,{"aria-label":s(ru),placeholder:s(ru),type:"search",onChange:e=>{var t;return h(null!=(t=e.target.value)?t:"")},prefixIcon:iu||(iu=(0,A.tZ)(T.JO,{name:"ActionSearchOutlined"})),sx:{maxWidth:"365px",margin:0}}),(0,A.tZ)(Pd.e,{ref:a,buttonLabel:s("team_groups_list_new_group_cta"),confirmButtonLabel:s("team_groups_list_new_group_creation_confirm_btn"),cancelButtonLabel:s("team_groups_list_new_group_creation_cancel_btn"),onConfirmButtonClick:N,onCancelButtonClick:E,confirmButtonDisabled:!p},(0,A.tZ)("div",{style:{display:"flex",flexDirection:"column",gap:10,marginBottom:12}},(0,A.tZ)(r.nvN,{as:"label",size:"small"},s("team_groups_list_new_group_creation_header")),(0,A.tZ)(r.oil,{fullWidth:!0,onChange:v,defaultValue:m,type:"text",placeholder:s("team_groups_list_new_group_input_placeholder"),feedbackType:n?"error":void 0,feedbackText:n?s("team_groups_list_create_group_name_already_exists"):void 0,autoFocus:!0})))),t)})())}),cu),lu),uu=(0,Hd.SP)("list",{},[]),mu=xi(du,dt.$.GROUPS),_u=xi(Wd,dt.$.GROUPS);function pu(e){const{path:t,permission:a}=e;return n.createElement(i.GB,{exact:!0,path:[t,`${t}/:uuid`],component:bd,permission:a},n.createElement(i.rs,null,n.createElement(i.Vy,{exact:!0,path:t,component:mu,reducer:uu}),n.createElement(i.Vy,{path:`${t}/:uuid`,component:_u,reducer:Qd})))}var gu=a(267667);const yu={settingsPage:"settingsPage--k2Ztg5L3TZ",withoutHeader:"withoutHeader--K7wlLBUI31",settingsContainer:"settingsContainer--nyZHFHWont",settingsPanel:"settingsPanel--F5zpYAN04H",settingsSinglePanel:"settingsSinglePanel--LTsNZL6FmT settingsPanel--F5zpYAN04H",settingsHeader:"settingsHeader--DA5bqRMOyd",settingsRow:"settingsRow--Mid_I3S6Qx",settingsLabel:"settingsLabel--jujfsFLy3D",settingsLabelContainer:"settingsLabelContainer--rCMIUljV94",settingsGreyedLabel:"settingsGreyedLabel--L0ZP86y4UJ",textSettingRow:"textSettingRow--JwyTaO5qbq",selectSettingRow:"selectSettingRow--CRjY3loqBA",switchSettingRow:"switchSettingRow--THK1RoaDKQ",textSettingLabel:"textSettingLabel--NnF9qI1YTv",selectSettingLabel:"selectSettingLabel--GL2kj6tANV",textFieldInputColumn:"textFieldInputColumn--G3ALnYhur_",helperLabelPanel:"helperLabelPanel--gGU7C6m_r2",infoBoxPanel:"infoBoxPanel--TMnBp9xS5d",textWithButtonSettingRow:"textWithButtonSettingRow--rWQRX8E5Np",textWithButtonSettingLabel:"textWithButtonSettingLabel--MRpg3N7VRW",versionContainer:"versionContainer--eWfpg9oE65",versionNumber:"versionNumber--uHC_eBvZbs",confirmationContent:"confirmationContent--C7lnmdM6Vl",title:"title--ZWrCKWwqvU"},hu=({children:e,secondaryContent:t,title:a})=>n.createElement("div",{className:Oe()(yu.settingsPage,{[yu.withoutHeader]:!a})},n.createElement("div",{className:yu.settingsContainer},a?n.createElement("h1",{className:yu.title},a):null,n.createElement("div",{className:yu.settingsPanel},e),t,n.createElement("div",{className:yu.versionContainer},n.createElement("p",{className:yu.versionNumber},"6.2316.1"))));var bu=a(299228);const Su=({data:e,targetUri:t,...a})=>{const s=(0,n.useRef)(null);return(0,A.tZ)("form",{action:t,method:"post",ref:s,target:"_blank"},(()=>{const t=[];return Object.keys(e).forEach((a=>t.push((0,A.tZ)("input",{defaultValue:e[a],key:String(65535*Math.random()).replace(/\./,""),type:"hidden",name:a})))),(0,A.tZ)("div",null,t)})(),(0,A.tZ)(Gl.Z,{onClick:()=>s.current?.submit(),...a}))},vu={uploadCsvLabel:"uploadCsvLabel--sX4DnYKGlL",fileContainer:"fileContainer--M2SFpr0Pvl",file:"file--dJtQQDGzSk",fileIcon:"fileIcon--MKumqlXPl7",fileTitle:"fileTitle--d2cupH4GiA",fileTitleHeader:"fileTitleHeader--jqYDFR_MsK",fileTitleHint:"fileTitleHint--g2OBjT1L4G",fileTitleHintError:"fileTitleHintError--F4iw3QsNVb",fileTitleHintSuccess:"fileTitleHintSuccess--JPyWdw7GS8",fileProgressBackground:"fileProgressBackground--NEs2tyO8Pe",fileProgress:"fileProgress--cr0wc0wF3w",fileProgressAnimation:"fileProgressAnimation--aFpkqnmOMV",fileProgressComplete:"fileProgressComplete--y2f1JLicyr",fileButtons:"fileButtons--ofyh4FIc7u",fileError:"fileError--RHrDBIVtVA",fileErrorTitle:"fileErrorTitle--Jx5QASYwkS",fileErrorTitleIcon:"fileErrorTitleIcon--b8GGJ4i0UT",fileErrorContent:"fileErrorContent--G67_aw40u7"},Eu="team_settings_duo_header_general";var Nu=a(928091),fu=a(458403);const Cu=({content:e,header:t,index:a})=>(0,T.tZ)(r.Ejs,{gap:"8px",sx:{flexFlow:"row",flexBasis:"25%"}},(0,T.tZ)(r.Ejs,{justifyContent:"center",alignItems:"center",sx:{width:36,height:36,borderRadius:36,flexShrink:0,backgroundColor:"ds.container.expressive.brand.quiet.idle",color:"ds.text.brand.standard"}},a),(0,T.tZ)("section",null,(0,T.tZ)(r.X6q,{sx:{fontSize:16,fontFamily:"Public Sans, PublicSans-Regular, Public Sans Regular",fontWeight:400,marginBottom:"8px"}},t),(0,T.tZ)(r.nvN,{sx:{fontSize:12,lineHeight:"16px",color:"ds.text.neutral.quiet"}},e))),Tu=()=>{const{translate:e}=(0,l.Z)();return(0,A.tZ)("div",{sx:{display:"flex",flexDirection:"row",marginBottom:40,gap:"24px"}},(0,A.tZ)(Cu,{index:1,header:e("team_settings_master_password_policies_settings_stepper_step_request_title"),content:e("team_settings_master_password_policies_settings_stepper_step_request_subtitle")}),(0,A.tZ)(Cu,{index:2,header:e("team_settings_master_password_policies_settings_stepper_step_approval_title"),content:e("team_settings_master_password_policies_settings_stepper_step_approval_subtitle")}),(0,A.tZ)(Cu,{index:3,header:e("team_settings_master_password_policies_settings_stepper_step_recover_title"),content:e("team_settings_master_password_policies_settings_stepper_step_recover_subtitle")}),(0,A.tZ)(Cu,{index:4,header:e("team_settings_master_password_policies_settings_stepper_step_login_title"),content:e("team_settings_master_password_policies_settings_stepper_step_login_subtitle")}))};var Mu,xu;var Du=a(584480),Iu=a(300155),Zu=a(233493);var wu,Au;const{accessibleValidatorGreen:Ou}=r.O9T,ku=e=>{const{errorMessage:t,isSavingField:a,showSaveFieldFeedbackMessage:s}=e.lee.state;return n.createElement("div",{className:"container--Wz5267l08y"},n.createElement("div",{className:"select--EypTcJ6Y5l"},n.createElement(Iu.m,{value:e.value.valueOr(""),disabled:e.isDisabled||e.lee.state.isSavingField||e.value.caseOf({just:()=>!1,nothing:()=>!0}),onChangeExtended:(t,a,n)=>{e.lee.dispatch(Zu.B()),e.saveValueFunction(n).then((()=>{e.lee.dispatch(Zu.$g()),setTimeout((()=>{e.lee.dispatch(Zu.X4())}),1e3)})).catch((t=>e.lee.dispatch(Zu.$g(t.message))))},onClick:e.onSelectElementClick,errorText:t.valueOr(""),successText:s?e.successMessage:a?e.savingMessage:"",style:{marginTop:"-1.5em",width:320}},e.options.map((e=>n.createElement(Iu.t,{key:e.value,value:e.value,primaryText:e.label,disabled:e.disabled}))))),a||s?n.createElement("div",{className:"feedback--XqG4rKApan"},a?wu||(wu=n.createElement(r.HoD,{color:Ou,size:18})):Au||(Au=n.createElement(r.rE2,{size:20,color:Ou}))):null)},Lu={BUTTON_SAVE_LABEL:"team_settings_button_save_label",SAVING_LABEL:"team_settings_saving_label",BUTTON_EDIT_LABEL:"team_settings_button_edit_label",SAVE_SUCCESS_LABEL:"team_settings_save_success_label",SWITCH_DEFAULT_ERROR:"_common_generic_error"},zu=e=>t=>{e.onClick&&e.onClick(t)};function ju(e,t,a){return n=>new Promise(((s,i)=>{let r=!1;if(e.validator){const t=e.validator(e.serializer?e.serializer(n):n);t&&(r=!0,i(new Error(e.getErrorMessageForKey?.(t))))}if(!r){var o;const r=(0,_a.v0)(t.globalState);if(!r)return a(new Error(da.N));const l=[];["disableAutoLoginDomains","idpSecurityGroups","teamDomain"].includes(null!=(o=e.feature)?o:"")?e.value.caseOf({just:t=>{const a=e.serializer?.(n),s=t.filter((e=>!a.some((t=>t===e)))),i=a.filter((e=>!t.some((t=>t===e))));l.push(...s.map((t=>({type:"remove_"+e.serverFeature,value:t})))),l.push(...i.map((t=>({type:"add_"+e.serverFeature,value:"disableAutoLoginDomains"===e.feature?t.toLowerCase():t}))))},nothing:()=>{e.serializer&&l.push(...e.serializer(n).map((t=>({type:"add_"+e.serverFeature,value:t}))))}}):"idp_url"===e.serverFeature&&0===n.length?l.push({type:"unset_"+e.serverFeature}):l.push({type:"set_"+e.serverFeature,value:n}),l.length?function(e,t){return(new ma.Z).editSettings({auth:e,operations:t})}(r,l).then((()=>{const a=e.serializer?e.serializer(n):n;e.feature&&t.dispatch(Du.qs({feature:e.feature,value:a})),s()})).catch((t=>i(new Error(e.getErrorMessageForKey?.(t.message))))):s()}}))}function Pu(e,t,a){return async n=>{e.feature&&t.dispatch(Du.qs({feature:e.feature,value:e.serializer?e.serializer(n):n}));const s=(0,_a.v0)(t.globalState);if(!s)return a(new Error(da.N));const i="unset"===n?[{type:"unset_"+e.serverFeature}]:[{type:"set_"+e.serverFeature,value:e.serializer?e.serializer(n):n}];try{await(new ma.Z).editSettings({auth:s,operations:i})}catch(t){const a=t.data?.content||{},n=e.getErrorMessageForKey?.(a.error);throw new Error(n)}}}function Ru(e,t){return()=>Promise.resolve().then((()=>{t.dispatch(Du.g7(e))}))}function Uu(e,t,a){return async()=>{t.dispatch(Du.GQ(e.feature));const n=(0,_a.v0)(t.globalState);if(!n)return a(new Error(da.N));const s=[{type:"set_"+e.serverFeature,value:e.value.caseOf({just:t=>{const a=!t;return e.serializer?e.serializer(a):a},nothing:()=>!1})}];if(e.value.valueOr(!1)){const{constraintsFromOtherFields:{requiredFor:a=[]}={}}=e;a.filter((e=>{const a=t.state[e.feature];return Boolean(a?.value)})).forEach((e=>{t.dispatch(Du.GQ(e.feature)),s.push({type:"set_"+e.serverFeature,value:!1})}))}try{await(new ma.Z).editSettings({auth:n,operations:s})}catch(a){t.dispatch(Du.GQ(e.feature));const n=a.data?.content||429===a.code&&{error:"too_many_requests"}||"not_authorized"===a.message&&{error:"not_authorized"}||{},s=e.getErrorMessageForKey?.(n.error);throw new Error(s)}}}function Bu(e,t,a,s){switch(e.type){case"header":return function(e){return n.createElement("p",{key:e.label,className:yu.settingsHeader},e.label)}(e);case"textwithbutton":return i=e,n.createElement("div",{key:i.label,className:Oe()(yu.settingsRow,yu.textWithButtonSettingRow)},n.createElement("div",null,n.createElement("div",{className:Oe()(yu.settingsLabel,yu.textWithButtonSettingLabel)},i.label.split("//").map(((e,t)=>t%2?n.createElement("span",{className:yu.settingsGreyedLabel,key:e},e):e))),i.helperLabel?n.createElement("div",{className:yu.helperLabelPanel},i.helperLabel):null),n.createElement("div",null,n.createElement(va.Z,{label:i.buttonLabel,onClick:zu(i)})));default:return function(e,t,a,s){let i=null,r=yu.settingsRow,o=yu.settingsLabel;switch(e.type){case"text":i=function(e,t,a,s){const i=!!e.multiLine,r=e.deserializer?e.deserializer(e.value):e.value;return n.createElement(pa.X,{multiLine:i,defaultValue:r.valueOr(void 0),key:e.label,ariaLabelledBy:e.feature,saveBtnLabel:a(Lu.BUTTON_SAVE_LABEL),savingBtnLabel:a(Lu.SAVING_LABEL),editBtnLabel:a(Lu.BUTTON_EDIT_LABEL),placeholder:e.hintText,inputStyle:e.inputStyle,hintStyle:e.hintStyle,successMessage:a(Lu.SAVE_SUCCESS_LABEL),onSave:ju(e,t,s),textFieldClassName:yu.textFieldInputColumn})}(e,t,a,s),r=Oe()(yu.settingsRow,yu.textSettingRow),o=Oe()(yu.settingsLabel,yu.textSettingLabel);break;case"select":i=function(e,t,a,s){return n.createElement(ku,{key:e.label,lee:t.child(Zu.ZP,e.feature),value:e.value.map((e=>e.toString())),saveValueFunction:Pu(e,t,s),successMessage:a(Lu.SAVE_SUCCESS_LABEL),savingMessage:a(Lu.SAVING_LABEL),options:e.options})}(e,t,a,s),r=Oe()(yu.settingsRow,yu.selectSettingRow),o=Oe()(yu.settingsLabel,yu.selectSettingLabel);break;case"switch":i=function(e,t,a,s){const i=e.constraintsFromOtherFields?.disabledWhen?e.constraintsFromOtherFields.disabledWhen.reduce(((e,a)=>e.caseOf({just:e=>Sn.Maybe.just(e),nothing:()=>{const e=t.state[a.feature];return"not_defined"===a.condition&&e.caseOf({just:e=>!e.length,nothing:()=>!0})||"is_disabled"===a.condition&&e.caseOf({just:e=>!e,nothing:()=>!0})||"is_enabled"===a.condition&&e.caseOf({just:e=>e,nothing:()=>!0})?Sn.Maybe.maybe(a.warningMessage):Sn.Maybe.nothing()}})),Sn.Maybe.nothing()):Sn.Maybe.nothing(),r=void 0!==(e.value.valueOr(!1)?e.confirmDisable:e.confirmEnable)?Ru:Uu;return n.createElement(bu.Z,{genericErrorMessage:a(Lu.SWITCH_DEFAULT_ERROR),ariaLabelledBy:e.feature,key:e.label,value:e.value,isDisabled:i.caseOf({just:()=>!0,nothing:()=>!1}),disabledFeedbackMessage:i.valueOr(null),saveValueFunction:e.customSwitchHandler?e.customSwitchHandler:()=>r(e,t,s)(),successMessage:a(Lu.SAVE_SUCCESS_LABEL),savingMessage:a(Lu.SAVING_LABEL)})}(e,t,a,s),r=Oe()(yu.settingsRow,yu.switchSettingRow)}return n.createElement("div",{key:e.feature,className:r},n.createElement("div",null,n.createElement("div",{className:yu.settingsLabelContainer},n.createElement("div",{className:o,id:e.feature},e.label.split("//").map(((e,t)=>t%2?n.createElement("span",{key:e,className:yu.settingsGreyedLabel},e):e))),e.badgeLabel?n.createElement(T.Ct,{label:e.badgeLabel,mood:"brand"}):null),e.helperLabel?n.createElement("div",{className:yu.helperLabelPanel},e.helperLabel):null,e.infoBoxTitle&&e.infoBoxDescription?n.createElement("div",{className:yu.infoBoxPanel},n.createElement(T.ke,{size:"large",title:e.infoBoxTitle,description:e.infoBoxDescription})):null),i)}(e,t,a,s)}var i}const Gu=({lee:e,createFieldListFunction:t,title:a,pageView:s})=>{const{translate:i}=(0,l.Z)(),{reportTACError:r}=Fe(),o=async()=>{var t;const a=await(0,Va.RR)({masterPassword:null!=(t=e.state.masterPasswordFieldValue)?t:""});if(e.dispatch(Du.Kq(!a)),!a)return Promise.resolve();const n=e.state.confirmationField;if(!n)return;const s=Uu(n,e,r);return e.dispatch(Du.d()),s()},c=t=>{e.dispatch(Du.kE(t.target.value))},d=t=>{"Enter"===t.key&&e.state.masterPasswordFieldValue&&o()};return(0,n.useEffect)((()=>{s&&(0,q.N)(s)}),[s]),(0,n.useEffect)((()=>{e.state.isLoading&&(async()=>{const t=(0,_a.v0)(e.globalState);if(t)try{var a,n,s,i,o;const r=await(new ma.Z).status({auth:t});e.dispatch(Du.MP({allowPersistenceForMasterPassword:!r.content.team.info.mpPersistenceDisabled,allowSharing:!r.content.team.info.sharingDisabled,enforce2FA:"newDevice"===r.content.team.info.twoFAEnforced,cryptoForcedPayload:r.content.team.info.cryptoForcedPayload||"",disableAutoLoginDomains:null!=(a=r.content.team.info.autologinDomainDisabledArray)?a:[],enableForcedDomains:!!r.content.team.info.forcedDomainsEnabled,enableRemoveForcedContent:!!r.content.team.info.removeForcedContentEnabled,enableVPN:!!r.content.team.info.secureWifiEnabled,forceAutomaticLogout:Number(r.content.team.info.forceAutomaticLogout||0),idpCertificate:null!=(n=r.content.team.info.idpCertificate)?n:"",idpSecurityGroups:null!=(s=r.content.team.info.idpSecurityGroups)?s:[],idpUrl:null!=(i=r.content.team.info.idpUrl)?i:"",lockOnExit:!!r.content.team.info.lockOnExit,collectSensitiveDataAuditLogsEnabled:!!r.content.team.info.collectSensitiveDataAuditLogsEnabled,ssoEnabled:!!r.content.team.info.ssoEnabled,teamDomain:null!=(o=r.content.team.info.teamDomains)?o:[]}))}catch(e){r(e)}else r(new Error(da.N))})()}),[]),n.createElement(hu,{title:a?i(a):void 0},t(e,i).map((t=>Bu(t,e,i,r))),(()=>{if(!e.state.dialogIsVisible)return null;const t=e.state.confirmationField;if(!t)return null;const a=t.feature&&e.state[t.feature].valueOr(!1)?t.confirmDisable:t.confirmEnable;return a?n.createElement(Nu.Z,{isOpen:!0,title:a.title,labelDismiss:a.dismiss,labelConfirm:a.confirm,onDismiss:()=>{e.dispatch(Du.d())},onConfirm:()=>{o()},onChange:c,isMasterPasswordInvalid:e.state.isMasterPasswordInvalid,ctaIsDisabled:!e.state.masterPasswordFieldValue,onKeyDown:d},n.createElement("p",{className:yu.confirmationContent},a.helper1),n.createElement("p",{className:yu.confirmationContent},a.helper2),n.createElement("p",{className:yu.confirmationContent},a.label)):null})())},Fu="_common_generic_error",Vu=()=>{const{translate:e}=(0,l.Z)(),{inviteLinkDataForAdmin:t,getInviteLinkDataForAdmin:a,createInviteLink:s,toggleInviteLink:i}=(0,hc.h)(),{teamInfo:o}=(0,ve.G)();return(0,n.useEffect)((()=>{a()}),[a]),[{type:"header",label:e("team_settings_header_user_access")},{type:"switch",label:e("team_settings_enable_invite_link_label"),feature:"inviteLink",helperLabel:(0,T.tZ)(n.Fragment,null,e("team_settings_disable_enable_invite_link_helper"),!1===t?.disabled?(0,T.tZ)(r.Ejs,{flexDirection:"row",flexWrap:"nowrap",alignItems:"center",gap:"8px",sx:{marginTop:"12px"}},(0,T.tZ)(sd.q,{mood:"neutral",intensity:"supershy",iconProps:{color:"ds.text.neutral.standard"},copyValue:(0,ee.cI)(t.teamKey)}),(0,T.tZ)(r.nvN,{bold:!0,size:"x-small",sx:{textDecoration:"underline"}},(0,ee.cI)(t.teamKey))):null),value:Sn.Maybe.maybe(!1===t?.disabled),customSwitchHandler:async n=>{const r=o?.teamInfo?.name,l=t?.teamKey;if(!l&&r){if(!await s(r))throw Error(e(Fu))}else if(!await i(n.valueOr(!0)))throw Error(e(Fu));if(!await a())throw Error(e(Fu))}}]},$u=a(465343),Wu=255;function Hu(e,t){const a=[];return a.push({type:"header",label:t("team_settings_header_team_space_options")},{type:"text",multiLine:!0,label:t("team_settings_team_domain"),helperLabel:t("team_settings_team_domain_helper"),hintText:t("team_settings_team_domain_placeholder"),feature:"teamDomain",serverFeature:"team_domain",value:e.state.teamDomain,serializer:e=>e?e.split(";").map((e=>e.trim().toLowerCase())).filter((e=>Boolean(e.length))):[],deserializer:e=>e.map((e=>e.length?e.join(";"):"")),validator:e=>e.some((e=>!$u.isFQDN(e)))?"wrong_url":e.some((e=>e.length>Wu))?"wrong_size":null,getErrorMessageForKey:e=>{switch(e){case"wrong_size":return t("team_settings_team_domain_save_error_msg_wrong_size",{lengthLimit:Wu});case"wrong_url":return t("team_settings_team_domain_save_error_msg_wrong_url");case"too_many_requests":return t("team_settings_too_many_requests");default:return t("team_settings_team_domain_save_error_msg_generic_error")}}}),a.push({type:"switch",label:t("team_settings_enable_space_restrictions"),helperLabel:t("team_settings_enable_space_restrictions_helper"),value:e.state.enableForcedDomains,feature:"enableForcedDomains",serverFeature:"forced_domains_enabled",getErrorMessageForKey:e=>t("too_many_requests"===e?"team_settings_too_many_requests":"team_settings_enable_space_restrictions_save_error_msg_generic_error"),constraintsFromOtherFields:{disabledWhen:[{feature:"teamDomain",condition:"not_defined",warningMessage:t("team_settings_enable_space_restrictions_define_team_domain_first")}],requiredFor:[{feature:"enableRemoveForcedContent",serverFeature:"rm_forced_content_enabled"}]}}),a.push({type:"switch",label:t("team_settings_remove_forced_content"),helperLabel:t("team_settings_remove_forced_content_helper"),value:e.state.enableRemoveForcedContent,feature:"enableRemoveForcedContent",serverFeature:"rm_forced_content_enabled",getErrorMessageForKey:e=>t("too_many_requests"===e?"team_settings_too_many_requests":"team_settings_remove_forced_content_save_error_msg_generic_error"),constraintsFromOtherFields:{disabledWhen:[{feature:"teamDomain",condition:"not_defined",warningMessage:t("team_settings_remove_forced_content_define_team_domain_first")},{feature:"enableForcedDomains",condition:"is_disabled",warningMessage:t("team_settings_remove_forced_content_enable_forced_domains_first")}]}}),a.push({type:"header",label:t("team_settings_header_browser_settings")},{type:"text",multiLine:!0,label:t("team_settings_disable_auto_login_domains"),helperLabel:t("team_settings_disable_auto_login_domains_helper"),hintText:t("team_settings_disable_auto_login_domains_placeholder"),value:e.state.disableAutoLoginDomains,serializer:e=>(e.length?e.split(";"):[]).filter((e=>!!e.length)).map((e=>e.trim())),deserializer:e=>e.map((e=>e.join(";"))),validator:e=>e.some((e=>!$u.isFQDN(e)))?"wrong_url":e.some((e=>e.length>Wu))?"wrong_size":null,feature:"disableAutoLoginDomains",serverFeature:"autologin_domain_disabled",getErrorMessageForKey:e=>{switch(e){case"wrong_size":return t("team_settings_disable_auto_login_domains_save_error_msg_wrong_size",{lengthLimit:Wu});case"wrong_url":return t("team_settings_disable_auto_login_domains_save_error_msg_"+e);case"too_many_requests":return t("team_settings_too_many_requests");default:return t("team_settings_disable_auto_login_domains_save_error_msg_generic_error")}}}),e.carbon.accountFeatures.list.onboarding_web_teamsignuppage&&a.push(...Vu()),a.push({type:"header",label:t("team_settings_header_security")}),a.push({type:"select",label:t("team_settings_force_auto_logout_after"),helperLabel:t("team_settings_force_auto_logout_after_helper"),value:e.state.forceAutomaticLogout,serializer:e=>Number(e),feature:"forceAutomaticLogout",serverFeature:"force_automatic_logout",options:["unset","15","30","60"].map((e=>({label:t("team_settings_force_auto_logout_after_"+e),value:e}))),getErrorMessageForKey:e=>t("too_many_requests"===e?"team_settings_too_many_requests":"team_settings_force_auto_logout_after_save_error_msg_generic_error")}),a.push({type:"switch",label:t("team_settings_lock_on_exit"),helperLabel:t("team_settings_lock_on_exit_helper"),value:e.state.lockOnExit,feature:"lockOnExit",serverFeature:"lock_on_exit",getErrorMessageForKey:e=>t("too_many_requests"===e?"team_settings_too_many_requests":"team_settings_lock_on_exit_save_error_msg_generic_error")}),(e.carbon.accountFeatures.list.Audit_Logs_Opt_in_prod||e.carbon.accountFeatures.list.Audit_Logs_Opt_in_DEV)&&a.push({type:"switch",label:t("team_settings_collect_sensitive_data_audit_logs_enabled"),badgeLabel:t("team_settings_collect_sensitive_data_audit_logs_beta_label"),helperLabel:t("team_settings_collect_sensitive_data_audit_logs_enabled_helper"),value:e.state.collectSensitiveDataAuditLogsEnabled,feature:"collectSensitiveDataAuditLogsEnabled",serverFeature:"collect_sensitive_data_audit_logs_enabled",getErrorMessageForKey:e=>t("too_many_requests"===e?"team_settings_too_many_requests":"team_settings_lock_on_exit_save_error_msg_generic_error")}),a.push({type:"select",label:t("team_settings_force_crypto_payload_label"),helperLabel:t("team_settings_force_crypto_payload_helper"),value:e.state.cryptoForcedPayload,feature:"cryptoForcedPayload",serverFeature:"crypto_forced_payload",options:[{label:t("team_settings_force_crypto_payload_option_disabled"),value:""},{label:t("team_settings_force_crypto_payload_option_argon2"),value:"$1$argon2d$16$3$32768$2$aes256$cbchmac$16$"},{label:t("team_settings_force_crypto_payload_option_pbkdf2_advanced"),value:"$1$pbkdf2$16$200000$sha256$aes256$cbchmac$16$"},{label:t("team_settings_force_crypto_payload_option_pbkdf2_standard"),value:"KWC3",disabled:!0}],getErrorMessageForKey:e=>t("too_many_requests"===e?"team_settings_too_many_requests":"team_settings_force_crypto_payload_save_error_msg_generic_error")},{type:"switch",label:t("team_settings_allow_sharing"),helperLabel:t("team_settings_allow_sharing_helper"),value:e.state.allowSharing,feature:"allowSharing",serverFeature:"sharing_disabled",getErrorMessageForKey:e=>t("too_many_requests"===e?"team_settings_too_many_requests":"team_settings_allow_sharing_save_error_msg_generic_error"),serializer:e=>!e}),e.carbon.accountFeatures.list.VPNonTAC&&a.push({type:"switch",label:t("team_settings_vpn"),helperLabel:t("team_settings_vpn_helper"),value:e.state.enableVPN,feature:"enableVPN",serverFeature:"secure_wifi",getErrorMessageForKey:e=>{switch(e){case"too_many_requests":return t("team_settings_too_many_requests");case"not_authorized":return t("team_settings_vpn_disabled_for_free_trial");default:return t("team_settings_vpn_save_error_msg_generic_error")}}}),a.push({type:"switch",label:t("team_settings_enforce_2fa"),helperLabel:t("team_settings_enforce_2fa_helper"),infoBoxTitle:t("team_settings_generate_recovery_codes_infobox_title"),infoBoxDescription:t.markup("team_settings_generate_recovery_codes_infobox_description_markup"),value:e.state.enforce2FA,feature:"enforce2FA",serverFeature:"two_factor_authentication_enforced",confirmEnable:{title:t("team_settings_enforce_2fa_confirm_enable_title"),label:t("team_settings_enforce_2fa_confirm_enable_helper2"),dismiss:t("team_settings_enforce_2fa_confirm_enable_dismiss"),confirm:t("team_settings_enforce_2fa_confirm_enable_confirm")},getErrorMessageForKey:e=>t("too_many_requests"===e?"team_settings_too_many_requests":"team_settings_enforce_2fa_save_error_msg_generic_error"),serializer:e=>e?"newDevice":"disabled"}),a}var Qu=a(806092),Yu=a(370027),qu=a(287279);const Ku=({mainContent:e,mainProps:t,secondaryContent:a,secondaryProps:n,...s})=>(0,A.tZ)(r.T5p,{gap:"46px",gridTemplateAreas:["'top' 'bottom'","'top' 'bottom'","'left right'"],gridTemplateColumns:[null,null,"minmax(auto, 800px) 256px"],gridTemplateRows:["auto auto","auto auto","auto"],alignContent:"flex-start",sx:{py:"32px",px:"42px",bg:"white"},...s},(0,A.tZ)(r.dDn,{as:a,alignSelf:"flex-start",gridArea:["top","top","right"],...n}),(0,A.tZ)(r.dDn,{as:e,gridArea:["bottom","bottom","left"],...t})),Xu=({backgroundColor:e,paddingSize:t="normal",...a})=>(0,A.tZ)("div",{sx:{bg:null!=e?e:"ds.container.agnostic.neutral.quiet",p:"tight"===t?"24px":"32px 24px",borderRadius:3},...a}),{black:Ju,dashDarkerGreen00:em,dashGreen00:tm,midGreen00:am}=r.O9T,nm=e=>`url('data:image/svg+xml;utf8,<svg fill="${encodeURIComponent(e)}" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 6H6V18H18V12H19.9999L20 20H4V4H12V6Z" /><path d="M14 3H21V10H19V6.39133L13.8036 11.5878L12.3894 10.1735L17.5629 5H14V3Z" /></svg>')`,sm=({children:e,href:t,color:a,hoverColor:n,activeColor:s})=>{const{theme:i}=(0,A.B7)(),o=(0,r.hiO)(i,"lineHeights")[(0,r.hiO)(i,"styles.paragraph.size.medium.lineHeight")];return(0,A.tZ)(r.nvN,{as:r.rUS,bold:!0,size:"medium",sx:{position:"relative","::after":{content:'""',backgroundImage:nm(a),ml:"8px",position:"absolute",height:`calc(1em * ${o})`,width:`calc(1em * ${o})`},":hover::after":{backgroundImage:nm(n)},":active::after":{backgroundImage:nm(s)}},href:t,rel:"noopener noreferrer",target:"_blank",color:a,activeColor:s,hoverColor:n},e)},im=({heading:e,description:t,linkText:a,linkHref:s,backgroundColor:i,...o})=>(0,A.tZ)(Xu,{backgroundColor:i,...o},(0,A.tZ)(r.nvN,{sx:{mb:"8px"},color:Ju,bold:!0,size:"large",as:"h3"},e),(0,n.isValidElement)(t)?t:(0,A.tZ)(r.nvN,{color:"ds.text.neutral.standard",size:"small",sx:{mb:a&&s?"24px":0}},t),a&&s?(0,A.tZ)(sm,{href:s,color:am,hoverColor:tm,activeColor:em},a):null),rm=new Map([["business",G.B2bPlanTier.Business],["team",G.B2bPlanTier.Team],["legacy",G.B2bPlanTier.Legacy],["entreprise",G.B2bPlanTier.Business]]),om=({currentBillingPlanTier:e,emailDomainError:t,emailDomainSubmittedCount:a,emailDomainValidatedCount:n,encryptionServicePlatformSelected:s,idpValidationResponse:i,ssoSetupStep:r,ssoSolutionChosen:o,testSsoResponse:l})=>{(0,q.K)(new G.UserSetupSsoEvent({currentBillingPlanTier:e,emailDomainError:null!=t?t:G.EmailDomainError.OtherError,emailDomainSubmittedCount:null!=a?a:0,emailDomainValidatedCount:null!=n?n:0,encryptionServicePlatformSelected:null!=s?s:G.EncryptionServicePlatformSelected.AmazonWebServices,idpValidationResponse:null!=i?i:G.IdpValidationResponse.Success,ssoSetupStep:r,ssoSolutionChosen:o,testSsoResponse:null!=l?l:G.TestSsoResponse.NotTested}))},lm=e=>e&&rm.get(e)||G.B2bPlanTier.Business,cm=e=>{om({...e,currentBillingPlanTier:lm(e.currentBillingPlanTier),ssoSolutionChosen:G.SsoSolutionChosen.SelfHostedSso})},dm=e=>{om({...e,currentBillingPlanTier:lm(e.currentBillingPlanTier),ssoSolutionChosen:G.SsoSolutionChosen.NitroSso})},um=({onClose:e,onConfirm:t,titleText:a,bodyText:s})=>{const{translate:i}=(0,l.Z)(),[o,c]=(0,n.useState)(!1),[d,u]=(0,n.useState)(null),m=i("_common_action_cancel");return(0,T.tZ)(r.VqE,{isOpen:!0,disableOutsideClickClose:!0,disableScrolling:!0,closeIconName:m,onClose:e},(0,T.tZ)(r.$N8,{title:a}),(0,T.tZ)(r.a7O,null,(0,T.tZ)(r.nvN,{color:d?"ds.text.danger.standard":"ds.text.neutral.standard"},null!=d?d:s)),(0,T.tZ)(r.cNS,null,(0,T.tZ)(T.zx,{sx:{mr:"12px"},mood:"neutral",intensity:"quiet",onClick:()=>{e()},disabled:o},m),(0,T.tZ)(T.zx,{mood:"brand",intensity:"catchy",onClick:async()=>{c(!0),u(null);try{await t(),c(!1),e()}catch(e){u(e instanceof Error?e.message:i("_common_generic_error")),c(!1)}},isLoading:o,disabled:o},"Yes, clear setup")))};var mm=a(605961),_m=a.n(mm);const pm=e=>{const{markdownValue:t="",linkParams:a={},linkProps:s}=e,{linkTarget:i,onLinkClicked:r=(()=>{})}=a,o=t.includes("\n");return n.createElement(_m(),{source:t,allowedTypes:["Text","Link","Emph","Strong","Paragraph","Softbreak","List","Item","Code"],containerTagName:"span",softBreak:"br",renderers:{Paragraph:o?"p":"span",Link:function(e){return n.createElement(Md.Z,{...s,"aria-label":t,href:e.href,target:i,onClick:()=>{r(e.href)}},e.children)}}})};let gm;!function(e){e.ChooseSso="ChooseSso",e.SelfHosted="SelfHosted",e.Nitro="Nitro"}(gm||(gm={}));const ym=({pageContext:e,onSetupClear:t})=>{const{routes:a}=(0,i.Xo)(),s=(0,st.B)(),{translate:o}=(0,l.Z)(),c=(0,z.w)("deployment_web_nitroSSOBeta_chooseSSO"),[d,u]=(0,n.useState)(!1),{teamId:m}=(0,ar.fV)(),{clearSettings:_,initSsoProvisioning:p}=(0,dl.u7)(Yu.enclaveSdkApi),{status:g,data:y}=(0,dl.k$)(Yu.enclaveSdkApi,"ssoProvisioning");if(g!==dl.rq.Success||y.enableSSO.ssoEnabled)return null;const{global:{inferredSsoState:h,ssoCapable:b}}=y;if(!1===b)return(0,T.tZ)(T.ke,{mood:"neutral",size:"large",title:o("team_settings_es_sso_plan_error_header"),description:o.markup("team_settings_es_sso_plan_error_body_markup"),actions:s?.premiumStatus?[(0,Me.wt)(s.premiumStatus)?(0,T.tZ)(r.rUS,{key:"business-buy",href:`${ee.ub}?plan=business&subCode=${s?.subscriptionCode}`,target:"_blank"},(0,T.tZ)(T.zx,null,o("team_account_teamplan_plan_buy_dashlane"))):(0,T.tZ)(i.rU,{key:"upgrade",to:`${a.teamAccountChangePlanRoutePath}?plan=business`},(0,T.tZ)(T.zx,null,o("team_settings_es_sso_plan_missing_button")))]:[]});const S=[Yu.InferredSsoState.enum.NitroIncomplete,Yu.InferredSsoState.enum.SelfHostedIncomplete];if(e!==gm.ChooseSso&&S.includes(h)){let a=null,s=async()=>{await(t?.()),cm({ssoSetupStep:G.SsoSetupStep.ClearSsoSettings})};e===gm.SelfHosted&&h===Yu.InferredSsoState.enum.NitroIncomplete?(a={title:"To use self-hosted SSO, clear Confidential SSO setup",description:"If you want to use self-hosted SSO, which supports SCIM provisioning, select **Clear setup** to erase your progress in Dashlane. Make sure to also delete your progress in your IdP.",cta:"Clear setup"},s=async()=>{await _(),await p({teamId:`${m}`}),await(t?.())}):e===gm.Nitro&&h===Yu.InferredSsoState.enum.SelfHostedIncomplete&&(a={title:"To use Confidential SSO, clear self-hosted SSO setup",description:"If you want to use Confidential SSO, select **Clear setup** to erase your progress in Dashlane. Make sure to also delete your progress in your IdP.",cta:"Clear setup"},s=async()=>{await H.C.clearSelfHostedESSettings(),await p({teamId:`${m}`}),await(t?.())});const i=[Yu.InferredSsoState.enum.NitroComplete,Yu.InferredSsoState.enum.SelfHostedComplete];if(a&&!i.includes(h))return(0,T.tZ)(n.Fragment,null,d?(0,T.tZ)(um,{onClose:()=>u(!1),onConfirm:s,titleText:"Are you sure?",bodyText:"This action cant be undone."}):null,(0,T.tZ)(T.ke,{mood:"neutral",size:"large",title:a.title,description:(0,T.tZ)(pm,{markdownValue:a.description}),actions:[(0,T.tZ)(T.zx,{key:"clear",onClick:()=>u(!0)},a.cta)]}))}return c?(0,T.tZ)(T.ke,{mood:"warning",size:"large",title:"Switching between SSO options isn't available right now",description:"We're in the process of adding new capabilities to Confidential SSO. During this period, you can't switch between the two options. Before turning on your chosen SSO option, please make sure it meets your organization's needs."}):null};var hm,bm=a(230636);const Sm=[{li:"In a separate window, log in to your IdP account."},{li:"Find the section to create a new SSO application."},{li:"To create a new SSO application:",ol:[{li:"Add the ID and URLs provided here to your application."},{li:"Add members who will log in to Dashlane with SSO to your application."}]},{li:"When youre done, return here and select **Next**."}],vm=({content:e})=>(0,T.tZ)("ol",{sx:{color:"ds.text.neutral.quiet"}},e.map((({li:e,ol:t},a)=>(0,T.tZ)(r.nvN,{key:a,as:"li",size:"small"},(0,T.tZ)(pm,{markdownValue:e}),t?(0,T.tZ)(vm,{content:t}):null)))),Em=({disableForm:e})=>{var t,a,s;const i=(0,dl.k$)(Yu.enclaveSdkApi,"ssoProvisioning"),{createTeam:o}=(0,dl.u7)(Yu.enclaveSdkApi),l=Boolean(e||i.status===dl.rq.Success&&i.data.global?.isTeamProvisionedInNitro),c=i.status===dl.rq.Loading,[d,u]=(0,n.useState)(!1),m={entityId:null!=(t=i.data?.idpApplication.entityId)?t:"",acsUrl:null!=(a=i.data?.idpApplication.acsUrl)?a:"",signOnUrl:null!=(s=i.data?.idpApplication.signOnUrl)?s:""};return(0,T.tZ)(r.T5p,{gridTemplateColumns:"auto",gridAutoRows:"auto",gap:"20px"},(0,T.tZ)("div",{sx:{ol:{listStyleType:"decimal",ml:"20px",ol:{listStyleType:"lower-alpha"}}}},(0,T.tZ)(r.nvN,{as:"h2",color:"ds.text.neutral.standard",sx:{mb:"8px"},bold:!0},"Step 1: Create an SSO application in your identity provider (IdP) account"),hm||(hm=(0,T.tZ)(vm,{content:Sm}))),(0,T.tZ)(T.ke,{mood:"brand",size:"small",title:"For help creating an SSO application, refer to your IdP's documentation."}),(0,T.tZ)(bm.x,{isLoading:c,value:m.entityId,label:"Entity ID",readOnly:!0}),(0,T.tZ)(bm.x,{isLoading:c,value:m.acsUrl,label:"Assertion Consumer Service (ACS) URL",readOnly:!0}),(0,T.tZ)(bm.x,{isLoading:c,value:m.signOnUrl,label:"Sign-on URL (optional)",readOnly:!0}),(0,T.tZ)(T.zx,{sx:{justifySelf:"end"},type:"button",disabled:l||d,isLoading:d,onClick:async()=>{u(!0);try{await(async()=>{try{await o(),dm({ssoSetupStep:G.SsoSetupStep.CreateSsoApplication})}catch(e){}})()}finally{u(!1)}}},"Next"))};var Nm=a(788355);const fm="ssoIdpMetadata",Cm=({disableForm:e=!1})=>{var t;const a=(0,dl.k$)(Yu.enclaveSdkApi,"ssoProvisioning"),{validateMetadata:n,updateMetadata:s}=(0,dl.u7)(Yu.enclaveSdkApi),i=a.status===dl.rq.Loading,o=!a.data?.global.isTeamProvisionedInNitro,l=null!=(t=a.data?.idpMetadata.metadataValue)?t:"",c={ssoIdpMetadata:l},d=async e=>{var t;if(e)try{const a=await n({metadata:e});if(dm({ssoSetupStep:G.SsoSetupStep.ValidateIdpMetadata,idpValidationResponse:(t=a,(0,qu.hx)(t)?Object.values(G.IdpValidationResponse).includes(t.error.tag)?t.error.tag:G.IdpValidationResponse.XmlParseFailed:G.IdpValidationResponse.Success)}),(0,qu.hx)(a))return a.error.tag}catch(e){return e instanceof Error?e.message:"Unknown error"}};return(0,T.tZ)(Nm.J9,{initialValues:c,onSubmit:async(e,t)=>{try{await s({metadata:e.ssoIdpMetadata}),dm({ssoSetupStep:G.SsoSetupStep.UpdateIdpSettings})}catch(e){return t.setFieldError(fm,e.message)}},enableReinitialize:!0},(({isSubmitting:t,isValid:n,isValidating:s,dirty:c})=>{const u=o||t||e||i,m=u||!n||s||!c,_=u&&a.data?.global.inferredSsoState!==Yu.InferredSsoState.enum.SelfHostedIncomplete;return(0,T.tZ)(Nm.l0,{noValidate:!0},(0,T.tZ)(r.T5p,{gridTemplateColumns:"auto",gridAutoRows:"auto",gap:"8px"},(0,T.tZ)(r.nvN,{as:"label",color:"ds.text.neutral.standard",htmlFor:fm,bold:!0},"Step 2: Save your IdP metadata"),(0,T.tZ)(Nm.gN,{name:fm,validateOnChange:!0,validate:d},(({field:t,meta:{error:a},form:{setFieldError:n}})=>(0,T.tZ)(r.ua7,{passThrough:!e},(0,T.tZ)(r.oil,{multiline:!0,required:!0,fullWidth:!0,sx:{resize:"vertical",height:"100px"},id:fm,autoCorrect:"off",autoComplete:"off",placeholder:"Enter metadata...",readOnly:u,feedbackText:null!=a?a:void 0,feedbackType:a?"error":void 0,onFocus:e=>{_&&n(`${e.target.getAttribute("name")}`,"Please complete step 1 before proceeding.")},...t})))),(0,T.tZ)(T.zx,{type:"submit",sx:{mt:"12px",justifySelf:"end"},mood:l?"neutral":"brand",intensity:l?"quiet":"catchy",disabled:m},"Save metadata")))}))},Tm={DOMAIN_ALREADY_PROVISIONED:"Domain was already provisioned by another team",SECURE_CONTENT_NOT_PARSED:"Secure content not parsed properly."},Mm="Something went wrong",xm="emailDomain",Dm=({disableForm:e})=>{var t,a;const{spaceDetails:s}=(0,ar.fV)(),[i,o]=(0,n.useState)(""),[,l]=null!=(t=s?.associatedEmail.split("@"))?t:["",""],{deleteDomain:c,provisionDomain:d}=(0,dl.u7)(Yu.enclaveSdkApi),u=(0,dl.k$)(Yu.enclaveSdkApi,"ssoProvisioning");(0,n.useEffect)((()=>{const e=u.data?.domainSetup[0]?.domainName;e&&o(e)}),[u?.data]);const m=null!=(a=u.data?.global.isTeamProvisionedInNitro)&&a&&u.data?.idpMetadata.metadataValue,_={emailDomain:m?i||l:""};return(0,T.tZ)(Nm.J9,{initialValues:_,onSubmit:async(e,t)=>{if(e.emailDomain)try{let a;if(i&&(a=await c({domainName:i})),(void 0===a||(0,qu.d6)(a))&&(a=await d({domainName:e.emailDomain})),dm({ssoSetupStep:G.SsoSetupStep.SubmitEmailDomain}),(0,qu.hx)(a))return dm({ssoSetupStep:G.SsoSetupStep.EmailDomainError}),t.setErrors({[xm]:Object.prototype.hasOwnProperty.call(Tm,a.error.tag)?Tm[a.error.tag]:Mm})}catch(e){var a;return t.setErrors({[xm]:null!=(a=e?.message)?a:Mm})}else t.setErrors({[xm]:e.emailDomain?null:"Required"})},enableReinitialize:!0},(({isSubmitting:t,isValidating:a,isValid:n,dirty:s})=>{const o=e||t||!m,l=o||!n||a||!s&&_.emailDomain===i;return(0,T.tZ)(Nm.l0,{noValidate:!0},(0,T.tZ)(r.T5p,{gridTemplateColumns:"auto",gridAutoRows:"auto",gap:"8px"},(0,T.tZ)(r.nvN,{as:"label",color:"ds.text.neutral.standard",bold:!0,htmlFor:xm},i?"Step 3: Update the email domain youll use for member accounts":"Step 3: Submit the email domain youll use for member accounts"),i?(0,T.tZ)(r.nvN,{size:"small",color:"ds.text.neutral.quiet",sx:{mb:"4px"}},"Updating your email domain will replace the domain you already verified with the new domain."):null,(0,T.tZ)(Nm.gN,{name:xm},(({field:a,meta:{error:n}})=>(0,T.tZ)(r.ua7,{passThrough:!e},(0,T.tZ)(T.oi,{id:xm,required:!0,autoCorrect:"off",autoComplete:"off",placeholder:"Enter email domain...",readOnly:o,...a,feedback:n&&!t?{text:n,type:"error"}:void 0})))),(0,T.tZ)(T.zx,{type:"submit",sx:{mt:"12px",justifySelf:"end"},isLoading:t,mood:i?"neutral":"brand",intensity:i?"quiet":"catchy",disabled:l},i?"Update email domain":"Submit email domain")))}))},Im={SECTION_HEADING:"Step 4: Create a DNS TXT record, then verify your domain",SECTION_STEPS:["In a separate window, log in to your public DNS provider account.","Create a TXT record using the subdomain and TXT values provided here.","Wait a few minutes, then return here and select **Verify Domain**."],INFOBOX_MESSAGE:"For help creating a TXT record, refer to your DNS provider's documentation.",SUBDOMAIN_LABEL:"Subdomain",TXT_LABEL:"TXT Value",CTA_VERIFY:"Verify domain",CTA_RETRY:"Retry",VERIFY_PENDING_TITLE:"We couldnt verify your domain",VERIFY_PENDING_BODY:"Domain verification usually happens quickly, but it can take up to 48 hours. Try again in a few minutes. In the meantime, check that your DNS TXT record is correct, then select **Retry**.",VERIFY_ERROR_TITLE:"Update your DNS TXT record, then retry domain verification",VERIFY_ERROR_INCORRECT_TOKEN_FOUND:e=>`We found an unexpected value: \`${e}\`.\nPlease make sure the DNS TXT record is configured in accordance with the form below, then return here and select **Retry**.`,VERIFY_ERROR_BODY:"If you update your email domain, the hostname changes and we generate a new TXT value. In a new window, update the TXT record or create a new one for the updated domain and then return here and select **Retry**.",DOMAIN_VERIFIED:"Your domain was successfully verified."},Zm=({checkingDomainVerification:e,setCheckingDomainVerification:t})=>{var a,s,i,o;const[l,c]=(0,n.useState)(!1),d=(0,dl.k$)(Yu.enclaveSdkApi,"ssoProvisioning"),u=d.status===dl.rq.Error?"Something went wrong.":null,m=null!=(a=d.data?.domainSetup[0]?.domainName)?a:"",{checkDNSValidation:_}=(0,dl.u7)(Yu.enclaveSdkApi),p=null!=(s=d.data?.domainVerificationInfo[m])?s:{txtValue:null,verificationStatus:null,subdomainValue:null,tokenFound:null,pendingReason:null},g=Yu.DomainVerificationStatus.enum,y=p.verificationStatus===g?.valid,h=p.verificationStatus===g?.pending,b=p.verificationStatus===g?.invalid,S=h&&p.pendingReason===Yu.DomainPendingReason.enum.invalidToken,v=!m||!p.txtValue||y,E=h&&l&&!S,N=(b||S)&&l,f=y&&l;return(0,n.useEffect)((()=>{if((b||h)&&l){const e=S?G.EmailDomainError.IncorrectText:b?G.EmailDomainError.OtherError:G.EmailDomainError.NotFound;dm({emailDomainError:e,ssoSetupStep:G.SsoSetupStep.EmailDomainError})}}),[p.verificationStatus,l]),(0,T.tZ)(r.Ejs,{flexDirection:"column",gap:"8px",flexWrap:"nowrap",alignItems:"flex-start"},(0,T.tZ)(r.nvN,{color:"ds.text.neutral.standard",bold:!0},Im.SECTION_HEADING),(0,T.tZ)("ol",{sx:{listStyleType:"decimal",ml:"20px"}},Im.SECTION_STEPS.map((e=>(0,T.tZ)(r.nvN,{key:e,as:"li",size:"small",color:"ds.text.neutral.quiet"},(0,T.tZ)(pm,{markdownValue:e}))))),y?null:(0,T.tZ)("div",{sx:{mt:"4px",mb:"10px",width:"100%"}},(0,T.tZ)(T.ke,{size:"small",mood:"brand",title:Im.INFOBOX_MESSAGE})),(0,T.tZ)(bm.x,{label:Im.SUBDOMAIN_LABEL,value:m&&null!=(i=p.subdomainValue)?i:"",disabled:v,readOnly:!0}),(0,T.tZ)(bm.x,{label:Im.TXT_LABEL,value:null!=(o=p.txtValue)?o:"",disabled:v,readOnly:!0}),u?(0,T.tZ)(r.X6q,{color:"ds.text.danger.quiet"},u):null,E?(0,T.tZ)("div",{sx:{mt:"4px",mb:"10px",width:"100%"}},(0,T.tZ)(T.ke,{size:"large",mood:"warning",title:Im.VERIFY_PENDING_TITLE,description:(0,T.tZ)(pm,{markdownValue:Im.VERIFY_PENDING_BODY})})):null,N?(0,T.tZ)("div",{sx:{mt:"4px",mb:"10px",width:"100%"}},(0,T.tZ)(T.ke,{size:"large",mood:"danger",title:Im.VERIFY_ERROR_TITLE,description:(0,T.tZ)(pm,{markdownValue:S&&p.tokenFound?Im.VERIFY_ERROR_INCORRECT_TOKEN_FOUND(p.tokenFound):Im.VERIFY_ERROR_BODY})})):null,f?(0,T.tZ)("div",{sx:{mt:"4px",mb:"10px",width:"100%"}},(0,T.tZ)(r.bZj,{severity:r.BLW.SUCCESS,closeIconName:"Close"},Im.DOMAIN_VERIFIED)):null,(0,T.tZ)(r.T5p,{gridTemplateColumns:"auto",sx:{alignSelf:"end",mt:"12px"}},(0,T.tZ)(T.zx,{type:"button",isLoading:e,disabled:v||e,onClick:async()=>{t(!0),dm({ssoSetupStep:G.SsoSetupStep.VerifyDomain}),await _({domainName:m}),t(!1),c(!0)}},l?Im.CTA_RETRY:Im.CTA_VERIFY)))},wm=({title:e,body:t,onConfirm:a,onCancel:s})=>{const[i,o]=(0,n.useState)(!1);return(0,T.tZ)(je.o,{isOpen:!0,showCloseIcon:!0,onRequestClose:s,footer:(0,T.tZ)(r.cNS,null,(0,T.tZ)(T.zx,{sx:{mr:"12px"},mood:"neutral",intensity:"quiet",onClick:s,disabled:i},"Cancel"),(0,T.tZ)(T.zx,{mood:"brand",intensity:"catchy",onClick:async()=>{try{o(!0),await a()}catch{o(!1)}},isLoading:i,disabled:i},"Yes, turn on")),title:e},t)},Am="enableSso",Om=()=>{const{showAlert:e}=(0,Fa.V)(),t=(0,lt.h)(),[a,s]=(0,n.useState)(!1),[i,o]=(0,n.useState)(!1),l=(0,dl.k$)(Yu.enclaveSdkApi,"ssoProvisioning"),{enableSso:c}=(0,dl.u7)(Yu.enclaveSdkApi),d=l.data?.domainSetup[0]?.domainName,u=d?l.data?.domainVerificationInfo[d]:null,m=u?.verificationStatus!==Yu.DomainVerificationStatus.enum.valid,_=t.status===Z.rq.Success&&t.data.deployment_web_nitroSSOBeta_chooseSSO,p=l.data?.enableSSO.ssoEnabled;(0,n.useEffect)((()=>{s(null!=p&&p)}),[p]);const g=Boolean(m||p),y=async()=>{s(!0);const t=await c();(0,qu.d6)(t)?e("SSO is turned on for all non-admin members.",r.BLW.SUCCESS,(()=>{}),!0,!0):(s(!1),e(t.error.tag,r.BLW.ERROR,(()=>{}),!0,!0))};return(0,T.tZ)(n.Fragment,null,(0,T.tZ)(r.T5p,{gridTemplateColumns:"3fr 1fr",gridTemplateRows:"auto auto auto auto",gap:"8px"},(0,T.tZ)(r.nvN,{as:"label",color:"ds.text.neutral.standard",bold:!0,htmlFor:Am},"Step 6: Turn on SSO"),(0,T.tZ)(r.dDn,{sx:{justifySelf:"end"}},(0,T.tZ)(T.ZD,{id:Am,onClick:async()=>{_?(o(!0),dm({ssoSetupStep:G.SsoSetupStep.TurnOnSso})):(await y(),dm({ssoSetupStep:G.SsoSetupStep.CompleteSsoSetup}))},checked:a,disabled:g})),(0,T.tZ)(r.nvN,{size:"small",color:"ds.text.neutral.quiet",sx:{mb:"4px",gridRow:"2",gridColumn:"1/1"}},"After testing your connection, turn on SSO for all non-admin members. Admins will still need to enter their Master Password to log in."),(0,T.tZ)(r.dDn,{gridRow:"5",gridColumn:"1/3"},(0,T.tZ)(T.ke,{size:"small",mood:"brand",title:"To turn off SSO, contact our Customer Support."}))),i?(0,T.tZ)(wm,{title:"Are you sure you want to turn on Confidential SSO?",body:"This action cant be undone. You wont be able to switch to self-hosted SSO after this point.",onConfirm:async()=>{await y(),dm({ssoSetupStep:G.SsoSetupStep.CompleteSsoSetup}),o(!1)},onCancel:()=>{o(!1)}}):null)};var km=a(997450);const Lm=()=>{var e;const[t,a]=(0,n.useState)(!1),[s,i]=(0,n.useState)(!1),[o,l]=(0,n.useState)(!1),{testLoginUserWithEnclaveSSO:c}=(0,dl.u7)(Yu.enclaveSdkApi),d=(0,dl.k$)(Yu.enclaveSdkApi,"ssoProvisioning"),u=null!=(e=d.data?.domainSetup[0]?.domainName)?e:"",m=d.data?.domainVerificationInfo[u]?.verificationStatus!==Yu.DomainVerificationStatus.enum?.valid||!1;return(0,T.tZ)(r.T5p,{gridTemplateColumns:"3fr 1fr",gridTemplateRows:"auto",gap:"8px"},(0,T.tZ)("div",null,(0,T.tZ)(r.nvN,{color:"ds.text.neutral.standard",bold:!0,sx:{mb:"8px"}},"Step 5: Test your SSO connection"),(0,T.tZ)(r.nvN,{size:"small",color:"ds.text.neutral.quiet",sx:{mb:"4px"}},"Before turning on SSO for all non-admin members, test it to make sure it works properly.")),(0,T.tZ)(r.dDn,{justifySelf:"end",gridColumn:"2"},(0,T.tZ)(km.M,{disabled:m,onClick:async()=>{a(!0);try{const e=await c({domainName:u}),t=(0,qu.d6)(e);dm({ssoSetupStep:G.SsoSetupStep.TestSsoConnection,testSsoResponse:t?G.TestSsoResponse.Success:G.TestSsoResponse.Failure}),i(t),l(!t)}finally{a(!1)}},loading:t,content:"Install the Dashlane extension to test your SSO connection.",neverShowTooltip:!0},"Test SSO")),s?(0,T.tZ)(r.dDn,{gridColumn:"1/span 2"},(0,T.tZ)(r.bZj,{showIcon:!0,size:r.k3y.SMALL,severity:r.BLW.SUCCESS,onClose:()=>{i(!1)},closeIconName:"Close"},"Your SSO connection was successfully verified.")):null,o?(0,T.tZ)(r.dDn,{gridColumn:"1/span 2"},(0,T.tZ)(r.bZj,{showIcon:!0,size:r.k3y.SMALL,severity:r.BLW.ERROR,onClose:()=>{l(!1)},closeIconName:"Close"},"We couldn't verify your SSO connection. Please contact our Customer Support.")):null)};var zm,jm,Pm,Rm,Um,Bm,Gm;const{dashDarkerGreen00:Fm,dashGreen00:Vm,midGreen00:$m}=r.O9T,Wm={PAGE_TITLE:"Confidential SSO",BETA_BADGE:"beta",CARD_1_HEADING:"Before you start",CARD_1_BODY_INTRO:"To set up SSO, you'll need:",CARD_1_BODY_POINTS:["Access to your IdP and public DNS provider accounts","A list of members to add to your SSO application","IdP metadata","Email domain"],CARD_1_SUB_HEADING:"Need help?",CARD_1_SUB_BODY:"For help setting up SSO, contact our Customer Support.",CARD_2_HEADING:"After turning on SSO",CARD_2_BODY_FIRST:"After SSO is turned on, non-admin members are required to log in with SSO.",CARD_2_BODY_SECOND:"They must use the browser extension when using Dashlane on a computer. They can also log in with SSO on mobile.",CARD_2_BODY_THIRD:"Admins can't log in with SSO. They still need to enter their Master Password."},Hm="support@dashlane.com",Qm=()=>{const[e,t]=(0,n.useState)(!1),{status:a,data:s}=(0,dl.k$)(Yu.enclaveSdkApi,"ssoProvisioning");if(a!==Z.rq.Success)return null;const i=s.global.inferredSsoState,o=[Yu.InferredSsoState.enum.SelfHostedIncomplete,Yu.InferredSsoState.enum.SelfHostedComplete].includes(i),l=a===Z.rq.Success?!s.enableSSO.ssoEnabled:null;return(0,T.tZ)("div",null,l?(0,T.tZ)(ym,{pageContext:gm.Nitro}):null,(0,T.tZ)(r.Zbd,{sx:{mt:l?"24px":""}},(0,T.tZ)(r.aYP,{sx:{borderWidth:0,bg:"ds.container.agnostic.neutral.supershy"}},(0,T.tZ)(Em,{disableForm:o}),zm||(zm=(0,T.tZ)("hr",null)),(0,T.tZ)(Cm,{disableForm:e}),jm||(jm=(0,T.tZ)("hr",null)),(0,T.tZ)(Dm,{disableForm:e}),Pm||(Pm=(0,T.tZ)("hr",null)),(0,T.tZ)(Zm,{checkingDomainVerification:e,setCheckingDomainVerification:t}),Rm||(Rm=(0,T.tZ)("hr",null)),Um||(Um=(0,T.tZ)(Lm,null)),Bm||(Bm=(0,T.tZ)("hr",null)),Gm||(Gm=(0,T.tZ)(Om,null)))))},Ym=e=>(0,T.tZ)(r.Ejs,{gap:"6",...e},(0,T.tZ)(im,{heading:Wm.CARD_1_HEADING,description:(0,T.tZ)(n.Fragment,null,(0,T.tZ)(r.nvN,{size:"small",sx:{mb:"8px"}},Wm.CARD_1_BODY_INTRO),(0,T.tZ)(r.nvN,{as:"ul",size:"small",sx:{listStyleType:"disc",ml:"20px",mb:"8px"}},Wm.CARD_1_BODY_POINTS.map((e=>(0,T.tZ)("li",{key:e},e)))),(0,T.tZ)(r.nvN,{size:"large",bold:!0,sx:{mb:"8px"}},Wm.CARD_1_SUB_HEADING),(0,T.tZ)(r.nvN,{size:"small",sx:{mb:"8px"}},Wm.CARD_1_SUB_BODY),(0,T.tZ)(r.rUS,{color:$m,hoverColor:Vm,activeColor:Fm,href:`mailto:${Hm}`,sx:{fontSize:"14px"}},Hm))}),(0,T.tZ)(im,{heading:Wm.CARD_2_HEADING,description:(0,T.tZ)(n.Fragment,null,(0,T.tZ)(r.nvN,{size:"small",sx:{mb:"8px"}},Wm.CARD_2_BODY_FIRST),(0,T.tZ)(r.nvN,{size:"small",sx:{mb:"8px"}},Wm.CARD_2_BODY_SECOND),(0,T.tZ)(r.nvN,{size:"small",color:"ds.text.danger.standard"},Wm.CARD_2_BODY_THIRD))})),qm=({backRoute:e})=>{const t=(0,z.F)("deployment_web_nitroSSOBeta_chooseSSO"),{data:a}=(0,dl.k$)(Yu.enclaveSdkApi,"ssoProvisioning"),n=t.status===Z.rq.Success&&!t.data,s=t.status===Z.rq.Success&&t.data&&!a?.enableSSO.ssoEnabled;return(0,T.tZ)(r.T5p,{gridTemplateColumns:"auto",gridTemplateRows:"auto 1fr",fullWidth:!0,sx:{height:"100%"}},(0,T.tZ)("div",{sx:{px:"48px",pt:"32px",pb:"12px"}},(0,T.tZ)(Bs,{title:Wm.PAGE_TITLE,titleBadge:n?(0,T.tZ)(T.Ct,{intensity:"catchy",mood:"brand",layout:"labelOnly",label:Wm.BETA_BADGE}):null}),s?(0,T.tZ)(r.rUS,{color:$m,hoverColor:Vm,activeColor:Fm,onClick:()=>{dm({ssoSetupStep:G.SsoSetupStep.ReturnToSsoSelection}),(0,i.uX)(e)},sx:{fontSize:"16px",display:"flex",textDecoration:"none",marginTop:"-18px"}},(0,T.tZ)(T.JO,{name:"ArrowLeftOutlined",size:"small",color:Vm,sx:{marginRight:"10px"}})," ","Back"):null),(0,T.tZ)(Ku,{mainContent:Qm,mainProps:{gridTemplateColumns:"auto",gridAutoRows:"min-content",gap:"32px"},secondaryContent:Ym}))};var Km=a(46298);const Xm=()=>{const[e,t]=(0,n.useState)(!1),[a,s]=(0,n.useState)(),i=(0,n.useCallback)((async()=>{try{return await H.C.getEncryptionServiceConfig()}catch{return{success:!1,error:{code:Km.UnknownError}}}}),[]),r=(0,n.useCallback)((async(e=new AbortController)=>{e.signal.aborted||t(!0);const a=await i();return e.signal.aborted||(a.success&&s(a.data),t(!1)),a}),[i]);return(0,n.useEffect)((()=>{const e=new AbortController;return r(e),()=>{e.abort()}}),[r]),{esConfigLoading:e,esConfig:a,refreshEncryptionServiceConfig:r}};var Jm=a(161488),e_=a(98933);const t_=({value:e,disabled:t,error:a,isLoading:s=!1,configRegenRequired:i,lastGeneratedTimeStamp:o})=>{const{translate:c}=(0,l.Z)(),d=o?(0,A.tZ)(r.Ejs,{gap:"4px",sx:{mt:"8px"},justifyContent:"center"},(0,A.tZ)(r.nvN,{size:"x-small",bold:!0},c("team_settings_encryption_service_generate_configuration_timestamp")),(0,A.tZ)(r.nvN,{size:"x-small"},(0,tn.Z)(o).toLocaleString(navigator.language,{...ae.qG.lll,timeZoneName:"short"}))):null;return(0,A.tZ)(r.T5p,{gridTemplateAreas:"'label button' 'description button' 'timestamp timestamp' 'config buttons'",gridTemplateColumns:"3fr 1fr",sx:{gridColumnGap:"8px"}},(0,A.tZ)(r.dDn,{gridArea:"label",sx:{paddingBottom:"8px"},as:r.nvN,innerAs:"label",size:"medium",bold:!0},c("team_settings_encryption_service_generate_configuration_label")),(0,A.tZ)(r.dDn,{gridArea:"description",as:r.nvN,size:"small"},c("team_settings_encryption_service_generate_configuration_label_helper")),(0,A.tZ)(r.dDn,{gridArea:"button"},(0,A.tZ)(T.zx,{disabled:t||s,mood:e&&!i?"neutral":"brand",intensity:e&&!i?"quiet":"catchy",fullsize:!0,type:"submit",isLoading:s},c("team_settings_encryption_service_generate_configuration_button")),i?null:d),e?(0,A.tZ)(n.Fragment,null,(0,A.tZ)(r.dDn,{gridArea:"config",sx:{marginTop:"18px"}},(0,A.tZ)(r.oil,{multiline:!0,readOnly:!0,fullWidth:!0,disabled:i,value:e,sx:{overflowY:"auto",resize:"vertical",height:"10em"},feedbackType:a?"error":void 0,feedbackText:a})),(0,A.tZ)(r.dDn,{as:r.Ejs,gridArea:"buttons",sx:{marginTop:"18px"},flexDirection:"column",gap:"8px"},(0,A.tZ)(sd.q,{disabled:i,copyValue:e,buttonText:c("input_copy_button"),fullsize:!0}),(0,A.tZ)(e_.o,{disabled:i,buttonText:c("team_settings_encryption_service_config_download_button"),downloadString:e,fileName:"dashlane-encryption-service-config.txt",fileType:"text/plain",fullsize:!0}))):null)};function a_(e){const t=(0,n.useMemo)((()=>e),[e]),[a,s]=(0,n.useState)(!1),[i,r]=(0,n.useState)(),o=(0,n.useCallback)((async()=>{const e={success:!1,error:{code:Km.UnknownError}};try{return t?await H.C.getTeamDevice({teamDeviceAccessKey:t}):e}catch{return e}}),[t]),l=(0,n.useCallback)((async(e=new AbortController)=>{e.signal.aborted||s(!0);const t=await o();return e.signal.aborted||(t.success&&r(t.data.teamDevice),s(!1)),t}),[o]);return(0,n.useEffect)((()=>{const e=new AbortController;return l(e),()=>{e.abort()}}),[l]),{teamDeviceLoading:a,teamDevice:i,refreshTeamDevice:l}}const n_={AWS:"https://support.dashlane.com/hc/articles/4404322174482-Dashlane-Encryption-Service-Overview-and-Setup?utm_source=extension#h_01FTXGN0C8B9HMKRD8J0BSYRAH","Microsoft Azure":"https://support.dashlane.com/hc/articles/4404322174482-Dashlane-Encryption-Service-Overview-and-Setup?utm_source=extension#h_01FTXGMVBAEK5GB0TZJ86K7ZWE"},s_=({context:e="GENERIC",...t})=>{var a,s;const{esConfig:i,esConfigLoading:r}=Xm(),{teamDevice:o,teamDeviceLoading:c}=a_(i?.deviceAccessKey),[d,u]=(0,n.useState)(!1),{translate:m}=(0,l.Z)(),_={CONTENT:m.markup("team_settings_encryption_service_restart_failed_info_content_markup",{helpArticle:null!=(a=n_[null!=(s=i?.deploymentLocation)?s:""])?a:"",supportLink:"https://support.dashlane.com/hc/requests/new?utm_source=extension"},{linkTarget:"_blank"})},p={GENERIC:{TITLE:m("team_settings_encryption_service_restart_failed_info_title"),..._},SCIM:{TITLE:m("team_settings_encryption_service_restart_failed_info_title_scim"),..._},ES:{TITLE:m("team_settings_encryption_service_restart_failed_info_title_es"),..._},SSO:{TITLE:m("team_settings_encryption_service_restart_failed_info_title_sso"),..._}};return(0,n.useEffect)((()=>{if(!c&&!r&&o&&i){const t=!o.hasLatestConfig&&"GENERIC"===e||"GENERIC"!==e;u(t)}}),[o,i,c,r,e]),d?(0,T.tZ)(T.ke,{mood:"warning",size:"large",title:p[e].TITLE,description:p[e].CONTENT,actions:p[e].BUTTON?[(0,T.tZ)(T.zx,{mood:"brand",intensity:"catchy",key:"primary",onClick:()=>{u(!1)}},p[e].BUTTON)]:void 0,...t}):null};var i_,r_,o_,l_,c_;const d_="team_settings_encryption_service_enter_endpoint_placeholder_aws_linux",u_="_common_generic_error",m_="https://",__={AWS:"https://eu-west-1.console.aws.amazon.com/acm/home?region=eu-west-1#/welcome","Microsoft Azure":"https://portal.azure.com/#create/Microsoft.Template/uri/https%3A%2F%2Fget.dashlane.com%2Fazure%2Farm%2Fes%2Fazuredeploy.json"},p_={AWS:"https://support.dashlane.com/hc/articles/4404322174482-Dashlane-Encryption-Service-Overview-and-Setup?utm_source=extension#h_01FTXGN0C8B9HMKRD8J0BSYRAH","Microsoft Azure":"https://support.dashlane.com/hc/articles/4404322174482-Dashlane-Encryption-Service-Overview-and-Setup?utm_source=extension#h_01FTXGMVBAEK5GB0TZJ86K7ZWE"},g_={AWS:"team_settings_encryption_service_go_to_label_helper_aws_markup","Microsoft Azure":"team_settings_encryption_service_go_to_label_helper_azure_markup"},y_={AWS:"team_settings_encryption_service_enter_endpoint_helper_aws_linux","Microsoft Azure":"team_settings_encryption_service_enter_endpoint_helper_azure"},h_={"Microsoft Azure":"team_settings_encryption_service_enter_endpoint_placeholder_azure",AWS:d_},b_="config",S_="deploymentLocation",v_="encryptionServiceEndpoint",E_="ssoConnectorKey",N_="-sso.azurewebsites.net",{white:f_,midGreen00:C_}=r.O9T,T_=({migratingFromSSOConnector:e=!1,esConfig:t,onSave:a,teamSettings:s,updateTeamSettings:o})=>{var c,d,u;const[m,_]=(0,n.useState)(!1),[p,g]=(0,n.useState)(""),[y,h]=(0,n.useState)(!1),[b,S]=(0,n.useState)(!1),{translate:v}=(0,l.Z)(),{spaceDetails:E,teamId:N}=(0,ar.fV)(),{initSsoProvisioning:f}=(0,dl.u7)(Yu.enclaveSdkApi),C=null!=(c=E?.associatedEmail)?c:"",T=(0,i.k6)(),M=s?.ssoServiceProviderUrl,x={encryptionServiceEndpoint:(null!=M?M:"").replace(m_,""),config:null!=(d=t?.config)?d:"",deploymentLocation:null!=(u=t?.deploymentLocation)?u:"",ssoConnectorKey:""},D=()=>T.goBack(),I=e=>e?null:v("team_settings_encryption_service_error_select_service"),Z=e=>{const t=v("team_settings_encryption_service_error_invalid_ssoConnectorKey");try{const[t,a]=e.split("|"),n=atob(a);if(!t||!a||!n||36!==t.length||64!==n.length)throw new Error("Invalid key format")}catch{return t}return null},w=e=>{const t=v("team_settings_encryption_service_error_invalid_endpoint");if(!e)return t;let a;try{a=new URL(`${m_}${e}`)}catch(e){return t}return"/"!==a.pathname||""!==a.search||""!==a.hash||a.href.includes("?")?t:null};return(0,A.tZ)(Nm.J9,{onSubmit:async(t,{setFieldValue:n,setFieldTouched:s})=>{g(""),_(!0),S(!1);const{deploymentLocation:i,encryptionServiceEndpoint:r,ssoConnectorKey:l}=t;if(!i)return void s(S_);if(e&&!l)return void s(E_);n(b_,"");const c=e=>e.replace(/\/$/,"").toLowerCase();try{const s={deploymentLocation:i,encryptionServiceEndpoint:m_+c(r),updateTeamDeviceConfigParams:{}};e&&l&&(s.updateTeamDeviceConfigParams.ssoConnectorKey=l);const d=await H.C.generateAndSaveEncryptionServiceConfig(s);if(!d.success)return void g(v(u_));const u=d.data.basicConfig;if(n(b_,u.config),t[v_]!==x.encryptionServiceEndpoint&&(await o({ssoServiceProviderUrl:t[v_]?`${m_}`+c(`${t[v_]}`):null}),await f({teamId:`${N}`})),_(!1),d.data.encryptionServiceReloadingStatus!==rt.EncryptionServiceRestartStatusCodes.OK)return S(!0),h(!1),void a?.();cm({ssoSetupStep:G.SsoSetupStep.GenerateAndSaveConfiguration}),p||a?.()}catch(e){_(!1),g(v(u_))}},initialValues:x,onReset:D},(a=>{var s,i;return(0,A.tZ)(Nm.l0,{autoComplete:"off"},(0,A.tZ)(Jm.X,{dirty:a.dirty&&!m&&!b}),(0,A.tZ)(r.Zbd,null,(0,A.tZ)(r.Ol2,null,v("team_settings_encryption_service_header")),(0,A.tZ)(r.aYP,null,e?(0,A.tZ)(n.Fragment,null,(0,A.tZ)(r.T5p,{gridTemplateAreas:"'header header' 'description description' 'input button'",gridTemplateColumns:"1fr auto",gap:"10px"},(0,A.tZ)(r.dDn,{as:r.Ejs,gridArea:"header"},(0,A.tZ)(r.nvN,{as:"h3",bold:!0},v("team_settings_encryption_service_migrate_sso_title"))),(0,A.tZ)(r.dDn,{gridArea:"description"},(0,A.tZ)(r.nvN,{size:"small",color:r.O9T.grey00},v.markup("team_settings_encryption_service_migrate_sso_description_markup"))),(0,A.tZ)(r.dDn,{gridArea:"input"},(0,A.tZ)(Nm.gN,{name:E_,validate:Z},(({field:{onChange:e,...t},meta:{error:n,touched:s}})=>(0,A.tZ)(r.oil,{onChange:t=>{e(t)},id:"ssoConnectorKey",placeholder:v("team_settings_encryption_service_sso_connector_key_placeholder"),fullWidth:!0,feedbackText:s&&n?n:void 0,feedbackType:s&&n?"error":void 0,"aria-invalid":s&&!!n,readOnly:a.isSubmitting,...t}))))),i_||(i_=(0,A.tZ)("hr",null))):null,(0,A.tZ)(r.T5p,{gridTemplateAreas:"'label select' 'desc select'",gap:"8px"},(0,A.tZ)(r.dDn,{gridArea:"label",as:r.nvN,innerAs:"label",htmlFor:"deploymentLocation",sx:{fontWeight:"bold"}},v("team_settings_encryption_service_deploy_label")),(0,A.tZ)(r.dDn,{gridArea:"desc",as:r.nvN,size:"medium"},v.markup("team_settings_encryption_service_deploy_label_helper_markup",{customerSupport:"https://support.dashlane.com/hc/requests/new?utm_source=extension"},{linkTarget:"_blank"})),(0,A.tZ)(r.dDn,{gridArea:"select"},(0,A.tZ)(Nm.gN,{name:S_,validate:I},(({field:{onChange:e,...t},meta:{error:n,touched:s}})=>(0,A.tZ)(r.PhF,{onChange:t=>{a.setFieldValue(v_,((e,t)=>{if(!e||!t)return"";const a=e.replace(/.+@/,"");if("Microsoft Azure"===t){const[e,t,...n]=a.split(".").reverse(),s=t+N_;return s.length<=42?s:t.slice(0,42-N_.length)+N_}return"AWS"===t?"dashlane-sso."+a:""})(C,t.target.value)),h(x.deploymentLocation!==t.target.value),cm({ssoSetupStep:G.SsoSetupStep.SelectEncryptionServicePlatform,encryptionServicePlatformSelected:"AWS"===t.target.value?G.EncryptionServicePlatformSelected.AmazonWebServices:G.EncryptionServicePlatformSelected.Azure}),e(t)},feedbackId:"deploymentLocationFeedback",selectId:"deploymentLocation",options:Object.keys(y_),placeholder:v("team_settings_encryption_service_select_host"),intent:s&&n?"error":void 0,feedbackText:s&&n?n:void 0,readOnly:a.isSubmitting,...t}))))),r_||(r_=(0,A.tZ)("hr",null)),(0,A.tZ)(r.T5p,{gridTemplateColumns:"auto",gap:"8px"},(0,A.tZ)(r.dDn,{as:r.nvN,innerAs:"label",htmlFor:"endpointInput",sx:{fontWeight:"bold"}},v("team_settings_encryption_service_enter_endpoint_label")),(0,A.tZ)(r.dDn,{as:r.nvN,size:"small",sx:{mb:"16px"}},v(null!=(s=y_[a.values[S_]])?s:"team_settings_encryption_service_enter_endpoint_label_helper_no_selection")),e?(0,A.tZ)(r.nvN,{size:"small"},v("team_settings_encryption_service_current_endpoint_label")," ",M):null,(0,A.tZ)(Nm.gN,{name:v_,validate:w},(({field:{onChange:e,...t},meta:{error:n,touched:s},form:{values:{deploymentLocation:i}}})=>{var o;return(0,A.tZ)(r.oil,{sx:{pl:0},onChange:t=>{h(x.encryptionServiceEndpoint!==t.target.value),e(t)},startAdornment:o_||(o_=(0,A.tZ)(r.nvN,{color:"neutrals.6"},m_)),id:"endpointInput",placeholder:v(null!=(o=h_[i])?o:d_),fullWidth:!0,feedbackText:s&&n?n:void 0,feedbackType:s&&n?"error":void 0,"aria-invalid":s&&!!n,readOnly:a.isSubmitting,...t})}))),l_||(l_=(0,A.tZ)("hr",null)),b?(0,A.tZ)(s_,{sx:{marginBottom:"20px"},context:"ES"}):null,(0,A.tZ)(Nm.gN,{name:b_},(({field:n,meta:s,form:{values:{deploymentLocation:i,ssoConnectorKey:r}}})=>{var o;return(0,A.tZ)(t_,{configRegenRequired:y,disabled:!i||e&&!r,lastGeneratedTimeStamp:t?.lastGeneratedTimeStamp,value:n.value,error:(null!=(o=s.error)?o:!a.isSubmitting&&y)?v("team_settings_encryption_service_config_regen_warning"):void 0,isLoading:m||a.isSubmitting})})),c_||(c_=(0,A.tZ)("hr",null)),(0,A.tZ)(r.T5p,{gridTemplateAreas:"'header button' 'description button'",gap:"8px"},(0,A.tZ)(r.dDn,{gridArea:"header",as:r.nvN,sx:{fontWeight:"bold"}},v("team_settings_encryption_service_go_to_label")),(0,A.tZ)(r.dDn,{gridArea:"description",as:r.nvN,size:"small",sx:{mb:"16px"}},((i=a.values.deploymentLocation)||(i="AWS"),v.markup(g_[i],{setupGuide:p_[i]},{linkTarget:"_blank"}))),(0,A.tZ)(r.dDn,{gridArea:"button",as:r.zxk,type:"button",nature:a.values.config&&!y?"primary":"secondary",disabled:!a.values[S_]||!a.values[b_]||y,onClick:()=>{cm({ssoSetupStep:G.SsoSetupStep.AddConfigurationToServiceHost}),(0,ze.Yo)(__[a.values[S_]])}},v("team_settings_encryption_service_go_to_button"),(0,A.tZ)(r.RTC,{color:a.values.config&&!y?f_:C_,sx:{ml:"4px"}})))),(0,A.tZ)(r.eWM,{flexWrap:"nowrap"},p?(0,A.tZ)(r.j49,{sx:{width:"40%",ml:0,mr:"auto"},color:"errors.5"},p):null,(0,A.tZ)(r.zxk,{nature:"secondary",size:"large",type:"button",onClick:()=>D()},v("team_settings_encryption_service_button_cancel")))))}))};var M_,x_=a(505352);const D_="team_settings_encryption_service_not_available",{dashGreen00:I_,midGreen00:Z_,midGreen03:w_,midGreen04:A_,white:O_}=r.O9T,k_=({config:e})=>{var t;const{translate:a}=(0,l.Z)(),{teamDevice:n,refreshTeamDevice:s,teamDeviceLoading:i}=a_(e.deviceAccessKey),o=a.markup("team_settings_encryption_service_tooltip_text_markup",{updateServiceUrl:"https://support.dashlane.com/hc/en-us/articles/360013149040-Dashlane-SSO-Overview-Deployment-steps"},{linkTarget:"_blank"},{color:O_,hoverColor:A_,activeColor:w_});return(0,A.tZ)(x_.R,null,i?M_||(M_=(0,A.tZ)(r.HoD,{color:I_})):(0,A.tZ)(r.Ejs,{flexDirection:"column",gap:"5px"},(0,A.tZ)(r.nvN,{size:"x-small"},`${a("team_settings_encryption_service_last_restart")}\n                    ${n?.lastStartDateUnix?(0,tn.Z)(n.lastStartDateUnix).toLocaleString(navigator.language,{...ae.qG.lll,timeZoneName:"short"}):a(D_)}`),(0,A.tZ)(r.Ejs,{gap:"8px"},(0,A.tZ)(r.nvN,{size:"x-small"},`\n                   ${a("team_settings_encryption_service_version")}\n                   ${null!=(t=n?.version)?t:a(D_)}\n                  `),!1===n?.hasLatestVersion?(0,A.tZ)(r.ua7,{content:(0,A.tZ)(r.nvN,{size:"x-small",color:"white"},o),hoverCloseDelay:1e3},(0,A.tZ)(T.Ct,{mood:"danger",iconName:"FeedbackWarningOutlined",layout:"iconLeading",label:a("team_settings_encryption_service_new_version")})):null),(0,A.tZ)(r.nvN,{size:"x-small"},(0,A.tZ)(r.rUS,{color:Z_,hoverColor:I_,activeColor:"primaries.5",sx:{textDecoration:"none",fontWeight:"normal"},onClick:()=>s()},(0,A.tZ)(r.DuK,{sx:{display:"inline",marginRight:"5px"},color:Z_,size:12}),a("team_settings_encryption_service_refresh")))))};var L_,z_;const{dashGreen00:j_,grey00:P_}=r.O9T,R_=({esConfig:e,loading:t,parentPath:a,disableSetupButton:n})=>{const{translate:s}=(0,l.Z)(),o=(0,i.k6)(),c=!e&&!t;return(0,A.tZ)(r.Zbd,null,(0,A.tZ)(r.T5p,{as:r.aYP,gridTemplateAreas:"'header button' 'description button' 'status .'",gridTemplateColumns:"1fr auto",gap:"8px",sx:{bg:"white",border:"none"}},(0,A.tZ)(r.dDn,{as:r.nvN,innerAs:"h3",size:"large",bold:!0,gridArea:"header"},e?null:(0,A.tZ)(r.j49,{color:P_,sx:{display:"block"}},s("team_settings_encryption_service_get_started")),s("team_settings_encryption_service_header")),(0,A.tZ)(r.dDn,{gridArea:"description"},(0,A.tZ)(r.nvN,{size:"small",color:P_},s("team_settings_encryption_service_description")),L_||(L_=(0,A.tZ)("br",null)),(0,A.tZ)(r.nvN,{size:"small",as:r.rUS,color:"primaries.7",hoverColor:"primaries.6",activeColor:"primaries.5",href:"https://support.dashlane.com/hc/articles/4404322174482",rel:"noopener noreferrer",target:"_blank"},s("team_settings_encryption_service_more_info_link"))),(0,A.tZ)(r.dDn,{id:"esSetupButton",as:T.zx,disabled:t||n,mood:c?"brand":"neutral",intensity:c?"catchy":"quiet",gridArea:"button",type:"button",alignSelf:"center",size:"large",onClick:()=>{cm({ssoSetupStep:G.SsoSetupStep.SetUpEncryptionServiceSettings}),o.push(`${a}/encryption-service-settings`)}},t?z_||(z_=(0,A.tZ)(r.HoD,{color:j_})):s(e?"team_settings_button_edit_label":"team_settings_encryption_service_set_up")),e?(0,A.tZ)(r.dDn,{gridArea:"status",sx:{mt:"20px"}},(0,A.tZ)(k_,{config:e})):null))};var U_=a(815279),B_=a(590898);const G_=({actions:e,endIcon:t,fieldName:a,feedbackType:n,feedbackText:s,handleAdd:i,...r})=>{const[{value:{name:o},onBlur:l,...c},{error:d},{setValue:u}]=(0,Nm.U$)(a),m=o?null!=s?s:d:void 0,_=(null!=n?n:m)?"error":void 0;return(0,A.tZ)(B_.h,{textInputProps:{id:a,endAdornment:t,feedbackText:m,feedbackType:_,fullWidth:!0,value:o,...c,...r,onChange:({currentTarget:{value:e}})=>{u({name:e})},onKeyPress:e=>{"Enter"===e.key&&(i(),e.preventDefault(),e.stopPropagation())},onBlur:e=>{e.currentTarget.value&&!e.currentTarget.readOnly&&i(),l?.(e)}},tooltipProps:{passThrough:!0},replacementActions:e})};var F_,V_,$_,W_=a(465343),H_=a.n(W_);const{accessibleValidatorGreen:Q_,orange00:Y_,dashGreen02:q_}=r.O9T,K_="team_settings_domain_register_invalid_error",X_=({fieldArrayName:e,domainLoadError:t,refreshDomains:a})=>{const{translate:s}=(0,l.Z)(),{values:i}=(0,Nm.u6)(),[o,c]=(0,n.useState)({}),[d,u]=(0,n.useState)({}),[m,_]=(0,n.useState)(""),[p,g]=(0,n.useState)(null),y=(e,t)=>{c((a=>({...a,[e]:t})))},h=async t=>{const a=t.trim();if(!H_().isFQDN(a))throw new Error(s(K_));if(i[e].reduce(((e,t)=>t.name===a?e+1:e),0)>1)throw new Error(s("team_settings_domain_register_duplicated_error"));(e=>{u((t=>({...t,[e]:!0})))})(t);const n=await H.C.registerTeamDomain({domain:a});var r;if((e=>{u((({[e]:t,...a})=>a))})(t),!n.success)throw new Error(s(null!=(r={INVALID_PUBLIC_DOMAIN:"team_settings_domain_register_public_error",DOMAIN_CONTAINS_EXISTING_NONTEAM_USERS:"team_settings_domain_register_contact_support"}[n.error.code])?r:K_))},b=async e=>{await h(e.name),await a()};return t?(0,A.tZ)(r.Ejs,{fullWidth:!0,justifyContent:"center"},(0,A.tZ)(r.j49,{color:"errors.4"},t)):(0,A.tZ)(n.Fragment,null,(0,A.tZ)(r.nvN,{as:"label",htmlFor:`${e}.${i[e].length-1}`,bold:!0,sx:{display:"inline-block",mb:"8px"}},s("team_settings_domain_title")),(0,A.tZ)(r.nvN,{size:"small",sx:{mb:"24px"}},s("team_settings_es_sso_setup_domain_description")),(0,A.tZ)(Nm.F2,{name:e},(e=>(0,A.tZ)(r.T5p,{justifyContent:"stretch",gridTemplateColumns:"auto",gap:"8px",gridAutoRows:"auto"},i[e.name].map(((t,a)=>{var l,c;const u=d[t.name],m=t.status===rt.DomainStatus.valid,p=t.status===rt.DomainStatus.pending||t.status===rt.DomainStatus.invalid||t.status===rt.DomainStatus.expired,h=u?F_||(F_=(0,A.tZ)(r.HoD,{color:"primaries.5",size:20})):m?V_||(V_=(0,A.tZ)(r.rE2,{color:Q_})):p?(0,A.tZ)(r.enX,{color:t.status===rt.DomainStatus.pending?q_:Y_}):void 0;return(0,A.tZ)(n.Fragment,{key:`${e.name}.${null!=(l=t.id)?l:a}`},(0,A.tZ)(G_,{placeholder:s("team_settings_es_sso_domain_url_placeholder"),fieldName:`${e.name}.${a}`,readOnly:null!=(c=!!t.status)?c:u,autoFocus:a===i[e.name].length-1,endIcon:h,feedbackType:!t.status&&o[t.name]?"error":void 0,feedbackText:t.status?void 0:o[t.name],handleAdd:async()=>{try{await b(t),_(t.name)}catch(e){y(t.name,e.message)}},actions:(0,A.tZ)(n.Fragment,null,[void 0,rt.DomainStatus.pending].includes(t.status)?(0,A.tZ)(r.zxk,{nature:"secondary",type:"button",disabled:u,onClick:()=>(async e=>{try{void 0===e.status&&await b(e),_(e.name)}catch(t){y(e.name,t.message)}})(t)},s(void 0===t.status?"team_settings_es_sso_setup_add_domain":"team_settings_es_sso_setup_verify_button")):null,t.name.length&&void 0!==t.status?(0,A.tZ)(U_.h,{nature:"secondary",type:"button",disabled:u,onClick:()=>g(t),icon:$_||($_=(0,A.tZ)(r.XHJ,null))}):null)}))}))))),m?(0,A.tZ)(ko,{domainName:m,onSuccess:async()=>{_(""),await a()},onDismiss:()=>_("")}):null,p?(0,A.tZ)(co,{domain:p,onDismiss:()=>g(null),onConfirm:async()=>{await(async e=>{if(!e)return;const t=await H.C.deactivateTeamDomain({domain:e});return t.success?void 0:t.error.code})(p.name),await a()}}):null)};var J_;const ep=({inputValue:e,labelText:t,disabled:a,loading:n,id:s})=>(0,A.tZ)(Zo.x,{inputValue:e,textInputProps:{fullWidth:!0,readOnly:!0,disabled:a,id:s,startAdornment:n?J_||(J_=(0,A.tZ)(r.HoD,{color:"primaries.5"})):void 0,label:(0,A.tZ)(r.nvN,{as:"label",bold:!0,sx:{mb:"4px"},htmlFor:s},t)},iconButtonProps:{disabled:a}}),tp=e=>{const t=(0,n.useMemo)((()=>{var t,a;return{draft:null!=(t=e?.draft)&&t,deviceAccessKey:null!=(a=e?.deviceAccessKey)?a:""}}),[e?.draft,e?.deviceAccessKey]),[a,s]=(0,n.useState)(!0),[i,r]=(0,n.useState)(null),[o,l]=(0,n.useState)(null),c=(0,n.useCallback)((async()=>{try{return await H.C.getTeamDeviceEncryptedConfig(t)}catch{return{success:!1,error:{code:Km.UnknownError}}}}),[t]),d=(0,n.useCallback)((async(e=new AbortController)=>{e.signal.aborted||s(!0);const t=await c();return e.signal.aborted||(r(t.success?null:t.error.code),t.success&&l(t.data),s(!1)),t}),[c]),u=(0,n.useCallback)((async e=>{s(!0);try{return await H.C.updateTeamDeviceEncryptedConfig(e)}catch{return{success:!1,error:{code:Km.UnknownError}}}finally{s(!1)}}),[]);return(0,n.useEffect)((()=>{const e=new AbortController;return d(e),()=>{e.abort()}}),[d]),{teamDeviceConfigLoading:a,loadTeamDeviceConfigErrorCode:i,teamDeviceConfig:o,updateTeamDeviceConfig:u,refreshTeamDeviceConfig:d}};var ap,np,sp,ip;const{grey00:rp}=r.O9T,op="team_settings_es_sso_setup_header",lp="team_settings_domain_fetch_error",cp={GENERIC_ERROR:"_common_generic_error"},dp=e=>e?`${e}/saml/callback`:"",up="ssoIdpMetadata",mp=()=>{var e;const{translate:t}=(0,l.Z)(),{teamId:a}=(0,ar.fV)(),{updateTeamDeviceConfig:s}=tp(),[o,c]=(0,n.useState)(!1),[d,u]=(0,n.useState)(!1),[m,_]=(0,n.useState)([]),p=(0,n.useRef)(null),[g,y]=(0,n.useState)(!1),[h,b]=(0,n.useState)(""),{teamSettings:S={},teamSettingsLoading:v}=Sl(a),{ssoIdpMetadata:E,ssoServiceProviderUrl:N=""}=S,f=(0,i.k6)(),C=(0,n.useCallback)((async()=>{try{b("");const e=await H.C.getTeamDomains();if(e.success){const t=e.domains.length?e.domains:[];_([...t,{name:"",id:0}])}else b(t(lp))}catch(a){var e;b(null!=(e=a.message)?e:t(lp))}}),[t]);(0,n.useEffect)((()=>{y(!0),C().then((()=>y(!1)))}),[C]);const M={domains:m,ssoIdpMetadata:null!=(e=null!=E?E:p.current?.value)?e:""},x=()=>f.goBack();return v||g?(0,A.tZ)(r.Zbd,null,(0,A.tZ)(r.Ol2,null,t(op)),ap||(ap=(0,A.tZ)(r.aYP,null,(0,A.tZ)(r.Ejs,{fullWidth:!0,justifyContent:"center"},(0,A.tZ)(r.HoD,{size:60,color:"primaries.5"}))))):(0,A.tZ)(Nm.J9,{onSubmit:async(e,a)=>{try{var n;c(!0),u(!1);const i=await s({ssoEnabled:!0,[up]:e[up],connectorEndpoint:N||void 0,teamDeviceUrl:null!=(n=S.ssoServiceProviderUrl)?n:void 0});if(!i.success){const e=i.error.code.toUpperCase();if("DEACTIVATED_TEAM_DEVICE"===e)return;const n=t(cp[e]?cp[e]:cp.GENERIC_ERROR);return void a.setFieldError(up,n)}if(i.data.encryptionServiceReloadingStatus!==rt.EncryptionServiceRestartStatusCodes.OK)return void u(!0);x()}catch(e){a.setFieldError(up,t(cp.GENERIC_ERROR))}finally{c(!1)}},initialValues:M,enableReinitialize:!0},(({isSubmitting:e,dirty:a})=>{return(0,A.tZ)(Nm.l0,{autoComplete:"off",noValidate:!0},(0,A.tZ)(Jm.X,{dirty:a&&!o&&!d}),(0,A.tZ)(r.Zbd,null,(0,A.tZ)(r.Ol2,null,t(op)),(0,A.tZ)(r.aYP,null,(0,A.tZ)(X_,{fieldArrayName:"domains",domainLoadError:h,refreshDomains:C}),np||(np=(0,A.tZ)("hr",null)),(0,A.tZ)(T.ke,{title:t.markup("team_settings_es_sso_setup_copy_info_to_idp_markup"),sx:{mb:"32px"}}),(0,A.tZ)(r.T5p,{justifyContent:"stretch",gridTemplateColumns:"auto",gap:"32px",gridAutoRows:"auto"},(0,A.tZ)(ep,{id:"entity-id-input",inputValue:(n=N,n?`${n}/saml/`:""),labelText:t("team_settings_es_sso_entity_id_label"),disabled:v||!N,loading:v}),(0,A.tZ)(ep,{id:"acs-url-input",inputValue:dp(N),labelText:t("team_settings_es_sso_acs_url_label"),disabled:v||!N,loading:v})),sp||(sp=(0,A.tZ)("hr",null)),(0,A.tZ)(r.nvN,{as:"label",bold:!0,htmlFor:"sso-metadata-input"},t("team_settings_es_sso_metadata_label")),(0,A.tZ)(r.nvN,{size:"small",color:rp,sx:{mt:"8px",mb:"24px"}},t("team_settings_es_sso_metadata_description")),(0,A.tZ)(Nm.gN,{name:up},(({field:e,meta:{error:t,touched:a}})=>(0,A.tZ)(r.oil,{id:"sso-metadata-input",sx:{height:"10em",resize:"vertical"},...e,ref:p,multiline:!0,fullWidth:!0,feedbackText:a&&t?t:void 0,feedbackType:a&&t?"error":void 0})))),(0,A.tZ)(r.eWM,null,d?(0,A.tZ)(r.Ejs,{sx:{flexGrow:1,justifyContent:"center"}},ip||(ip=(0,A.tZ)(s_,{context:"SSO"}))):null,(0,A.tZ)(r.zxk,{disabled:e,nature:"secondary",size:"large",type:"button",onClick:x},t("team_settings_es_sso_setup_cancel")),(0,A.tZ)(r.zxk,{disabled:e,nature:"primary",type:"submit",size:"large"},t("team_settings_es_sso_setup_save")))));var n}))},{grey00:_p}=r.O9T,pp="team_settings_enable_sso_test_button",gp=({actionsDisabled:e,ssoServiceProviderUrl:t})=>{const{translate:a}=(0,l.Z)(),n=t?`${t}/saml/login?redirect=test_idp`:"";return(0,A.tZ)(r.T5p,{gap:"8px",gridTemplateAreas:"'header buttons' 'description buttons' ",gridTemplateColumns:"1fr auto"},(0,A.tZ)(r.dDn,{as:r.nvN,innerAs:"h3",size:"large",bold:!0,gridArea:"header"},a("team_settings_enable_sso_test_title")),(0,A.tZ)(r.dDn,{gridArea:"description",as:r.nvN,size:"small",color:_p},a("team_settings_enable_sso_test_description")),(0,A.tZ)(r.T5p,{gap:"8px",gridTemplateAreas:"'test copy'",as:r.dDn,gridArea:"buttons"},(0,A.tZ)(r.dDn,{gridArea:"test"},(0,A.tZ)(km.M,{onClick:()=>{(0,ze.Yo)(n)},size:"medium","aria-label":a(pp),disabled:null!=e?e:!n,content:a("team_settings_es_sso_setup_incomplete")},a(pp),(0,A.tZ)(r.RTC,{sx:{ml:"4px"},color:"white"}))),(0,A.tZ)(r.dDn,{gridArea:"copy"},(0,A.tZ)(sd.q,{buttonText:a("team_settings_copy_sso_url_button"),disabled:null!=e?e:!n,copyValue:null!=n?n:""}))))},yp=({closeDialog:e})=>{const{translate:t}=(0,l.Z)();return n.createElement(je.o,{isOpen:!0,onRequestClose:()=>e(yo.dismiss),footer:n.createElement(r.cNS,{primaryButtonTitle:t("team_settings_enable_sso_dialog_disable_action"),primaryButtonOnClick:()=>e(yo.action),secondaryButtonTitle:t("team_settings_enable_sso_cancel"),secondaryButtonOnClick:()=>e(yo.dismiss),intent:"danger"}),title:t("team_settings_enable_sso_dialog_disable_title")},t("team_settings_enable_sso_dialog_disable_description"))};var hp;const{grey00:bp}=r.O9T,Sp=({actionsDisabled:e,ssoEnabled:t,updateTeamSettings:a,loading:s})=>{const{translate:i}=(0,l.Z)(),[o,c]=(0,n.useState)(!1),[d,u]=(0,n.useState)(!1),m=(0,Fa.V)(),_=(0,lt.h)(),p=_.status===Z.rq.Success&&_.data.deployment_web_nitroSSOBeta_chooseSSO,g=()=>{m.showAlert(t?i("_common_generic_error"):i.markup("team_settings_enable_sso_action_toggle_warning_markup",void 0,{linkTarget:"_blank"}),r.BLW.ERROR)},y=async()=>{try{await a({ssoEnabled:!0}),cm({ssoSetupStep:G.SsoSetupStep.CompleteSsoSetup})}catch(e){g()}};return(0,A.tZ)(n.Fragment,null,(0,A.tZ)(r.T5p,{gap:"8px",gridTemplateAreas:"'header buttons' 'description toggle' ",gridTemplateColumns:"1fr auto"},(0,A.tZ)(r.dDn,{as:r.nvN,innerAs:"h3",size:"large",bold:!0,gridArea:"header"},i("team_settings_enable_sso_action_title")),(0,A.tZ)(r.dDn,{gridArea:"description",as:r.nvN,size:"small",color:bp},i("team_settings_enable_sso_action_description"),hp||(hp=(0,A.tZ)("br",null)),i("team_settings_enable_sso_action_description_note")),(0,A.tZ)(r.dDn,{gridArea:"toggle"},(0,A.tZ)(T.ZD,{disabled:e||s,checked:t,onChange:async()=>{t?c(!0):p?(u(!0),cm({ssoSetupStep:G.SsoSetupStep.TurnOnSso})):await y()}}))),o?(0,A.tZ)(yp,{closeDialog:async e=>{if(c(!1),e!==yo.dismiss)try{const e=!t;await a({ssoEnabled:e})}catch(e){g()}}}):null,d?(0,A.tZ)(wm,{title:"Are you sure you want to turn on self-hosted SSO?",body:"You wont be able to switch to Confidential SSO while Self-hosted SSO is in use.",onCancel:()=>{u(!1)},onConfirm:async()=>{await y(),u(!1)}}):null)};var vp;const{grey00:Ep}=r.O9T;var Np;!function(e){e.UNKNOWN="UNKNOWN",e.LOADING="LOADING",e.COMPLETE="COMPLETE",e.INCOMPLETE="INCOMPLETE",e.NOT_STARTED="NOT_STARTED",e.UNAVAILABLE="UNAVAILABLE",e.ERROR="ERROR"}(Np||(Np={}));const fp=({disableSetupButton:e,isSsoCapable:t})=>{const{translate:a}=(0,l.Z)(),{teamId:s}=(0,ar.fV)(),{teamSettings:o={},updateTeamSettings:c,teamSettingsLoading:d}=Sl(s),{ssoEnabled:u=!1,ssoServiceProviderUrl:m="",ssoIdpMetadata:_}=o,[p,g]=(0,n.useState)(Np.UNKNOWN),y=(0,dl.k$)(Yu.enclaveSdkApi,"ssoProvisioning"),h=y.data?.global.isTeamProvisionedInNitro;(0,n.useEffect)((()=>{g(Np.LOADING),H.C.getTeamDomains().then((e=>{if(!e.success)return void g(Np.ERROR);if(!m||h)return void g(Np.UNAVAILABLE);const t=e.domains.some((({status:e})=>"valid"===e)),a=e.domains.length>0,n=!!_;switch(!0){case t&&n:g(Np.COMPLETE);break;case!a&&n||a&&!n||!t&&a&&n:g(Np.INCOMPLETE);break;case!a&&!n:g(Np.NOT_STARTED)}}))}),[_,m]);const b=p===Np.UNAVAILABLE||d||e,{path:S}=(0,i.$B)(),v=(0,i.k6)(),E=[Np.COMPLETE,Np.INCOMPLETE].includes(p);return(0,A.tZ)(r.Zbd,null,(0,A.tZ)(r.T5p,{as:r.aYP,gridTemplateAreas:"'header button' 'description button'",gridTemplateColumns:"1fr auto",gap:"8px",sx:{bg:"white",border:"none"}},(0,A.tZ)(r.dDn,{as:r.nvN,innerAs:"h3",size:"large",bold:!0,gridArea:"header"},a("team_settings_es_sso_setup_header")),(0,A.tZ)(r.dDn,{gridArea:"description",as:r.nvN,size:"small",color:Ep},a("team_settings_es_sso_setup_description")),(0,A.tZ)(r.dDn,{gridArea:"button",alignSelf:"center"},(0,A.tZ)(km.M,{id:"ssoSetupButton",loading:d||p===Np.LOADING,disabled:b,type:"button",size:"large",onClick:()=>{v.push(`${S}/sso-settings`)},content:a("team_settings_es_sso_setup_configure_es_tooltip"),neverShowTooltip:!t,mood:E?"neutral":"brand",intensity:E?"quiet":"catchy"},a(E?"team_settings_button_edit_label":"team_settings_es_sso_setup_button")))),E?(0,A.tZ)(r.aYP,{sx:{bg:"white"}},(0,A.tZ)(gp,{actionsDisabled:p!==Np.COMPLETE,ssoServiceProviderUrl:m}),vp||(vp=(0,A.tZ)("br",null)),(0,A.tZ)(Sp,{actionsDisabled:p!==Np.COMPLETE,ssoEnabled:u,loading:d,updateTeamSettings:c})):null)};var Cp,Tp,Mp;const{dashDarkerGreen00:xp,dashGreen00:Dp,dashGreen06:Ip,grey01:Zp,midGreen00:wp}=r.O9T,Ap=({backRoute:e})=>{const{translate:t}=(0,l.Z)(),{path:a}=(0,i.$B)(),{esConfig:s,esConfigLoading:o,refreshEncryptionServiceConfig:c}=Xm(),{teamId:d}=(0,ar.fV)(),{teamSettings:u,updateTeamSettings:m,teamSettingsLoading:_}=Sl(d),p=(0,z.w)("itadmin_tac_encryptionservice_SSOmigration_reset"),{status:g,data:y}=(0,dl.k$)(Yu.enclaveSdkApi,"ssoProvisioning"),h=(0,z.w)("deployment_web_nitroSSOBeta_chooseSSO");if(g!==dl.rq.Success)return null;const{global:{ssoCapable:b,inferredSsoState:S}}=y,v=S===Yu.InferredSsoState.enum.NitroIncomplete,E=h&&!y?.enableSSO.ssoEnabled,N=S===Yu.InferredSsoState.enum.SsoConnectorIncomplete||S===Yu.InferredSsoState.enum.SsoConnectorComplete,f=p||N;return(0,A.tZ)(r.T5p,{gridTemplateColumns:"auto",gridTemplateRows:"auto 1fr",fullWidth:!0,sx:{height:"100%"}},(0,A.tZ)("div",{sx:{bg:Ip,px:"48px",pt:"32px",pb:"4px"}},(0,A.tZ)(Bs,{title:t("team_settings_es_sso_title")}),E?(0,A.tZ)(r.rUS,{color:wp,hoverColor:Dp,activeColor:xp,onClick:()=>{cm({ssoSetupStep:G.SsoSetupStep.ReturnToSsoSelection}),(0,i.uX)(e)},sx:{fontSize:"16px",display:"flex",textDecoration:"none",marginTop:"-18px"}},(0,A.tZ)(T.JO,{name:"ArrowLeftOutlined",size:"small",color:Dp,sx:{marginRight:"10px"}})," ","Back"):null),(0,A.tZ)(Ku,{mainContent:r.T5p,mainProps:{gridTemplateColumns:"auto",gridAutoRows:"min-content",gap:"32px",children:(0,A.tZ)(n.Fragment,null,(0,A.tZ)(i.rs,null,(0,A.tZ)(i.AW,{exact:!0,path:a},(0,A.tZ)(ym,{pageContext:gm.SelfHosted,onSetupClear:()=>m({ssoServiceProviderUrl:null})}),Cp||(Cp=(0,A.tZ)(s_,null)),f?(0,A.tZ)(T.ke,{title:t("team_settings_es_sso_migration_infobox_title"),description:t("team_settings_es_sso_migration_infobox_body")}):null,(0,A.tZ)(R_,{loading:o||null===b,esConfig:s,parentPath:a,disableSetupButton:!b||v}),(0,A.tZ)(fp,{isSsoCapable:b,disableSetupButton:!b||!s?.config})),(0,A.tZ)(i.AW,{path:`${a}/encryption-service-settings`},o||_?Tp||(Tp=(0,A.tZ)(r.HoD,null)):(0,A.tZ)(T_,{migratingFromSSOConnector:f,onSave:()=>c(),teamSettings:u,updateTeamSettings:m,esConfig:s})),(0,A.tZ)(i.AW,{path:`${a}/sso-settings`},Mp||(Mp=(0,A.tZ)(mp,null)))),(0,A.tZ)(r.nvN,{size:"x-small",color:Zp},"6.2316.1"))},secondaryContent:im,secondaryProps:{description:t("team_settings_es_sso_setup_guide_description"),heading:t("team_settings_es_sso_setup_guide_heading"),linkHref:"https://support.dashlane.com/hc/articles/360013149040",linkText:t("team_settings_es_sso_setup_guide_link_text")}}))},Op=({closeDialog:e})=>{const{translate:t}=(0,l.Z)(),a=t.markup("team_settings_sso_desktop_infobox_warning_markup",{learnMore:ee.rh},{linkTarget:"_blank"});return n.createElement(r.VqE,{closeIconName:t("_common_dialog_dismiss_button"),isOpen:!0,onClose:()=>e(yo.dismiss)},n.createElement("div",{className:"container--m6KmsQvg_3"},n.createElement(r.$N8,{title:t("team_settings_enable_sso_dialog_activate_title")}),n.createElement(r.a7O,null,n.createElement("div",{className:"toggleInfoBox--y5TmWAMYcl"},a&&n.createElement(r.vDh,{severity:"warning",size:"small",title:a}))),n.createElement(r.cNS,{primaryButtonOnClick:()=>e(yo.action),primaryButtonTitle:t("team_settings_enable_sso_dialog_activate_action"),secondaryButtonOnClick:()=>e(yo.dismiss),secondaryButtonTitle:t("team_settings_enable_sso_cancel")})))},kp=({closeDialog:e})=>{const{translate:t}=(0,l.Z)();return n.createElement(je.o,{isOpen:!0,onRequestClose:()=>e(yo.dismiss),footer:n.createElement(r.cNS,{primaryButtonTitle:t("team_settings_enable_sso_dialog_disable_action"),primaryButtonOnClick:()=>e(yo.action),secondaryButtonTitle:t("team_settings_enable_sso_cancel"),secondaryButtonOnClick:()=>e(yo.dismiss),intent:"danger"}),title:t("team_settings_enable_sso_dialog_disable_title")},t("team_settings_enable_sso_dialog_disable_description"))},Lp=({teamSettings:e,updateTeamSettings:t,teamId:a,planTier:s,setStepComplete:i})=>{var o;const[c,d]=(0,n.useState)(null!=(o=e?.ssoEnabled)&&o),[u,m]=(0,n.useState)(!1),[_,p]=(0,n.useState)(!1),[g,y]=(0,n.useState)([]),[h,b]=(0,n.useState)(!1);(0,n.useEffect)((()=>{if(!c)return"legacy"===s||"team"===s?b(!0):void 0;i(po.EnableSSO)}),[a,g,c,s,i]),(0,n.useEffect)((()=>{(async()=>{const e=await H.C.getTeamDomains();e.success&&y(e.domains.filter((e=>"valid"===e.status)).map((e=>e.name)))})()}),[]);const{translate:S}=(0,l.Z)(),v=async e=>{if(p(!1),e!==yo.dismiss)try{const e=!c;await t({ssoEnabled:e}),d(e)}catch(e){m(!0)}};return n.createElement("div",{className:"enableSSOContainer--VLsANoM8AQ"},n.createElement(_o,{label:S("team_settings_enable_sso_test_title"),labelHelper:S("team_settings_enable_sso_test_description")},n.createElement(r.zxk,{type:"button",nature:"primary",onClick:()=>{(0,ze.Yo)(`${e?.ssoServiceProviderUrl}/saml/login?redirect=test_idp`)},disabled:!(e&&e.ssoServiceProviderUrl)},S("team_settings_enable_sso_test_button"))),n.createElement(_o,{label:S("team_settings_enable_sso_action_title"),labelHelper:S("team_settings_enable_sso_action_description")},h?n.createElement(r.zxk,{nature:"primary",onClick:()=>(0,ze.Yo)(ee.Bw),type:"button"},S("team_settings_enable_sso_contact_support")):n.createElement("div",null,n.createElement(r.ZDl,{onClick:()=>p(!0),checked:c,disabled:u}),c?n.createElement("div",{className:"toggleDescription--S3OccP6JDd"},S("team_settings_enable_sso_action_toggle_description")):null,u?n.createElement("div",{className:"toggleWarning--TU8a__FJDp"},S.markup("team_settings_enable_sso_action_toggle_warning_markup")):null)),_?c?n.createElement(kp,{closeDialog:v}):n.createElement(Op,{closeDialog:v}):null)};var zp=a(907709);const jp=({isTeamSettingsLoading:e,teamSettings:t})=>{const{translate:a}=(0,l.Z)(),[s,i]=n.useState(""),[r,o]=n.useState(""),[c,d]=n.useState(""),u=t?.ssoServiceProviderUrl;return n.useEffect((()=>{!e&&u&&(i((0,zp.UQ)(u,"saml")),o((0,zp.UQ)(u,"saml/")),d((0,zp.UQ)(u,"saml/callback")))}),[e,u]),n.createElement("div",{className:"configureIDPContainer--ACoVdM7s0N"},n.createElement(_o,{label:a("team_settings_configure_idp_connector_metadata"),centerLabel:!0},n.createElement(Zo.x,{inputValue:s,textInputProps:{fullWidth:!0,readOnly:!0}})),n.createElement(_o,{label:a("team_settings_configure_idp_entity_id"),centerLabel:!0},n.createElement(Zo.x,{inputValue:r,textInputProps:{fullWidth:!0,readOnly:!0}})),n.createElement(_o,{label:a("team_settings_configure_idp_login_url"),centerLabel:!0},n.createElement(Zo.x,{inputValue:c,textInputProps:{fullWidth:!0,readOnly:!0}})))};var Pp=a(798783),Rp=a.n(Pp);const Up="connectorInfoContainer--e07d9cT8Hu",Bp="textField--Nk7DpcX8Pp",Gp="loading--sfYFOqhXPS",Fp="installerButtonContainer--iP6MNTnQrn",Vp="errorText--snbBoX2meA",$p=({keyValue:e,onGenerateClicked:t,isGeneratorDisabled:a,generatorDisabledText:s})=>{const{translate:i}=(0,l.Z)(),[o,c]=(0,n.useState)(!1),d=(0,n.useRef)(null);return(0,n.useEffect)((()=>{d.current&&new(Rp())(d.current,{text:()=>e})}),[e]),(0,A.tZ)(_o,{label:i("team_settings_connector_generator_title"),labelHelper:i("team_settings_connector_generator_description")},(0,A.tZ)("div",{className:"generatorContainer--_83Buo4tVF"},(0,A.tZ)(r.ua7,{content:s,passThrough:!a,sx:{maxWidth:"210px"}},(0,A.tZ)("div",{className:a?"generatorDisableContent--Olv4UpdAqY":""},(0,A.tZ)(r.zxk,{type:"button","aria-describedby":"errorKeyWarning",className:"generatorButton--I0z2qEK25R",onClick:()=>{c(!0),t()},disabled:a},i("team_settings_connector_generator_button")),(0,A.tZ)("div",{className:"generatorInputContainer--M4lkXUrCCY"},(0,A.tZ)(Zo.x,{inputValue:e,textInputProps:{readOnly:!0,fullWidth:!0,disabled:a,style:{cursor:a?"not-allowed":"text"}},tooltipProps:{passThrough:a},iconButtonProps:{disabled:a}})),o&&(0,A.tZ)("p",{id:"errorKeyWarning",className:Vp},i("team_settings_connector_generator_warning"))))))},Wp="team_settings_connector_installer_tooltip",Hp=({isTeamSettingsLoading:e,isSsoEnabled:t,idpMetadata:a,connectorUrl:s})=>{const{translate:i}=(0,l.Z)(),[o,c]=(0,n.useState)(""),[d,u]=(0,n.useState)("");(0,n.useEffect)((()=>{c("")}),[a,s]);const m=Boolean(a&&s&&(d||t));return(0,A.tZ)(n.Fragment,null,(0,A.tZ)($p,{keyValue:d,onGenerateClicked:async()=>{const e=await H.C.generateSSOConnectorKey();u(e)},isGeneratorDisabled:t,generatorDisabledText:i("team_settings_connector_generator_instance_help")}),(0,A.tZ)(_o,{label:i("team_settings_connector_installer_title"),labelHelper:i("team_settings_connector_installer_description")},(0,A.tZ)("div",{className:e?Gp:Fp},(0,A.tZ)(r.ua7,{content:i(Wp),passThrough:m,sx:{maxWidth:"210px"}},(0,A.tZ)(r.zxk,{type:"button","aria-describedby":"configError",disabled:!m,onClick:async()=>{c("");const e=await H.C.createSSOConnectorConfig({connectorUrl:s,connectorKey:d,idpMetadata:a});e.success?hi()(e.config,"dashlane-sso-config.txt","text/plain"):e.success||c(e.error.code)}},(0,A.tZ)("div",{className:"downloadIcon--dtf6SHkd51"},(0,A.tZ)(r._8t,{color:Ht()["--white"]})),i("team_settings_connector_installer_config_button")),o?(0,A.tZ)("p",{id:"configError",className:Vp},i("team_settings_connector_installer_error")):null))),(0,A.tZ)(_o,{label:i("team_settings_connector_installer_setup_title"),labelHelper:i("team_settings_connector_installer_setup_description")},(0,A.tZ)("div",{className:e?Gp:Fp},(0,A.tZ)(r.ua7,{content:i(Wp),passThrough:m,sx:{maxWidth:"210px"}},(0,A.tZ)(r.zxk,{type:"button",disabled:!m,onClick:()=>(0,ze.Yo)(ee.nC)},(0,A.tZ)("div",{className:"openIcon--Jft6n3KJTS"},(0,A.tZ)(r.RTC,{color:Ht()["--white"]})),i("team_settings_connector_installer_button"))))))},Qp="team_settings_connector_edit",Yp="team_settings_connector_save",qp="team_settings_connector_saving",Kp="team_settings_connector_success",Xp=({isTeamSettingsLoading:e,saveConnectorURL:t,saveIdpMetadata:a,teamSettings:s})=>{var i,r;const{translate:o}=(0,l.Z)();return n.createElement(n.Fragment,null,n.createElement(_o,{label:o("team_settings_connector_metadata_title")},n.createElement("div",{className:Up},n.createElement(pa.X,{isDisabled:e,multiLine:!0,defaultValue:null!=(i=s?.ssoIdpMetadata)?i:"",saveBtnLabel:o(Yp),savingBtnLabel:o(qp),editBtnLabel:o(Qp),placeholder:o("team_settings_connector_metadata_placeholder"),successMessage:o(Kp),onSave:a,inputFieldClassName:"inputField--SXqAbTX3lX",textFieldClassName:Bp}))),n.createElement(_o,{label:o("team_settings_connector_url_title"),labelHelper:o("team_settings_connector_url_description")},n.createElement("div",{className:Up},n.createElement(pa.X,{isDisabled:e,defaultValue:null!=(r=s?.ssoServiceProviderUrl)?r:"",saveBtnLabel:o(Yp),savingBtnLabel:o(qp),editBtnLabel:o(Qp),placeholder:o("team_settings_connector_url_placeholder"),successMessage:o(Kp),onSave:t,textFieldClassName:Bp}))))},Jp=({setStepComplete:e,isTeamSettingsLoading:t=!1,teamSettings:a,updateTeamSettings:s})=>{var i,r,o;const{translate:c}=(0,l.Z)(),d=n.useCallback((async e=>{try{await s({ssoIdpMetadata:e})}catch(e){throw Error(c("team_settings_connector_metadata_error"))}}),[s,c]),u=n.useCallback((async e=>{try{const t=e?(0,zp.Yw)(e):null;await s({ssoServiceProviderUrl:t})}catch(e){throw Error(c("team_settings_connector_url_error"))}}),[s,c]),m=a?.ssoServiceProviderUrl,_=a?.ssoIdpMetadata;return n.useEffect((()=>{t||_&&m&&e(po.SSOConnector)}),[t,m,_,e]),n.createElement("div",{className:"ssoConnectorContainer--ndf4jAvwn0"},n.createElement(Xp,{isTeamSettingsLoading:t,teamSettings:a,saveConnectorURL:u,saveIdpMetadata:d}),n.createElement(Hp,{isTeamSettingsLoading:t,isSsoEnabled:null!=(i=a?.ssoEnabled)&&i,idpMetadata:null!=(r=a?.ssoIdpMetadata)?r:"",connectorUrl:null!=(o=a?.ssoServiceProviderUrl)?o:""}))},eg=({lee:e})=>{const{translate:t}=(0,l.Z)(),[a,s]=(0,n.useState)(new Set),[i,o]=(0,n.useState)(new Set),[c,d]=(0,n.useState)(new Set([go.EnableSSO,go.SSOConnector]));(0,n.useEffect)((()=>{(0,q.N)(G.PageView.TacSettingsSsoLegacy)}),[]),(0,n.useEffect)((()=>{const e=new Set,t=new Set([go.EnableSSO,go.ConfigureIDP,go.SSOConnector]);a.has(po.ClaimDomain)&&a.has(po.VerifyDomain)&&(e.add(go.SSOConnector),e.add(go.ConfigureIDP),e.add(go.EnableSSO),t.delete(go.SSOConnector),t.delete(go.ConfigureIDP),t.delete(go.EnableSSO)),a.has(po.EnableSSO)&&(e.delete(go.SSOConnector),e.delete(go.ConfigureIDP)),o(e),d(t)}),[a]);const u=(0,n.useCallback)((e=>{s((t=>{const a=e=>e.every((e=>t.has(e)));let n=!0;switch(e){case po.EnableSSO|po.VerifyDomain:n=!0;break;case po.SSOConnector:n=a([po.ClaimDomain,po.VerifyDomain]);break;case po.EnableSSO:n=a([po.ClaimDomain,po.VerifyDomain,po.SSOConnector])}return n&&!t.has(e)?new Set([...t,e]):t}))}),[]),m=(0,n.useCallback)((e=>{s((t=>{const a=new Set(t);return e.forEach((e=>{a.delete(e)})),a}))}),[]),_=(0,Ie.ev)(e.globalState),{teamSettingsLoading:p,teamSettings:g,updateTeamSettings:y,planTier:h}=Sl(_),b=[{label:t("team_settings_sso_connector_title"),component:Jp,locked:c.has(go.SSOConnector),open:i.has(go.SSOConnector),index:2},{label:t("team_settings_sso_identity_provider_title"),component:jp,locked:c.has(go.ConfigureIDP),open:i.has(go.ConfigureIDP),index:3},{label:t("team_settings_sso_enable_title"),component:Lp,locked:c.has(go.EnableSSO),open:i.has(go.EnableSSO),index:4}];return n.createElement(hu,{secondaryContent:p?n.createElement(Ln.Z,{containerClassName:"loadingContainer--Qcn7EL4GD5",size:40}):n.createElement(r.UQy,{size:"large"},b.map((e=>n.createElement(r.UlM,{open:e.open,key:e.label,readOnly:e.locked},n.createElement(r._Oh,null,`${e.index}. ${e.label}`),n.createElement(r.rN7,null,n.createElement("fieldset",{disabled:e.locked},n.createElement(e.component,{isTeamSettingsLoading:p,teamSettings:g,setStepComplete:u,updateTeamSettings:y,teamId:null!=_?_:null,planTier:null!=h?h:null}))))))),title:t("team_settings_menu_title_single_sign_on")},(()=>{if(!g||g.ssoEnabled)return null;if("team"===h||"legacy"===h){const e=t.markup("team_settings_sso_teamplan_infobox_warning_markup"),a=t("team_settings_sso_teamplan_infobox_warning_button");return n.createElement("div",{className:"infoBox--w1PtJInNuc"},n.createElement(r.vDh,{title:e,size:"simple",secondaryLabel:a,secondary:()=>(0,ze.Yo)(ee.Bw)}))}return null})(),n.createElement("p",{className:yu.settingsHeader},t("team_settings_sso_title")),n.createElement(_o,{label:t("team_settings_sso_guide_title"),labelHelper:t("team_settings_sso_guide_description")},n.createElement(va.Z,{label:t("team_settings_sso_setup_button"),onClick:()=>{(0,ze.Yo)(ee.nC)}})),n.createElement(fo,{isTeamSettingsLoading:p,teamSettings:g,setStepComplete:u,uncompleteSteps:m,updateTeamSettings:y,teamId:_,planTier:h}))};var tg;const ag={NONE:0,IDP_APPLICATION:1,IDP_METADATA:2,DOMAIN_NAME:3,DOMAIN_VERIFICATION:4,TEST_SSO:5,ENABLE_SSO:6},ng=Object.keys(ag).length-1,sg=(e,t,a)=>`step ${t} of ${a}`,ig=({nitroStateStatus:e,nitroState:t})=>{if(e!==dl.rq.Success||!t)return null;const a=(e=>{if(!e.global.isTeamProvisionedInNitro)return ag.NONE;if(e.enableSSO.ssoEnabled)return ag.ENABLE_SSO;const t=e.domainSetup[0]?.domainName;return e.domainVerificationInfo[t]?.verificationStatus===Yu.DomainVerificationStatus.enum?.valid?ag.DOMAIN_VERIFICATION:t?ag.DOMAIN_NAME:e.idpMetadata.metadataValue?ag.IDP_METADATA:e.global.isTeamProvisionedInNitro?ag.IDP_APPLICATION:ag.NONE})(t);return 0===a?tg||(tg=(0,T.tZ)(T.Ct,{label:"new",mood:"brand",intensity:"quiet"})):(0,T.tZ)(T.Ct,{label:sg`${a}${ng}`,mood:"neutral",intensity:"quiet"})};var rg,og,lg;let cg;!function(e){e.Pro="pro",e.Con="con",e.Soon="soon"}(cg||(cg={}));const dg=({title:e,badge:t,infoList:a,ctaText:n,ctaMuted:s,ctaAction:i,ctaDisabled:o})=>(0,T.tZ)(r.T5p,{as:Xu,backgroundColor:"ds.background.default",paddingSize:"tight",gridTemplateRows:"auto 1fr auto"},(0,T.tZ)(r.T5p,{gridTemplateColumns:"1fr auto",alignItems:"center",gap:"8px",sx:{mb:"8px"}},(0,T.tZ)(r.nvN,{bold:!0,size:"medium"},e),t),(0,T.tZ)("ul",null,a.map(((e,t)=>{var a,n;return(0,T.tZ)(r.T5p,{as:"li",key:null!=(a=e.text)?a:t,gridTemplateColumns:"auto 1fr",gap:"8px",sx:{mb:"24px","&:last-of-type":{mb:"38px"}}},(e=>{switch(e){case cg.Pro:return rg||(rg=(0,T.tZ)(T.JO,{name:"CheckmarkOutlined",color:"ds.text.positive.standard"}));case cg.Con:return og||(og=(0,T.tZ)(T.JO,{name:"ActionCloseOutlined",color:"ds.text.warning.standard"}));case cg.Soon:return lg||(lg=(0,T.tZ)(r.vFK,{color:"ds.text.warning.standard"}));default:throw new Error("Unexpected branch")}})(e.type),(0,T.tZ)("div",null,(0,T.tZ)(r.nvN,{color:"ds.text.neutral.standard",size:"medium"},e.text),e.subtext?(0,T.tZ)(r.nvN,{color:"ds.text.neutral.standard",size:"x-small",sx:null!=(n=e.variation?.subtext)?n:{}},e.subtext):null))}))),(0,T.tZ)(T.zx,{disabled:o,size:"small",intensity:s?"quiet":"catchy",mood:"brand",sx:{justifySelf:"start"},onClick:i},n)),ug={TITLE:"Self-hosted SSO",CTA:"Set up self-hosted SSO",CONTINUE_CTA:"Continue setup",INFO_LIST:[{text:"Zero-knowledge security architecture",type:cg.Pro},{text:"Simplified set-up",subtext:"Youll need to host and manage the encryption service yourself",type:cg.Con},{text:"Verify multiple domains",type:cg.Pro},{text:"Supports SCIM directory sync",type:cg.Pro}]},mg={TITLE:"Confidential SSO",CTA:"Set up Confidential SSO",CONTINUE_CTA:"Continue setup",INFO_LIST:[{text:"Zero-knowledge security architecture",type:cg.Pro},{text:"Simplified set-up",subtext:"The secure encryption service is hosted on the cloud for you",type:cg.Pro},{text:"Supports 1 domain",subtext:"Multiple domains coming soon",type:cg.Pro,variation:{subtext:{fontStyle:"italic"}}},{text:"Supports SCIM directory sync",subtext:"Coming soon",type:cg.Soon,variation:{subtext:{fontStyle:"italic"}}}]},_g=[{heading:"What is an encryption service?",description:"To maintain a zero-knowledge architecture when integrated with SSO or SCIM provisioning, Dashlane requires an additional layer of security we refer to as an encryption service.",linkText:"Learn more",linkHref:"https://support.dashlane.com/hc/articles/360013149040#encryption?utm_source=extension"},{heading:"What do I need to start?",listIntro:"To set up SSO, youll need",list:["Access to your identity provider (IdP) and public DNS provider accounts","A list of members to add to your SSO application","IdP metadata","Email domain"],linkText:"Learn more",linkHref:"https://support.dashlane.com/hc/articles/360013149040?utm_source=extension"}],pg=({listIntro:e,list:t})=>(0,T.tZ)("div",null,(0,T.tZ)(r.nvN,{color:"ds.text.neutral.standard",size:"small"},e),(0,T.tZ)("ul",{sx:{listStyleType:"disc",mt:"8px",mb:"24px",ml:"24px"}},t.map(((e,t)=>(0,T.tZ)(r.nvN,{as:"li",size:"small",key:null!=e?e:t},e))))),gg=e=>(0,T.tZ)(r.Ejs,{gap:"32px",flexDirection:"column",...e},_g.map((({heading:e,description:t,listIntro:a,list:n,linkText:s,linkHref:i})=>{const r=a&&n?(0,T.tZ)(pg,{listIntro:a,list:n}):t;return(0,T.tZ)(im,{backgroundColor:"ds.background.default",key:e,heading:e,description:r,linkText:s,linkHref:i})}))),yg=()=>{const{path:e}=(0,i.$B)(),{teamInfo:t}=(0,ve.G)(),a=(0,dl.k$)(Yu.enclaveSdkApi,"ssoProvisioning");if(a.status!==dl.rq.Success)return null;const{inferredSsoState:n,ssoCapable:s}=a.data.global,o=!s||n===Yu.InferredSsoState.enum.Unknown;return(0,T.tZ)(r.T5p,{gap:"32px",alignContent:"start"},(0,T.tZ)(ym,{pageContext:gm.ChooseSso}),(0,T.tZ)(r.T5p,{gap:"32px",gridTemplateColumns:"1fr 1fr"},(0,T.tZ)(dg,{title:ug.TITLE,infoList:ug.INFO_LIST,ctaText:n===Yu.InferredSsoState.enum.SelfHostedIncomplete?ug.CONTINUE_CTA:ug.CTA,ctaAction:()=>{cm({currentBillingPlanTier:t?.planTier||"business",ssoSetupStep:G.SsoSetupStep.ChooseYourSsoSolution}),(0,i.uX)(`${e}${Ng.SELF_HOSTED_SSO}`)},ctaMuted:n===Yu.InferredSsoState.enum.NitroIncomplete,ctaDisabled:o||n===Yu.InferredSsoState.enum.NitroComplete}),(0,T.tZ)(dg,{title:mg.TITLE,badge:(0,T.tZ)(ig,{nitroStateStatus:a.status,nitroState:a.data}),infoList:mg.INFO_LIST,ctaText:n===Yu.InferredSsoState.enum.NitroIncomplete?mg.CONTINUE_CTA:mg.CTA,ctaAction:()=>{dm({currentBillingPlanTier:t?.planTier||"business",ssoSetupStep:G.SsoSetupStep.ChooseYourSsoSolution}),(0,i.uX)(`${e}${Ng.CONFIDENTIAL_SSO}`)},ctaMuted:n===Yu.InferredSsoState.enum.SelfHostedIncomplete,ctaDisabled:o||n===Yu.InferredSsoState.enum.SelfHostedComplete})))},hg=()=>(0,T.tZ)(r.T5p,{gridTemplateColumns:"auto",gridTemplateRows:"auto 1fr",alignItems:"start",fullWidth:!0},(0,T.tZ)("div",{sx:{px:"48px",pt:"32px",pb:"4px"}},(0,T.tZ)(Bs,{title:"Choose your single sign-on (SSO) configuration"})),(0,T.tZ)(Ku,{mainContent:yg,secondaryContent:gg,sx:{bg:"ds.container.agnostic.neutral.quiet",pt:"0px"}}));var bg,Sg,vg,Eg;const Ng={SSO_CONNECTOR:"/sso-connector",SELF_HOSTED_SSO:"/self-hosted-sso",CONFIDENTIAL_SSO:"/confidential-sso"},fg=()=>(0,A.tZ)(r.Ejs,{alignItems:"center",justifyContent:"center",fullWidth:!0,sx:{mt:"20vh"}},bg||(bg=(0,A.tZ)(r.HoD,{size:75,color:"ds.border.brand.standard.idle"}))),Cg=()=>(0,A.tZ)(r.Ejs,{alignItems:"center",justifyContent:"center",fullWidth:!0,sx:{mt:"20vh"}},(0,A.tZ)(r.nvN,null,"Error loading SSO Provisioning information."));var Tg,Mg,xg=a(992750),Dg=a(553965);const Ig="_common_generic_error",{grey06:Zg,midGreen00:wg,white:Ag,accessibleValidatorRed:Og}=r.O9T,kg={color:Og},Lg=({lee:e,teamSettings:t,teamSettingsLoading:a,updateTeamSettings:s,disableForm:i,isNitroSSOInUse:o,adSyncEnabled:c})=>{const{translate:d}=(0,l.Z)(),{reportTACError:u}=Fe(),{lastADSyncDateError:m,lastADSyncDateLoading:_,lastADSyncDate:p}=function(){const[e,t]=(0,n.useState)(!1),[a,s]=(0,n.useState)(),[i,r]=(0,n.useState)(null),o=(0,n.useCallback)((async e=>{try{e.signal.aborted||t(!0);const a=await(0,Je.H)();e.signal.aborted||(s(a),t(!1),r(null))}catch(a){e.signal.aborted||(t(!1),r(a))}}),[]);return(0,n.useEffect)((()=>{const e=new AbortController;return o(e),()=>{e.abort()}}),[o]),{lastADSyncDateLoading:e,lastADSyncDate:a,lastADSyncDateError:i}}(),g=d.shortDate,[y,h]=(0,n.useState)(!0),[b,S]=(0,n.useState)(!1),[v,E]=(0,n.useState)(!1),[N,f]=(0,n.useState)(!1),[C,M]=(0,n.useState)(!1),{inviteLinkDataForAdmin:x,getInviteLinkDataForAdmin:D}=(0,hc.h)(),[I,Z]=(0,n.useState)(!1),{teamId:w}=(0,ar.fV)(),O=(0,n.useCallback)((()=>e.apiMiddleware.teamPlans?e.apiMiddleware.teamPlans:(u(new Error("teamPlans service missing from apiMiddleware")),null)),[]);(0,n.useEffect)((()=>{D()}),[D]),(0,n.useEffect)((()=>{a||(async()=>{let a=t.activeDirectoryToken,n=t.activeDirectorySyncStatus;if(!a){const e=await O();if(!e)return;const{activeDirectorySyncStatus:t,activeDirectoryToken:s}=e.getADToken();a=s,n=t}const{activeDirectorySyncType:s}=t;try{const t=e.globalState.carbon.accountFeatures.list,i={activeDirectorySyncStatus:n,activeDirectorySyncType:s,activeDirectoryToken:a,teamId:w,directorySyncFeatureFlipped:"teamAdminConsoleDirectorySync"in t};e.dispatch(xg.vo(i)),E(["full","deprovision-only"].includes(null!=s?s:"")),M(["full","provision-only"].includes(null!=s?s:"")),h(!1)}catch(e){console.error(`ActiveDirectorySettings - fetchData: failed with error: ${e}`)}})()}),[g,a]);const k=(e,t)=>e?t?"full":"provision-only":t?"deprovision-only":null,L=i?{size:"medium",title:d("team_settings_active_directory_scim_warning_heading"),description:d("team_settings_active_directory_scim_warning_description")}:o?{size:"large",title:"Confidential SSO does not currently support SCIM provisioning",description:"Until Confidential SSO supports SCIM, you can provision plan members by setting up Active Directory sync. You can also manually enter emails or upload a CSV or TXT file on the Users page.",actions:[(0,A.tZ)(r.rUS,{key:"learn-more",href:"https://support.dashlane.com/hc/sections/360004143940-Single-sign-on-SSO-?utm_source=extension",target:"_blank"},(0,A.tZ)(T.zx,null,"Learn more"))]}:null,j=(0,ee.cI)(x?.teamKey),P=(0,z.w)("onboarding_web_teamsignuppage");return(0,A.tZ)(n.Fragment,null,P?(0,A.tZ)(id,{isOpen:I,setIsOpen:Z}):null,(0,A.tZ)(r.T5p,{sx:{backgroundColor:"ds.container.agnostic.neutral.quiet"},gap:"10px",gridTemplateAreas:"'mainContent secondaryContent'",gridTemplateColumns:"auto 1fr",alignContent:"flex-start"},(0,A.tZ)(r.dDn,{gridArea:"mainContent"},(0,A.tZ)(hu,null,L?(0,A.tZ)("div",{className:yu.settingsRow},(0,A.tZ)("div",{sx:"large"===L.size?{}:{paddingRight:"40px",maxWidth:"50%"}},(0,A.tZ)(T.ke,{mood:"neutral",...L}))):null,(0,A.tZ)("p",{style:{marginTop:i?"32px":void 0},className:yu.settingsHeader},d("team_settings_active_directory_title_help")),(0,A.tZ)(_o,{label:d("team_settings_active_directory_header_label"),labelHelper:d("team_settings_active_directory_header_helper")},(0,A.tZ)("div",null,(0,A.tZ)(va.Z,{label:d("team_settings_active_directory_header_button_label"),onClick:()=>{window.open("https://support.dashlane.com/hc/articles/115002155485","_blank")}}))),(0,A.tZ)("p",{className:yu.settingsHeader},d("team_settings_active_directory_title_status")),(0,A.tZ)(_o,{label:d("team_settings_active_directory_last_successful_sync_date_label")},_?Tg||(Tg=(0,A.tZ)(r.HoD,{color:wg,size:"20px"})):m?`${d("_common_generic_error")} ${m.message.toLowerCase()}`:p?.lastSuccessfulSyncRequestForTeamUnix?g((0,tn.Z)(p.lastSuccessfulSyncRequestForTeamUnix),ae._T.lll):d("team_settings_active_directory_last_successful_sync_date_value_never")),(()=>{const{activeDirectorySyncStatus:t}=e.state;return t?.failedSyncCount?(0,A.tZ)(n.Fragment,null,(0,A.tZ)(_o,{label:d("team_settings_active_directory_last_error_message_label")},(0,A.tZ)("span",{sx:kg},t.lastFailedSync?.error)),(0,A.tZ)(_o,{label:d("team_settings_active_directory_last_error_date_label")},(0,A.tZ)("span",{sx:kg},t?.lastFailedSync?g((0,tn.Z)(t.lastFailedSync.eventDateUnix),ae._T.lll):null)),(0,A.tZ)(_o,{label:d("team_settings_active_directory_fail_count_label")},(0,A.tZ)("span",{sx:kg},e.state.activeDirectorySyncStatus.failedSyncCount))):null})(),(0,A.tZ)("p",{className:yu.settingsHeader},d("team_settings_active_directory_title_setup")),(0,A.tZ)(_o,{label:d("team_settings_active_directory_automated_provisioning_label"),labelHelper:d("team_settings_active_directory_automated_provisioning_helper")},(0,A.tZ)(bu.Z,{genericErrorMessage:d(Ig),isDisabled:y||N||i,saveValueFunction:async()=>{if(N)return Promise.resolve();f(!0);const t=!C,a=k(t,v);try{await s({activeDirectorySyncType:a}),e.dispatch(xg.dV(a)),M(t),f(!1)}catch(e){u(e)}},value:Sn.Maybe.maybe(C)})),(0,A.tZ)(_o,{label:d("team_settings_active_directory_automated_deprovisioning_label"),labelHelper:d("team_settings_active_directory_automated_deprovisioning_helper")},(0,A.tZ)(bu.Z,{genericErrorMessage:d(Ig),isDisabled:y||b||i,saveValueFunction:async()=>{if(b)return Promise.resolve();S(!0);const t=!v,a=k(C,t);try{await s({activeDirectorySyncType:a}),e.dispatch(xg.dV(a)),E(t),S(!1)}catch(e){u(e)}},value:Sn.Maybe.maybe(v)})),(0,A.tZ)(_o,{label:d("team_settings_active_directory_cron_script_label"),labelHelper:d("team_settings_active_directory_cron_script_helper")},(0,A.tZ)(rc.n,{defaultValue:e.state.activeDirectoryScript,isDisabled:!0,multiLine:!0,style:{backgroundColor:Zg,fontSize:"12px",height:"180px",width:"300px"}}),(0,A.tZ)("div",null,(0,A.tZ)(Gl.Z,{label:e.state.isCopied?d("team_settings_active_directory_button_copy_feedback"):d("team_settings_active_directory_button_copy_label"),onClick:()=>(navigator.clipboard.writeText(e.state.activeDirectoryScript).then((()=>{e.dispatch(xg.Kk(!0)),window.setTimeout((()=>e.dispatch(xg.Kk(!1))),700)})),void(0,q.N)(G.PageView.TacSettingsDirectorySyncActiveDirectory))}))))),P&&c?(0,A.tZ)(r.dDn,{gridArea:"secondaryContent",sx:{maxWidth:"500px",minWidth:"250px"},alignSelf:"flex-start"},(0,A.tZ)(im,{backgroundColor:Ag,heading:d("team_settings_encryption_service_scim_invite_link_heading"),description:(0,A.tZ)("div",null,(0,A.tZ)(r.nvN,{size:"small",sx:{mb:"8px"}},d("team_settings_encryption_service_scim_invite_link_description_first")),(0,A.tZ)(r.rUS,{color:"ds.background.container.primary",hoverColor:"ds.background.container.hover",activeColor:"ds.background.container.active",onClick:e=>{e.preventDefault(),navigator.clipboard.writeText(j),Z(!0)},sx:{fontSize:"16px"}},(0,A.tZ)(r.Ejs,{gap:"4px"},(0,A.tZ)("span",null,d("team_settings_encryption_service_scim_invite_link_copy")),Mg||(Mg=(0,A.tZ)(T.JO,{color:"ds.background.container.primary",name:"ActionCopyOutlined",size:"medium"})))))})):null))},zg=a(465343);function jg(e,t){const a=[];return a.push({type:"header",label:t("team_settings_header_setup_guide")},{type:"textwithbutton",analyticsKey:"helpSetupSAML",label:t("team_settings_what_is_saml"),buttonLabel:t("team_settings_learn_more_about_saml"),helperLabel:t("team_settings_what_is_saml_helper"),onClick:()=>{window.open("https://support.dashlane.com/hc/articles/212111089","_blank")}}),a.push({type:"header",label:t("team_settings_header_general")},{type:"text",label:t("team_settings_idp_url"),helperLabel:t("team_settings_idp_url_helper"),feature:"idpUrl",hintText:t("team_settings_idp_url_placeholder"),serverFeature:"idp_url",value:e.state.idpUrl,validator:e=>0===e.length?null:zg.isURL(e,{protocols:["https"],require_protocol:!0})?e.length>255?"idp_url_exceeds_char_limit":null:"invalid_idp_url",getErrorMessageForKey:e=>{switch(e){case"invalid_idp_url":return t("team_settings_idp_url_save_error_msg_invalid_url");case"idp_url_exceeds_char_limit":return t("team_settings_idp_url_save_error_msg_exceeds_char_limit",{lengthLimit:255});default:return t("team_settings_idp_url_save_error_msg_generic_error")}}},{type:"text",label:t("team_settings_idp_certificate"),helperLabel:t("team_settings_idp_certificate_helper"),feature:"idpCertificate",hintText:t("team_settings_idp_certificate_placeholder"),serverFeature:"idp_certificate",value:e.state.idpCertificate,multiLine:!0,inputStyle:{fontSize:12,lineHeight:1.4,minHeight:120},hintStyle:{whiteSpace:"initial"},serializer:e=>e.split("\n").join("\n"),validator:e=>{if(e.length>1e4)return"idp_certificate_exceeds_char_limit";const t=e.split("\n"),a=t.length;return a<3?"idp_certificate_invalid":t[0].includes("BEGIN CERTIFICATE")&&t[a-1].includes("END CERTIFICATE")?t.slice(1,a-1).find((e=>!zg.isBase64(e)))?"idp_certificate_invalid":null:"idp_certificate_invalid"},getErrorMessageForKey:e=>{switch(e){case"idp_certificate_exceeds_char_limit":return t("team_settings_idp_certificate_save_error_msg_exceeds_char_limit",{lengthLimit:1e4});case"idp_certificate_invalid":return t("team_settings_idp_certificate_save_error_msg_invalid_certificate");default:return t("team_settings_idp_certificate_save_error_msg_generic_error")}}},{type:"text",label:t("team_settings_idp_security_groups"),value:e.state.idpSecurityGroups,serializer:e=>(e.length?e.split(";"):[]).filter((e=>!!e.length)).map((e=>e.trim())),deserializer:e=>e.map((e=>e.join(";"))),feature:"idpSecurityGroups",serverFeature:"idp_security_group",hintText:t("team_settings_idp_security_groups_placeholder"),validator:e=>{try{e.forEach((e=>{if(!/^[^<>#,+"\\]+$/.test(e))throw new Error("incorrect_security_group")}))}catch(e){return"invalid_security_group"}return null},getErrorMessageForKey:e=>"invalid_security_group"===e?t("team_settings_idp_security_groups_save_error_msg_invalid_certificate",{forbiddenCharacters:'# , + " \\ < >'}):t("team_settings_idp_security_groups_save_error_msg_generic_error")}),a}const Pg=({lee:e})=>n.createElement(Gu,{lee:e.child(Du.ZP),createFieldListFunction:jg,pageView:G.PageView.TacSettingsDirectorySyncSamlProvisioning}),Rg="SCIM provisioning is not currently supported by Confidential SSO",Ug="If you plan to set up both SCIM and single sign-on (SSO), you'll need to use the self-hosted option. Both SCIM and self-hosted SSO require the encryption service you configure and host yourself on AWS or Azure.",Bg="Learn more",Gg=({isScimEnabled:e,isSCIMCapable:t,onSetupClear:a})=>{const{routes:s}=(0,i.Xo)(),o=(0,st.B)(),{translate:c}=(0,l.Z)(),d=(0,z.w)("deployment_web_nitroSSOBeta_chooseSSO"),[u,m]=(0,n.useState)(!1),{teamId:_}=(0,ar.fV)(),{clearSettings:p,initSsoProvisioning:g}=(0,dl.u7)(Yu.enclaveSdkApi),{data:y,status:h}=(0,dl.k$)(Yu.enclaveSdkApi,"ssoProvisioning");if(h!==dl.rq.Success)return null;const{global:{inferredSsoState:b}}=y;if(b===Yu.InferredSsoState.enum.NitroComplete)throw new Error("Invalid state: cannot access SCIM if the team is using Confidential SSO until the enclave supports SCIM.");if(!1===t)return(0,T.tZ)(T.ke,{mood:"neutral",size:"large",title:(0,T.tZ)("strong",null,c("team_settings_es_scim_plan_missing_header")),description:c.markup("team_settings_es_scim_plan_missing_upgrade_to_business_markup"),actions:o?.premiumStatus?[(0,Me.wt)(o.premiumStatus)?(0,T.tZ)(r.rUS,{key:"business-buy",href:`${ee.ub}?plan=business&subCode=${o.subscriptionCode}`,target:"_blank"},(0,T.tZ)(T.zx,null,c("team_account_teamplan_plan_buy_dashlane"))):(0,T.tZ)(i.rU,{key:"upgrade",to:`${s.teamAccountChangePlanRoutePath}?plan=business`},(0,T.tZ)(T.zx,null,c("team_settings_es_scim_plan_missing_upgrade")))]:[]});if(b===Yu.InferredSsoState.enum.NitroIncomplete){const e=async()=>{await p(),await g({teamId:`${_}`}),await(a?.())};return(0,T.tZ)(n.Fragment,null,u?(0,T.tZ)(um,{onClose:()=>m(!1),onConfirm:e,titleText:"Are you sure?",bodyText:"This action cant be undone."}):null,(0,T.tZ)(T.ke,{mood:"neutral",size:"large",title:"To use SCIM, clear Confidential SSO setup",description:(0,T.tZ)(pm,{markdownValue:"If you want to use SCIM, select **Clear setup** to erase your progress in Dashlane. Make sure to also delete your progress in your IdP."}),actions:[(0,T.tZ)(T.zx,{key:"clear",onClick:()=>m(!0)},"Clear setup")]}))}return d&&b!==Yu.InferredSsoState.enum.SelfHostedComplete&&!1===e?(0,T.tZ)(T.ke,{mood:"neutral",size:"large",title:Rg,description:Ug,actions:[(0,T.tZ)(r.rUS,{key:"learn-more",href:ee.B7,target:"_blank"},(0,T.tZ)(T.zx,{onClick:()=>{}},Bg))]}):null};var Fg;const{dashGreen00:Vg,midGreen00:$g}=r.O9T,Wg=({lastSyncUnix:e,version:t,loading:a,refreshData:n})=>{const{translate:s}=(0,l.Z)();return(0,A.tZ)(x_.R,null,a?Fg||(Fg=(0,A.tZ)(r.HoD,{color:Vg})):(0,A.tZ)(r.Ejs,{flexDirection:"column",gap:"5px"},(0,A.tZ)(r.k$b,{as:r.nvN,size:"x-small"},`${s("team_settings_directory_sync_last_sync")} ${e?(0,tn.Z)(e).toLocaleString(navigator.language,{...ae.qG.lll,timeZoneName:"short"}):s("team_settings_directory_sync_not_available")}`),(0,A.tZ)(r.k$b,{as:r.nvN,size:"x-small"},`\n                   ${s("team_settings_encryption_service_version")}\n                   ${null!=t?t:s("team_settings_encryption_service_not_available")}\n                  `),(0,A.tZ)(r.k$b,{as:r.nvN,size:"x-small"},(0,A.tZ)(r.rUS,{color:$g,hoverColor:Vg,activeColor:"primaries.5",sx:{textDecoration:"none",fontWeight:"normal"},onClick:()=>n()},(0,A.tZ)(r.DuK,{sx:{display:"inline",marginRight:"5px"},color:$g,size:12}),s("team_settings_scim_sync_refresh")))))},{grey00:Hg}=r.O9T,Qg=({loading:e,parentPath:t,teamSettings:a,esConfig:n,isScimCapable:s,disableSetupButton:o})=>{const c=(0,i.k6)(),{translate:d}=(0,l.Z)(),{teamDeviceConfigLoading:u,teamDeviceConfig:m}=tp({draft:!1,deviceAccessKey:n?.deviceAccessKey}),{teamDeviceLoading:_,teamDevice:p,refreshTeamDevice:g}=a_(n?.deviceAccessKey),y=e||u,h=!a?.ssoServiceProviderUrl||y||o||!s,b=!m?.configProperties?.scimAuthToken;return(0,A.tZ)(r.Zbd,null,(0,A.tZ)(r.T5p,{as:r.aYP,gap:"8px",gridTemplateAreas:"'header button' 'description button' 'status status'",gridTemplateColumns:"1fr auto",sx:{bg:"white",border:"none"}},(0,A.tZ)(r.dDn,{as:r.nvN,innerAs:"h3",size:"large",bold:!0,gridArea:"header"},d("team_settings_directory_sync_scim_header")),(0,A.tZ)(r.dDn,{gridArea:"description",as:r.nvN,size:"small",color:Hg},d("team_settings_directory_sync_scim_description")),(0,A.tZ)(r.dDn,{gridArea:"button"},(0,A.tZ)(km.M,{id:"scimSetupButton",loading:y,disabled:h,neverShowTooltip:o,size:"large",onClick:()=>{c.push(`${t}${my}`)},content:d("team_settings_es_sso_setup_configure_es_tooltip"),mood:b&&!h?"brand":"neutral",intensity:b&&!h?"catchy":"quiet"},d(b?"team_settings_directory_sync_scim_set_up_button":"team_settings_button_edit_label"))),m?.configProperties?.scimEnabled?(0,A.tZ)(r.dDn,{gridArea:"status",sx:{mt:"20px"}},(0,A.tZ)(Wg,{loading:_,version:p?.version,refreshData:g,lastSyncUnix:p?.lastActivityDateUnix})):null))};var Yg,qg,Kg,Xg=a(769183);const Jg={GENERIC_ERROR:"_common_generic_error"},{grey00:ey,dashGreen00:ty}=r.O9T,ay=({config:e,esEndpoint:t})=>{var a;const{translate:s}=(0,l.Z)(),o=(0,i.k6)(),{teamDeviceConfigLoading:c,teamDeviceConfig:d,updateTeamDeviceConfig:u,refreshTeamDeviceConfig:m,loadTeamDeviceConfigErrorCode:_}=tp({draft:!1,deviceAccessKey:e?.deviceAccessKey}),p=(0,lt.h)(),g=p.status===Z.rq.Success&&p.data.deployment_web_nitroSSOBeta_chooseSSO,[y,h]=(0,n.useState)(""),[b,S]=(0,n.useState)(!1),[v,E]=(0,n.useState)(!1),[N,f]=(0,n.useState)(!1),[C,M]=(0,n.useState)(!1),x=c;(0,n.useEffect)((()=>{const e=_;e&&e!==Km.TeamDeviceEncryptedConfigNotFound&&h(e)}),[_,s]);const D=()=>o.goBack(),I=async({values:e,resetForm:a})=>{E(!0),S(!1);const n={scimEnabled:e.encryptionServiceSync,teamDeviceUrl:null!=t?t:void 0};!N&&d?.configProperties?.scimAuthToken||(n.scimAuthToken=e.scimToken);const s=await u(n);f(!1),await m(),E(!1),s.success?s.data.encryptionServiceReloadingStatus===rt.EncryptionServiceRestartStatusCodes.OK?(a({values:e}),D()):S(!0):h(s.error.code)},w={scimToken:(O=d?.configProperties?.scimAuthToken,null!=(k=O?.replace(/./g,"*"))?k:""),scimEndpoint:t?(0,zp.UQ)(t,"scim/2.0"):"",encryptionServiceSync:null!=(a=d?.configProperties?.scimEnabled)&&a};var O,k;const L=()=>{M(!1)};return(0,A.tZ)(Nm.J9,{onSubmit:async(e,t)=>{g&&e.encryptionServiceSync?M(!0):await I({values:e,resetForm:t.resetForm})},enableReinitialize:!0,initialValues:w},(({values:e,setFieldValue:t,isSubmitting:a,dirty:n,resetForm:i})=>{var o,l;return(0,A.tZ)(Nm.l0,{autoComplete:"off",noValidate:!0},(0,A.tZ)(Jm.X,{dirty:n&&!v&&!b}),(0,A.tZ)(r.Zbd,null,(0,A.tZ)(r.Ol2,null,s("team_settings_directory_sync_scim_header")),(0,A.tZ)(r.aYP,null,(0,A.tZ)(r.vDh,{severity:"subtle",title:s("team_settings_directory_sync_scim_infobox")}),(0,A.tZ)(r.T5p,{gridTemplateAreas:"'header button' 'desc button' 'inputField inputField'",gap:"8px",sx:{mt:"32px"}},(0,A.tZ)(r.dDn,{gridArea:"header",as:r.nvN,innerAs:"label",htmlFor:"scimTokenInput",bold:!0},s("team_settings_directory_sync_scim_set_up_token_label")),(0,A.tZ)(r.dDn,{as:r.zxk,gridArea:"button",type:"button",alignSelf:"right",size:"medium",nature:"secondary",disabled:x||a,onClick:()=>(e=>{f(!0),e("scimToken",(0,Xg.Z)())})(t)},e.scimToken?s("team_settings_directory_sync_scim_set_up_reset_buttons"):s("team_settings_directory_sync_scim_set_up_generate_buttons")),(0,A.tZ)(r.dDn,{gridArea:"desc",as:r.nvN,size:"medium",sx:{marginBottom:"24px"},color:ey},s("team_settings_directory_sync_scim_set_up_token_description")),(0,A.tZ)(r.dDn,{gridArea:"inputField"},(0,A.tZ)(Nm.gN,{name:"scimToken"},(({field:t})=>t.value?(0,A.tZ)(Zo.x,{inputValue:t.value,iconButtonProps:{disabled:Boolean(e.scimToken)&&!N||a},passwordInputProps:{disabled:Boolean(e.scimToken)&&!N||a,fullWidth:!0,readOnly:!0,...t,id:"scimTokenInput"}}):null)))),(0,A.tZ)(r.T5p,{gridTemplateColumns:"auto",gap:"8px"},(0,A.tZ)(r.dDn,{as:r.nvN,innerAs:"label",htmlFor:"endpointInput",bold:!0,sx:{marginTop:"32px"}},s("team_settings_directory_sync_scim_set_up_endpoint_label")),(0,A.tZ)(Nm.gN,{name:"scimEndpoint"},(({field:e})=>(0,A.tZ)(Zo.x,{inputValue:e.value,textInputProps:{fullWidth:!0,readOnly:!0,...e,id:"endpointInput"}})))),Yg||(Yg=(0,A.tZ)("hr",null)),(0,A.tZ)(r.T5p,{gridTemplateAreas:"'label toggle' 'desc .'",gap:"8px"},(0,A.tZ)(r.dDn,{gridArea:"label",as:r.nvN,innerAs:"label",htmlFor:"encryptionServiceSync",bold:!0},s("team_settings_directory_sync_scim_set_up_service_label")),(0,A.tZ)(r.dDn,{gridArea:"desc",as:r.nvN,size:"medium",color:ey},s("team_settings_directory_sync_scim_set_up_service_description")),(0,A.tZ)(r.dDn,{gridArea:"toggle"},c?qg||(qg=(0,A.tZ)(r.HoD,{color:ty})):(0,A.tZ)(T.ZD,{disabled:x||a,id:"encryptionServiceSync",onChange:e=>((e,t)=>{t("encryptionServiceSync",e.currentTarget.checked)})(e,t),defaultChecked:null!=(o=d?.configProperties?.scimEnabled)&&o})))),(0,A.tZ)(r.eWM,null,y?(0,A.tZ)(r.j49,{sx:{width:"40%",ml:0,mr:"auto"},color:"errors.5"},s(null!=(l=Jg?.[y])?l:Jg.GENERIC_ERROR)):null,b?(0,A.tZ)(r.Ejs,{sx:{flexGrow:1,justifyContent:"center"}},Kg||(Kg=(0,A.tZ)(s_,{context:"SCIM"}))):null,(0,A.tZ)(r.zxk,{nature:"secondary",size:"large",type:"button",onClick:D},s("team_settings_directory_sync_scim_set_up_button_cancel")),(0,A.tZ)(r.zxk,{size:"large",type:"submit",disabled:x||a||!n},s("team_settings_directory_sync_scim_set_up_button_save_changes")))),C?(0,A.tZ)(wm,{title:"Are you sure you want to turn on SCIM?",body:"You wont be able to switch to Confidential SSO while a self-hosted encryption service is in use.",onCancel:L,onConfirm:()=>(async({values:e,resetForm:t})=>{await I({values:e,resetForm:t}),M(!1)})({values:e,resetForm:i})}):null)}))};var ny;const{dashDarkerGreen00:sy,dashGreen00:iy,midGreen00:ry}=r.O9T,oy=e=>{const{translate:t}=(0,l.Z)(),a=(0,z.w)("onboarding_web_teamsignuppage"),{getInviteLinkDataForAdmin:s}=(0,hc.h)(),[i,o]=(0,n.useState)(!1),[c,d]=(0,n.useState)(!1);return(0,A.tZ)(r.Ejs,{gap:"6",...e},a?(0,A.tZ)(id,{isOpen:i,setIsOpen:o}):null,a&&c?(0,A.tZ)(nd,{setShowActivateInviteLinkModal:d,setShowInviteLinkModal:o}):null,(0,A.tZ)(im,{heading:t("team_settings_encryption_service_scim_setup_guide_heading"),description:t("team_settings_encryption_service_scim_setup_guide_description"),linkHref:"https://support.dashlane.com/hc/articles/4404301553938?utm_source=extension",linkText:t("team_settings_encryption_service_scim_setup_guide_link_text")}),a&&e.isScimEnabled?(0,A.tZ)(im,{heading:t("team_settings_encryption_service_scim_invite_link_heading"),description:(0,A.tZ)("div",null,(0,A.tZ)(r.nvN,{size:"small",sx:{mb:"8px"}},t("team_settings_encryption_service_scim_invite_link_description_first")),(0,A.tZ)(r.rUS,{color:ry,hoverColor:iy,activeColor:sy,onClick:async e=>{e.preventDefault();const t=await s();t?.disabled||!t?.teamKey?d(!0):o(!0)},sx:{fontSize:"16px"}},(0,A.tZ)(r.Ejs,{gap:"4px"},(0,A.tZ)("span",null,t("team_settings_encryption_service_scim_invite_link_copy")),ny||(ny=(0,A.tZ)(T.JO,{name:"ActionCopyOutlined",size:"medium",color:ry})))))}):null)};var ly,cy;const{grey01:dy}=r.O9T,uy="/encryption-service-settings",my="/scim-settings",_y=({isScimEnabled:e,isScimCapable:t,teamSettings:a,updateTeamSettings:s,disableForm:o=!1,adSyncEnabled:c,ssoConnectorSetup:d})=>{const{translate:u}=(0,l.Z)(),{path:m}=(0,i.$B)(),{esConfig:_,esConfigLoading:p,refreshEncryptionServiceConfig:g}=Xm(),y=(0,z.w)("itadmin_tac_encryptionservice_SSOmigration_reset"),h=Boolean(y||!p&&d);return(0,n.useEffect)((()=>{(0,q.N)(G.PageView.TacSettingsDirectorySyncScimProvisioning)}),[]),(0,A.tZ)(Ku,{mainContent:r.T5p,mainProps:{gridTemplateColumns:"auto",gridAutoRows:"min-content",gap:"32px",children:(0,A.tZ)(n.Fragment,null,(0,A.tZ)(i.rs,null,(0,A.tZ)(i.AW,{exact:!0,path:m},ly||(ly=(0,A.tZ)(s_,null)),(0,A.tZ)(Gg,{isScimEnabled:e,isSCIMCapable:t,onSetupClear:()=>s({ssoServiceProviderUrl:null})}),c?(0,A.tZ)(T.ke,{size:"medium",mood:"neutral",title:u("team_settings_encryption_service_scim_setup_ad_sync_warning_heading"),description:u("team_settings_encryption_service_scim_setup_ad_sync_warning_description")}):null,h?(0,A.tZ)(T.ke,{size:"medium",mood:"brand",title:u("team_settings_es_sso_migration_infobox_title"),description:(0,A.tZ)(r.nvN,null,u("team_settings_es_sso_migration_infobox_body"))}):null,(0,A.tZ)(R_,{parentPath:m,loading:p||null===t,esConfig:_,disableSetupButton:!1===t||o}),(0,A.tZ)(Qg,{teamSettings:a,parentPath:m,loading:p||null===t,esConfig:_,isScimCapable:!0===t,disableSetupButton:o})),(0,A.tZ)(i.AW,{path:`${m}${uy}`},p?cy||(cy=(0,A.tZ)(r.HoD,null)):(0,A.tZ)(T_,{migratingFromSSOConnector:h,onSave:()=>g(),teamSettings:a,updateTeamSettings:s,esConfig:_})),(0,A.tZ)(i.AW,{path:`${m}${my}`},(0,A.tZ)(ay,{config:_,esEndpoint:a?.ssoServiceProviderUrl}))),(0,A.tZ)(r.nvN,{size:"x-small",color:dy},"6.2316.1"))},secondaryContent:oy,additionalProps:{isScimEnabled:e}})},{dashGreen06:py}=r.O9T,gy="/scim-provisioning",yy="/active-directory",hy="/saml",by=xi((e=>n.createElement(Gu,{lee:e.lee.child(Du.ZP),createFieldListFunction:Hu,title:"team_settings_menu_title_policies",pageView:G.PageView.TacSettingsPolicies})),ot.POLICIES),Sy=xi((()=>{var e;const{path:t}=(0,i.$B)(),{translate:a}=(0,l.Z)(),s=(0,z.w)("itadmin_tac_encryptionservice_public_v2"),{esConfig:o,esConfigLoading:c}=Xm(),{teamDeviceConfig:d}=tp({draft:!1,deviceAccessKey:o?.deviceAccessKey}),{teamId:u}=(0,ar.fV)(),{teamSettings:m={},teamSettingsLoading:_,updateTeamSettings:p,teamCapabilities:g}=Sl(u),{initSsoProvisioning:y}=(0,dl.u7)(Yu.enclaveSdkApi),{data:h,status:b}=(0,dl.k$)(Yu.enclaveSdkApi,"ssoProvisioning");(0,n.useEffect)((()=>{h&&h.global.inferredSsoState===Yu.InferredSsoState.enum.Unknown&&u&&y({teamId:`${u}`})}),[y,h,u]);const S=!_&&m.activeDirectorySyncType,v=d?.configProperties.scimEnabled,E=h?.global.inferredSsoState===Yu.InferredSsoState.enum.NitroComplete,N=v&&!S,f=h?.global.inferredSsoState===Yu.InferredSsoState.enum.NitroIncomplete||S&&!v,C=_||c||b===dl.rq.Loading,T=[Yu.InferredSsoState.enum.SsoConnectorComplete,Yu.InferredSsoState.enum.SsoConnectorIncomplete],M=h?.global.inferredSsoState&&T.includes(h?.global.inferredSsoState),x=s&&!M,D=(0,z.w)("itadmin_tac_jitprovisioning"),I={isDisabled:E,id:Ps.TAB_SCIM,label:a("team_settings_tab_scim_provisioning"),url:`${t}${gy}`,subPaths:[uy,my]},Z={id:Ps.TAB_ACTIVE_DIRECTORY,label:a("team_settings_tab_active_directory"),url:`${t}${yy}`},w={id:Ps.TAB_AUTHENTICATION,label:a(x?"team_settings_tab_saml_legacy":"team_settings_tab_authentication"),url:`${t}${hy}`},O=[...x?[I]:[],Z,...D?[w]:[]],k=`${t}${v||x&&!S&&!E?gy:yy}`;return(0,A.tZ)(r.T5p,{gridTemplateColumns:"auto",gridTemplateRows:"auto 1fr",fullWidth:!0,sx:{height:"100%"}},C?null:(0,A.tZ)(n.Fragment,null,(0,A.tZ)("div",{sx:{bg:py,px:"48px",pt:"32px",pb:"4px"}},(0,A.tZ)(Bs,{title:a("team_settings_tab_title_directory_sync"),tabs:O})),(0,A.tZ)(i.rs,null,(0,A.tZ)(i.l_,{exact:!0,from:`${t}/`,to:k}),(0,A.tZ)(i.Vy,{path:`${t}${gy}`,component:_y,additionalProps:{isScimEnabled:null!=v?v:null,isScimCapable:null!=(e=g?.scim.enabled)?e:null,teamSettings:m,updateTeamSettings:p,disableForm:f,adSyncEnabled:S,ssoConnectorSetup:M}}),(0,A.tZ)(i.Vy,{path:`${t}${yy}`,component:Lg,additionalProps:{teamSettingsLoading:_,teamSettings:m,updateTeamSettings:p,disableForm:N,isNitroSSOInUse:E,adSyncEnabled:S},reducer:xg.ZP}),(0,A.tZ)(i.Vy,{path:`${t}${hy}`,component:Pg,reducer:Dg.Z}))))}),ot.DIRECTORY_SYNC),vy=xi((e=>{const{translate:t}=(0,l.Z)(),{reportTACError:a}=Fe(),s=n.useRef(null),[i,r]=n.useState(!0),[o,c]=n.useState(!1),[d,u]=n.useState(!1),[m,_]=n.useState(!1),[p,g]=n.useState(!1),[y,h]=n.useState(!1),[b,S]=n.useState(!1),[v,E]=n.useState(!1),[N,f]=n.useState(null),[C,T]=n.useState(!1),[M,x]=n.useState(null),D=e.lee.apiMiddleware.teamPlans?e.lee.apiMiddleware.teamPlans:(a(new Error("teamPlans service not set in apiMiddleware")),null),I=e.lee.apiMiddleware.strongAuth?e.lee.apiMiddleware.strongAuth:(a(new Error("strongAuth service not set in apiMiddleware")),null);return n.useEffect((()=>{(async()=>{try{const{teamInfo:{duo:t,duoIntegrationKey:a,duoSecretKey:n,duoApiHostname:s}}=await(0,Je.I)();e.lee.dispatch(gu.k0({duo:t,duoIntegrationKey:a,duoSecretKey:n,duoApiHostname:s})),r(!1)}catch(e){console.error(`DuoSettings: fetchData failed with error: ${e}`)}})()}),[]),n.createElement(hu,{title:t(Eu)},n.createElement("p",{className:yu.settingsHeader},t(Eu)),n.createElement(_o,{label:t("team_settings_duo_enable_label"),labelHelper:t("team_settings_duo_enable_helper")},n.createElement(bu.Z,{genericErrorMessage:t("_common_generic_error"),isDisabled:i||o,saveValueFunction:()=>{const t=!e.lee.state.hasDuo;return c(!0),e.lee.dispatch(gu.FC(t)),D?.setSettings({duo:t}).then((()=>c(!1))).catch((()=>{}))},value:Sn.Maybe.maybe(e.lee.state.hasDuo)})),n.createElement("p",{className:yu.settingsHeader},t("team_settings_duo_header_setup")),n.createElement(_o,{label:t("team_settings_duo_integration_key_label"),labelHelper:t("team_settings_duo_integration_key_helper")},n.createElement(rc.n,{containerStyle:{width:"300px"},inputStyle:{minHeight:42},defaultValue:e.lee.state.duoIntegrationKey,isDisabled:d,onBlur:t=>{if(d)return;const a=t.target.value;e.lee.dispatch(gu.a2(a)),u(!0),_(!1),D&&D.setSettings({duoIntegrationKey:a}).then((()=>{u(!1)})).catch((()=>{}))},onFocus:()=>_(!0),placeholder:t("team_settings_duo_integration_key_hint")}),m||d?n.createElement("div",null,n.createElement(Gl.Z,{label:t("team_settings_duo_integration_key_button"),loading:d})):null),n.createElement(_o,{label:t("team_settings_duo_secret_key_label"),labelHelper:t("team_settings_duo_secret_key_helper")},n.createElement(rc.n,{containerStyle:{width:"300px"},inputStyle:{minHeight:42},defaultValue:e.lee.state.duoSecretKey,isDisabled:p,onBlur:(t=>{if(p)return;const a=t.target.value;e.lee.dispatch(gu.E4(a)),g(!0),h(!1),D&&D.setSettings({duoSecretKey:a}).then((()=>{g(!1)})).catch((()=>{}))}).bind(void 0),onFocus:()=>h(!0),placeholder:t("team_settings_duo_secret_key_hint")}),y||p?n.createElement("div",null,n.createElement(Gl.Z,{label:t("team_settings_duo_secret_key_button"),loading:p})):null),n.createElement(_o,{label:t("team_settings_duo_api_host_label"),labelHelper:t("team_settings_duo_api_host_helper")},n.createElement(rc.n,{containerStyle:{width:"300px"},inputStyle:{minHeight:42},defaultValue:e.lee.state.duoApiHostname,isDisabled:b,onBlur:(t=>{if(b)return;const a=t.target.value;e.lee.dispatch(gu.qf(a)),S(!0),E(!1),D&&D.setSettings({duoApiHostname:a}).then((()=>{S(!1)})).catch((()=>{}))}).bind(void 0),onFocus:()=>E(!0),placeholder:t("team_settings_duo_api_host_hint")}),v||b?n.createElement("div",null,n.createElement(Gl.Z,{label:t("team_settings_duo_api_host_button"),loading:b})):null),n.createElement("p",{className:yu.settingsHeader},t("team_settings_duo_header_directory")),n.createElement(_o,{label:t("team_settings_duo_upload_csv_label"),labelHelper:n.createElement("ol",{className:vu.uploadCsvLabel},n.createElement("li",null,t("team_settings_duo_upload_csv_helper_step_one")),n.createElement("li",null,t("team_settings_duo_upload_csv_helper_step_two")),n.createElement("li",null,t("team_settings_duo_upload_csv_helper_step_three")))},n.createElement("div",{className:vu.fileContainer},n.createElement("div",{className:vu.file},n.createElement("span",{className:vu.fileIcon}),n.createElement("div",{className:vu.fileTitle},M?[n.createElement("div",{key:"header",className:vu.fileTitleHeader},M),n.createElement("div",{key:"progress",className:vu.fileProgressBackground},n.createElement("div",{className:C?vu.fileProgressComplete:vu.fileProgress})),n.createElement("p",{key:"hint",className:[vu.fileTitleHint,C&&N?vu.fileTitleHintError:vu.fileTitleHintSuccess].join(" ")},t(C?N?"team_settings_duo_upload_csv_feedback_error":"team_settings_duo_upload_csv_feedback_success":"team_settings_duo_upload_csv_feedback_progress"))]:[n.createElement("div",{key:"header",className:vu.fileTitleHeader},"duo_usernames.csv")])),n.createElement("div",{className:vu.fileButtons},n.createElement("input",{type:"file",id:"file",accept:"text/csv, text/plain, .csv",ref:s,style:{display:"none"},onChange:(()=>{var e;M&&x(null);const t=null!=(e=s.current?.files?.[0])?e:{name:""};x(t.name),I&&I.uploadDuoCsv(t).then((()=>{T(!0),setTimeout((()=>x(null)),2e3)})).catch((e=>{f(e.code.toLowerCase()),T(!0)}))}).bind(void 0)}),n.createElement(va.Z,{label:t("team_settings_duo_upload_csv_button_upload"),onClick:(()=>{s.current?.click()}).bind(void 0)}),n.createElement(Su,{data:{login:e.lee.globalState.user.session.login,uki:e.lee.globalState.user.session.uki},label:t("team_settings_duo_upload_csv_button_download"),style:{marginLeft:"16px"},targetUri:"https://ws1.dashlane.com/3/strongauth/exportDuoUsernames"})),N?n.createElement("div",{className:vu.fileError},n.createElement("div",{className:vu.fileErrorTitle},n.createElement("span",{className:vu.fileErrorTitleIcon},"!"),t("team_settings_duo_upload_csv_error_title")),n.createElement("p",{className:vu.fileErrorContent},t(`team_settings_duo_upload_csv_error_${N}`))):null)))}),ot.DUO),Ey=xi((e=>{const[t,a]=(0,n.useState)(!1),[i,o]=(0,n.useState)(!1),[c,d]=(0,n.useState)(!1),[u,m]=(0,n.useState)(!1),[_,p]=(0,n.useState)(""),[g,y]=(0,n.useState)(!1),{translate:h}=(0,l.Z)(),{reportTACError:b}=Fe(),[S,v]=(0,n.useState)(!1);(0,n.useEffect)((()=>{(0,q.N)(G.PageView.TacSettingsAccountRecovery),(async()=>{if(a(!0),(0,_a.v0)(e.lee.globalState))try{const{teamInfo:{recoveryEnabled:t}}=await(0,Je.I)();e.lee.dispatch(fu.x({recoveryEnabled:t}));const a=await(async()=>{const t=(0,_a.v0)(e.lee.globalState);if(t&&t.teamId){const e=await(0,Va.mP)({teamId:t.teamId});return Boolean(e.length)}return b(new Error(da.N)),!1})();m(a)}catch(e){console.error(e)}finally{a(!1)}else b(new Error(da.N))})()}),[]);const E=async()=>{const t=!e.lee.state.recoveryEnabled;a(!0);const n=(0,Ie.ev)(e.lee.globalState);if(n)try{await(0,Va.jy)({teamId:n,settings:{recoveryEnabled:t}}),e.lee.dispatch(fu.Zn(t)),v(!0),a(!1)}catch(e){a(!1)}else b(new Error(da.N))},N=async()=>{d((e=>!e))},f=async()=>{o(!0);const e=await(0,Va.RR)({masterPassword:_});o(!1),e?(await Promise.all([N(),E()]),p(""),y(!1)):y(!0)},C=u&&e.lee.state.recoveryEnabled;return(0,A.tZ)(hu,{title:h("team_settings_menu_title_account_recovery")},(0,A.tZ)("div",null,(0,A.tZ)("div",{sx:{position:"relative"}},(0,A.tZ)(r.nvN,{size:"large",as:"h3",sx:{fontWeight:600,marginBottom:"8px",color:"ds.text.neutral.catchy"}},h("team_settings_master_password_policies_settings_recover_label")),(0,A.tZ)(r.nvN,{sx:{fontSize:14,marginBottom:"40px",paddingRight:"80px"}},h("team_settings_master_password_policies_settings_recover_label_helper")),(0,A.tZ)(T.ZD,{sx:{position:"absolute",top:0,right:0},disabled:t||C,checked:e.lee.state.recoveryEnabled,onChange:N})),(0,A.tZ)(r.nvN,{size:"large",as:"h3",sx:{fontWeight:600,marginBottom:"24px",color:"ds.text.neutral.catchy"}},h("team_settings_master_password_policies_settings_how_it_works_label")),Mu||(Mu=(0,A.tZ)(Tu,null)),(0,A.tZ)(r.nvN,{sx:{fontSize:14,lineHeight:"20px",marginBottom:"4px",color:"ds.text.neutral.quiet"}},h("team_settings_master_password_policies_settings_how_it_works_label_helper")),(0,A.tZ)(r.rUS,{sx:{fontSize:14,fontWeight:500,lineHeight:"20px",display:"flex",alignItems:"center",gap:"4px",color:"ds.text.brand.standard"},href:s.rI},(0,A.tZ)(r.Ejs,{as:"span"},h("team_settings_master_password_policies_settings_how_it_works_label_helper_link_text")),xu||(xu=(0,A.tZ)(T.JO,{name:"ActionOpenExternalLinkOutlined",size:"small",color:"ds.text.brand.standard"})))),(0,A.tZ)(Nu.Z,{isOpen:c,title:e.lee.state.recoveryEnabled?h("team_settings_master_password_policies_dialog_title_disable"):h("team_settings_master_password_policies_dialog_title_enable"),labelDismiss:h("team_settings_master_password_policies_dialog_cta_cancel_label"),labelConfirm:e.lee.state.recoveryEnabled?h("team_settings_master_password_policies_dialog_cta_confirm_label_disable"):h("team_settings_master_password_policies_dialog_cta_confirm_label_enable"),onDismiss:()=>{p(""),y(!1),d(!1)},onConfirm:()=>f(),ctaIsDisabled:i||!_,onChange:e=>{p(e.target.value),y(!1)},isMasterPasswordInvalid:g,onKeyDown:e=>{(async e=>{13===e.keyCode&&_&&await f()})(e)}},e.lee.state.recoveryEnabled&&(0,A.tZ)("div",null,(0,A.tZ)("p",{className:yu.confirmationContent},h.markup("team_settings_master_password_policies_confirmation_dialog_disable_label_markup")),(0,A.tZ)("p",{className:yu.confirmationContent},h("team_settings_master_password_policies_confirmation_dialog_disable_sublabel"))),!e.lee.state.recoveryEnabled&&(0,A.tZ)("div",null,(0,A.tZ)("p",{className:yu.confirmationContent},h.markup("team_settings_master_password_policies_confirmation_dialog_enable_label_markup",{},{linkTarget:"_blank"})),(0,A.tZ)("p",{className:yu.confirmationContent},h("team_settings_master_password_policies_confirmation_dialog_enable_sublabel")))),S?(0,A.tZ)(r.YcA,null,(0,A.tZ)(r.bZj,{actionText:"Undo",closeIconName:"Close alert",onAction:()=>{E()},onClose:()=>v(!1),severity:r.BLW.SUBTLE,size:r.k3y.SMALL},e.lee.state.recoveryEnabled?h("team_settings_master_password_policies_dialog_alert_label_available"):h("team_settings_master_password_policies_dialog_alert_label_unavailable"))):null)}),ot.ACCOUNT_RECOVERY),Ny=xi((({lee:e})=>{var t;const a=(0,i.$B)(),s=(0,lt.h)(),{teamId:r}=(0,ar.fV)(),[o,l]=(0,n.useState)(!1),[c,d]=(0,n.useState)(!1),{initSsoProvisioning:u}=(0,dl.u7)(Yu.enclaveSdkApi),{esConfig:m,esConfigLoading:_}=Xm(),{teamDeviceConfig:p,teamDeviceConfigLoading:g}=tp({draft:!1,deviceAccessKey:m?.deviceAccessKey}),y=(0,n.useCallback)((async e=>{if(e)try{const t=await u({teamId:`${e}`});(0,qu.hx)(t)&&d(!0)}catch{d(!0)}finally{l(!0)}}),[u]);(0,n.useEffect)((()=>{y(r)}),[y,r]);const h=(0,dl.k$)(Yu.enclaveSdkApi,"ssoProvisioning"),{inferredSsoState:b}=null!=(t=h.data?.global)?t:{inferredSsoState:Yu.InferredSsoState.enum.Unknown};if(c||s.status===Z.rq.Error)return Sg||(Sg=(0,A.tZ)(Cg,null));if(!o||s.status===Z.rq.Loading||_||g)return vg||(vg=(0,A.tZ)(fg,null));const{deployment_web_nitroSSOBeta_chooseSSO:S=!1,deployment_web_nitroSSOBeta:v=!1,itadmin_tac_encryptionservice_public_v2:E=!1}=s.data,N=(({hasChoiceFF:e,hasNitroFF:t,hasEsFF:a},n,s,i)=>{const r=`${n.path}${Ng.SELF_HOSTED_SSO}`,o=`${n.path}${Ng.CONFIDENTIAL_SSO}`,l=`${n.path}${Ng.SSO_CONNECTOR}`;return i?r:s===Yu.InferredSsoState.enum.NitroComplete?o:s===Yu.InferredSsoState.enum.SelfHostedComplete?r:!e&&n.isExact?t?o:a?r:l:null})({hasChoiceFF:S,hasNitroFF:v,hasEsFF:E},a,b,p?.configProperties.scimEnabled);return(0,A.tZ)(i.rs,null,(0,A.tZ)(i.AW,{path:`${a.path}${Ng.SELF_HOSTED_SSO}`},(0,A.tZ)(Ap,{backRoute:a.url})),(0,A.tZ)(i.AW,{path:`${a.path}${Ng.CONFIDENTIAL_SSO}`},(0,A.tZ)(qm,{backRoute:a.url})),(0,A.tZ)(i.AW,{path:`${a.path}${Ng.SSO_CONNECTOR}`},(0,A.tZ)(eg,{lee:e})),(0,A.tZ)(i.AW,{exact:!0,path:a.path},N?(0,A.tZ)(i.l_,{to:N}):Eg||(Eg=(0,A.tZ)(hg,null))))}),ot.SSO);function fy({path:e}){return n.createElement(i.GB,{path:e,permission:e=>e.adminAccess.hasFullAccess},n.createElement(i.rs,null,n.createElement(i.l_,{exact:!0,from:e,to:`${e}${s.B9.POLICIES}`}),n.createElement(i.Vy,{path:`${e}${s.B9.POLICIES}`,component:by,reducer:Qu.Z}),n.createElement(i.Vy,{path:`${e}${s.B9.DIRECTORY_SYNC}`,component:Sy}),n.createElement(i.Vy,{path:`${e}${s.B9.DUO}`,component:vy,reducer:gu.ZP}),n.createElement(i.Vy,{path:`${e}${s.B9.MASTER_PASSWORD_POLICIES}`,component:Ey,reducer:fu.ZP}),n.createElement(i.Vy,{path:`${e}${s.B9.SSO}`,component:Ny})))}var Cy=a(864824);function Ty(e,t){return!t.adminAccess||t.adminAccess.hasPermissionLevel(e)}const My=xi((()=>{var e,t,a;const{routes:s}=(0,i.Xo)(),{translate:c}=(0,l.Z)(),{teamOffers:d}=(0,o.a)({}),{teamInfo:u}=(0,ve.G)(),m=(0,I.Y)(),_=m.status===Z.rq.Success&&m.data?.planType===re.PlanType.Invoice,[p,g]=n.useState(0),[y,h]=n.useState(),[b,S]=n.useState(""),[v,E]=n.useState(!0),[N,f]=n.useState(Ne.FORM),[C,T]=n.useState();n.useEffect((()=>{const e=(0,i.CN)().get("plan");d&&"business"===e&&h(d.businessOffer)}),[d]);const{alert:M,show:x}=(0,r.VYq)({message:c("team_account_teamplan_changeplan_error_generic"),severity:r.BLW.ERROR,dismissDelay:4e3}),D=null!=(e=d?.businessOffer?.currency)?e:"",A=(null!=(t=u?.seats?.paid)?t:0)+(null!=(a=u?.seats?.extraFree)?a:0),{logChangePlanEvent:O}=K({selectedOffer:y,hasPromo:!1,currentSeats:A,additionalSeats:p,planChangeStep:G.PlanChangeStep.SelectPlanTier}),{setNavBarChildren:k}=n.useContext(Kt),L=n.createElement(r.k$b,null,n.createElement(r.zxk,{type:"button",nature:"ghost",onClick:()=>(0,i.uX)(s.teamAccountRoutePath)},n.createElement(r.Ejs,{alignItems:"center"},ra||(ra=n.createElement(r.xCe,{size:14})),n.createElement(r.nvN,{bold:!0,sx:{marginLeft:"14px",color:r.O9T.dashGreen00}},c("team_account_teamplan_changeplan_back")))));return n.useEffect((()=>(k(L),()=>{k(null)})),[]),n.createElement(r.Ejs,{sx:{margin:"45px",width:"1180px"}},n.createElement("div",{style:{bottom:"12px",position:"absolute",marginLeft:"auto",marginRight:"auto",left:0,right:0,width:"600px"}},M),n.createElement(r.Ejs,{flexDirection:"column",gap:"8px"},N===Ne.FORM?n.createElement(r.Ejs,{gap:"8px"},n.createElement(r.k$b,{sx:{width:"646px"}},n.createElement(r.Ejs,{flexDirection:"column",gap:"8px"},n.createElement(w,{teamOffers:d,selectedOffer:y,handleSelection:e=>{O(e),h(e)}}),_?oa||(oa=n.createElement(fe,null)):n.createElement(n.Fragment,null,n.createElement(Te.I,{b2b:!0,hideUpdateButton:!0,styles:{padding:"32px"}}),n.createElement(ue,{email:b,emailValid:v,setEmail:S,setEmailValid:E})))),n.createElement(r.k$b,{sx:{width:"470px"}},n.createElement(r.Ejs,{flexDirection:"column",gap:"8px"},n.createElement(xe,{teamOffers:d,currentSeats:A}),n.createElement(oe,{currentSeats:A,additionalSeats:p,currency:D,selectedOffer:y,email:b,emailValid:v,onSuccess:()=>{f((()=>Ne.SUCCESS))},onError:x,setAdditionalSeats:g,setOrderSummaryData:T}),la||(la=n.createElement(me,null))))):null,N===Ne.SUCCESS&&C?n.createElement(r.Ejs,{sx:{display:"flex",flexWrap:"nowrap",gap:"16px"}},n.createElement(r.Ejs,{sx:{display:"flex",flexGrow:"2",maxWidth:"632px",flexDirection:"column"}},n.createElement(Se,{targetPlan:y?.name?.includes("business")?"business":"team"})),n.createElement(r.Ejs,{sx:{display:"flex",flexGrow:"1",gap:"16px",flexDirection:"column"}},n.createElement(na,{currency:D,selectedOffer:y,costData:C}),ca||(ca=n.createElement(ia,null)))):null))}),dt.$.CHANGE_PLAN),xy=xi((({lee:e})=>{const t=(0,st.B)(),{reportTACError:a}=Fe(),[s,i]=n.useState(!1),o=(0,z.w)("monetization_extension_invoice_addingCC"),l=(0,I.Y)(),[c,d]=n.useState(!1),u=n.useCallback((async()=>{const t=(0,_a.v0)(e.globalState);if(t)try{const a=await(new ua.Z).status({auth:t,teamInformation:!0,autoRenewal:!0});e.dispatch(us.Ww({endDate:a.endDate,planName:a.planName}));const n=await(new ma.Z).status({auth:t});e.dispatch(us.Ti({billingType:n.content.team.currentBillingInfoLite?n.content.team.currentBillingInfoLite.type:null,creditCardLastDigits:n.content.team.currentBillingInfoLite?n.content.team.currentBillingInfoLite.card_last4:null,isFreeTrial:n.content.team.isFreeTrial,isGracePeriod:n.content.team.isGracePeriod,creationDateUnix:n.content.team.creationDateUnix,lastBillingDateUnix:n.content.team.lastBillingDateUnix,seatsNumber:n.content.team.membersNumber+n.content.team.extraFreeSlots,nextBillingDetails:n.content.team.nextBillingDetails,usersToBeRenewedCount:n.content.team.usersToBeRenewedCount,planTier:n.content.team.planTier}))}catch(e){a(e)}else a(new Error(da.N))}),[]);n.useEffect((()=>{u(),(0,q.N)(G.PageView.TacAccount)}),[u]);const m=t=>{"open"===t&&((0,q.N)(G.PageView.TacAccountBuy),e.dispatch(us.Ip(!0))),"close"===t&&((0,q.N)(G.PageView.TacAccount),e.dispatch(us.Ip(!1)))},{search:_}=(0,gt.TH)(),{billingType:p,endDate:g,isFreeTrial:y,isGracePeriod:h,isTeamUpgradeOpen:b,isTeamUpgradeSuccessOpen:S,lastAdditionalSeatsDetails:v,lastBillingDateUnix:E,lastBillingDetails:N,nextBillingDetails:f,planName:C,planTier:T,seatsNumber:M,usersToBeRenewedCount:x}=e.state;n.useEffect((()=>{_?.includes("showSeatsDialog")&&setTimeout((()=>{(0,q.K)(new G.UserBuySeatEvent({flowStep:G.FlowStep.Start,hasPromo:!1,initialSeatCount:M.valueOr(0),priceAmountCents:f.caseOf({just:e=>e.amount,nothing:()=>0}),priceCurrencyCode:G.PriceCurrencyCode[f.caseOf({just:e=>e.currency,nothing:()=>""})],purchasedSeatCount:M.valueOr(0)})),m("open")}),2e3)}),[]);const D=()=>{const e="team"===T?"team":"business",a=`${ee.ub}?plan=${e}&subCode=${t?.subscriptionCode}`;(0,ze.Yo)(a)},w=()=>{(0,q.N)(G.PageView.TacAccountCustomizeInvoice),i(!0)};if(l.status!==Z.rq.Success||!l.data)return n.createElement(r.HoD,{color:r.O9T.midGreen00});const A="invoice"===l.data.planType,O=()=>{o&&A?d(!0):m("open")};return n.createElement("div",{className:"accountPage--ybb29ywtla"},S&&o?null:n.createElement(n.Fragment,null,n.createElement(Ga,{lee:e,onRequestBuyMoreSeats:()=>{(0,q.K)(new G.UserBuySeatEvent({flowStep:G.FlowStep.Start,hasPromo:!1,initialSeatCount:M.valueOr(0),priceAmountCents:f.caseOf({just:e=>e.amount,nothing:()=>0}),priceCurrencyCode:G.PriceCurrencyCode[f.caseOf({just:e=>e.currency,nothing:()=>""})],purchasedSeatCount:M.valueOr(0)})),O()},onRequestTeamUpgrade:()=>{D()},isFreeTrial:y,isGracePeriod:h,seatsNumber:M,usersToBeRenewedCount:x,planTier:T,planName:C,billingType:p}),c?n.createElement(ks,{lee:e,handleClose:()=>{d(!1)}}):null,n.createElement(bn,{lee:e.child(ds.Z),endDate:g,handleGetPastReceipts:w,lastBillingDateUnix:E,nextBillingDetails:f,onRequestTeamUpgrade:()=>{y?D():O()},planName:C,usersToBeRenewedCount:x,isFreeTrial:y,isGracePeriod:h})),y.bind((t=>E.map((a=>n.createElement(rs,{key:a,isFreeToPaidUpgrade:t,isTeamUpgradeSuccessOpen:S,isOpen:b,lee:e.child(ns.ZP),nextBillingDetails:f,numberOfCurrentPaidSlots:M.valueOr(0),numberOfCurrentUsedSlots:x.valueOr(0),onUpgradeSuccess:(t,a)=>{e.dispatch(us.HH({additionalSeatsDetails:t,billingDetails:a,isTeamUpgradeSuccessOpen:!0}))},onRequestClose:()=>m("close"),onUserAcknowledgesPlanTypeUpdate:u,planTier:T,onGetPastReceipts:w}))))).caseOf({just:e=>e,nothing:()=>null}),n.createElement(cs,{lee:e.child(os.ZP),onClose:()=>{(0,q.N)(G.PageView.TacAccount),i(!1)},isOpen:s}),o&&S&&v&&N?n.createElement(Ns,{planTier:T,additionalSeatsDetails:v,billingDetails:N,onGetPastReceipts:w,onNavigate:()=>e.dispatch(us.HH({isTeamUpgradeSuccessOpen:!1,additionalSeatsDetails:void 0,billingDetails:void 0}))}):null)}),dt.$.ACCOUNT),Dy=xi((({lee:e})=>{const[t,a]=(0,n.useState)(!0),[s,i]=(0,n.useState)(rr),[o,l]=(0,n.useState)({seats:{pending:0,provisioned:0,used:0},passwordHealthHistory:[],passwordHealth:{compromised:0,passwords:0,reused:0,safe:0,securityIndex:0,weak:0}}),{reportTACError:c}=Fe(),d=(0,z.w)("itadmin_tac_breachreport_phase1"),u=(0,z.w)("itadmin_tac_dwi_mvp_v2"),m=d||u,{verifiedOrPendingDomain:_,updateDomainState:p}=so(),[g,y]=(0,n.useState)(null),h=0===o.passwordHealthHistory.length,b=(0,n.useCallback)((async()=>{const t=(0,_a.v0)(e.globalState);if(t)try{const e=await(new ma.Z).status({auth:t});i(e.content.team.creationDateUnix)}catch(e){c(e)}else c(new Error(da.N))}),[]),S=(0,n.useCallback)((async()=>{const e=await H.C.getDarkWebInsightsSummary();y(e)}),[]);(0,n.useEffect)((()=>{(0,q.N)(G.PageView.TacDashboard),b(),async function(){const e=await H.C.getReport();e.success&&(a(!1),l(e.response))}(),m&&(p(),S())}),[S,b,m,p]);const v=Pa({dismissible:!0});return(0,A.tZ)("div",{className:"page--WS_Gm4wHdt"},(0,A.tZ)(r.T5p,{fullWidth:!0,alignItems:"top",gap:"32px",gridTemplateColumns:"auto auto auto auto",gridTemplateRows:"auto auto",gridTemplateAreas:`'cards cards cards cards' '${v?"pwHealth pwHealth pwHealth upgrade":m?"pwHealth pwHealth pwHealth dwi":"pwHealth pwHealth pwHealth pwHealth"}'`},(0,A.tZ)(r.dDn,{gridArea:"cards"},(0,A.tZ)(gr,{passwordHealth:o.passwordHealth,seats:o.seats,passwordHealthHistoryEmpty:h})),(0,A.tZ)(r.dDn,{gridArea:"pwHealth",sx:{height:m?"418px":"535px",width:m?"710px":"1024px"}},(0,A.tZ)(zr,{isLoading:t,report:o,passwordHealthHistoryEmpty:h,creationDateUnix:s})),v?(0,A.tZ)(r.dDn,{gridArea:"upgrade",sx:{width:"282px"}},(0,A.tZ)(r.Zbd,{sx:{padding:"16px"}},io||(io=(0,A.tZ)(Ua,{dismissible:!0})))):m?(0,A.tZ)(r.dDn,{gridArea:"dwi"},_.status===no.Loading?ro||(ro=(0,A.tZ)(Ur,null)):null!==_.domain?(0,A.tZ)(Qr,{verifiedOrPendingDomain:_.domain,dwiSummaryResponse:g}):(0,A.tZ)(ao,{dwiSummaryResponse:g})):null),t?(0,A.tZ)(Ln.Z,{containerClassName:"loadingSpinnerBackground--xx7LY4HiMj"}):null)}),dt.$.DASHBOARD),Iy=xi((({lee:e,location:t})=>{const a=(0,n.useRef)(!1),{translate:s}=(0,l.Z)(),{reportTACError:i}=Fe(),o=(0,Fa.V)(),[c,d]=(0,n.useState)(!0),{invitePartialSuccessState:u,setInvitePartialSuccessState:m,handleInvitationResultClosed:_}=Ml(),[p,g]=(0,n.useState)(null),[y,h]=(0,n.useState)(!1),[b,S]=(0,n.useState)({showError:!1,membersWithoutPublicKey:[]}),v=(0,n.useCallback)((()=>{const t=(0,_a.v0)(e.globalState);return t||i(new Error(da.N)),t}),[e.globalState,i]),E=(0,n.useCallback)((()=>{h(!0),(0,q.K)(new G.UserSendManualInviteEvent({flowStep:G.FlowStep.Start,inviteCount:0,inviteFailedCount:0,inviteResentCount:0,inviteSuccessfulCount:0,isImport:!1,isResend:!1}))}),[]),N=t=>{e.dispatch(Hl.eY(t))},f=(e,t)=>{m({show:!0,invitedMembers:e,refusedMembers:t}),N(Object.keys(e))},C=(0,n.useCallback)(((t,a=[],n)=>{const i=async()=>{g(null),a.forEach((t=>{e.dispatch(Hl.bh(t))}));const t=v();if(!t)return;const n=a.map((e=>e.login));try{const i=await(new ma.Z).proposeMembers({auth:t,memberLogins:n});if(Kc(i.content)){const{refusedMembers:t}=i.content;Object.values(t).forEach((t=>{const n=a.find((e=>e.login===t));f(i.content.proposedMembers,i.content.refusedMembers),e.dispatch(Hl.S2(n))})),(0,q.K)(new G.UserSendManualInviteEvent({flowStep:G.FlowStep.Complete,inviteCount:0,inviteFailedCount:Object.keys(t).length,inviteResentCount:n.length,inviteSuccessfulCount:n.length-Object.keys(t).length,isImport:!1,isResend:!0}))}else o.showAlert(s("team_members_invite_success_message"),r.BLW.SUCCESS),(0,q.K)(new G.UserSendManualInviteEvent({flowStep:G.FlowStep.Complete,inviteCount:0,inviteFailedCount:0,inviteResentCount:n.length,inviteSuccessfulCount:n.length,isImport:!1,isResend:!0}))}catch({message:t="",data:i={}}){const l=s("team_members_invite_error_message_no_free_slot"),c=s("team_members_invite_error_message"),{content:{error:d=t}={}}=i,u=["no_free_slot_free_plan","no_free_slot"].includes(d)?l:c;a.forEach((t=>{e.dispatch(Hl.S2(t)),o.showAlert(u,r.BLW.ERROR)})),(0,q.K)(new G.UserSendManualInviteEvent({flowStep:G.FlowStep.Error,inviteCount:0,inviteFailedCount:n.length,inviteResentCount:n.length,inviteSuccessfulCount:0,isImport:!1,isResend:!0}))}},l=a.map((e=>e.login));switch(t){case"demote":return g((0,A.tZ)($c,{lee:e,selectedMembers:a,closeDialog:()=>g(null)}));case"promote":return g((0,A.tZ)(Fc,{lee:e,selectedMembers:a,closeDialog:()=>g(null)}));case"reassign":return g((0,A.tZ)(tc,{lee:e,selectedMembers:a,newRole:n,closeDialog:()=>g(null)}));case"reactivate":case"reinvite":return void i();case"reinviteAll":return g((0,A.tZ)(Rc,{resendOrReactivate:i,closeDialog:()=>g(null)}));case"revoke":return g((0,A.tZ)(Bc,{lee:e,selectedMembers:a,closeDialog:()=>g(null)}));case"generateBackupCode":return g((0,A.tZ)(Pc,{memberLogin:l[0],isOpen:!0,closeBackupCodeDialog:()=>g(null)}));case"enableInviteLink":return g((0,A.tZ)(Yc,{closeDialog:()=>g(null),applyActionOnMembers:C}));case"shareInviteLink":return g((0,A.tZ)(Hc,{closeDialog:()=>g(null)}))}}),[o,v,f,s]);(0,n.useEffect)((()=>{if(a.current)return;a.current=!0;const n=v();if(!n)return;const{teamId:s}=n;s&&((new ma.Z).status({auth:n}).then((t=>{var a;return e.dispatch(Hl.xF({extraFreeSlots:t.content.team.extraFreeSlots,membersNumber:t.content.team.membersNumber,isFreeTrial:t.content.team.isFreeTrial,teamName:null!=(a=t.content.team.info.name)?a:"",teamSecurityScore:t.content.team.securityIndex})),(0,Va.YY)({teamId:s})})).then((a=>{e.dispatch(Hl.Wq({members:a})),d(!1);const n=a&&1===a.length,s=t.state?.openSendInvitesDialog;if(n||s)E();else if(t.state?.openResendPendingInvitationsDialog)return void C("reinviteAll",_c(a));const i=a.filter((e=>!e.hasPublicKey)).filter((e=>"accepted"===e.status));i.length&&S({showError:!0,membersWithoutPublicKey:i})})).catch(i),(0,q.N)(G.PageView.TacUserList))}),[E,C,v,e,t.state?.openResendPendingInvitationsDialog,t.state?.openSendInvitesDialog,i,s]);const T=cl(e.state.members.valueOr([])),M=e.carbon.accountFeatures.list["TAC-105-master-password-reset"];return(0,A.tZ)("div",{className:"page--mHbRsmxXYZ"},(0,A.tZ)(Bl,{accountRoute:e.routes.teamAccountRoutePath,companyName:e.state.teamName.valueOr(""),takenSeats:T,totalSeats:e.state.totalSeatCount.valueOr(0),teamSecurityScore:e.state.teamSecurityScore,shouldDisplayTeamSecurityScore:M}),(0,A.tZ)("div",{className:"container--FEPnAnU3fL"},c?(0,A.tZ)(Ln.Z,{containerStyle:{minHeight:240}}):(0,A.tZ)(wc,{lee:e,members:e.state.members.valueOr([]),onMembersActionSelect:C,onMembersInvite:()=>E()})),b.showError?(0,A.tZ)(Qc,{membersWithoutPublicKey:b.membersWithoutPublicKey,onClose:()=>S((e=>({...e,showError:!1})))}):null,p,(0,A.tZ)(rd,{lee:e,teamId:(0,Ie.ev)(e.globalState),totalSeatCount:e.state.totalSeatCount.valueOr(0),numSeatsTaken:T,excludedInviteMembers:e.state.members.valueOr([]).filter((({status:e})=>"removed"!==e)).map((({login:e})=>e)),isFreeTrial:e.state.isFreeTrial.valueOr(!0),shouldShowInviteDialog:y,handleCloseInviteDialog:()=>h(!1),handleInvitePartialSuccess:f,handleInviteCompleteSuccess:N,invitePartialSuccessState:u,handleInvitationResultClosed:_}))}),dt.$.MEMBERS),Zy=xi((({lee:e})=>{var t;const{translate:a}=(0,l.Z)(),{verifiedOrPendingDomain:s,updateDomainState:i,deactivateDomain:o,tryVerifyDomain:c}=so(),d=null!=(t=s.domain?.name)?t:"";return(0,n.useEffect)((()=>{(0,q.N)(G.PageView.TacDarkWebInsights),i()}),[i]),(0,A.tZ)(r.T5p,{sx:{padding:"32px 48px",backgroundColor:r.O9T.dashGreen06},gap:"10px",gridTemplateAreas:"'header header' 'leftContent rightContent' 'footer footer'"},(0,A.tZ)(r.dDn,{sx:{marginBottom:"32px"},gridArea:"header"},(0,A.tZ)(r.X6q,{size:"small"},a("team_dashboard_dark_web_insights_heading")),""!==d?(0,A.tZ)(r.Zbd,{sx:{display:"inline-block",minWidth:"200px",padding:"16px",marginTop:"16px",textAlign:"center",wordWrap:"break-word",backgroundColor:r.O9T.dashGreen05}},(0,A.tZ)(r.nvN,{color:r.O9T.dashGreen00,bold:!0},d)):null),(0,A.tZ)(r.dDn,{gridArea:"leftContent",sx:{minWidth:"800px"}},(0,A.tZ)("div",null,s.status===no.Loading?(0,A.tZ)("div",{sx:hd},(0,A.tZ)(r.HoD,{size:120,color:r.O9T.dashGreen00,strokeWidth:1})):null===s.domain||s.status===no.Start?(0,A.tZ)(Go,{onSuccess:i,onError:i}):s.status===no.Validated?(0,A.tZ)(ud,{lee:e,domainName:s.domain.name}):(0,A.tZ)(gd,{domain:s.domain,isDeactivating:s.status===no.Deactivating,handleDeactivateDomain:o,handleRetryValidateDomain:c}))),yd||(yd=(0,A.tZ)(r.dDn,{gridArea:"rightContent"},(0,A.tZ)(oo,null))))}),dt.$.DARK_WEB_INSIGHTS),wy=({basePath:e,path:t})=>n.createElement(i.GB,{path:t,reducer:Cy.Z,permission:e=>e.loggedIn&&e.adminAccess.hasTACAccess,redirectPath:s.TT,component:ir},n.createElement(i.rs,null,n.createElement(i.l_,{exact:!0,from:`${e}/`,to:`${e}/dashboard`}),n.createElement(i.Vy,{component:My,path:`${e}/${dt.$.CHANGE_PLAN}`,permission:e=>Ty("BILLING",e)}),n.createElement(i.Vy,{component:xy,path:`${e}/${dt.$.ACCOUNT}`,permission:e=>Ty("BILLING",e),reducer:us.ZP,redirectPath:`${e}/${dt.$.GROUPS}`}),n.createElement(i.Vy,{component:Dy,path:`${e}/${dt.$.DASHBOARD}`,permission:e=>Ty("FULL",e),redirectPath:`${e}/${dt.$.ACCOUNT}`}),n.createElement(Zi,{path:`${e}/${dt.$.ACTIVITY}`}),n.createElement(pu,{path:`${e}/${dt.$.GROUPS}`,permission:e=>Ty("GROUP_READ",e)}),n.createElement(i.Vy,{component:Iy,path:`${e}/${dt.$.MEMBERS}`,permission:e=>Ty("FULL",e),redirectPath:`${e}/${dt.$.ACCOUNT}`,reducer:Hl.ZP}),n.createElement(i.Vy,{component:Zy,path:`${e}/${dt.$.DARK_WEB_INSIGHTS}`,permission:e=>Ty("FULL",e),redirectPath:`${e}/${dt.$.DARK_WEB_INSIGHTS}`,reducer:Hl.ZP}),n.createElement(fy,{path:`${e}/${dt.$.SETTINGS}`})))},584480:(e,t,a)=>{a.d(t,{GQ:()=>m,Kq:()=>c,MP:()=>u,ZP:()=>p,d:()=>l,g7:()=>o,kE:()=>d,qs:()=>_});var n=a(158432),s=a(233377),i=a(233493);const r=(0,n.SP)("settings-page",{allowPersistenceForMasterPassword:s.Maybe.nothing(),allowSharing:s.Maybe.nothing(),enforce2FA:s.Maybe.nothing(),cryptoForcedPayload:s.Maybe.nothing(),disableAutoLoginDomains:s.Maybe.nothing(),enableForcedDomains:s.Maybe.nothing(),enableRemoveForcedContent:s.Maybe.nothing(),enableVPN:s.Maybe.nothing(),forceAutomaticLogout:s.Maybe.nothing(),idpCertificate:s.Maybe.nothing(),idpSecurityGroups:s.Maybe.nothing(),idpUrl:s.Maybe.nothing(),isLoading:!0,lockOnExit:s.Maybe.nothing(),collectSensitiveDataAuditLogsEnabled:s.Maybe.nothing(),teamDomain:s.Maybe.nothing(),confirmationField:null,dialogIsVisible:!1,masterPasswordFieldValue:null,isMasterPasswordInvalid:!0,ssoEnabled:s.Maybe.nothing()},[i.ZP]),o=r.action("show-confirmation-dialog",(({param:e})=>({confirmationField:e,dialogIsVisible:!0,masterPasswordFieldValue:null,isMasterPasswordInvalid:null}))),l=r.action("hide-confirmation-dialog",(()=>({confirmationField:null,dialogIsVisible:!1,masterPasswordFieldValue:null,isMasterPasswordInvalid:null}))),c=r.action("set-master-password-invalid",(({param:e})=>({isMasterPasswordInvalid:e}))),d=r.action("set-master-password-field-value",(({param:e})=>({masterPasswordFieldValue:e,isMasterPasswordInvalid:null}))),u=r.action("team-status-loaded",(({param:e})=>({allowPersistenceForMasterPassword:s.Maybe.maybe(e.allowPersistenceForMasterPassword),allowSharing:s.Maybe.maybe(e.allowSharing),enforce2FA:s.Maybe.maybe(e.enforce2FA),cryptoForcedPayload:s.Maybe.maybe(e.cryptoForcedPayload),disableAutoLoginDomains:s.Maybe.maybe(e.disableAutoLoginDomains),enableForcedDomains:s.Maybe.maybe(e.enableForcedDomains),enableRemoveForcedContent:s.Maybe.maybe(e.enableRemoveForcedContent),enableVPN:s.Maybe.maybe(e.enableVPN),forceAutomaticLogout:s.Maybe.maybe(e.forceAutomaticLogout),idpCertificate:s.Maybe.maybe(e.idpCertificate),idpSecurityGroups:s.Maybe.maybe(e.idpSecurityGroups),idpUrl:s.Maybe.maybe(e.idpUrl),isLoading:!1,lockOnExit:s.Maybe.maybe(e.lockOnExit),collectSensitiveDataAuditLogsEnabled:s.Maybe.maybe(e.collectSensitiveDataAuditLogsEnabled),ssoEnabled:s.Maybe.maybe(e.ssoEnabled),teamDomain:s.Maybe.maybe(e.teamDomain)}))),m=r.action("setting-switch-toggled",(({param:e,state:t})=>{const a={};return a[e]=t[e].map((e=>!e)),a})),_=r.action("setting-changed",(({param:e})=>({[e.feature]:s.Maybe.maybe(e.value)}))),p=r},599943:(e,t,a)=>{a.d(t,{fV:()=>l,qc:()=>o});var n=a(696832),s=a(331e3),i=a(854029);const r=n.createContext({currentSpaceId:null,spaceDetails:null,teamId:null}),o=({lee:e,children:t})=>{var a;const o=(0,i.B)(e.globalState),l=null!=(a=(0,s.xO)(e.globalState)?.details)?a:null,c=(0,s.ev)(e.globalState);return n.createElement(r.Provider,{value:{teamId:c,currentSpaceId:o,spaceDetails:l}},t)},l=()=>n.useContext(r)},992750:(e,t,a)=>{function n(e,t,a=!1){const n=["# dashlane-ad-sync.ps1","#","# For more information, please visit :","# https://support.dashlane.com/hc/articles/115002155485","","PROCESS","{","  #############################################################################","  ### Customize the following variables","  #############################################################################","","  # List of Organizational Units (OUs)","  #","  # The script will :","  # 1. Search each Organizational Unit","  # 2. Export all employees in a CSV file","  # 3. Synchronize the CSV export with Dashlane","","  $OUS = @(",'    "OU=FRANCE,DC=dashlane,DC=com",','    "OU=USA,DC=dashlane,DC=com"',"  )","","  #############################################################################","  ###  DO NOT CHANGE THE SCRIPT BELOW","  #############################################################################","","  # Dashlane Plugin Tokens","",`  $INSTALL_TOKEN = "${e}"`,`  $TEAM_ID = ${t}`,"",'  $DASHLANE_EXPORT_PATH = $env:TEMP + "dashlane_export.csv"',"",'  Write-Output "Running Dashlane AD synchronization"',"","  Import-Module ActiveDirectory","  # The format of the CSV should be the following:","  # Full Name, employee@company.com, 123-456-7890","","  $out = @()","  foreach($ou in $OUS) {",'    Write-Output "Exporting $ou to CSV"',"","    Try {","      $out += Get-ADUser -searchbase $ou -Properties * -Filter * | Select-Object (",'        @{Label = "Email"; Expression = {$_.EmailAddress}}',"      )","    }","    Catch {","      $ErrorMessage = $_.Exception.Message","      $FailedItem = $_.Exception.GetType().FullName",'      Write-Output "Error: $FailedItem - $ErrorMessage"','      Write-Output "Message: It seems there is no account on this OU: $ou."',"    }","  }","","  # Export CSV report","  $out | Export-Csv -Path $DASHLANE_EXPORT_PATH -NoTypeInformation","",'  Write-Output "Syncing CSV with Dashlane..."','  $url = "https://ws1.dashlane.com/1/teamPlans/syncFromAD"',"  $fileContent = Get-Content $DASHLANE_EXPORT_PATH | Out-String","  $fileContentBytes = [System.Text.Encoding]::UTF8.GetBytes($fileContent)","  $fileContentEncoded = [System.Convert]::ToBase64String($fileContentBytes)","","  # Clean up the temporary CSV export","  Remove-Item $DASHLANE_EXPORT_PATH","","  $request = [System.Net.WebRequest]::Create($url)",'  $request.Method = "POST"','  $request.ContentType = "application/x-www-form-urlencoded"',"","  Try {","    $requestStream = $request.GetRequestStream()","    $streamWriter = New-Object System.IO.StreamWriter($requestStream)",'    $streamWriter.Write("adLogins=$fileContentEncoded&adToken=$INSTALL_TOKEN&teamId=$TEAM_ID")',"  }","  Finally {","    if ($null -ne $streamWriter) { $streamWriter.Dispose() }","    if ($null -ne $requestStream) { $requestStream.Dispose() }","  }","","  Try {","    $webResponse = $request.GetResponse()","  }","  Catch {","    $ErrorMessage = $_.Exception.Message","    $FailedItem = $_.Exception.GetType().FullName",'    Write-Output "Failed: $FailedItem - $ErrorMessage"',"  }","","  Write-Output 'Done !'","}",""].join("\n");return a?`#################################################################################\n## dashlane-ad-sync.ps1\n##\n## For more information, please visit :\n## https://support.dashlane.com/hc/articles/115002155485\n##\n## This script will:\n## 1. Search each Group's GroupMembers\n## 2. Export all GroupMember AD User Email Address values to a temp CSV file\n## 3. Sign the data extract\n## 4. Synchronize the data with Dashlane\n#################################################################################\n\nPROCESS {\n\n##################################################################################\n## List the Group Names you'd like to extract Users from and sync with Dashlane ##\n##################################################################################\n\n$Groups = @(\n    "AGroup",\n    "AnotherGroup"\n)\n\n##################################################################################\n## Replace this with the attribute containing your employees' Dashlane logins   ##\n##################################################################################\n\n$DASHLANE_LOGIN_ATTR = "mail"\n\n#################################################################################\n##  DO NOT CHANGE THE PROCESS BELOW                                            ##\n#################################################################################\n\nImport-Module ActiveDirectory\n\nWrite-Host "Running Dashlane AD synchronization"\n\n$GroupMembers = @()\n$GroupInfos = @()\n$CSV_TEMP_PATH = $env:TEMP + "dashlane_export.csv"\n$INSTALL_TOKEN = "${e}"\n$TEAM_ID = "${t}"\n\n##################################################################################\n## Anaylzing Groups                                                                ##\n##################################################################################\n\nforeach ($Group in $Groups) {\n    Try {\n        $GroupInfo = Get-ADGroup -Identity $Group | Select Name, ObjectGUID\n        $GroupInfo | Add-Member Members @()\n\n        $Members = Get-ADGroupMember -Identity $Group | Get-ADUser -Properties Mail\n\n        # Roughly filtering out users with invalid emails.\n        # A user with an invalid email is filtered out by Dashlane servers: it will therefore not\n        # be included in the verified data, which will lead to an invalid signature check if it is\n        # included in the signed data.\n        $ValidMembers = $Members | Where-Object {($_ | Select -ExpandProperty $DASHLANE_LOGIN_ATTR) -like '*@*.*' }\n   # Lower case and trim all emails to make consistent with Dashlane servers; only need email\n    $ValidMembers = $ValidMembers | Select @{\n      Label=$DASHLANE_LOGIN_ATTR;\n      Expression={($_ | Select -ExpandProperty $DASHLANE_LOGIN_ATTR).ToLower().Trim() }\n    }\n    # Sort the users and get rid of any potential duplicates\n    $ValidMembers = $ValidMembers | Sort-Object -Property $DASHLANE_LOGIN_ATTR | Get-Unique -AsString\n    # Get a count\n    $measure = $ValidMembers | measure\n    $count = $measure.count\n    Write-Host "Exporting $count valid members from $Group"\n\n    if ($count -gt 0) {\n      foreach ($Member in $ValidMembers) {\n        $Member | Add-Member GroupName $GroupInfo.Name\n        $Member | Add-Member GroupGUID $GroupInfo.ObjectGUID\n        $GroupMembers += $Member\n        $GroupInfo.Members += $Member\n      }\n      $GroupInfos += $GroupInfo\n    }\n    } Catch {\n        $ErrorMessage = $_.Exception.Message\n        $FailedItem = $_.Exception.GetType().FullName\n\n        Write-Host "Error: $FailedItem - $ErrorMessage"\n        Write-Host "Message: It seems there is no account on this Group: $Group."\n        Exit 2\n    }\n}\n\n##################################################################################\n## Writing temp CSV                                                             ##\n##################################################################################\n\nWrite-Host ""\nWrite-Host "Writing debug information to $CSV_TEMP_PATH"\n$GroupMembers | Export-Csv -Path $CSV_TEMP_PATH -NoTypeInformation -Encoding UTF8\n\n##################################################################################\n## Generate signature                                                           ##\n##################################################################################\n\nTry {\n    $CspParameters = New-Object -TypeName System.Security.Cryptography.CspParameters\n    $CspParameters.KeyContainerName = "DashlaneDirectorySyncKey53"\n\n    $RSA = New-Object -TypeName System.Security.Cryptography.RSACryptoServiceProvider -ArgumentList $CspParameters\n    $PublicKey = $RSA.ToXmlString($false)\n    $PublicKeyHash = [System.Convert]::ToBase64String([System.Text.Encoding]::UTF8.GetBytes($PublicKey))\n\n    Write-Host ""\n    Write-Host "---------- Provide your Dashlane admin with this key on setup: -----------"\n    Write-Host ""\n    Write-Host $PublicKeyHash\n    Write-Host ""\n    Write-Host "--------------------------------------------------------------------------"\n    Write-Host ""\n\n    $RSAFormatter = New-Object -TypeName System.Security.Cryptography.RSAPKCS1SignatureFormatter -ArgumentList $RSA\n    $RSAFormatter.SetHashAlgorithm("SHA256")\n\n    $DataStr = $TEAM_ID\n    foreach ($GroupInfo in $GroupInfos | Sort-Object -Property ObjectGUID) {\n        $DataStr += $GroupInfo.ObjectGUID\n        $DataStr += $GroupInfo.Name\n\n        foreach ($Member in $GroupInfo.Members | Sort-Object -Property $DASHLANE_LOGIN_ATTR) {\n            $DashlaneLogin = $Member | Select -ExpandProperty $DASHLANE_LOGIN_ATTR\n            $DataStr += $DashlaneLogin\n        }\n    }\n    $DataBytes = [System.Text.Encoding]::UTF8.GetBytes($DataStr)\n    $SHA256 = New-Object -TypeName System.Security.Cryptography.SHA256CryptoServiceProvider\n    $DataHash = $SHA256.ComputeHash($DataBytes)\n\n    $SignatureBytes = $RSAFormatter.CreateSignature($DataHash)\n    $SignatureHash = [System.Convert]::ToBase64String($SignatureBytes)\n\n} Catch {\n    $ErrorMessage = $_.Exception.Message\n    $FailedItem = $_.Exception.GetType().FullName\n    Write-Host "Failed: $FailedItem - $ErrorMessage"\n    Exit 3\n}\n\n##################################################################################\n## Send data to Dashlane                                                        ##\n##################################################################################\n\n$FileContent = Get-Content $CSV_TEMP_PATH | Out-String\n$FileContentBytes = [System.Text.Encoding]::UTF8.GetBytes($FileContent)\n$FileContentEncoded = [System.Convert]::ToBase64String($FileContentBytes)\n\n[System.Net.ServicePointManager]::SecurityProtocol = [System.Net.SecurityProtocolType]::Tls12;\n\n$URL = "https://ws1.dashlane.com/1/teamPlans/syncFromDirectory"\n$Payload = @{adLogins=$FileContentEncoded;adToken=$INSTALL_TOKEN;teamId=$TEAM_ID;signature=$SignatureHash;publicKey=$PublicKeyHash}\n\nTry {\n    $Response = Invoke-WebRequest -Uri $URL -Method POST -Body $Payload\n    Write-Host "Dashlane sync responded with: $Response"\n\n} Catch {\n    $ErrorMessage = $_.Exception.Message\n    $FailedItem = $_.Exception.GetType().FullName\n    Write-Host ""\n    Write-Host "Dashlane sync error: $FailedItem - $ErrorMessage"\n}\n\n##################################################################################\n## Cleaning up temp CSV                                                         ##\n##################################################################################\n\nRemove-Item $CSV_TEMP_PATH\n\n}`:n}a.d(t,{vo:()=>i,ZP:()=>l,dV:()=>o,Kk:()=>r});const s=(0,a(158432).SP)("active-directory-settings",{activeDirectoryScript:"",activeDirectorySyncStatus:{failedSyncCount:0,lastFailedSync:null,lastSuccessfulSync:null},activeDirectorySyncType:null,isCopied:!1}),i=s.action("active-directory-settings-loaded",(({param:e})=>{var t;return{activeDirectoryScript:n(e.activeDirectoryToken,e.teamId,e.directorySyncFeatureFlipped),activeDirectorySyncStatus:e.activeDirectorySyncStatus||null,activeDirectorySyncType:null!=(t=e.activeDirectorySyncType)?t:null}})),r=s.action("script-copy-feedback-toggled",(({param:e})=>({isCopied:e}))),o=s.action("active-directory-sync-type-set",(({param:e})=>({activeDirectorySyncType:e}))),l=s},553965:(e,t,a)=>{a.d(t,{Z:()=>i});var n=a(158432),s=a(584480);const i=(0,n.SP)("authentication-settings",{},[s.ZP])},267667:(e,t,a)=>{a.d(t,{E4:()=>o,FC:()=>i,ZP:()=>c,a2:()=>r,k0:()=>s,qf:()=>l});const n=(0,a(158432).SP)("duo-settings",{hasDuo:!1,duoIntegrationKey:"",duoSecretKey:"",duoApiHostname:""}),s=n.action("duo-settings-loaded",(({param:e})=>({hasDuo:e.duo||!1,duoIntegrationKey:e.duoIntegrationKey||"",duoSecretKey:e.duoSecretKey||"",duoApiHostname:e.duoApiHostname||""}))),i=n.action("duo-set",(({param:e})=>({hasDuo:e}))),r=n.action("duo-integration-key-set",(({param:e})=>({duoIntegrationKey:e}))),o=n.action("duo-secret-key-set",(({param:e})=>({duoSecretKey:e}))),l=n.action("duo-api-hostname-set",(({param:e})=>({duoApiHostname:e}))),c=n},181508:(e,t,a)=>{a.d(t,{h:()=>r});var n=a(696832),s=a(46298),i=a(616274);function r(){const[e,t]=(0,n.useState)(!0),[a,r]=(0,n.useState)(null),[o,l]=(0,n.useState)(null),[c,d]=(0,n.useState)(null),u=(0,n.useCallback)((async(e,t)=>{try{const a=await i.C.requestInviteLinkToken({teamUuid:e,login:t});if(a.success)return a.data;d(a.error.code)}catch{d(s.UnknownError)}return null}),[]);return{inviteLinkDataLoading:e,inviteLinkError:c,inviteLinkData:a,inviteLinkDataForAdmin:o,getInviteLinkData:(0,n.useCallback)((async e=>{t(!0);try{const t=await i.C.getInviteLink({teamKey:e});if(t.success)return r(t.data),t.data;d(t.error.code)}catch{d(s.UnknownError)}finally{t(!1)}return null}),[]),requestInviteLinkToken:u,getInviteLinkDataForAdmin:(0,n.useCallback)((async()=>{t(!0);try{const e=await i.C.getInviteLinkForAdmin({});if(e.success)return l(e.data),e.data;d(e.error.code)}catch{d(s.UnknownError)}finally{t(!1)}return null}),[]),createInviteLink:(0,n.useCallback)((async e=>{t(!0);try{const t=await i.C.createInviteLink({displayName:e});if(t.success)return t.data;d(t.error.code)}catch{d(s.UnknownError)}finally{t(!1)}return null}),[]),changeInviteLinkTeamKey:(0,n.useCallback)((async()=>{t(!0);try{const e=await i.C.changeInviteLinkTeamKey({});if(e.success)return e.data;d(e.error.code)}catch{d(s.UnknownError)}finally{t(!1)}return null}),[]),toggleInviteLink:(0,n.useCallback)((async e=>{t(!0);try{const t=await i.C.toggleInviteLink({disabled:e});if(t.success)return t.data;d(t.error.code)}catch{d(s.UnknownError)}finally{t(!1)}return null}),[])}}},458403:(e,t,a)=>{a.d(t,{ZP:()=>r,Zn:()=>i,x:()=>s});const n=(0,a(158432).SP)("master-password-policies-settings",{recoveryEnabled:!1}),s=n.action("master-password-policies-settings-loaded",(({param:e})=>({recoveryEnabled:Boolean(e.recoveryEnabled)}))),i=n.action("set-recovery-enabled",(({param:e})=>({recoveryEnabled:e}))),r=n},806092:(e,t,a)=>{a.d(t,{Z:()=>i});var n=a(158432),s=a(584480);const i=(0,n.SP)("policies-settings",{},[s.ZP])},233493:(e,t,a)=>{a.d(t,{$g:()=>o,B:()=>r,X4:()=>l,ZP:()=>c});var n=a(158432),s=a(233377);const i=(0,n.SP)("select-with-feedback",{isSavingField:!1,errorMessage:s.Maybe.nothing(),showSaveFieldFeedbackMessage:!1}),r=i.action("user-selected-value",(()=>({isSavingField:!0}))),o=i.action("save-operation-success",(({param:e})=>({isSavingField:!1,errorMessage:e?s.Maybe.just(e):s.Maybe.nothing(),showSaveFieldFeedbackMessage:!e}))),l=i.action("a-second-passed-since-save-operation-success",(()=>({showSaveFieldFeedbackMessage:!1}))),c=i},257627:(e,t,a)=>{a.d(t,{H:()=>i,I:()=>s});var n=a(616274);async function s(){const e=await n.C.getTeamInfo();if(e.success){const{data:{teamInfo:t,planTier:a,capabilities:n,seats:s}}=e;return{teamInfo:t,planTier:a,capabilities:n,seats:s}}{const{message:t}=e;throw new Error(`getTeamInfo: failed with error: ${t}`)}}async function i(){const e=await n.C.getLastADSyncDate();if(e.success)return{lastSyncRequestForTeamUnix:e.data.lastSyncRequestForTeam,lastSuccessfulSyncRequestForTeamUnix:e.data.lastSuccessfulSyncRequestForTeam};throw new Error(`getScimLastSyncDate: failed with error ${e.error}`)}},35487:(e,t,a)=>{let n;a.d(t,{$:()=>n}),function(e){e.ACCOUNT="account",e.ACTIVITY="activity",e.CHANGE_PLAN="account/changeplan",e.DASHBOARD="dashboard",e.GROUPS="groups",e.MEMBERS="members",e.SETTINGS="settings",e.DARK_WEB_INSIGHTS="dark-web-insights"}(n||(n={}))},694435:(e,t,a)=>{a.d(t,{B7:()=>y,BJ:()=>v,Bw:()=>d,Bz:()=>C,FX:()=>l,Iw:()=>g,M:()=>I,Mv:()=>n,Pr:()=>h,Vr:()=>r,XP:()=>D,Y8:()=>m,cI:()=>w,h0:()=>N,hc:()=>_,i1:()=>M,n0:()=>c,nC:()=>b,o2:()=>x,rh:()=>E,sz:()=>f,tB:()=>u,tU:()=>S,to:()=>o,ub:()=>i,vS:()=>T,xz:()=>s,yi:()=>p,zF:()=>Z});const n="https://app.dashlane.com#/login",s="https://app.dashlane.com#/console",i="https://www.dashlane.com/business/directbuy",r="https://support.dashlane.com/hc",o="https://support.dashlane.com/hc/requests/new",l="https://support.dashlane.com/hc/categories/200958889-Dashlane-Business",c="https://support.dashlane.com/hc/en-us/articles/360015304999-Joining-a-Dashlane-Business-plan-with-SSO-enabled#title2",d="https://support.dashlane.com/hc/requests/new",u="https://support.dashlane.com/hc/en-us/requests/new?ticket_form_id=4659353761426&req_type=dashlane_for_business&topic=upgrade_to_dashlane_business&utm_medium=misc&utm_source=dashlane_admin_console",m="https://support.dashlane.com/hc/articles/6351573344786?utm_medium=misc&utm_source=dashlane_admin_console",_="https://support.dashlane.com/hc/en-us/requests/new?utm_medium=misc&utm_source=dashlane_admin_console",p="https://www.dashlane.com/download",g="https://support.dashlane.com/hc/articles/360014345059",y="https://support.dashlane.com/hc/articles/360014345059",h="https://dashlane.status.io/",b="https://support.dashlane.com/hc/articles/360013149040",S="https://support.dashlane.com/hc/articles/360000112339",v="https://www.dashlane.com/business/sso-download",E="https://support.dashlane.com/hc/articles/360017434219",N="https://support.dashlane.com/hc/requests/new",f="https://www.dashlane.com/terms",C="https://www.dashlane.com/privacy",T="https://support.dashlane.com/hc/requests/new?req_type=dashlane_for_business&ticket_form_id=4659353761426&topic=upgrade_to_dashlane_business",M="https://support.dashlane.com/hc/requests/new?req_type=dashlane_for_business&topic=add_seats",x="https://support.apple.com/HT202039",D="https://support.apple.com/HT204088",I="https://support.google.com/googleplay/answer/7018481?co=GENIE.Platform%3DDesktop",Z="https://support.google.com/store/answer/6160235",w=(e="")=>`https://app.dashlane.com/#/team/signup?team=${e}`},466404:(e,t,a)=>{a.d(t,{MQ:()=>o,n5:()=>l,t2:()=>i,v0:()=>r}),a(233377);var n=a(331e3);const s=e=>(e=>"function"==typeof e.getState)(e)?e.getState():e,i=e=>s(e).user.session.login,r=e=>{const t=i(e),a=s(e).user.session.uki;return a?{login:t||null,uki:a||null,teamId:(0,n.ev)(s(e))}:null},o=e=>s(e).user.session.sessionId,l=e=>s(e).user.session.anonymousUserId}}]);
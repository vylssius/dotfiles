/*! For license information please see extension-vendors-44631df6.js.LICENSE.txt */
(self.webpackChunk_dashlane_amphora=self.webpackChunk_dashlane_amphora||[]).push([[921],{71554:(e,t,r)=>{"use strict";var n,i=r(15313).Buffer;function a(e){return Object.keys(e).map((t=>e[t]))}Object.defineProperty(t,"__esModule",{value:!0}),(n=t.HashAlgorithms||(t.HashAlgorithms={})).SHA1="sha1",n.SHA256="sha256",n.SHA512="sha512";const s=a(t.HashAlgorithms);var o;(o=t.KeyEncodings||(t.KeyEncodings={})).ASCII="ascii",o.BASE64="base64",o.HEX="hex",o.LATIN1="latin1",o.UTF8="utf8";const u=a(t.KeyEncodings);var c;(c=t.Strategy||(t.Strategy={})).HOTP="hotp",c.TOTP="totp";const l=a(t.Strategy),h=()=>{throw new Error("Please provide an options.createDigest implementation.")};function f(e){return/^(\d+)$/.test(e)}function d(e,t,r){if(e.length>=t)return e;return`${Array(t+1).join(r)}${e}`.slice(-1*t)}function p(e){const t=`otpauth://${e.type}/{labelPrefix}:{accountName}?secret={secret}{query}`,r=[];if(l.indexOf(e.type)<0)throw new Error(`Expecting options.type to be one of ${l.join(", ")}. Received ${e.type}.`);if("hotp"===e.type){if(null==e.counter||"number"!=typeof e.counter)throw new Error('Expecting options.counter to be a number when options.type is "hotp".');r.push(`&counter=${e.counter}`)}return"totp"===e.type&&e.step&&r.push(`&period=${e.step}`),e.digits&&r.push(`&digits=${e.digits}`),e.algorithm&&r.push(`&algorithm=${e.algorithm.toUpperCase()}`),e.issuer&&r.push(`&issuer=${encodeURIComponent(e.issuer)}`),t.replace("{labelPrefix}",encodeURIComponent(e.issuer||e.accountName)).replace("{accountName}",encodeURIComponent(e.accountName)).replace("{secret}",e.secret).replace("{query}",r.join(""))}class m{constructor(e={}){this._defaultOptions=Object.freeze({...e}),this._options=Object.freeze({})}create(e={}){return new m(e)}clone(e={}){const t=this.create({...this._defaultOptions,...e});return t.options=this._options,t}get options(){return Object.freeze({...this._defaultOptions,...this._options})}set options(e){this._options=Object.freeze({...this._options,...e})}allOptions(){return this.options}resetOptions(){this._options=Object.freeze({})}}function b(e){if("function"!=typeof e.createDigest)throw new Error("Expecting options.createDigest to be a function.");if("function"!=typeof e.createHmacKey)throw new Error("Expecting options.createHmacKey to be a function.");if("number"!=typeof e.digits)throw new Error("Expecting options.digits to be a number.");if(!e.algorithm||s.indexOf(e.algorithm)<0)throw new Error(`Expecting options.algorithm to be one of ${s.join(", ")}. Received ${e.algorithm}.`);if(!e.encoding||u.indexOf(e.encoding)<0)throw new Error(`Expecting options.encoding to be one of ${u.join(", ")}. Received ${e.encoding}.`)}const v=(e,t,r)=>i.from(t,r).toString("hex");function y(){return{algorithm:t.HashAlgorithms.SHA1,createHmacKey:v,createDigest:h,digits:6,encoding:t.KeyEncodings.ASCII}}function g(e){const t={...y(),...e};return b(t),Object.freeze(t)}function w(e){return d(e.toString(16),16,"0")}function S(e,t){const r=i.from(e,"hex"),n=15&r[r.length-1],a=((127&r[n])<<24|(255&r[n+1])<<16|(255&r[n+2])<<8|255&r[n+3])%Math.pow(10,t);return d(String(a),t,"0")}function _(e,t,r){const n=r.digest||function(e,t,r){const n=w(t),i=r.createHmacKey(r.algorithm,e,r.encoding);return r.createDigest(r.algorithm,i,n)}(e,t,r);return S(n,r.digits)}function A(e,t,r,n){if(!f(e))return!1;return e===_(t,r,n)}function k(e,r,n,i,a){return p({algorithm:a.algorithm,digits:a.digits,type:t.Strategy.HOTP,accountName:e,counter:i,issuer:r,secret:n})}class E extends m{create(e={}){return new E(e)}allOptions(){return g(this.options)}generate(e,t){return _(e,t,this.allOptions())}check(e,t,r){return A(e,t,r,this.allOptions())}verify(e){if("object"!=typeof e)throw new Error("Expecting argument 0 of verify to be an object");return this.check(e.token,e.secret,e.counter)}keyuri(e,t,r,n){return k(e,t,r,n,this.allOptions())}}function O(e){if("number"==typeof e)return[Math.abs(e),Math.abs(e)];if(Array.isArray(e)){const[t,r]=e;if("number"==typeof t&&"number"==typeof r)return[Math.abs(t),Math.abs(r)]}throw new Error("Expecting options.window to be an number or [number, number].")}function C(e){if(b(e),O(e.window),"number"!=typeof e.epoch)throw new Error("Expecting options.epoch to be a number.");if("number"!=typeof e.step)throw new Error("Expecting options.step to be a number.")}const N=(e,t,r)=>{const n=e.length,a=i.from(e,t).toString("hex");if(n<r){const e=new Array(r-n+1).join(a);return i.from(e,"hex").slice(0,r).toString("hex")}return a},x=(e,r,n)=>{switch(e){case t.HashAlgorithms.SHA1:return N(r,n,20);case t.HashAlgorithms.SHA256:return N(r,n,32);case t.HashAlgorithms.SHA512:return N(r,n,64);default:throw new Error(`Expecting algorithm to be one of ${s.join(", ")}. Received ${e}.`)}};function P(){return{algorithm:t.HashAlgorithms.SHA1,createDigest:h,createHmacKey:x,digits:6,encoding:t.KeyEncodings.ASCII,epoch:Date.now(),step:30,window:0}}function I(e){const t={...P(),...e};return C(t),Object.freeze(t)}function T(e,t){return Math.floor(e/t/1e3)}function j(e,t){return _(e,T(t.epoch,t.step),t)}function V(e,t,r,n){const i=[];if(0===n)return i;for(let a=1;a<=n;a++){const n=t*a*r;i.push(e+n)}return i}function B(e,t,r){const n=O(r),i=1e3*t;return{current:e,past:V(e,-1,i,n[0]),future:V(e,1,i,n[1])}}function D(e,t,r){if(!f(e))return!1;return e===j(t,r)}function H(e,t,r,n){let i=null;return e.some(((e,a)=>!!D(t,r,{...n,epoch:e})&&(i=a+1,!0))),i}function M(e,t,r){if(D(e,t,r))return 0;const n=B(r.epoch,r.step,r.window),i=H(n.past,e,t,r);return null!==i?-1*i:H(n.future,e,t,r)}function R(e,t){return Math.floor(e/1e3)%t}function L(e,t){return t-R(e,t)}function $(e,r,n,i){return p({algorithm:i.algorithm,digits:i.digits,step:i.step,type:t.Strategy.TOTP,accountName:e,issuer:r,secret:n})}class U extends E{create(e={}){return new U(e)}allOptions(){return I(this.options)}generate(e){return j(e,this.allOptions())}checkDelta(e,t){return M(e,t,this.allOptions())}check(e,t){return"number"==typeof this.checkDelta(e,t)}verify(e){if("object"!=typeof e)throw new Error("Expecting argument 0 of verify to be an object");return this.check(e.token,e.secret)}timeRemaining(){const e=this.allOptions();return L(e.epoch,e.step)}timeUsed(){const e=this.allOptions();return R(e.epoch,e.step)}keyuri(e,t,r){return $(e,t,r,this.allOptions())}}function F(e){if(C(e),"function"!=typeof e.keyDecoder)throw new Error("Expecting options.keyDecoder to be a function.");if(e.keyEncoder&&"function"!=typeof e.keyEncoder)throw new Error("Expecting options.keyEncoder to be a function.")}function K(){return{algorithm:t.HashAlgorithms.SHA1,createDigest:h,createHmacKey:x,digits:6,encoding:t.KeyEncodings.HEX,epoch:Date.now(),step:30,window:0}}function z(e){const t={...K(),...e};return F(t),Object.freeze(t)}function W(e,t){return t.keyEncoder(e,t.encoding)}function q(e,t){return t.keyDecoder(e,t.encoding)}function Z(e,t){return W(t.createRandomBytes(e,t.encoding),t)}function J(e,t){return j(q(e,t),t)}function G(e,t,r){return M(e,q(t,r),r)}class Y extends U{create(e={}){return new Y(e)}allOptions(){return z(this.options)}generate(e){return J(e,this.allOptions())}checkDelta(e,t){return G(e,t,this.allOptions())}encode(e){return W(e,this.allOptions())}decode(e){return q(e,this.allOptions())}generateSecret(e=10){return Z(e,this.allOptions())}}t.Authenticator=Y,t.HASH_ALGORITHMS=s,t.HOTP=E,t.KEY_ENCODINGS=u,t.OTP=m,t.STRATEGY=l,t.TOTP=U,t.authenticatorCheckWithWindow=G,t.authenticatorDecoder=q,t.authenticatorDefaultOptions=K,t.authenticatorEncoder=W,t.authenticatorGenerateSecret=Z,t.authenticatorOptionValidator=F,t.authenticatorOptions=z,t.authenticatorToken=J,t.createDigestPlaceholder=h,t.hotpCheck=A,t.hotpCounter=w,t.hotpCreateHmacKey=v,t.hotpDefaultOptions=y,t.hotpDigestToToken=S,t.hotpKeyuri=k,t.hotpOptions=g,t.hotpOptionsValidator=b,t.hotpToken=_,t.isTokenValid=f,t.keyuri=p,t.objectValues=a,t.padStart=d,t.totpCheck=D,t.totpCheckByEpoch=H,t.totpCheckWithWindow=M,t.totpCounter=T,t.totpCreateHmacKey=x,t.totpDefaultOptions=P,t.totpEpochAvailable=B,t.totpKeyuri=$,t.totpOptions=I,t.totpOptionsValidator=C,t.totpPadSecret=N,t.totpTimeRemaining=L,t.totpTimeUsed=R,t.totpToken=j},31030:(e,t,r)=>{"use strict";var n=r(15313).Buffer;Object.defineProperty(t,"__esModule",{value:!0});var i,a=(i=r(69678))&&"object"==typeof i&&"default"in i?i.default:i;t.createDigest=(e,t,r)=>a.createHmac(e,n.from(t,"hex")).update(n.from(r,"hex")).digest().toString("hex"),t.createRandomBytes=(e,t)=>a.randomBytes(e).toString(t)},25740:(e,t,r)=>{"use strict";var n=r(15313).Buffer;Object.defineProperty(t,"__esModule",{value:!0});var i,a=(i=r(74155))&&"object"==typeof i&&"default"in i?i.default:i;t.keyDecoder=(e,t)=>a.decode(e).toString(t),t.keyEncoder=(e,t)=>a.encode(n.from(e,t).toString("ascii")).toString().replace(/=/g,"")},65756:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(31030),i=r(25740),a=r(71554);const s=new a.HOTP({createDigest:n.createDigest}),o=new a.TOTP({createDigest:n.createDigest}),u=new a.Authenticator({createDigest:n.createDigest,createRandomBytes:n.createRandomBytes,keyDecoder:i.keyDecoder,keyEncoder:i.keyEncoder});t.authenticator=u,t.hotp=s,t.totp=o},68243:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(65756);Object.keys(n).forEach((function(e){"default"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return n[e]}})}))},93347:(e,t,r)=>{"use strict";var n={};(0,r(2604).assign)(n,r(20988),r(62727),r(6857)),e.exports=n},20988:(e,t,r)=>{"use strict";var n=r(63172),i=r(2604),a=r(94615),s=r(66186),o=r(24104),u=Object.prototype.toString,c=0,l=-1,h=0,f=8;function d(e){if(!(this instanceof d))return new d(e);this.options=i.assign({level:l,method:f,chunkSize:16384,windowBits:15,memLevel:8,strategy:h,to:""},e||{});var t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new o,this.strm.avail_out=0;var r=n.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(r!==c)throw new Error(s[r]);if(t.header&&n.deflateSetHeader(this.strm,t.header),t.dictionary){var p;if(p="string"==typeof t.dictionary?a.string2buf(t.dictionary):"[object ArrayBuffer]"===u.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,(r=n.deflateSetDictionary(this.strm,p))!==c)throw new Error(s[r]);this._dict_set=!0}}function p(e,t){var r=new d(t);if(r.push(e,!0),r.err)throw r.msg||s[r.err];return r.result}d.prototype.push=function(e,t){var r,s,o=this.strm,l=this.options.chunkSize;if(this.ended)return!1;s=t===~~t?t:!0===t?4:0,"string"==typeof e?o.input=a.string2buf(e):"[object ArrayBuffer]"===u.call(e)?o.input=new Uint8Array(e):o.input=e,o.next_in=0,o.avail_in=o.input.length;do{if(0===o.avail_out&&(o.output=new i.Buf8(l),o.next_out=0,o.avail_out=l),1!==(r=n.deflate(o,s))&&r!==c)return this.onEnd(r),this.ended=!0,!1;0!==o.avail_out&&(0!==o.avail_in||4!==s&&2!==s)||("string"===this.options.to?this.onData(a.buf2binstring(i.shrinkBuf(o.output,o.next_out))):this.onData(i.shrinkBuf(o.output,o.next_out)))}while((o.avail_in>0||0===o.avail_out)&&1!==r);return 4===s?(r=n.deflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===c):2!==s||(this.onEnd(c),o.avail_out=0,!0)},d.prototype.onData=function(e){this.chunks.push(e)},d.prototype.onEnd=function(e){e===c&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},t.Deflate=d,t.deflate=p,t.deflateRaw=function(e,t){return(t=t||{}).raw=!0,p(e,t)},t.gzip=function(e,t){return(t=t||{}).gzip=!0,p(e,t)}},62727:(e,t,r)=>{"use strict";var n=r(86919),i=r(2604),a=r(94615),s=r(6857),o=r(66186),u=r(24104),c=r(62948),l=Object.prototype.toString;function h(e){if(!(this instanceof h))return new h(e);this.options=i.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var r=n.inflateInit2(this.strm,t.windowBits);if(r!==s.Z_OK)throw new Error(o[r]);if(this.header=new c,n.inflateGetHeader(this.strm,this.header),t.dictionary&&("string"==typeof t.dictionary?t.dictionary=a.string2buf(t.dictionary):"[object ArrayBuffer]"===l.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(r=n.inflateSetDictionary(this.strm,t.dictionary))!==s.Z_OK))throw new Error(o[r])}function f(e,t){var r=new h(t);if(r.push(e,!0),r.err)throw r.msg||o[r.err];return r.result}h.prototype.push=function(e,t){var r,o,u,c,h,f=this.strm,d=this.options.chunkSize,p=this.options.dictionary,m=!1;if(this.ended)return!1;o=t===~~t?t:!0===t?s.Z_FINISH:s.Z_NO_FLUSH,"string"==typeof e?f.input=a.binstring2buf(e):"[object ArrayBuffer]"===l.call(e)?f.input=new Uint8Array(e):f.input=e,f.next_in=0,f.avail_in=f.input.length;do{if(0===f.avail_out&&(f.output=new i.Buf8(d),f.next_out=0,f.avail_out=d),(r=n.inflate(f,s.Z_NO_FLUSH))===s.Z_NEED_DICT&&p&&(r=n.inflateSetDictionary(this.strm,p)),r===s.Z_BUF_ERROR&&!0===m&&(r=s.Z_OK,m=!1),r!==s.Z_STREAM_END&&r!==s.Z_OK)return this.onEnd(r),this.ended=!0,!1;f.next_out&&(0!==f.avail_out&&r!==s.Z_STREAM_END&&(0!==f.avail_in||o!==s.Z_FINISH&&o!==s.Z_SYNC_FLUSH)||("string"===this.options.to?(u=a.utf8border(f.output,f.next_out),c=f.next_out-u,h=a.buf2string(f.output,u),f.next_out=c,f.avail_out=d-c,c&&i.arraySet(f.output,f.output,u,c,0),this.onData(h)):this.onData(i.shrinkBuf(f.output,f.next_out)))),0===f.avail_in&&0===f.avail_out&&(m=!0)}while((f.avail_in>0||0===f.avail_out)&&r!==s.Z_STREAM_END);return r===s.Z_STREAM_END&&(o=s.Z_FINISH),o===s.Z_FINISH?(r=n.inflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===s.Z_OK):o!==s.Z_SYNC_FLUSH||(this.onEnd(s.Z_OK),f.avail_out=0,!0)},h.prototype.onData=function(e){this.chunks.push(e)},h.prototype.onEnd=function(e){e===s.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},t.Inflate=h,t.inflate=f,t.inflateRaw=function(e,t){return(t=t||{}).raw=!0,f(e,t)},t.ungzip=f},2604:(e,t)=>{"use strict";var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;function n(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var r=t.shift();if(r){if("object"!=typeof r)throw new TypeError(r+"must be non-object");for(var i in r)n(r,i)&&(e[i]=r[i])}}return e},t.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var i={arraySet:function(e,t,r,n,i){if(t.subarray&&e.subarray)e.set(t.subarray(r,r+n),i);else for(var a=0;a<n;a++)e[i+a]=t[r+a]},flattenChunks:function(e){var t,r,n,i,a,s;for(n=0,t=0,r=e.length;t<r;t++)n+=e[t].length;for(s=new Uint8Array(n),i=0,t=0,r=e.length;t<r;t++)a=e[t],s.set(a,i),i+=a.length;return s}},a={arraySet:function(e,t,r,n,i){for(var a=0;a<n;a++)e[i+a]=t[r+a]},flattenChunks:function(e){return[].concat.apply([],e)}};t.setTyped=function(e){e?(t.Buf8=Uint8Array,t.Buf16=Uint16Array,t.Buf32=Int32Array,t.assign(t,i)):(t.Buf8=Array,t.Buf16=Array,t.Buf32=Array,t.assign(t,a))},t.setTyped(r)},94615:(e,t,r)=>{"use strict";var n=r(2604),i=!0,a=!0;try{String.fromCharCode.apply(null,[0])}catch(e){i=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){a=!1}for(var s=new n.Buf8(256),o=0;o<256;o++)s[o]=o>=252?6:o>=248?5:o>=240?4:o>=224?3:o>=192?2:1;function u(e,t){if(t<65534&&(e.subarray&&a||!e.subarray&&i))return String.fromCharCode.apply(null,n.shrinkBuf(e,t));for(var r="",s=0;s<t;s++)r+=String.fromCharCode(e[s]);return r}s[254]=s[254]=1,t.string2buf=function(e){var t,r,i,a,s,o=e.length,u=0;for(a=0;a<o;a++)55296==(64512&(r=e.charCodeAt(a)))&&a+1<o&&56320==(64512&(i=e.charCodeAt(a+1)))&&(r=65536+(r-55296<<10)+(i-56320),a++),u+=r<128?1:r<2048?2:r<65536?3:4;for(t=new n.Buf8(u),s=0,a=0;s<u;a++)55296==(64512&(r=e.charCodeAt(a)))&&a+1<o&&56320==(64512&(i=e.charCodeAt(a+1)))&&(r=65536+(r-55296<<10)+(i-56320),a++),r<128?t[s++]=r:r<2048?(t[s++]=192|r>>>6,t[s++]=128|63&r):r<65536?(t[s++]=224|r>>>12,t[s++]=128|r>>>6&63,t[s++]=128|63&r):(t[s++]=240|r>>>18,t[s++]=128|r>>>12&63,t[s++]=128|r>>>6&63,t[s++]=128|63&r);return t},t.buf2binstring=function(e){return u(e,e.length)},t.binstring2buf=function(e){for(var t=new n.Buf8(e.length),r=0,i=t.length;r<i;r++)t[r]=e.charCodeAt(r);return t},t.buf2string=function(e,t){var r,n,i,a,o=t||e.length,c=new Array(2*o);for(n=0,r=0;r<o;)if((i=e[r++])<128)c[n++]=i;else if((a=s[i])>4)c[n++]=65533,r+=a-1;else{for(i&=2===a?31:3===a?15:7;a>1&&r<o;)i=i<<6|63&e[r++],a--;a>1?c[n++]=65533:i<65536?c[n++]=i:(i-=65536,c[n++]=55296|i>>10&1023,c[n++]=56320|1023&i)}return u(c,n)},t.utf8border=function(e,t){var r;for((t=t||e.length)>e.length&&(t=e.length),r=t-1;r>=0&&128==(192&e[r]);)r--;return r<0||0===r?t:r+s[e[r]]>t?r:t}},55097:e=>{"use strict";e.exports=function(e,t,r,n){for(var i=65535&e|0,a=e>>>16&65535|0,s=0;0!==r;){r-=s=r>2e3?2e3:r;do{a=a+(i=i+t[n++]|0)|0}while(--s);i%=65521,a%=65521}return i|a<<16|0}},6857:e=>{"use strict";e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},54702:e=>{"use strict";var t=function(){for(var e,t=[],r=0;r<256;r++){e=r;for(var n=0;n<8;n++)e=1&e?3988292384^e>>>1:e>>>1;t[r]=e}return t}();e.exports=function(e,r,n,i){var a=t,s=i+n;e^=-1;for(var o=i;o<s;o++)e=e>>>8^a[255&(e^r[o])];return-1^e}},63172:(e,t,r)=>{"use strict";var n,i=r(2604),a=r(97134),s=r(55097),o=r(54702),u=r(66186),c=0,l=1,h=3,f=4,d=5,p=0,m=1,b=-2,v=-3,y=-5,g=-1,w=1,S=2,_=3,A=4,k=0,E=2,O=8,C=9,N=15,x=8,P=286,I=30,T=19,j=2*P+1,V=15,B=3,D=258,H=D+B+1,M=32,R=42,L=69,$=73,U=91,F=103,K=113,z=666,W=1,q=2,Z=3,J=4,G=3;function Y(e,t){return e.msg=u[t],t}function X(e){return(e<<1)-(e>4?9:0)}function Q(e){for(var t=e.length;--t>=0;)e[t]=0}function ee(e){var t=e.state,r=t.pending;r>e.avail_out&&(r=e.avail_out),0!==r&&(i.arraySet(e.output,t.pending_buf,t.pending_out,r,e.next_out),e.next_out+=r,t.pending_out+=r,e.total_out+=r,e.avail_out-=r,t.pending-=r,0===t.pending&&(t.pending_out=0))}function te(e,t){a._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,ee(e.strm)}function re(e,t){e.pending_buf[e.pending++]=t}function ne(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function ie(e,t){var r,n,i=e.max_chain_length,a=e.strstart,s=e.prev_length,o=e.nice_match,u=e.strstart>e.w_size-H?e.strstart-(e.w_size-H):0,c=e.window,l=e.w_mask,h=e.prev,f=e.strstart+D,d=c[a+s-1],p=c[a+s];e.prev_length>=e.good_match&&(i>>=2),o>e.lookahead&&(o=e.lookahead);do{if(c[(r=t)+s]===p&&c[r+s-1]===d&&c[r]===c[a]&&c[++r]===c[a+1]){a+=2,r++;do{}while(c[++a]===c[++r]&&c[++a]===c[++r]&&c[++a]===c[++r]&&c[++a]===c[++r]&&c[++a]===c[++r]&&c[++a]===c[++r]&&c[++a]===c[++r]&&c[++a]===c[++r]&&a<f);if(n=D-(f-a),a=f-D,n>s){if(e.match_start=t,s=n,n>=o)break;d=c[a+s-1],p=c[a+s]}}}while((t=h[t&l])>u&&0!=--i);return s<=e.lookahead?s:e.lookahead}function ae(e){var t,r,n,a,u,c,l,h,f,d,p=e.w_size;do{if(a=e.window_size-e.lookahead-e.strstart,e.strstart>=p+(p-H)){i.arraySet(e.window,e.window,p,p,0),e.match_start-=p,e.strstart-=p,e.block_start-=p,t=r=e.hash_size;do{n=e.head[--t],e.head[t]=n>=p?n-p:0}while(--r);t=r=p;do{n=e.prev[--t],e.prev[t]=n>=p?n-p:0}while(--r);a+=p}if(0===e.strm.avail_in)break;if(c=e.strm,l=e.window,h=e.strstart+e.lookahead,f=a,d=void 0,(d=c.avail_in)>f&&(d=f),r=0===d?0:(c.avail_in-=d,i.arraySet(l,c.input,c.next_in,d,h),1===c.state.wrap?c.adler=s(c.adler,l,d,h):2===c.state.wrap&&(c.adler=o(c.adler,l,d,h)),c.next_in+=d,c.total_in+=d,d),e.lookahead+=r,e.lookahead+e.insert>=B)for(u=e.strstart-e.insert,e.ins_h=e.window[u],e.ins_h=(e.ins_h<<e.hash_shift^e.window[u+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[u+B-1])&e.hash_mask,e.prev[u&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=u,u++,e.insert--,!(e.lookahead+e.insert<B)););}while(e.lookahead<H&&0!==e.strm.avail_in)}function se(e,t){for(var r,n;;){if(e.lookahead<H){if(ae(e),e.lookahead<H&&t===c)return W;if(0===e.lookahead)break}if(r=0,e.lookahead>=B&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+B-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==r&&e.strstart-r<=e.w_size-H&&(e.match_length=ie(e,r)),e.match_length>=B)if(n=a._tr_tally(e,e.strstart-e.match_start,e.match_length-B),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=B){e.match_length--;do{e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+B-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!=--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else n=a._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(n&&(te(e,!1),0===e.strm.avail_out))return W}return e.insert=e.strstart<B-1?e.strstart:B-1,t===f?(te(e,!0),0===e.strm.avail_out?Z:J):e.last_lit&&(te(e,!1),0===e.strm.avail_out)?W:q}function oe(e,t){for(var r,n,i;;){if(e.lookahead<H){if(ae(e),e.lookahead<H&&t===c)return W;if(0===e.lookahead)break}if(r=0,e.lookahead>=B&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+B-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=B-1,0!==r&&e.prev_length<e.max_lazy_match&&e.strstart-r<=e.w_size-H&&(e.match_length=ie(e,r),e.match_length<=5&&(e.strategy===w||e.match_length===B&&e.strstart-e.match_start>4096)&&(e.match_length=B-1)),e.prev_length>=B&&e.match_length<=e.prev_length){i=e.strstart+e.lookahead-B,n=a._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-B),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=i&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+B-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!=--e.prev_length);if(e.match_available=0,e.match_length=B-1,e.strstart++,n&&(te(e,!1),0===e.strm.avail_out))return W}else if(e.match_available){if((n=a._tr_tally(e,0,e.window[e.strstart-1]))&&te(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return W}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(n=a._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<B-1?e.strstart:B-1,t===f?(te(e,!0),0===e.strm.avail_out?Z:J):e.last_lit&&(te(e,!1),0===e.strm.avail_out)?W:q}function ue(e,t,r,n,i){this.good_length=e,this.max_lazy=t,this.nice_length=r,this.max_chain=n,this.func=i}function ce(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=O,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new i.Buf16(2*j),this.dyn_dtree=new i.Buf16(2*(2*I+1)),this.bl_tree=new i.Buf16(2*(2*T+1)),Q(this.dyn_ltree),Q(this.dyn_dtree),Q(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new i.Buf16(V+1),this.heap=new i.Buf16(2*P+1),Q(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new i.Buf16(2*P+1),Q(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function le(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=E,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?R:K,e.adler=2===t.wrap?0:1,t.last_flush=c,a._tr_init(t),p):Y(e,b)}function he(e){var t,r=le(e);return r===p&&((t=e.state).window_size=2*t.w_size,Q(t.head),t.max_lazy_match=n[t.level].max_lazy,t.good_match=n[t.level].good_length,t.nice_match=n[t.level].nice_length,t.max_chain_length=n[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=B-1,t.match_available=0,t.ins_h=0),r}function fe(e,t,r,n,a,s){if(!e)return b;var o=1;if(t===g&&(t=6),n<0?(o=0,n=-n):n>15&&(o=2,n-=16),a<1||a>C||r!==O||n<8||n>15||t<0||t>9||s<0||s>A)return Y(e,b);8===n&&(n=9);var u=new ce;return e.state=u,u.strm=e,u.wrap=o,u.gzhead=null,u.w_bits=n,u.w_size=1<<u.w_bits,u.w_mask=u.w_size-1,u.hash_bits=a+7,u.hash_size=1<<u.hash_bits,u.hash_mask=u.hash_size-1,u.hash_shift=~~((u.hash_bits+B-1)/B),u.window=new i.Buf8(2*u.w_size),u.head=new i.Buf16(u.hash_size),u.prev=new i.Buf16(u.w_size),u.lit_bufsize=1<<a+6,u.pending_buf_size=4*u.lit_bufsize,u.pending_buf=new i.Buf8(u.pending_buf_size),u.d_buf=1*u.lit_bufsize,u.l_buf=3*u.lit_bufsize,u.level=t,u.strategy=s,u.method=r,he(e)}n=[new ue(0,0,0,0,(function(e,t){var r=65535;for(r>e.pending_buf_size-5&&(r=e.pending_buf_size-5);;){if(e.lookahead<=1){if(ae(e),0===e.lookahead&&t===c)return W;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var n=e.block_start+r;if((0===e.strstart||e.strstart>=n)&&(e.lookahead=e.strstart-n,e.strstart=n,te(e,!1),0===e.strm.avail_out))return W;if(e.strstart-e.block_start>=e.w_size-H&&(te(e,!1),0===e.strm.avail_out))return W}return e.insert=0,t===f?(te(e,!0),0===e.strm.avail_out?Z:J):(e.strstart>e.block_start&&(te(e,!1),e.strm.avail_out),W)})),new ue(4,4,8,4,se),new ue(4,5,16,8,se),new ue(4,6,32,32,se),new ue(4,4,16,16,oe),new ue(8,16,32,32,oe),new ue(8,16,128,128,oe),new ue(8,32,128,256,oe),new ue(32,128,258,1024,oe),new ue(32,258,258,4096,oe)],t.deflateInit=function(e,t){return fe(e,t,O,N,x,k)},t.deflateInit2=fe,t.deflateReset=he,t.deflateResetKeep=le,t.deflateSetHeader=function(e,t){return e&&e.state?2!==e.state.wrap?b:(e.state.gzhead=t,p):b},t.deflate=function(e,t){var r,i,s,u;if(!e||!e.state||t>d||t<0)return e?Y(e,b):b;if(i=e.state,!e.output||!e.input&&0!==e.avail_in||i.status===z&&t!==f)return Y(e,0===e.avail_out?y:b);if(i.strm=e,r=i.last_flush,i.last_flush=t,i.status===R)if(2===i.wrap)e.adler=0,re(i,31),re(i,139),re(i,8),i.gzhead?(re(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),re(i,255&i.gzhead.time),re(i,i.gzhead.time>>8&255),re(i,i.gzhead.time>>16&255),re(i,i.gzhead.time>>24&255),re(i,9===i.level?2:i.strategy>=S||i.level<2?4:0),re(i,255&i.gzhead.os),i.gzhead.extra&&i.gzhead.extra.length&&(re(i,255&i.gzhead.extra.length),re(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(e.adler=o(e.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=L):(re(i,0),re(i,0),re(i,0),re(i,0),re(i,0),re(i,9===i.level?2:i.strategy>=S||i.level<2?4:0),re(i,G),i.status=K);else{var v=O+(i.w_bits-8<<4)<<8;v|=(i.strategy>=S||i.level<2?0:i.level<6?1:6===i.level?2:3)<<6,0!==i.strstart&&(v|=M),v+=31-v%31,i.status=K,ne(i,v),0!==i.strstart&&(ne(i,e.adler>>>16),ne(i,65535&e.adler)),e.adler=1}if(i.status===L)if(i.gzhead.extra){for(s=i.pending;i.gzindex<(65535&i.gzhead.extra.length)&&(i.pending!==i.pending_buf_size||(i.gzhead.hcrc&&i.pending>s&&(e.adler=o(e.adler,i.pending_buf,i.pending-s,s)),ee(e),s=i.pending,i.pending!==i.pending_buf_size));)re(i,255&i.gzhead.extra[i.gzindex]),i.gzindex++;i.gzhead.hcrc&&i.pending>s&&(e.adler=o(e.adler,i.pending_buf,i.pending-s,s)),i.gzindex===i.gzhead.extra.length&&(i.gzindex=0,i.status=$)}else i.status=$;if(i.status===$)if(i.gzhead.name){s=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>s&&(e.adler=o(e.adler,i.pending_buf,i.pending-s,s)),ee(e),s=i.pending,i.pending===i.pending_buf_size)){u=1;break}u=i.gzindex<i.gzhead.name.length?255&i.gzhead.name.charCodeAt(i.gzindex++):0,re(i,u)}while(0!==u);i.gzhead.hcrc&&i.pending>s&&(e.adler=o(e.adler,i.pending_buf,i.pending-s,s)),0===u&&(i.gzindex=0,i.status=U)}else i.status=U;if(i.status===U)if(i.gzhead.comment){s=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>s&&(e.adler=o(e.adler,i.pending_buf,i.pending-s,s)),ee(e),s=i.pending,i.pending===i.pending_buf_size)){u=1;break}u=i.gzindex<i.gzhead.comment.length?255&i.gzhead.comment.charCodeAt(i.gzindex++):0,re(i,u)}while(0!==u);i.gzhead.hcrc&&i.pending>s&&(e.adler=o(e.adler,i.pending_buf,i.pending-s,s)),0===u&&(i.status=F)}else i.status=F;if(i.status===F&&(i.gzhead.hcrc?(i.pending+2>i.pending_buf_size&&ee(e),i.pending+2<=i.pending_buf_size&&(re(i,255&e.adler),re(i,e.adler>>8&255),e.adler=0,i.status=K)):i.status=K),0!==i.pending){if(ee(e),0===e.avail_out)return i.last_flush=-1,p}else if(0===e.avail_in&&X(t)<=X(r)&&t!==f)return Y(e,y);if(i.status===z&&0!==e.avail_in)return Y(e,y);if(0!==e.avail_in||0!==i.lookahead||t!==c&&i.status!==z){var g=i.strategy===S?function(e,t){for(var r;;){if(0===e.lookahead&&(ae(e),0===e.lookahead)){if(t===c)return W;break}if(e.match_length=0,r=a._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,r&&(te(e,!1),0===e.strm.avail_out))return W}return e.insert=0,t===f?(te(e,!0),0===e.strm.avail_out?Z:J):e.last_lit&&(te(e,!1),0===e.strm.avail_out)?W:q}(i,t):i.strategy===_?function(e,t){for(var r,n,i,s,o=e.window;;){if(e.lookahead<=D){if(ae(e),e.lookahead<=D&&t===c)return W;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=B&&e.strstart>0&&(n=o[i=e.strstart-1])===o[++i]&&n===o[++i]&&n===o[++i]){s=e.strstart+D;do{}while(n===o[++i]&&n===o[++i]&&n===o[++i]&&n===o[++i]&&n===o[++i]&&n===o[++i]&&n===o[++i]&&n===o[++i]&&i<s);e.match_length=D-(s-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=B?(r=a._tr_tally(e,1,e.match_length-B),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(r=a._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),r&&(te(e,!1),0===e.strm.avail_out))return W}return e.insert=0,t===f?(te(e,!0),0===e.strm.avail_out?Z:J):e.last_lit&&(te(e,!1),0===e.strm.avail_out)?W:q}(i,t):n[i.level].func(i,t);if(g!==Z&&g!==J||(i.status=z),g===W||g===Z)return 0===e.avail_out&&(i.last_flush=-1),p;if(g===q&&(t===l?a._tr_align(i):t!==d&&(a._tr_stored_block(i,0,0,!1),t===h&&(Q(i.head),0===i.lookahead&&(i.strstart=0,i.block_start=0,i.insert=0))),ee(e),0===e.avail_out))return i.last_flush=-1,p}return t!==f?p:i.wrap<=0?m:(2===i.wrap?(re(i,255&e.adler),re(i,e.adler>>8&255),re(i,e.adler>>16&255),re(i,e.adler>>24&255),re(i,255&e.total_in),re(i,e.total_in>>8&255),re(i,e.total_in>>16&255),re(i,e.total_in>>24&255)):(ne(i,e.adler>>>16),ne(i,65535&e.adler)),ee(e),i.wrap>0&&(i.wrap=-i.wrap),0!==i.pending?p:m)},t.deflateEnd=function(e){var t;return e&&e.state?(t=e.state.status)!==R&&t!==L&&t!==$&&t!==U&&t!==F&&t!==K&&t!==z?Y(e,b):(e.state=null,t===K?Y(e,v):p):b},t.deflateSetDictionary=function(e,t){var r,n,a,o,u,c,l,h,f=t.length;if(!e||!e.state)return b;if(2===(o=(r=e.state).wrap)||1===o&&r.status!==R||r.lookahead)return b;for(1===o&&(e.adler=s(e.adler,t,f,0)),r.wrap=0,f>=r.w_size&&(0===o&&(Q(r.head),r.strstart=0,r.block_start=0,r.insert=0),h=new i.Buf8(r.w_size),i.arraySet(h,t,f-r.w_size,r.w_size,0),t=h,f=r.w_size),u=e.avail_in,c=e.next_in,l=e.input,e.avail_in=f,e.next_in=0,e.input=t,ae(r);r.lookahead>=B;){n=r.strstart,a=r.lookahead-(B-1);do{r.ins_h=(r.ins_h<<r.hash_shift^r.window[n+B-1])&r.hash_mask,r.prev[n&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=n,n++}while(--a);r.strstart=n,r.lookahead=B-1,ae(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=B-1,r.match_available=0,e.next_in=c,e.input=l,e.avail_in=u,r.wrap=o,p},t.deflateInfo="pako deflate (from Nodeca project)"},62948:e=>{"use strict";e.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},92039:e=>{"use strict";e.exports=function(e,t){var r,n,i,a,s,o,u,c,l,h,f,d,p,m,b,v,y,g,w,S,_,A,k,E,O;r=e.state,n=e.next_in,E=e.input,i=n+(e.avail_in-5),a=e.next_out,O=e.output,s=a-(t-e.avail_out),o=a+(e.avail_out-257),u=r.dmax,c=r.wsize,l=r.whave,h=r.wnext,f=r.window,d=r.hold,p=r.bits,m=r.lencode,b=r.distcode,v=(1<<r.lenbits)-1,y=(1<<r.distbits)-1;e:do{p<15&&(d+=E[n++]<<p,p+=8,d+=E[n++]<<p,p+=8),g=m[d&v];t:for(;;){if(d>>>=w=g>>>24,p-=w,0===(w=g>>>16&255))O[a++]=65535&g;else{if(!(16&w)){if(0==(64&w)){g=m[(65535&g)+(d&(1<<w)-1)];continue t}if(32&w){r.mode=12;break e}e.msg="invalid literal/length code",r.mode=30;break e}S=65535&g,(w&=15)&&(p<w&&(d+=E[n++]<<p,p+=8),S+=d&(1<<w)-1,d>>>=w,p-=w),p<15&&(d+=E[n++]<<p,p+=8,d+=E[n++]<<p,p+=8),g=b[d&y];r:for(;;){if(d>>>=w=g>>>24,p-=w,!(16&(w=g>>>16&255))){if(0==(64&w)){g=b[(65535&g)+(d&(1<<w)-1)];continue r}e.msg="invalid distance code",r.mode=30;break e}if(_=65535&g,p<(w&=15)&&(d+=E[n++]<<p,(p+=8)<w&&(d+=E[n++]<<p,p+=8)),(_+=d&(1<<w)-1)>u){e.msg="invalid distance too far back",r.mode=30;break e}if(d>>>=w,p-=w,_>(w=a-s)){if((w=_-w)>l&&r.sane){e.msg="invalid distance too far back",r.mode=30;break e}if(A=0,k=f,0===h){if(A+=c-w,w<S){S-=w;do{O[a++]=f[A++]}while(--w);A=a-_,k=O}}else if(h<w){if(A+=c+h-w,(w-=h)<S){S-=w;do{O[a++]=f[A++]}while(--w);if(A=0,h<S){S-=w=h;do{O[a++]=f[A++]}while(--w);A=a-_,k=O}}}else if(A+=h-w,w<S){S-=w;do{O[a++]=f[A++]}while(--w);A=a-_,k=O}for(;S>2;)O[a++]=k[A++],O[a++]=k[A++],O[a++]=k[A++],S-=3;S&&(O[a++]=k[A++],S>1&&(O[a++]=k[A++]))}else{A=a-_;do{O[a++]=O[A++],O[a++]=O[A++],O[a++]=O[A++],S-=3}while(S>2);S&&(O[a++]=O[A++],S>1&&(O[a++]=O[A++]))}break}}break}}while(n<i&&a<o);n-=S=p>>3,d&=(1<<(p-=S<<3))-1,e.next_in=n,e.next_out=a,e.avail_in=n<i?i-n+5:5-(n-i),e.avail_out=a<o?o-a+257:257-(a-o),r.hold=d,r.bits=p}},86919:(e,t,r)=>{"use strict";var n=r(2604),i=r(55097),a=r(54702),s=r(92039),o=r(7093),u=0,c=1,l=2,h=4,f=5,d=6,p=0,m=1,b=2,v=-2,y=-3,g=-4,w=-5,S=8,_=1,A=2,k=3,E=4,O=5,C=6,N=7,x=8,P=9,I=10,T=11,j=12,V=13,B=14,D=15,H=16,M=17,R=18,L=19,$=20,U=21,F=22,K=23,z=24,W=25,q=26,Z=27,J=28,G=29,Y=30,X=31,Q=852,ee=592,te=15;function re(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function ne(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new n.Buf16(320),this.work=new n.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function ie(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=_,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new n.Buf32(Q),t.distcode=t.distdyn=new n.Buf32(ee),t.sane=1,t.back=-1,p):v}function ae(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,ie(e)):v}function se(e,t){var r,n;return e&&e.state?(n=e.state,t<0?(r=0,t=-t):(r=1+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?v:(null!==n.window&&n.wbits!==t&&(n.window=null),n.wrap=r,n.wbits=t,ae(e))):v}function oe(e,t){var r,n;return e?(n=new ne,e.state=n,n.window=null,(r=se(e,t))!==p&&(e.state=null),r):v}var ue,ce,le=!0;function he(e){if(le){var t;for(ue=new n.Buf32(512),ce=new n.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(o(c,e.lens,0,288,ue,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;o(l,e.lens,0,32,ce,0,e.work,{bits:5}),le=!1}e.lencode=ue,e.lenbits=9,e.distcode=ce,e.distbits=5}function fe(e,t,r,i){var a,s=e.state;return null===s.window&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new n.Buf8(s.wsize)),i>=s.wsize?(n.arraySet(s.window,t,r-s.wsize,s.wsize,0),s.wnext=0,s.whave=s.wsize):((a=s.wsize-s.wnext)>i&&(a=i),n.arraySet(s.window,t,r-i,a,s.wnext),(i-=a)?(n.arraySet(s.window,t,r-i,i,0),s.wnext=i,s.whave=s.wsize):(s.wnext+=a,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=a))),0}t.inflateReset=ae,t.inflateReset2=se,t.inflateResetKeep=ie,t.inflateInit=function(e){return oe(e,te)},t.inflateInit2=oe,t.inflate=function(e,t){var r,Q,ee,te,ne,ie,ae,se,oe,ue,ce,le,de,pe,me,be,ve,ye,ge,we,Se,_e,Ae,ke,Ee=0,Oe=new n.Buf8(4),Ce=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return v;(r=e.state).mode===j&&(r.mode=V),ne=e.next_out,ee=e.output,ae=e.avail_out,te=e.next_in,Q=e.input,ie=e.avail_in,se=r.hold,oe=r.bits,ue=ie,ce=ae,_e=p;e:for(;;)switch(r.mode){case _:if(0===r.wrap){r.mode=V;break}for(;oe<16;){if(0===ie)break e;ie--,se+=Q[te++]<<oe,oe+=8}if(2&r.wrap&&35615===se){r.check=0,Oe[0]=255&se,Oe[1]=se>>>8&255,r.check=a(r.check,Oe,2,0),se=0,oe=0,r.mode=A;break}if(r.flags=0,r.head&&(r.head.done=!1),!(1&r.wrap)||(((255&se)<<8)+(se>>8))%31){e.msg="incorrect header check",r.mode=Y;break}if((15&se)!==S){e.msg="unknown compression method",r.mode=Y;break}if(oe-=4,Se=8+(15&(se>>>=4)),0===r.wbits)r.wbits=Se;else if(Se>r.wbits){e.msg="invalid window size",r.mode=Y;break}r.dmax=1<<Se,e.adler=r.check=1,r.mode=512&se?I:j,se=0,oe=0;break;case A:for(;oe<16;){if(0===ie)break e;ie--,se+=Q[te++]<<oe,oe+=8}if(r.flags=se,(255&r.flags)!==S){e.msg="unknown compression method",r.mode=Y;break}if(57344&r.flags){e.msg="unknown header flags set",r.mode=Y;break}r.head&&(r.head.text=se>>8&1),512&r.flags&&(Oe[0]=255&se,Oe[1]=se>>>8&255,r.check=a(r.check,Oe,2,0)),se=0,oe=0,r.mode=k;case k:for(;oe<32;){if(0===ie)break e;ie--,se+=Q[te++]<<oe,oe+=8}r.head&&(r.head.time=se),512&r.flags&&(Oe[0]=255&se,Oe[1]=se>>>8&255,Oe[2]=se>>>16&255,Oe[3]=se>>>24&255,r.check=a(r.check,Oe,4,0)),se=0,oe=0,r.mode=E;case E:for(;oe<16;){if(0===ie)break e;ie--,se+=Q[te++]<<oe,oe+=8}r.head&&(r.head.xflags=255&se,r.head.os=se>>8),512&r.flags&&(Oe[0]=255&se,Oe[1]=se>>>8&255,r.check=a(r.check,Oe,2,0)),se=0,oe=0,r.mode=O;case O:if(1024&r.flags){for(;oe<16;){if(0===ie)break e;ie--,se+=Q[te++]<<oe,oe+=8}r.length=se,r.head&&(r.head.extra_len=se),512&r.flags&&(Oe[0]=255&se,Oe[1]=se>>>8&255,r.check=a(r.check,Oe,2,0)),se=0,oe=0}else r.head&&(r.head.extra=null);r.mode=C;case C:if(1024&r.flags&&((le=r.length)>ie&&(le=ie),le&&(r.head&&(Se=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Array(r.head.extra_len)),n.arraySet(r.head.extra,Q,te,le,Se)),512&r.flags&&(r.check=a(r.check,Q,le,te)),ie-=le,te+=le,r.length-=le),r.length))break e;r.length=0,r.mode=N;case N:if(2048&r.flags){if(0===ie)break e;le=0;do{Se=Q[te+le++],r.head&&Se&&r.length<65536&&(r.head.name+=String.fromCharCode(Se))}while(Se&&le<ie);if(512&r.flags&&(r.check=a(r.check,Q,le,te)),ie-=le,te+=le,Se)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=x;case x:if(4096&r.flags){if(0===ie)break e;le=0;do{Se=Q[te+le++],r.head&&Se&&r.length<65536&&(r.head.comment+=String.fromCharCode(Se))}while(Se&&le<ie);if(512&r.flags&&(r.check=a(r.check,Q,le,te)),ie-=le,te+=le,Se)break e}else r.head&&(r.head.comment=null);r.mode=P;case P:if(512&r.flags){for(;oe<16;){if(0===ie)break e;ie--,se+=Q[te++]<<oe,oe+=8}if(se!==(65535&r.check)){e.msg="header crc mismatch",r.mode=Y;break}se=0,oe=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=j;break;case I:for(;oe<32;){if(0===ie)break e;ie--,se+=Q[te++]<<oe,oe+=8}e.adler=r.check=re(se),se=0,oe=0,r.mode=T;case T:if(0===r.havedict)return e.next_out=ne,e.avail_out=ae,e.next_in=te,e.avail_in=ie,r.hold=se,r.bits=oe,b;e.adler=r.check=1,r.mode=j;case j:if(t===f||t===d)break e;case V:if(r.last){se>>>=7&oe,oe-=7&oe,r.mode=Z;break}for(;oe<3;){if(0===ie)break e;ie--,se+=Q[te++]<<oe,oe+=8}switch(r.last=1&se,oe-=1,3&(se>>>=1)){case 0:r.mode=B;break;case 1:if(he(r),r.mode=$,t===d){se>>>=2,oe-=2;break e}break;case 2:r.mode=M;break;case 3:e.msg="invalid block type",r.mode=Y}se>>>=2,oe-=2;break;case B:for(se>>>=7&oe,oe-=7&oe;oe<32;){if(0===ie)break e;ie--,se+=Q[te++]<<oe,oe+=8}if((65535&se)!=(se>>>16^65535)){e.msg="invalid stored block lengths",r.mode=Y;break}if(r.length=65535&se,se=0,oe=0,r.mode=D,t===d)break e;case D:r.mode=H;case H:if(le=r.length){if(le>ie&&(le=ie),le>ae&&(le=ae),0===le)break e;n.arraySet(ee,Q,te,le,ne),ie-=le,te+=le,ae-=le,ne+=le,r.length-=le;break}r.mode=j;break;case M:for(;oe<14;){if(0===ie)break e;ie--,se+=Q[te++]<<oe,oe+=8}if(r.nlen=257+(31&se),se>>>=5,oe-=5,r.ndist=1+(31&se),se>>>=5,oe-=5,r.ncode=4+(15&se),se>>>=4,oe-=4,r.nlen>286||r.ndist>30){e.msg="too many length or distance symbols",r.mode=Y;break}r.have=0,r.mode=R;case R:for(;r.have<r.ncode;){for(;oe<3;){if(0===ie)break e;ie--,se+=Q[te++]<<oe,oe+=8}r.lens[Ce[r.have++]]=7&se,se>>>=3,oe-=3}for(;r.have<19;)r.lens[Ce[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,Ae={bits:r.lenbits},_e=o(u,r.lens,0,19,r.lencode,0,r.work,Ae),r.lenbits=Ae.bits,_e){e.msg="invalid code lengths set",r.mode=Y;break}r.have=0,r.mode=L;case L:for(;r.have<r.nlen+r.ndist;){for(;be=(Ee=r.lencode[se&(1<<r.lenbits)-1])>>>16&255,ve=65535&Ee,!((me=Ee>>>24)<=oe);){if(0===ie)break e;ie--,se+=Q[te++]<<oe,oe+=8}if(ve<16)se>>>=me,oe-=me,r.lens[r.have++]=ve;else{if(16===ve){for(ke=me+2;oe<ke;){if(0===ie)break e;ie--,se+=Q[te++]<<oe,oe+=8}if(se>>>=me,oe-=me,0===r.have){e.msg="invalid bit length repeat",r.mode=Y;break}Se=r.lens[r.have-1],le=3+(3&se),se>>>=2,oe-=2}else if(17===ve){for(ke=me+3;oe<ke;){if(0===ie)break e;ie--,se+=Q[te++]<<oe,oe+=8}oe-=me,Se=0,le=3+(7&(se>>>=me)),se>>>=3,oe-=3}else{for(ke=me+7;oe<ke;){if(0===ie)break e;ie--,se+=Q[te++]<<oe,oe+=8}oe-=me,Se=0,le=11+(127&(se>>>=me)),se>>>=7,oe-=7}if(r.have+le>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=Y;break}for(;le--;)r.lens[r.have++]=Se}}if(r.mode===Y)break;if(0===r.lens[256]){e.msg="invalid code -- missing end-of-block",r.mode=Y;break}if(r.lenbits=9,Ae={bits:r.lenbits},_e=o(c,r.lens,0,r.nlen,r.lencode,0,r.work,Ae),r.lenbits=Ae.bits,_e){e.msg="invalid literal/lengths set",r.mode=Y;break}if(r.distbits=6,r.distcode=r.distdyn,Ae={bits:r.distbits},_e=o(l,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,Ae),r.distbits=Ae.bits,_e){e.msg="invalid distances set",r.mode=Y;break}if(r.mode=$,t===d)break e;case $:r.mode=U;case U:if(ie>=6&&ae>=258){e.next_out=ne,e.avail_out=ae,e.next_in=te,e.avail_in=ie,r.hold=se,r.bits=oe,s(e,ce),ne=e.next_out,ee=e.output,ae=e.avail_out,te=e.next_in,Q=e.input,ie=e.avail_in,se=r.hold,oe=r.bits,r.mode===j&&(r.back=-1);break}for(r.back=0;be=(Ee=r.lencode[se&(1<<r.lenbits)-1])>>>16&255,ve=65535&Ee,!((me=Ee>>>24)<=oe);){if(0===ie)break e;ie--,se+=Q[te++]<<oe,oe+=8}if(be&&0==(240&be)){for(ye=me,ge=be,we=ve;be=(Ee=r.lencode[we+((se&(1<<ye+ge)-1)>>ye)])>>>16&255,ve=65535&Ee,!(ye+(me=Ee>>>24)<=oe);){if(0===ie)break e;ie--,se+=Q[te++]<<oe,oe+=8}se>>>=ye,oe-=ye,r.back+=ye}if(se>>>=me,oe-=me,r.back+=me,r.length=ve,0===be){r.mode=q;break}if(32&be){r.back=-1,r.mode=j;break}if(64&be){e.msg="invalid literal/length code",r.mode=Y;break}r.extra=15&be,r.mode=F;case F:if(r.extra){for(ke=r.extra;oe<ke;){if(0===ie)break e;ie--,se+=Q[te++]<<oe,oe+=8}r.length+=se&(1<<r.extra)-1,se>>>=r.extra,oe-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=K;case K:for(;be=(Ee=r.distcode[se&(1<<r.distbits)-1])>>>16&255,ve=65535&Ee,!((me=Ee>>>24)<=oe);){if(0===ie)break e;ie--,se+=Q[te++]<<oe,oe+=8}if(0==(240&be)){for(ye=me,ge=be,we=ve;be=(Ee=r.distcode[we+((se&(1<<ye+ge)-1)>>ye)])>>>16&255,ve=65535&Ee,!(ye+(me=Ee>>>24)<=oe);){if(0===ie)break e;ie--,se+=Q[te++]<<oe,oe+=8}se>>>=ye,oe-=ye,r.back+=ye}if(se>>>=me,oe-=me,r.back+=me,64&be){e.msg="invalid distance code",r.mode=Y;break}r.offset=ve,r.extra=15&be,r.mode=z;case z:if(r.extra){for(ke=r.extra;oe<ke;){if(0===ie)break e;ie--,se+=Q[te++]<<oe,oe+=8}r.offset+=se&(1<<r.extra)-1,se>>>=r.extra,oe-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=Y;break}r.mode=W;case W:if(0===ae)break e;if(le=ce-ae,r.offset>le){if((le=r.offset-le)>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=Y;break}le>r.wnext?(le-=r.wnext,de=r.wsize-le):de=r.wnext-le,le>r.length&&(le=r.length),pe=r.window}else pe=ee,de=ne-r.offset,le=r.length;le>ae&&(le=ae),ae-=le,r.length-=le;do{ee[ne++]=pe[de++]}while(--le);0===r.length&&(r.mode=U);break;case q:if(0===ae)break e;ee[ne++]=r.length,ae--,r.mode=U;break;case Z:if(r.wrap){for(;oe<32;){if(0===ie)break e;ie--,se|=Q[te++]<<oe,oe+=8}if(ce-=ae,e.total_out+=ce,r.total+=ce,ce&&(e.adler=r.check=r.flags?a(r.check,ee,ce,ne-ce):i(r.check,ee,ce,ne-ce)),ce=ae,(r.flags?se:re(se))!==r.check){e.msg="incorrect data check",r.mode=Y;break}se=0,oe=0}r.mode=J;case J:if(r.wrap&&r.flags){for(;oe<32;){if(0===ie)break e;ie--,se+=Q[te++]<<oe,oe+=8}if(se!==(4294967295&r.total)){e.msg="incorrect length check",r.mode=Y;break}se=0,oe=0}r.mode=G;case G:_e=m;break e;case Y:_e=y;break e;case X:return g;default:return v}return e.next_out=ne,e.avail_out=ae,e.next_in=te,e.avail_in=ie,r.hold=se,r.bits=oe,(r.wsize||ce!==e.avail_out&&r.mode<Y&&(r.mode<Z||t!==h))&&fe(e,e.output,e.next_out,ce-e.avail_out)?(r.mode=X,g):(ue-=e.avail_in,ce-=e.avail_out,e.total_in+=ue,e.total_out+=ce,r.total+=ce,r.wrap&&ce&&(e.adler=r.check=r.flags?a(r.check,ee,ce,e.next_out-ce):i(r.check,ee,ce,e.next_out-ce)),e.data_type=r.bits+(r.last?64:0)+(r.mode===j?128:0)+(r.mode===$||r.mode===D?256:0),(0===ue&&0===ce||t===h)&&_e===p&&(_e=w),_e)},t.inflateEnd=function(e){if(!e||!e.state)return v;var t=e.state;return t.window&&(t.window=null),e.state=null,p},t.inflateGetHeader=function(e,t){var r;return e&&e.state?0==(2&(r=e.state).wrap)?v:(r.head=t,t.done=!1,p):v},t.inflateSetDictionary=function(e,t){var r,n=t.length;return e&&e.state?0!==(r=e.state).wrap&&r.mode!==T?v:r.mode===T&&i(1,t,n,0)!==r.check?y:fe(e,t,n,n)?(r.mode=X,g):(r.havedict=1,p):v},t.inflateInfo="pako inflate (from Nodeca project)"},7093:(e,t,r)=>{"use strict";var n=r(2604),i=15,a=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],s=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],o=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],u=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(e,t,r,c,l,h,f,d){var p,m,b,v,y,g,w,S,_,A=d.bits,k=0,E=0,O=0,C=0,N=0,x=0,P=0,I=0,T=0,j=0,V=null,B=0,D=new n.Buf16(16),H=new n.Buf16(16),M=null,R=0;for(k=0;k<=i;k++)D[k]=0;for(E=0;E<c;E++)D[t[r+E]]++;for(N=A,C=i;C>=1&&0===D[C];C--);if(N>C&&(N=C),0===C)return l[h++]=20971520,l[h++]=20971520,d.bits=1,0;for(O=1;O<C&&0===D[O];O++);for(N<O&&(N=O),I=1,k=1;k<=i;k++)if(I<<=1,(I-=D[k])<0)return-1;if(I>0&&(0===e||1!==C))return-1;for(H[1]=0,k=1;k<i;k++)H[k+1]=H[k]+D[k];for(E=0;E<c;E++)0!==t[r+E]&&(f[H[t[r+E]]++]=E);if(0===e?(V=M=f,g=19):1===e?(V=a,B-=257,M=s,R-=257,g=256):(V=o,M=u,g=-1),j=0,E=0,k=O,y=h,x=N,P=0,b=-1,v=(T=1<<N)-1,1===e&&T>852||2===e&&T>592)return 1;for(;;){w=k-P,f[E]<g?(S=0,_=f[E]):f[E]>g?(S=M[R+f[E]],_=V[B+f[E]]):(S=96,_=0),p=1<<k-P,O=m=1<<x;do{l[y+(j>>P)+(m-=p)]=w<<24|S<<16|_|0}while(0!==m);for(p=1<<k-1;j&p;)p>>=1;if(0!==p?(j&=p-1,j+=p):j=0,E++,0==--D[k]){if(k===C)break;k=t[r+f[E]]}if(k>N&&(j&v)!==b){for(0===P&&(P=N),y+=O,I=1<<(x=k-P);x+P<C&&!((I-=D[x+P])<=0);)x++,I<<=1;if(T+=1<<x,1===e&&T>852||2===e&&T>592)return 1;l[b=j&v]=N<<24|x<<16|y-h|0}}return 0!==j&&(l[y+j]=k-P<<24|64<<16|0),d.bits=N,0}},66186:e=>{"use strict";e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},97134:(e,t,r)=>{"use strict";var n=r(2604),i=4,a=0,s=1,o=2;function u(e){for(var t=e.length;--t>=0;)e[t]=0}var c=0,l=1,h=2,f=29,d=256,p=d+1+f,m=30,b=19,v=2*p+1,y=15,g=16,w=7,S=256,_=16,A=17,k=18,E=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],O=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],C=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],N=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],x=new Array(2*(p+2));u(x);var P=new Array(2*m);u(P);var I=new Array(512);u(I);var T=new Array(256);u(T);var j=new Array(f);u(j);var V,B,D,H=new Array(m);function M(e,t,r,n,i){this.static_tree=e,this.extra_bits=t,this.extra_base=r,this.elems=n,this.max_length=i,this.has_stree=e&&e.length}function R(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function L(e){return e<256?I[e]:I[256+(e>>>7)]}function $(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function U(e,t,r){e.bi_valid>g-r?(e.bi_buf|=t<<e.bi_valid&65535,$(e,e.bi_buf),e.bi_buf=t>>g-e.bi_valid,e.bi_valid+=r-g):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=r)}function F(e,t,r){U(e,r[2*t],r[2*t+1])}function K(e,t){var r=0;do{r|=1&e,e>>>=1,r<<=1}while(--t>0);return r>>>1}function z(e,t,r){var n,i,a=new Array(y+1),s=0;for(n=1;n<=y;n++)a[n]=s=s+r[n-1]<<1;for(i=0;i<=t;i++){var o=e[2*i+1];0!==o&&(e[2*i]=K(a[o]++,o))}}function W(e){var t;for(t=0;t<p;t++)e.dyn_ltree[2*t]=0;for(t=0;t<m;t++)e.dyn_dtree[2*t]=0;for(t=0;t<b;t++)e.bl_tree[2*t]=0;e.dyn_ltree[2*S]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function q(e){e.bi_valid>8?$(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function Z(e,t,r,n){var i=2*t,a=2*r;return e[i]<e[a]||e[i]===e[a]&&n[t]<=n[r]}function J(e,t,r){for(var n=e.heap[r],i=r<<1;i<=e.heap_len&&(i<e.heap_len&&Z(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!Z(t,n,e.heap[i],e.depth));)e.heap[r]=e.heap[i],r=i,i<<=1;e.heap[r]=n}function G(e,t,r){var n,i,a,s,o=0;if(0!==e.last_lit)do{n=e.pending_buf[e.d_buf+2*o]<<8|e.pending_buf[e.d_buf+2*o+1],i=e.pending_buf[e.l_buf+o],o++,0===n?F(e,i,t):(F(e,(a=T[i])+d+1,t),0!==(s=E[a])&&U(e,i-=j[a],s),F(e,a=L(--n),r),0!==(s=O[a])&&U(e,n-=H[a],s))}while(o<e.last_lit);F(e,S,t)}function Y(e,t){var r,n,i,a=t.dyn_tree,s=t.stat_desc.static_tree,o=t.stat_desc.has_stree,u=t.stat_desc.elems,c=-1;for(e.heap_len=0,e.heap_max=v,r=0;r<u;r++)0!==a[2*r]?(e.heap[++e.heap_len]=c=r,e.depth[r]=0):a[2*r+1]=0;for(;e.heap_len<2;)a[2*(i=e.heap[++e.heap_len]=c<2?++c:0)]=1,e.depth[i]=0,e.opt_len--,o&&(e.static_len-=s[2*i+1]);for(t.max_code=c,r=e.heap_len>>1;r>=1;r--)J(e,a,r);i=u;do{r=e.heap[1],e.heap[1]=e.heap[e.heap_len--],J(e,a,1),n=e.heap[1],e.heap[--e.heap_max]=r,e.heap[--e.heap_max]=n,a[2*i]=a[2*r]+a[2*n],e.depth[i]=(e.depth[r]>=e.depth[n]?e.depth[r]:e.depth[n])+1,a[2*r+1]=a[2*n+1]=i,e.heap[1]=i++,J(e,a,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],function(e,t){var r,n,i,a,s,o,u=t.dyn_tree,c=t.max_code,l=t.stat_desc.static_tree,h=t.stat_desc.has_stree,f=t.stat_desc.extra_bits,d=t.stat_desc.extra_base,p=t.stat_desc.max_length,m=0;for(a=0;a<=y;a++)e.bl_count[a]=0;for(u[2*e.heap[e.heap_max]+1]=0,r=e.heap_max+1;r<v;r++)(a=u[2*u[2*(n=e.heap[r])+1]+1]+1)>p&&(a=p,m++),u[2*n+1]=a,n>c||(e.bl_count[a]++,s=0,n>=d&&(s=f[n-d]),o=u[2*n],e.opt_len+=o*(a+s),h&&(e.static_len+=o*(l[2*n+1]+s)));if(0!==m){do{for(a=p-1;0===e.bl_count[a];)a--;e.bl_count[a]--,e.bl_count[a+1]+=2,e.bl_count[p]--,m-=2}while(m>0);for(a=p;0!==a;a--)for(n=e.bl_count[a];0!==n;)(i=e.heap[--r])>c||(u[2*i+1]!==a&&(e.opt_len+=(a-u[2*i+1])*u[2*i],u[2*i+1]=a),n--)}}(e,t),z(a,c,e.bl_count)}function X(e,t,r){var n,i,a=-1,s=t[1],o=0,u=7,c=4;for(0===s&&(u=138,c=3),t[2*(r+1)+1]=65535,n=0;n<=r;n++)i=s,s=t[2*(n+1)+1],++o<u&&i===s||(o<c?e.bl_tree[2*i]+=o:0!==i?(i!==a&&e.bl_tree[2*i]++,e.bl_tree[2*_]++):o<=10?e.bl_tree[2*A]++:e.bl_tree[2*k]++,o=0,a=i,0===s?(u=138,c=3):i===s?(u=6,c=3):(u=7,c=4))}function Q(e,t,r){var n,i,a=-1,s=t[1],o=0,u=7,c=4;for(0===s&&(u=138,c=3),n=0;n<=r;n++)if(i=s,s=t[2*(n+1)+1],!(++o<u&&i===s)){if(o<c)do{F(e,i,e.bl_tree)}while(0!=--o);else 0!==i?(i!==a&&(F(e,i,e.bl_tree),o--),F(e,_,e.bl_tree),U(e,o-3,2)):o<=10?(F(e,A,e.bl_tree),U(e,o-3,3)):(F(e,k,e.bl_tree),U(e,o-11,7));o=0,a=i,0===s?(u=138,c=3):i===s?(u=6,c=3):(u=7,c=4)}}u(H);var ee=!1;function te(e,t,r,i){U(e,(c<<1)+(i?1:0),3),function(e,t,r,i){q(e),i&&($(e,r),$(e,~r)),n.arraySet(e.pending_buf,e.window,t,r,e.pending),e.pending+=r}(e,t,r,!0)}t._tr_init=function(e){ee||(!function(){var e,t,r,n,i,a=new Array(y+1);for(r=0,n=0;n<f-1;n++)for(j[n]=r,e=0;e<1<<E[n];e++)T[r++]=n;for(T[r-1]=n,i=0,n=0;n<16;n++)for(H[n]=i,e=0;e<1<<O[n];e++)I[i++]=n;for(i>>=7;n<m;n++)for(H[n]=i<<7,e=0;e<1<<O[n]-7;e++)I[256+i++]=n;for(t=0;t<=y;t++)a[t]=0;for(e=0;e<=143;)x[2*e+1]=8,e++,a[8]++;for(;e<=255;)x[2*e+1]=9,e++,a[9]++;for(;e<=279;)x[2*e+1]=7,e++,a[7]++;for(;e<=287;)x[2*e+1]=8,e++,a[8]++;for(z(x,p+1,a),e=0;e<m;e++)P[2*e+1]=5,P[2*e]=K(e,5);V=new M(x,E,d+1,p,y),B=new M(P,O,0,m,y),D=new M(new Array(0),C,0,b,w)}(),ee=!0),e.l_desc=new R(e.dyn_ltree,V),e.d_desc=new R(e.dyn_dtree,B),e.bl_desc=new R(e.bl_tree,D),e.bi_buf=0,e.bi_valid=0,W(e)},t._tr_stored_block=te,t._tr_flush_block=function(e,t,r,n){var u,c,f=0;e.level>0?(e.strm.data_type===o&&(e.strm.data_type=function(e){var t,r=4093624447;for(t=0;t<=31;t++,r>>>=1)if(1&r&&0!==e.dyn_ltree[2*t])return a;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return s;for(t=32;t<d;t++)if(0!==e.dyn_ltree[2*t])return s;return a}(e)),Y(e,e.l_desc),Y(e,e.d_desc),f=function(e){var t;for(X(e,e.dyn_ltree,e.l_desc.max_code),X(e,e.dyn_dtree,e.d_desc.max_code),Y(e,e.bl_desc),t=b-1;t>=3&&0===e.bl_tree[2*N[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),u=e.opt_len+3+7>>>3,(c=e.static_len+3+7>>>3)<=u&&(u=c)):u=c=r+5,r+4<=u&&-1!==t?te(e,t,r,n):e.strategy===i||c===u?(U(e,(l<<1)+(n?1:0),3),G(e,x,P)):(U(e,(h<<1)+(n?1:0),3),function(e,t,r,n){var i;for(U(e,t-257,5),U(e,r-1,5),U(e,n-4,4),i=0;i<n;i++)U(e,e.bl_tree[2*N[i]+1],3);Q(e,e.dyn_ltree,t-1),Q(e,e.dyn_dtree,r-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,f+1),G(e,e.dyn_ltree,e.dyn_dtree)),W(e),n&&q(e)},t._tr_tally=function(e,t,r){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&r,e.last_lit++,0===t?e.dyn_ltree[2*r]++:(e.matches++,t--,e.dyn_ltree[2*(T[r]+d+1)]++,e.dyn_dtree[2*L(t)]++),e.last_lit===e.lit_bufsize-1},t._tr_align=function(e){U(e,l<<1,3),F(e,S,x),function(e){16===e.bi_valid?($(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}(e)}},24104:e=>{"use strict";e.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},47983:(e,t,r)=>{"use strict";var n=r(41469);t.certificate=r(50775);var i=n.define("RSAPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())}));t.RSAPrivateKey=i;var a=n.define("RSAPublicKey",(function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())}));t.RSAPublicKey=a;var s=n.define("SubjectPublicKeyInfo",(function(){this.seq().obj(this.key("algorithm").use(o),this.key("subjectPublicKey").bitstr())}));t.PublicKey=s;var o=n.define("AlgorithmIdentifier",(function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())})),u=n.define("PrivateKeyInfo",(function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(o),this.key("subjectPrivateKey").octstr())}));t.PrivateKey=u;var c=n.define("EncryptedPrivateKeyInfo",(function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())}));t.EncryptedPrivateKey=c;var l=n.define("DSAPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())}));t.DSAPrivateKey=l,t.DSAparam=n.define("DSAparam",(function(){this.int()}));var h=n.define("ECPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(f),this.key("publicKey").optional().explicit(1).bitstr())}));t.ECPrivateKey=h;var f=n.define("ECParameters",(function(){this.choice({namedCurve:this.objid()})}));t.signature=n.define("signature",(function(){this.seq().obj(this.key("r").int(),this.key("s").int())}))},50775:(e,t,r)=>{"use strict";var n=r(41469),i=n.define("Time",(function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})})),a=n.define("AttributeTypeValue",(function(){this.seq().obj(this.key("type").objid(),this.key("value").any())})),s=n.define("AlgorithmIdentifier",(function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())})),o=n.define("SubjectPublicKeyInfo",(function(){this.seq().obj(this.key("algorithm").use(s),this.key("subjectPublicKey").bitstr())})),u=n.define("RelativeDistinguishedName",(function(){this.setof(a)})),c=n.define("RDNSequence",(function(){this.seqof(u)})),l=n.define("Name",(function(){this.choice({rdnSequence:this.use(c)})})),h=n.define("Validity",(function(){this.seq().obj(this.key("notBefore").use(i),this.key("notAfter").use(i))})),f=n.define("Extension",(function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())})),d=n.define("TBSCertificate",(function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(s),this.key("issuer").use(l),this.key("validity").use(h),this.key("subject").use(l),this.key("subjectPublicKeyInfo").use(o),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(f).optional())})),p=n.define("X509Certificate",(function(){this.seq().obj(this.key("tbsCertificate").use(d),this.key("signatureAlgorithm").use(s),this.key("signatureValue").bitstr())}));e.exports=p},88759:(e,t,r)=>{var n=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,i=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,a=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,s=r(59409),o=r(43962),u=r(21607).Buffer;e.exports=function(e,t){var r,c=e.toString(),l=c.match(n);if(l){var h="aes"+l[1],f=u.from(l[2],"hex"),d=u.from(l[3].replace(/[\r\n]/g,""),"base64"),p=s(t,f.slice(0,8),parseInt(l[1],10)).key,m=[],b=o.createDecipheriv(h,p,f);m.push(b.update(d)),m.push(b.final()),r=u.concat(m)}else{var v=c.match(a);r=u.from(v[2].replace(/[\r\n]/g,""),"base64")}return{tag:c.match(i)[1],data:r}}},8742:(e,t,r)=>{var n=r(47983),i=r(79629),a=r(88759),s=r(43962),o=r(33803),u=r(21607).Buffer;function c(e){var t;"object"!=typeof e||u.isBuffer(e)||(t=e.passphrase,e=e.key),"string"==typeof e&&(e=u.from(e));var r,c,l=a(e,t),h=l.tag,f=l.data;switch(h){case"CERTIFICATE":c=n.certificate.decode(f,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(c||(c=n.PublicKey.decode(f,"der")),r=c.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return n.RSAPublicKey.decode(c.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return c.subjectPrivateKey=c.subjectPublicKey,{type:"ec",data:c};case"1.2.840.10040.4.1":return c.algorithm.params.pub_key=n.DSAparam.decode(c.subjectPublicKey.data,"der"),{type:"dsa",data:c.algorithm.params};default:throw new Error("unknown key id "+r)}case"ENCRYPTED PRIVATE KEY":f=function(e,t){var r=e.algorithm.decrypt.kde.kdeparams.salt,n=parseInt(e.algorithm.decrypt.kde.kdeparams.iters.toString(),10),a=i[e.algorithm.decrypt.cipher.algo.join(".")],c=e.algorithm.decrypt.cipher.iv,l=e.subjectPrivateKey,h=parseInt(a.split("-")[1],10)/8,f=o.pbkdf2Sync(t,r,n,h,"sha1"),d=s.createDecipheriv(a,f,c),p=[];return p.push(d.update(l)),p.push(d.final()),u.concat(p)}(f=n.EncryptedPrivateKey.decode(f,"der"),t);case"PRIVATE KEY":switch(r=(c=n.PrivateKey.decode(f,"der")).algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return n.RSAPrivateKey.decode(c.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:c.algorithm.curve,privateKey:n.ECPrivateKey.decode(c.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return c.algorithm.params.priv_key=n.DSAparam.decode(c.subjectPrivateKey,"der"),{type:"dsa",params:c.algorithm.params};default:throw new Error("unknown key id "+r)}case"RSA PUBLIC KEY":return n.RSAPublicKey.decode(f,"der");case"RSA PRIVATE KEY":return n.RSAPrivateKey.decode(f,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:n.DSAPrivateKey.decode(f,"der")};case"EC PRIVATE KEY":return{curve:(f=n.ECPrivateKey.decode(f,"der")).parameters.value,privateKey:f.privateKey};default:throw new Error("unknown key type "+h)}}e.exports=c,c.signature=n.signature},43943:e=>{e.exports=l,e.exports.match=function(e,t){var r=[];return i(l(e,r,t),r)},e.exports.regexpToFunction=i,e.exports.parse=n,e.exports.compile=function(e,t){return a(n(e,t),t)},e.exports.tokensToFunction=a,e.exports.tokensToRegExp=c;var t="/",r=new RegExp(["(\\\\.)","(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?"].join("|"),"g");function n(e,n){for(var i,a=[],u=0,c=0,l="",h=n&&n.delimiter||t,f=n&&n.whitelist||void 0,d=!1;null!==(i=r.exec(e));){var p=i[0],m=i[1],b=i.index;if(l+=e.slice(c,b),c=b+p.length,m)l+=m[1],d=!0;else{var v="",y=i[2],g=i[3],w=i[4],S=i[5];if(!d&&l.length){var _=l.length-1,A=l[_];(!f||f.indexOf(A)>-1)&&(v=A,l=l.slice(0,_))}l&&(a.push(l),l="",d=!1);var k="+"===S||"*"===S,E="?"===S||"*"===S,O=g||w,C=v||h;a.push({name:y||u++,prefix:v,delimiter:C,optional:E,repeat:k,pattern:O?o(O):"[^"+s(C===h?C:C+h)+"]+?"})}}return(l||c<e.length)&&a.push(l+e.substr(c)),a}function i(e,t){return function(r,n){var i=e.exec(r);if(!i)return!1;for(var a=i[0],s=i.index,o={},u=n&&n.decode||decodeURIComponent,c=1;c<i.length;c++)if(void 0!==i[c]){var l=t[c-1];l.repeat?o[l.name]=i[c].split(l.delimiter).map((function(e){return u(e,l)})):o[l.name]=u(i[c],l)}return{path:a,index:s,params:o}}}function a(e,t){for(var r=new Array(e.length),n=0;n<e.length;n++)"object"==typeof e[n]&&(r[n]=new RegExp("^(?:"+e[n].pattern+")$",u(t)));return function(t,n){for(var i="",a=n&&n.encode||encodeURIComponent,s=!n||!1!==n.validate,o=0;o<e.length;o++){var u=e[o];if("string"!=typeof u){var c,l=t?t[u.name]:void 0;if(Array.isArray(l)){if(!u.repeat)throw new TypeError('Expected "'+u.name+'" to not repeat, but got array');if(0===l.length){if(u.optional)continue;throw new TypeError('Expected "'+u.name+'" to not be empty')}for(var h=0;h<l.length;h++){if(c=a(l[h],u),s&&!r[o].test(c))throw new TypeError('Expected all "'+u.name+'" to match "'+u.pattern+'"');i+=(0===h?u.prefix:u.delimiter)+c}}else if("string"!=typeof l&&"number"!=typeof l&&"boolean"!=typeof l){if(!u.optional)throw new TypeError('Expected "'+u.name+'" to be '+(u.repeat?"an array":"a string"))}else{if(c=a(String(l),u),s&&!r[o].test(c))throw new TypeError('Expected "'+u.name+'" to match "'+u.pattern+'", but got "'+c+'"');i+=u.prefix+c}}else i+=u}return i}}function s(e){return e.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function o(e){return e.replace(/([=!:$/()])/g,"\\$1")}function u(e){return e&&e.sensitive?"":"i"}function c(e,r,n){for(var i=(n=n||{}).strict,a=!1!==n.start,o=!1!==n.end,c=n.delimiter||t,l=[].concat(n.endsWith||[]).map(s).concat("$").join("|"),h=a?"^":"",f=0;f<e.length;f++){var d=e[f];if("string"==typeof d)h+=s(d);else{var p=d.repeat?"(?:"+d.pattern+")(?:"+s(d.delimiter)+"(?:"+d.pattern+"))*":d.pattern;r&&r.push(d),d.optional?d.prefix?h+="(?:"+s(d.prefix)+"("+p+"))?":h+="("+p+")?":h+=s(d.prefix)+"("+p+")"}}if(o)i||(h+="(?:"+s(c)+")?"),h+="$"===l?"$":"(?="+l+")";else{var m=e[e.length-1],b="string"==typeof m?m[m.length-1]===c:void 0===m;i||(h+="(?:"+s(c)+"(?="+l+"))?"),b||(h+="(?="+s(c)+"|"+l+")")}return new RegExp(h,u(n))}function l(e,t,r){return e instanceof RegExp?function(e,t){if(!t)return e;var r=e.source.match(/\((?!\?)/g);if(r)for(var n=0;n<r.length;n++)t.push({name:n,prefix:null,delimiter:null,optional:!1,repeat:!1,pattern:null});return e}(e,t):Array.isArray(e)?function(e,t,r){for(var n=[],i=0;i<e.length;i++)n.push(l(e[i],t,r).source);return new RegExp("(?:"+n.join("|")+")",u(r))}(e,t,r):function(e,t,r){return c(n(e,r),t,r)}(e,t,r)}},82166:(e,t,r)=>{"use strict";var n=r(73656),i="win32"===n.platform,a=r(88538);function s(e,t){for(var r=[],n=0;n<e.length;n++){var i=e[n];i&&"."!==i&&(".."===i?r.length&&".."!==r[r.length-1]?r.pop():t&&r.push(".."):r.push(i))}return r}function o(e){for(var t=e.length-1,r=0;r<=t&&!e[r];r++);for(var n=t;n>=0&&!e[n];n--);return 0===r&&n===t?e:r>n?[]:e.slice(r,n+1)}var u=/^([a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?([\\\/])?([\s\S]*?)$/,c=/^([\s\S]*?)((?:\.{1,2}|[^\\\/]+?|)(\.[^.\/\\]*|))(?:[\\\/]*)$/,l={};function h(e){var t=u.exec(e),r=(t[1]||"")+(t[2]||""),n=t[3]||"",i=c.exec(n);return[r,i[1],i[2],i[3]]}function f(e){var t=u.exec(e),r=t[1]||"",n=!!r&&":"!==r[1];return{device:r,isUnc:n,isAbsolute:n||!!t[2],tail:t[3]}}function d(e){return"\\\\"+e.replace(/^[\\\/]+/,"").replace(/[\\\/]+/g,"\\")}l.resolve=function(){for(var e="",t="",r=!1,i=arguments.length-1;i>=-1;i--){var o;if(i>=0?o=arguments[i]:e?(o=n.env["="+e])&&o.substr(0,3).toLowerCase()===e.toLowerCase()+"\\"||(o=e+"\\"):o=n.cwd(),!a.isString(o))throw new TypeError("Arguments to path.resolve must be strings");if(o){var u=f(o),c=u.device,l=u.isUnc,h=u.isAbsolute,p=u.tail;if((!c||!e||c.toLowerCase()===e.toLowerCase())&&(e||(e=c),r||(t=p+"\\"+t,r=h),e&&r))break}}return l&&(e=d(e)),e+(r?"\\":"")+(t=s(t.split(/[\\\/]+/),!r).join("\\"))||"."},l.normalize=function(e){var t=f(e),r=t.device,n=t.isUnc,i=t.isAbsolute,a=t.tail,o=/[\\\/]$/.test(a);return(a=s(a.split(/[\\\/]+/),!i).join("\\"))||i||(a="."),a&&o&&(a+="\\"),n&&(r=d(r)),r+(i?"\\":"")+a},l.isAbsolute=function(e){return f(e).isAbsolute},l.join=function(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(!a.isString(r))throw new TypeError("Arguments to path.join must be strings");r&&e.push(r)}var n=e.join("\\");return/^[\\\/]{2}[^\\\/]/.test(e[0])||(n=n.replace(/^[\\\/]{2,}/,"\\")),l.normalize(n)},l.relative=function(e,t){e=l.resolve(e),t=l.resolve(t);for(var r=e.toLowerCase(),n=t.toLowerCase(),i=o(t.split("\\")),a=o(r.split("\\")),s=o(n.split("\\")),u=Math.min(a.length,s.length),c=u,h=0;h<u;h++)if(a[h]!==s[h]){c=h;break}if(0==c)return t;var f=[];for(h=c;h<a.length;h++)f.push("..");return(f=f.concat(i.slice(c))).join("\\")},l._makeLong=function(e){if(!a.isString(e))return e;if(!e)return"";var t=l.resolve(e);return/^[a-zA-Z]\:\\/.test(t)?"\\\\?\\"+t:/^\\\\[^?.]/.test(t)?"\\\\?\\UNC\\"+t.substring(2):e},l.dirname=function(e){var t=h(e),r=t[0],n=t[1];return r||n?(n&&(n=n.substr(0,n.length-1)),r+n):"."},l.basename=function(e,t){var r=h(e)[2];return t&&r.substr(-1*t.length)===t&&(r=r.substr(0,r.length-t.length)),r},l.extname=function(e){return h(e)[3]},l.format=function(e){if(!a.isObject(e))throw new TypeError("Parameter 'pathObject' must be an object, not "+typeof e);var t=e.root||"";if(!a.isString(t))throw new TypeError("'pathObject.root' must be a string or undefined, not "+typeof e.root);var r=e.dir,n=e.base||"";return r?r[r.length-1]===l.sep?r+n:r+l.sep+n:n},l.parse=function(e){if(!a.isString(e))throw new TypeError("Parameter 'pathString' must be a string, not "+typeof e);var t=h(e);if(!t||4!==t.length)throw new TypeError("Invalid path '"+e+"'");return{root:t[0],dir:t[0]+t[1].slice(0,-1),base:t[2],ext:t[3],name:t[2].slice(0,t[2].length-t[3].length)}},l.sep="\\",l.delimiter=";";var p=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,m={};function b(e){return p.exec(e).slice(1)}m.resolve=function(){for(var e="",t=!1,r=arguments.length-1;r>=-1&&!t;r--){var i=r>=0?arguments[r]:n.cwd();if(!a.isString(i))throw new TypeError("Arguments to path.resolve must be strings");i&&(e=i+"/"+e,t="/"===i[0])}return(t?"/":"")+(e=s(e.split("/"),!t).join("/"))||"."},m.normalize=function(e){var t=m.isAbsolute(e),r=e&&"/"===e[e.length-1];return(e=s(e.split("/"),!t).join("/"))||t||(e="."),e&&r&&(e+="/"),(t?"/":"")+e},m.isAbsolute=function(e){return"/"===e.charAt(0)},m.join=function(){for(var e="",t=0;t<arguments.length;t++){var r=arguments[t];if(!a.isString(r))throw new TypeError("Arguments to path.join must be strings");r&&(e+=e?"/"+r:r)}return m.normalize(e)},m.relative=function(e,t){e=m.resolve(e).substr(1),t=m.resolve(t).substr(1);for(var r=o(e.split("/")),n=o(t.split("/")),i=Math.min(r.length,n.length),a=i,s=0;s<i;s++)if(r[s]!==n[s]){a=s;break}var u=[];for(s=a;s<r.length;s++)u.push("..");return(u=u.concat(n.slice(a))).join("/")},m._makeLong=function(e){return e},m.dirname=function(e){var t=b(e),r=t[0],n=t[1];return r||n?(n&&(n=n.substr(0,n.length-1)),r+n):"."},m.basename=function(e,t){var r=b(e)[2];return t&&r.substr(-1*t.length)===t&&(r=r.substr(0,r.length-t.length)),r},m.extname=function(e){return b(e)[3]},m.format=function(e){if(!a.isObject(e))throw new TypeError("Parameter 'pathObject' must be an object, not "+typeof e);var t=e.root||"";if(!a.isString(t))throw new TypeError("'pathObject.root' must be a string or undefined, not "+typeof e.root);return(e.dir?e.dir+m.sep:"")+(e.base||"")},m.parse=function(e){if(!a.isString(e))throw new TypeError("Parameter 'pathString' must be a string, not "+typeof e);var t=b(e);if(!t||4!==t.length)throw new TypeError("Invalid path '"+e+"'");return t[1]=t[1]||"",t[2]=t[2]||"",t[3]=t[3]||"",{root:t[0],dir:t[0]+t[1].slice(0,-1),base:t[2],ext:t[3],name:t[2].slice(0,t[2].length-t[3].length)}},m.sep="/",m.delimiter=":",e.exports=i?l:m,e.exports.posix=m,e.exports.win32=l},33803:(e,t,r)=>{t.pbkdf2=r(59601),t.pbkdf2Sync=r(68358)},59601:(e,t,r)=>{var n,i,a=r(21607).Buffer,s=r(45323),o=r(87663),u=r(68358),c=r(43623),l=r.g.crypto&&r.g.crypto.subtle,h={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},f=[];function d(){return i||(i=r.g.process&&r.g.process.nextTick?r.g.process.nextTick:r.g.queueMicrotask?r.g.queueMicrotask:r.g.setImmediate?r.g.setImmediate:r.g.setTimeout)}function p(e,t,r,n,i){return l.importKey("raw",e,{name:"PBKDF2"},!1,["deriveBits"]).then((function(e){return l.deriveBits({name:"PBKDF2",salt:t,iterations:r,hash:{name:i}},e,n<<3)})).then((function(e){return a.from(e)}))}e.exports=function(e,t,i,m,b,v){"function"==typeof b&&(v=b,b=void 0);var y=h[(b=b||"sha1").toLowerCase()];if(y&&"function"==typeof r.g.Promise){if(s(i,m),e=c(e,o,"Password"),t=c(t,o,"Salt"),"function"!=typeof v)throw new Error("No callback provided to pbkdf2");!function(e,t){e.then((function(e){d()((function(){t(null,e)}))}),(function(e){d()((function(){t(e)}))}))}(function(e){if(r.g.process&&!r.g.process.browser)return Promise.resolve(!1);if(!l||!l.importKey||!l.deriveBits)return Promise.resolve(!1);if(void 0!==f[e])return f[e];var t=p(n=n||a.alloc(8),n,10,128,e).then((function(){return!0})).catch((function(){return!1}));return f[e]=t,t}(y).then((function(r){return r?p(e,t,i,m,y):u(e,t,i,m,b)})),v)}else d()((function(){var r;try{r=u(e,t,i,m,b)}catch(e){return v(e)}v(null,r)}))}},87663:(e,t,r)=>{var n,i=r(73656);if(r.g.process&&r.g.process.browser)n="utf-8";else if(r.g.process&&r.g.process.version){n=parseInt(i.version.split(".")[0].slice(1),10)>=6?"utf-8":"binary"}else n="utf-8";e.exports=n},45323:e=>{var t=Math.pow(2,30)-1;e.exports=function(e,r){if("number"!=typeof e)throw new TypeError("Iterations not a number");if(e<0)throw new TypeError("Bad iterations");if("number"!=typeof r)throw new TypeError("Key length not a number");if(r<0||r>t||r!=r)throw new TypeError("Bad key length")}},68358:(e,t,r)=>{var n=r(87522),i=r(22016),a=r(46926),s=r(21607).Buffer,o=r(45323),u=r(87663),c=r(43623),l=s.alloc(128),h={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function f(e,t,r){var o=function(e){function t(t){return a(e).update(t).digest()}function r(e){return(new i).update(e).digest()}return"rmd160"===e||"ripemd160"===e?r:"md5"===e?n:t}(e),u="sha512"===e||"sha384"===e?128:64;t.length>u?t=o(t):t.length<u&&(t=s.concat([t,l],u));for(var c=s.allocUnsafe(u+h[e]),f=s.allocUnsafe(u+h[e]),d=0;d<u;d++)c[d]=54^t[d],f[d]=92^t[d];var p=s.allocUnsafe(u+r+4);c.copy(p,0,0,u),this.ipad1=p,this.ipad2=c,this.opad=f,this.alg=e,this.blocksize=u,this.hash=o,this.size=h[e]}f.prototype.run=function(e,t){return e.copy(t,this.blocksize),this.hash(t).copy(this.opad,this.blocksize),this.hash(this.opad)},e.exports=function(e,t,r,n,i){o(r,n);var a=new f(i=i||"sha1",e=c(e,u,"Password"),(t=c(t,u,"Salt")).length),l=s.allocUnsafe(n),d=s.allocUnsafe(t.length+4);t.copy(d,0,0,t.length);for(var p=0,m=h[i],b=Math.ceil(n/m),v=1;v<=b;v++){d.writeUInt32BE(v,t.length);for(var y=a.run(d,a.ipad1),g=y,w=1;w<r;w++){g=a.run(g,a.ipad2);for(var S=0;S<m;S++)y[S]^=g[S]}y.copy(l,p),p+=m}return l}},43623:(e,t,r)=>{var n=r(21607).Buffer;e.exports=function(e,t,r){if(n.isBuffer(e))return e;if("string"==typeof e)return n.from(e,t);if(ArrayBuffer.isView(e))return n.from(e.buffer);throw new TypeError(r+" must be a string, a Buffer, a typed array or a DataView")}},71833:(e,t,r)=>{"use strict";r.d(t,{DMg:()=>Rc,KBB:()=>Ha});var n=r(57710),i=r(99612),a=r(30598),s=r(95066),o=r(73656);const u=new ArrayBuffer(0),c="";class l extends TypeError{constructor(){super(...arguments),this.name=l.NAME}static isType(e,t){if("string"==typeof t){if("Array"===t&&Array.isArray(e))return!0;if("ArrayBuffer"===t&&e instanceof ArrayBuffer)return!0;if("ArrayBufferView"===t&&ArrayBuffer.isView(e))return!0;if(typeof e===t)return!0}else if(e instanceof t)return!0;return!1}static assert(e,t,...r){for(const t of r)if(this.isType(e,t))return;const n=r.map((e=>e instanceof Function&&"name"in e?e.name:`${e}`));throw new l(`Parameter '${t}' is not of type ${n.length>1?`(${n.join(" or ")})`:n[0]}`)}}l.NAME="ArgumentError";class h extends TypeError{constructor(e,t=null,r){super(),this.name=h.NAME,this.field=e,t&&(this.target=t),this.message=r||`Absent mandatory parameter '${e}' ${t?` in '${t}'`:c}`}static assert(...e){let t,r,n=null;"string"==typeof e[0]?(n=e[0],t=e[1],r=e.slice(2)):(t=e[0],r=e.slice(1)),l.assert(t,"parameters","object");for(const e of r){const r=t[e];if(null==r)throw new h(e,n)}}static assertEmpty(e,t,r){if(null==e)throw new h(t,r)}}h.NAME="ParameterError";class f extends Error{static assertSchema(e,t){if(!e.verified)throw new Error(`Object's schema was not verified against input data for ${t}`)}static assert(e,t){if(-1===e.offset)throw new f(`Error during parsing of ASN.1 data. Data is not correct for '${t}'.`)}constructor(e){super(e),this.name="AsnError"}}class d{static blockName(){return this.CLASS_NAME}static fromBER(e){const t=n.sc(e);f.assert(t,this.name);try{return new this({schema:t.result})}catch(e){throw new f(`Cannot create '${this.CLASS_NAME}' from ASN.1 object`)}}static defaultValues(e){throw new Error(`Invalid member name for ${this.CLASS_NAME} class: ${e}`)}static schema(e={}){throw new Error(`Method '${this.CLASS_NAME}.schema' should be overridden`)}get className(){return this.constructor.CLASS_NAME}toString(e="hex"){let t;try{t=this.toSchema()}catch{t=this.toSchema(!0)}return i.ep.ToString(t.toBER(),e)}}function p(e){let t=!1,r=c;const n=e.trim();for(let e=0;e<n.length;e++)32===n.charCodeAt(e)?!1===t&&(t=!0):(t&&(r+=" ",t=!1),r+=n[e]);return r.toLowerCase()}d.CLASS_NAME="PkiObject";const m="type",b="value";class v extends d{constructor(e={}){super(),this.type=a.H$(e,m,v.defaultValues(m)),this.value=a.H$(e,b,v.defaultValues(b)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case m:return c;case b:return{};default:return super.defaultValues(e)}}static schema(e={}){const t=a.H$(e,"names",{});return new n.T9({name:t.blockName||c,value:[new n.rP({name:t.type||c}),new n.IK({name:t.value||c})]})}fromSchema(e){a.ze(e,[m,"typeValue"]);const t=n.eN(e,e,v.schema({names:{type:m,value:"typeValue"}}));f.assertSchema(t,this.className),this.type=t.result.type.valueBlock.toString(),this.value=t.result.typeValue}toSchema(){return new n.T9({value:[new n.rP({value:this.type}),this.value]})}toJSON(){const e={type:this.type};return 0!==Object.keys(this.value).length?e.value=this.value.toJSON():e.value=this.value,e}isEqual(e){const t=[n.qU.blockName(),n.kE.blockName(),n.GM.blockName(),n.Tz.blockName(),n.Ox.blockName(),n.gF.blockName(),n.SZ.blockName(),n.$.blockName(),n.HQ.blockName(),n.NI.blockName(),n.EI.blockName(),n.Hk.blockName()];if(e instanceof ArrayBuffer)return i.vJ.isEqual(this.value.valueBeforeDecodeView,e);if(e.constructor.blockName()===v.blockName()){if(this.type!==e.type)return!1;const r=[!1,!1],n=this.value.constructor.blockName();for(const i of t)n===i&&(r[0]=!0),e.value.constructor.blockName()===i&&(r[1]=!0);if(r[0]!==r[1])return!1;if(r[0]&&r[1]){const t=p(this.value.valueBlock.value),r=p(e.value.valueBlock.value);if(0!==t.localeCompare(r))return!1}else if(!i.vJ.isEqual(this.value.valueBeforeDecodeView,e.value.valueBeforeDecodeView))return!1;return!0}return!1}}v.CLASS_NAME="AttributeTypeAndValue";const y="typesAndValues",g="valueBeforeDecode";class w extends d{constructor(e={}){super(),this.typesAndValues=a.H$(e,y,w.defaultValues(y)),this.valueBeforeDecode=a.H$(e,g,w.defaultValues(g)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case y:return[];case g:return u;default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case y:return 0===t.length;case g:return 0===t.byteLength;default:return super.defaultValues(e)}}static schema(e={}){const t=a.H$(e,"names",{});return new n.T9({name:t.blockName||c,value:[new n.ZD({name:t.repeatedSequence||c,value:new n.l4({value:[new n.ZD({name:t.repeatedSet||c,value:v.schema(t.typeAndValue||{})})]})})]})}fromSchema(e){a.ze(e,["RDN",y]);const t=n.eN(e,e,w.schema({names:{blockName:"RDN",repeatedSet:y}}));f.assertSchema(t,this.className),y in t.result&&(this.typesAndValues=Array.from(t.result.typesAndValues,(e=>new v({schema:e})))),this.valueBeforeDecode=t.result.RDN.valueBeforeDecodeView.slice().buffer}toSchema(){if(0===this.valueBeforeDecode.byteLength)return new n.T9({value:[new n.l4({value:Array.from(this.typesAndValues,(e=>e.toSchema()))})]});const e=n.sc(this.valueBeforeDecode);if(f.assert(e,"RelativeDistinguishedNames"),!(e.result instanceof n.T9))throw new Error("ASN.1 result should be SEQUENCE");return e.result}toJSON(){return{typesAndValues:Array.from(this.typesAndValues,(e=>e.toJSON()))}}isEqual(e){if(e instanceof w){if(this.typesAndValues.length!==e.typesAndValues.length)return!1;for(const[t,r]of this.typesAndValues.entries())if(!1===r.isEqual(e.typesAndValues[t]))return!1;return!0}return e instanceof ArrayBuffer&&a.dN(this.valueBeforeDecode,e)}}w.CLASS_NAME="RelativeDistinguishedNames";const S="type",_="value";function A(e={},t=!1){const r=a.H$(e,"names",{});return new n.T9({optional:t,value:[new n.FC({optional:!0,idBlock:{tagClass:2,tagNumber:1},name:r.country_name||c,value:[new n.Lv({value:[new n.Tz,new n.Ox]})]}),new n.FC({optional:!0,idBlock:{tagClass:2,tagNumber:2},name:r.administration_domain_name||c,value:[new n.Lv({value:[new n.Tz,new n.Ox]})]}),new n.WV({optional:!0,idBlock:{tagClass:3,tagNumber:0},name:r.network_address||c,isHexOnly:!0}),new n.WV({optional:!0,idBlock:{tagClass:3,tagNumber:1},name:r.terminal_identifier||c,isHexOnly:!0}),new n.FC({optional:!0,idBlock:{tagClass:3,tagNumber:2},name:r.private_domain_name||c,value:[new n.Lv({value:[new n.Tz,new n.Ox]})]}),new n.WV({optional:!0,idBlock:{tagClass:3,tagNumber:3},name:r.organization_name||c,isHexOnly:!0}),new n.WV({optional:!0,name:r.numeric_user_identifier||c,idBlock:{tagClass:3,tagNumber:4},isHexOnly:!0}),new n.FC({optional:!0,name:r.personal_name||c,idBlock:{tagClass:3,tagNumber:5},value:[new n.WV({idBlock:{tagClass:3,tagNumber:0},isHexOnly:!0}),new n.WV({optional:!0,idBlock:{tagClass:3,tagNumber:1},isHexOnly:!0}),new n.WV({optional:!0,idBlock:{tagClass:3,tagNumber:2},isHexOnly:!0}),new n.WV({optional:!0,idBlock:{tagClass:3,tagNumber:3},isHexOnly:!0})]}),new n.FC({optional:!0,name:r.organizational_unit_names||c,idBlock:{tagClass:3,tagNumber:6},value:[new n.ZD({value:new n.Ox})]})]})}function k(e=!1){return new n.T9({optional:e,value:[new n.Ox,new n.Ox]})}function E(e=!1){return new n.l4({optional:e,value:[new n.WV({optional:!0,idBlock:{tagClass:3,tagNumber:0},isHexOnly:!0}),new n.FC({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[new n.IK]})]})}class O extends d{constructor(e={}){super(),this.type=a.H$(e,S,O.defaultValues(S)),this.value=a.H$(e,_,O.defaultValues(_)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case S:return 9;case _:return{};default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case S:return t===O.defaultValues(e);case _:return 0===Object.keys(t).length;default:return super.defaultValues(e)}}static schema(e={}){const t=a.H$(e,"names",{});return new n.Lv({value:[new n.FC({idBlock:{tagClass:3,tagNumber:0},name:t.blockName||c,value:[new n.rP,new n.FC({idBlock:{tagClass:3,tagNumber:0},value:[new n.IK]})]}),new n.WV({name:t.blockName||c,idBlock:{tagClass:3,tagNumber:1}}),new n.WV({name:t.blockName||c,idBlock:{tagClass:3,tagNumber:2}}),new n.FC({idBlock:{tagClass:3,tagNumber:3},name:t.blockName||c,value:[A(t.builtInStandardAttributes||{},!1),k(!0),E(!0)]}),new n.FC({idBlock:{tagClass:3,tagNumber:4},name:t.blockName||c,value:[w.schema(t.directoryName||{})]}),new n.FC({idBlock:{tagClass:3,tagNumber:5},name:t.blockName||c,value:[new n.FC({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new n.Lv({value:[new n.gF,new n.Ox,new n.GM,new n.qU,new n.kE]})]}),new n.FC({idBlock:{tagClass:3,tagNumber:1},value:[new n.Lv({value:[new n.gF,new n.Ox,new n.GM,new n.qU,new n.kE]})]})]}),new n.WV({name:t.blockName||c,idBlock:{tagClass:3,tagNumber:6}}),new n.WV({name:t.blockName||c,idBlock:{tagClass:3,tagNumber:7}}),new n.WV({name:t.blockName||c,idBlock:{tagClass:3,tagNumber:8}})]})}fromSchema(e){a.ze(e,["blockName","otherName","rfc822Name","dNSName","x400Address","directoryName","ediPartyName","uniformResourceIdentifier","iPAddress","registeredID"]);const t=n.eN(e,e,O.schema({names:{blockName:"blockName",otherName:"otherName",rfc822Name:"rfc822Name",dNSName:"dNSName",x400Address:"x400Address",directoryName:{names:{blockName:"directoryName"}},ediPartyName:"ediPartyName",uniformResourceIdentifier:"uniformResourceIdentifier",iPAddress:"iPAddress",registeredID:"registeredID"}}));switch(f.assertSchema(t,this.className),this.type=t.result.blockName.idBlock.tagNumber,this.type){case 0:case 3:this.value=t.result.blockName;break;case 1:case 2:case 6:{const e=t.result.blockName;e.idBlock.tagClass=1,e.idBlock.tagNumber=22;const r=e.toBER(!1),i=n.sc(r);f.assert(i,"GeneralName value"),this.value=i.result.valueBlock.value}break;case 4:this.value=new w({schema:t.result.directoryName});break;case 5:this.value=t.result.ediPartyName;break;case 7:this.value=new n.fi({valueHex:t.result.blockName.valueBlock.valueHex});break;case 8:{const e=t.result.blockName;e.idBlock.tagClass=1,e.idBlock.tagNumber=6;const r=e.toBER(!1),i=n.sc(r);f.assert(i,"GeneralName registeredID"),this.value=i.result.valueBlock.toString()}}}toSchema(){switch(this.type){case 0:case 3:case 5:return new n.FC({idBlock:{tagClass:3,tagNumber:this.type},value:[this.value]});case 1:case 2:case 6:{const e=new n.$({value:this.value});return e.idBlock.tagClass=3,e.idBlock.tagNumber=this.type,e}case 4:return new n.FC({idBlock:{tagClass:3,tagNumber:4},value:[this.value.toSchema()]});case 7:{const e=this.value;return e.idBlock.tagClass=3,e.idBlock.tagNumber=this.type,e}case 8:{const e=new n.rP({value:this.value});return e.idBlock.tagClass=3,e.idBlock.tagNumber=this.type,e}default:return O.schema()}}toJSON(){const e={type:this.type,value:c};if("string"==typeof this.value)e.value=this.value;else try{e.value=this.value.toJSON()}catch(e){}return e}}O.CLASS_NAME="GeneralName";const C="accessMethod",N="accessLocation",x=[C,N];class P extends d{constructor(e={}){super(),this.accessMethod=a.H$(e,C,P.defaultValues(C)),this.accessLocation=a.H$(e,N,P.defaultValues(N)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case C:return c;case N:return new O;default:return super.defaultValues(e)}}static schema(e={}){const t=a.H$(e,"names",{});return new n.T9({name:t.blockName||c,value:[new n.rP({name:t.accessMethod||c}),O.schema(t.accessLocation||{})]})}fromSchema(e){a.ze(e,x);const t=n.eN(e,e,P.schema({names:{accessMethod:C,accessLocation:{names:{blockName:N}}}}));f.assertSchema(t,this.className),this.accessMethod=t.result.accessMethod.valueBlock.toString(),this.accessLocation=new O({schema:t.result.accessLocation})}toSchema(){return new n.T9({value:[new n.rP({value:this.accessMethod}),this.accessLocation.toSchema()]})}toJSON(){return{accessMethod:this.accessMethod,accessLocation:this.accessLocation.toJSON()}}}P.CLASS_NAME="AccessDescription";const I="seconds",T="millis",j="micros";class V extends d{constructor(e={}){super(),I in e&&(this.seconds=a.H$(e,I,V.defaultValues(I))),T in e&&(this.millis=a.H$(e,T,V.defaultValues(T))),j in e&&(this.micros=a.H$(e,j,V.defaultValues(j))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case I:case T:case j:return 0;default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case I:case T:case j:return t===V.defaultValues(e);default:return super.defaultValues(e)}}static schema(e={}){const t=a.H$(e,"names",{});return new n.T9({name:t.blockName||c,optional:!0,value:[new n.z8({optional:!0,name:t.seconds||c}),new n.WV({name:t.millis||c,optional:!0,idBlock:{tagClass:3,tagNumber:0}}),new n.WV({name:t.micros||c,optional:!0,idBlock:{tagClass:3,tagNumber:1}})]})}fromSchema(e){a.ze(e,[I,T,j]);const t=n.eN(e,e,V.schema({names:{seconds:I,millis:T,micros:j}}));if(f.assertSchema(t,this.className),"seconds"in t.result&&(this.seconds=t.result.seconds.valueBlock.valueDec),"millis"in t.result){const e=new n.z8({valueHex:t.result.millis.valueBlock.valueHex});this.millis=e.valueBlock.valueDec}if("micros"in t.result){const e=new n.z8({valueHex:t.result.micros.valueBlock.valueHex});this.micros=e.valueBlock.valueDec}}toSchema(){const e=[];if(void 0!==this.seconds&&e.push(new n.z8({value:this.seconds})),void 0!==this.millis){const t=new n.z8({value:this.millis});e.push(new n.WV({idBlock:{tagClass:3,tagNumber:0},valueHex:t.valueBlock.valueHexView}))}if(void 0!==this.micros){const t=new n.z8({value:this.micros});e.push(new n.WV({idBlock:{tagClass:3,tagNumber:1},valueHex:t.valueBlock.valueHexView}))}return new n.T9({value:e})}toJSON(){const e={};return void 0!==this.seconds&&(e.seconds=this.seconds),void 0!==this.millis&&(e.millis=this.millis),void 0!==this.micros&&(e.micros=this.micros),e}}V.CLASS_NAME="Accuracy";const B="algorithmId",D="algorithmParams",H="algorithm",M="params",R=[H,M];class L extends d{constructor(e={}){super(),this.algorithmId=a.H$(e,B,L.defaultValues(B)),D in e&&(this.algorithmParams=a.H$(e,D,L.defaultValues(D))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case B:return c;case D:return new n.IK;default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case B:return t===c;case D:return t instanceof n.IK;default:return super.defaultValues(e)}}static schema(e={}){const t=a.H$(e,"names",{});return new n.T9({name:t.blockName||c,optional:t.optional||!1,value:[new n.rP({name:t.algorithmIdentifier||c}),new n.IK({name:t.algorithmParams||c,optional:!0})]})}fromSchema(e){a.ze(e,R);const t=n.eN(e,e,L.schema({names:{algorithmIdentifier:H,algorithmParams:M}}));f.assertSchema(t,this.className),this.algorithmId=t.result.algorithm.valueBlock.toString(),M in t.result&&(this.algorithmParams=t.result.params)}toSchema(){const e=[];return e.push(new n.rP({value:this.algorithmId})),!this.algorithmParams||this.algorithmParams instanceof n.IK||e.push(this.algorithmParams),new n.T9({value:e})}toJSON(){const e={algorithmId:this.algorithmId};return!this.algorithmParams||this.algorithmParams instanceof n.IK||(e.algorithmParams=this.algorithmParams.toJSON()),e}isEqual(e){return e instanceof L&&(this.algorithmId===e.algorithmId&&(this.algorithmParams?!!e.algorithmParams&&JSON.stringify(this.algorithmParams)===JSON.stringify(e.algorithmParams):!e.algorithmParams))}}L.CLASS_NAME="AlgorithmIdentifier";const $="altNames",U=[$];class F extends d{constructor(e={}){super(),this.altNames=a.H$(e,$,F.defaultValues($)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){return e===$?[]:super.defaultValues(e)}static schema(e={}){const t=a.H$(e,"names",{});return new n.T9({name:t.blockName||c,value:[new n.ZD({name:t.altNames||c,value:O.schema()})]})}fromSchema(e){a.ze(e,U);const t=n.eN(e,e,F.schema({names:{altNames:$}}));f.assertSchema(t,this.className),$ in t.result&&(this.altNames=Array.from(t.result.altNames,(e=>new O({schema:e}))))}toSchema(){return new n.T9({value:Array.from(this.altNames,(e=>e.toSchema()))})}toJSON(){return{altNames:Array.from(this.altNames,(e=>e.toJSON()))}}}F.CLASS_NAME="AltName";const K="type",z="values",W=[K,z];class q extends d{constructor(e={}){super(),this.type=a.H$(e,K,q.defaultValues(K)),this.values=a.H$(e,z,q.defaultValues(z)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case K:return c;case z:return[];default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case K:return t===c;case z:return 0===t.length;default:return super.defaultValues(e)}}static schema(e={}){const t=a.H$(e,"names",{});return new n.T9({name:t.blockName||c,value:[new n.rP({name:t.type||c}),new n.l4({name:t.setName||c,value:[new n.ZD({name:t.values||c,value:new n.IK})]})]})}fromSchema(e){a.ze(e,W);const t=n.eN(e,e,q.schema({names:{type:K,values:z}}));f.assertSchema(t,this.className),this.type=t.result.type.valueBlock.toString(),this.values=t.result.values}toSchema(){return new n.T9({value:[new n.rP({value:this.type}),new n.l4({value:this.values})]})}toJSON(){return{type:this.type,values:Array.from(this.values,(e=>e.toJSON()))}}}q.CLASS_NAME="Attribute";const Z="notBeforeTime",J="notAfterTime",G=[Z,J];class Y extends d{constructor(e={}){super(),this.notBeforeTime=a.H$(e,Z,Y.defaultValues(Z)),this.notAfterTime=a.H$(e,J,Y.defaultValues(J)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Z:case J:return new Date(0,0,0);default:return super.defaultValues(e)}}static schema(e={}){const t=a.H$(e,"names",{});return new n.T9({name:t.blockName||c,value:[new n.Yw({name:t.notBeforeTime||c}),new n.Yw({name:t.notAfterTime||c})]})}fromSchema(e){a.ze(e,G);const t=n.eN(e,e,Y.schema({names:{notBeforeTime:Z,notAfterTime:J}}));f.assertSchema(t,this.className),this.notBeforeTime=t.result.notBeforeTime.toDate(),this.notAfterTime=t.result.notAfterTime.toDate()}toSchema(){return new n.T9({value:[new n.Yw({valueDate:this.notBeforeTime}),new n.Yw({valueDate:this.notAfterTime})]})}toJSON(){return{notBeforeTime:this.notBeforeTime,notAfterTime:this.notAfterTime}}}Y.CLASS_NAME="AttCertValidityPeriod";const X="names",Q="generalNames";class ee extends d{constructor(e={}){super(),this.names=a.H$(e,X,ee.defaultValues(X)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){return"names"===e?[]:super.defaultValues(e)}static schema(e={},t=!1){const r=a.H$(e,X,{});return new n.T9({optional:t,name:r.blockName||c,value:[new n.ZD({name:r.generalNames||c,value:O.schema()})]})}fromSchema(e){a.ze(e,[X,Q]);const t=n.eN(e,e,ee.schema({names:{blockName:X,generalNames:Q}}));f.assertSchema(t,this.className),this.names=Array.from(t.result.generalNames,(e=>new O({schema:e})))}toSchema(){return new n.T9({value:Array.from(this.names,(e=>e.toSchema()))})}toJSON(){return{names:Array.from(this.names,(e=>e.toJSON()))}}}ee.CLASS_NAME="GeneralNames";const te="2.5.29.17",re="2.5.29.18",ne="2.5.29.19",ie="2.5.29.28",ae="2.5.29.29",se="2.5.29.30",oe="2.5.29.31",ue="2.5.29.46",ce="2.5.29.32",le="2.5.29.32.0",he="2.5.29.33",fe="2.5.29.35",de="2.5.29.36",pe="1.3.6.1.5.5.7.1.1",me="1.3.6.1.4.1.11129.2.4.2",be="1.2.840.113549.1.7.1",ve="1.2.840.113549.1.7.2",ye="1.2.840.113549.1.7.3",ge="1.2.840.113549.1.7.6",we="1.2.840.113549.1.9.22.1",Se="1.2.840.113549.1.9.22.3",_e="1.2.840.113549.1.9.23.1",Ae="1.3.6.1.5.5.7.48",ke=`${Ae}.1.1`,Ee="keyIdentifier",Oe="authorityCertIssuer",Ce="authorityCertSerialNumber",Ne=[Ee,Oe,Ce];class xe extends d{constructor(e={}){super(),Ee in e&&(this.keyIdentifier=a.H$(e,Ee,xe.defaultValues(Ee))),Oe in e&&(this.authorityCertIssuer=a.H$(e,Oe,xe.defaultValues(Oe))),Ce in e&&(this.authorityCertSerialNumber=a.H$(e,Ce,xe.defaultValues(Ce))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Ee:return new n.fi;case Oe:return[];case Ce:return new n.z8;default:return super.defaultValues(e)}}static schema(e={}){const t=a.H$(e,"names",{});return new n.T9({name:t.blockName||c,value:[new n.WV({name:t.keyIdentifier||c,optional:!0,idBlock:{tagClass:3,tagNumber:0}}),new n.FC({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[new n.ZD({name:t.authorityCertIssuer||c,value:O.schema()})]}),new n.WV({name:t.authorityCertSerialNumber||c,optional:!0,idBlock:{tagClass:3,tagNumber:2}})]})}fromSchema(e){a.ze(e,Ne);const t=n.eN(e,e,xe.schema({names:{keyIdentifier:Ee,authorityCertIssuer:Oe,authorityCertSerialNumber:Ce}}));f.assertSchema(t,this.className),Ee in t.result&&(this.keyIdentifier=new n.fi({valueHex:t.result.keyIdentifier.valueBlock.valueHex})),Oe in t.result&&(this.authorityCertIssuer=Array.from(t.result.authorityCertIssuer,(e=>new O({schema:e})))),Ce in t.result&&(this.authorityCertSerialNumber=new n.z8({valueHex:t.result.authorityCertSerialNumber.valueBlock.valueHex}))}toSchema(){const e=[];return this.keyIdentifier&&e.push(new n.WV({idBlock:{tagClass:3,tagNumber:0},valueHex:this.keyIdentifier.valueBlock.valueHexView})),this.authorityCertIssuer&&e.push(new n.FC({idBlock:{tagClass:3,tagNumber:1},value:Array.from(this.authorityCertIssuer,(e=>e.toSchema()))})),this.authorityCertSerialNumber&&e.push(new n.WV({idBlock:{tagClass:3,tagNumber:2},valueHex:this.authorityCertSerialNumber.valueBlock.valueHexView})),new n.T9({value:e})}toJSON(){const e={};return this.keyIdentifier&&(e.keyIdentifier=this.keyIdentifier.toJSON()),this.authorityCertIssuer&&(e.authorityCertIssuer=Array.from(this.authorityCertIssuer,(e=>e.toJSON()))),this.authorityCertSerialNumber&&(e.authorityCertSerialNumber=this.authorityCertSerialNumber.toJSON()),e}}xe.CLASS_NAME="AuthorityKeyIdentifier";const Pe="pathLenConstraint",Ie="cA";class Te extends d{constructor(e={}){super(),this.cA=a.H$(e,Ie,!1),Pe in e&&(this.pathLenConstraint=a.H$(e,Pe,0)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){return e!==Ie&&super.defaultValues(e)}static schema(e={}){const t=a.H$(e,"names",{});return new n.T9({name:t.blockName||c,value:[new n.ge({optional:!0,name:t.cA||c}),new n.z8({optional:!0,name:t.pathLenConstraint||c})]})}fromSchema(e){a.ze(e,[Ie,Pe]);const t=n.eN(e,e,Te.schema({names:{cA:Ie,pathLenConstraint:Pe}}));f.assertSchema(t,this.className),Ie in t.result&&(this.cA=t.result.cA.valueBlock.value),Pe in t.result&&(t.result.pathLenConstraint.valueBlock.isHexOnly?this.pathLenConstraint=t.result.pathLenConstraint:this.pathLenConstraint=t.result.pathLenConstraint.valueBlock.valueDec)}toSchema(){const e=[];return this.cA!==Te.defaultValues(Ie)&&e.push(new n.ge({value:this.cA})),Pe in this&&(this.pathLenConstraint instanceof n.z8?e.push(this.pathLenConstraint):e.push(new n.z8({value:this.pathLenConstraint}))),new n.T9({value:e})}toJSON(){const e={};return this.cA!==Te.defaultValues(Ie)&&(e.cA=this.cA),Pe in this&&(this.pathLenConstraint instanceof n.z8?e.pathLenConstraint=this.pathLenConstraint.toJSON():e.pathLenConstraint=this.pathLenConstraint),e}}Te.CLASS_NAME="BasicConstraints";const je="certificateIndex",Ve="keyIndex";class Be extends d{constructor(e={}){super(),this.certificateIndex=a.H$(e,je,Be.defaultValues(je)),this.keyIndex=a.H$(e,Ve,Be.defaultValues(Ve)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case je:case Ve:return 0;default:return super.defaultValues(e)}}static schema(){return new n.z8}fromSchema(e){if(e.constructor.blockName()!==n.z8.blockName())throw new Error("Object's schema was not verified against input data for CAVersion");let t=e.valueBlock.valueHex.slice(0);const r=new Uint8Array(t);switch(!0){case t.byteLength<4:{const e=new ArrayBuffer(4);new Uint8Array(e).set(r,4-t.byteLength),t=e.slice(0)}break;case t.byteLength>4:{const e=new ArrayBuffer(4);new Uint8Array(e).set(r.slice(0,4)),t=e.slice(0)}}const i=t.slice(0,2),a=new Uint8Array(i);let s=a[0];a[0]=a[1],a[1]=s;const o=new Uint16Array(i);this.keyIndex=o[0];const u=t.slice(2),c=new Uint8Array(u);s=c[0],c[0]=c[1],c[1]=s;const l=new Uint16Array(u);this.certificateIndex=l[0]}toSchema(){const e=new ArrayBuffer(2);new Uint16Array(e)[0]=this.certificateIndex;const t=new Uint8Array(e);let r=t[0];t[0]=t[1],t[1]=r;const i=new ArrayBuffer(2);new Uint16Array(i)[0]=this.keyIndex;const s=new Uint8Array(i);return r=s[0],s[0]=s[1],s[1]=r,new n.z8({valueHex:a.hk(i,e)})}toJSON(){return{certificateIndex:this.certificateIndex,keyIndex:this.keyIndex}}}Be.CLASS_NAME="CAVersion";const De="policyQualifierId",He="qualifier",Me=[De,He];class Re extends d{constructor(e={}){super(),this.policyQualifierId=a.H$(e,De,Re.defaultValues(De)),this.qualifier=a.H$(e,He,Re.defaultValues(He)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case De:return c;case He:return new n.IK;default:return super.defaultValues(e)}}static schema(e={}){const t=a.H$(e,"names",{});return new n.T9({name:t.blockName||c,value:[new n.rP({name:t.policyQualifierId||c}),new n.IK({name:t.qualifier||c})]})}fromSchema(e){a.ze(e,Me);const t=n.eN(e,e,Re.schema({names:{policyQualifierId:De,qualifier:He}}));f.assertSchema(t,this.className),this.policyQualifierId=t.result.policyQualifierId.valueBlock.toString(),this.qualifier=t.result.qualifier}toSchema(){return new n.T9({value:[new n.rP({value:this.policyQualifierId}),this.qualifier]})}toJSON(){return{policyQualifierId:this.policyQualifierId,qualifier:this.qualifier.toJSON()}}}Re.CLASS_NAME="PolicyQualifierInfo";const Le="policyIdentifier",$e="policyQualifiers",Ue=[Le,$e];class Fe extends d{constructor(e={}){super(),this.policyIdentifier=a.H$(e,Le,Fe.defaultValues(Le)),$e in e&&(this.policyQualifiers=a.H$(e,$e,Fe.defaultValues($e))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Le:return c;case $e:return[];default:return super.defaultValues(e)}}static schema(e={}){const t=a.H$(e,"names",{});return new n.T9({name:t.blockName||c,value:[new n.rP({name:t.policyIdentifier||c}),new n.T9({optional:!0,value:[new n.ZD({name:t.policyQualifiers||c,value:Re.schema()})]})]})}fromSchema(e){a.ze(e,Ue);const t=n.eN(e,e,Fe.schema({names:{policyIdentifier:Le,policyQualifiers:$e}}));f.assertSchema(t,this.className),this.policyIdentifier=t.result.policyIdentifier.valueBlock.toString(),$e in t.result&&(this.policyQualifiers=Array.from(t.result.policyQualifiers,(e=>new Re({schema:e}))))}toSchema(){const e=[];return e.push(new n.rP({value:this.policyIdentifier})),this.policyQualifiers&&e.push(new n.T9({value:Array.from(this.policyQualifiers,(e=>e.toSchema()))})),new n.T9({value:e})}toJSON(){const e={policyIdentifier:this.policyIdentifier};return this.policyQualifiers&&(e.policyQualifiers=Array.from(this.policyQualifiers,(e=>e.toJSON()))),e}}Fe.CLASS_NAME="PolicyInformation";const Ke="certificatePolicies",ze=[Ke];class We extends d{constructor(e={}){super(),this.certificatePolicies=a.H$(e,Ke,We.defaultValues(Ke)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){return e===Ke?[]:super.defaultValues(e)}static schema(e={}){const t=a.H$(e,"names",{});return new n.T9({name:t.blockName||c,value:[new n.ZD({name:t.certificatePolicies||c,value:Fe.schema()})]})}fromSchema(e){a.ze(e,ze);const t=n.eN(e,e,We.schema({names:{certificatePolicies:Ke}}));f.assertSchema(t,this.className),this.certificatePolicies=Array.from(t.result.certificatePolicies,(e=>new Fe({schema:e})))}toSchema(){return new n.T9({value:Array.from(this.certificatePolicies,(e=>e.toSchema()))})}toJSON(){return{certificatePolicies:Array.from(this.certificatePolicies,(e=>e.toJSON()))}}}We.CLASS_NAME="CertificatePolicies";const qe="templateID",Ze="templateMajorVersion",Je="templateMinorVersion",Ge=[qe,Ze,Je];class Ye extends d{constructor(e={}){super(),this.templateID=a.H$(e,qe,Ye.defaultValues(qe)),Ze in e&&(this.templateMajorVersion=a.H$(e,Ze,Ye.defaultValues(Ze))),Je in e&&(this.templateMinorVersion=a.H$(e,Je,Ye.defaultValues(Je))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case qe:return c;case Ze:case Je:return 0;default:return super.defaultValues(e)}}static schema(e={}){const t=a.H$(e,"names",{});return new n.T9({name:t.blockName||c,value:[new n.rP({name:t.templateID||c}),new n.z8({name:t.templateMajorVersion||c,optional:!0}),new n.z8({name:t.templateMinorVersion||c,optional:!0})]})}fromSchema(e){a.ze(e,Ge);const t=n.eN(e,e,Ye.schema({names:{templateID:qe,templateMajorVersion:Ze,templateMinorVersion:Je}}));f.assertSchema(t,this.className),this.templateID=t.result.templateID.valueBlock.toString(),Ze in t.result&&(this.templateMajorVersion=t.result.templateMajorVersion.valueBlock.valueDec),Je in t.result&&(this.templateMinorVersion=t.result.templateMinorVersion.valueBlock.valueDec)}toSchema(){const e=[];return e.push(new n.rP({value:this.templateID})),Ze in this&&e.push(new n.z8({value:this.templateMajorVersion})),Je in this&&e.push(new n.z8({value:this.templateMinorVersion})),new n.T9({value:e})}toJSON(){const e={templateID:this.templateID};return Ze in this&&(e.templateMajorVersion=this.templateMajorVersion),Je in this&&(e.templateMinorVersion=this.templateMinorVersion),e}}const Xe="distributionPoint",Qe="distributionPointNames",et="reasons",tt="cRLIssuer",rt="cRLIssuerNames",nt=[Xe,Qe,et,tt,rt];class it extends d{constructor(e={}){super(),Xe in e&&(this.distributionPoint=a.H$(e,Xe,it.defaultValues(Xe))),et in e&&(this.reasons=a.H$(e,et,it.defaultValues(et))),tt in e&&(this.cRLIssuer=a.H$(e,tt,it.defaultValues(tt))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Xe:return[];case et:return new n._K;case tt:return[];default:return super.defaultValues(e)}}static schema(e={}){const t=a.H$(e,"names",{});return new n.T9({name:t.blockName||c,value:[new n.FC({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new n.Lv({value:[new n.FC({name:t.distributionPoint||c,optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new n.ZD({name:t.distributionPointNames||c,value:O.schema()})]}),new n.FC({name:t.distributionPoint||c,optional:!0,idBlock:{tagClass:3,tagNumber:1},value:w.schema().valueBlock.value})]})]}),new n.WV({name:t.reasons||c,optional:!0,idBlock:{tagClass:3,tagNumber:1}}),new n.FC({name:t.cRLIssuer||c,optional:!0,idBlock:{tagClass:3,tagNumber:2},value:[new n.ZD({name:t.cRLIssuerNames||c,value:O.schema()})]})]})}fromSchema(e){a.ze(e,nt);const t=n.eN(e,e,it.schema({names:{distributionPoint:Xe,distributionPointNames:Qe,reasons:et,cRLIssuer:tt,cRLIssuerNames:rt}}));f.assertSchema(t,this.className),Xe in t.result&&(0===t.result.distributionPoint.idBlock.tagNumber&&(this.distributionPoint=Array.from(t.result.distributionPointNames,(e=>new O({schema:e})))),1===t.result.distributionPoint.idBlock.tagNumber&&(this.distributionPoint=new w({schema:new n.T9({value:t.result.distributionPoint.valueBlock.value})}))),et in t.result&&(this.reasons=new n._K({valueHex:t.result.reasons.valueBlock.valueHex})),tt in t.result&&(this.cRLIssuer=Array.from(t.result.cRLIssuerNames,(e=>new O({schema:e}))))}toSchema(){const e=[];if(this.distributionPoint){let t;t=this.distributionPoint instanceof Array?new n.FC({idBlock:{tagClass:3,tagNumber:0},value:Array.from(this.distributionPoint,(e=>e.toSchema()))}):new n.FC({idBlock:{tagClass:3,tagNumber:1},value:[this.distributionPoint.toSchema()]}),e.push(new n.FC({idBlock:{tagClass:3,tagNumber:0},value:[t]}))}return this.reasons&&e.push(new n.WV({idBlock:{tagClass:3,tagNumber:1},valueHex:this.reasons.valueBlock.valueHexView})),this.cRLIssuer&&e.push(new n.FC({idBlock:{tagClass:3,tagNumber:2},value:Array.from(this.cRLIssuer,(e=>e.toSchema()))})),new n.T9({value:e})}toJSON(){const e={};return this.distributionPoint&&(this.distributionPoint instanceof Array?e.distributionPoint=Array.from(this.distributionPoint,(e=>e.toJSON())):e.distributionPoint=this.distributionPoint.toJSON()),this.reasons&&(e.reasons=this.reasons.toJSON()),this.cRLIssuer&&(e.cRLIssuer=Array.from(this.cRLIssuer,(e=>e.toJSON()))),e}}it.CLASS_NAME="DistributionPoint";const at="distributionPoints",st=[at];class ot extends d{constructor(e={}){super(),this.distributionPoints=a.H$(e,at,ot.defaultValues(at)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){return e===at?[]:super.defaultValues(e)}static schema(e={}){const t=a.H$(e,"names",{});return new n.T9({name:t.blockName||c,value:[new n.ZD({name:t.distributionPoints||c,value:it.schema()})]})}fromSchema(e){a.ze(e,st);const t=n.eN(e,e,ot.schema({names:{distributionPoints:at}}));f.assertSchema(t,this.className),this.distributionPoints=Array.from(t.result.distributionPoints,(e=>new it({schema:e})))}toSchema(){return new n.T9({value:Array.from(this.distributionPoints,(e=>e.toSchema()))})}toJSON(){return{distributionPoints:Array.from(this.distributionPoints,(e=>e.toJSON()))}}}ot.CLASS_NAME="CRLDistributionPoints";const ut="keyPurposes",ct=[ut];class lt extends d{constructor(e={}){super(),this.keyPurposes=a.H$(e,ut,lt.defaultValues(ut)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){return e===ut?[]:super.defaultValues(e)}static schema(e={}){const t=a.H$(e,"names",{});return new n.T9({name:t.blockName||c,value:[new n.ZD({name:t.keyPurposes||c,value:new n.rP})]})}fromSchema(e){a.ze(e,ct);const t=n.eN(e,e,lt.schema({names:{keyPurposes:ut}}));f.assertSchema(t,this.className),this.keyPurposes=Array.from(t.result.keyPurposes,(e=>e.valueBlock.toString()))}toSchema(){return new n.T9({value:Array.from(this.keyPurposes,(e=>new n.rP({value:e})))})}toJSON(){return{keyPurposes:Array.from(this.keyPurposes)}}}lt.CLASS_NAME="ExtKeyUsage";const ht="accessDescriptions";class ft extends d{constructor(e={}){super(),this.accessDescriptions=a.H$(e,ht,ft.defaultValues(ht)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){return e===ht?[]:super.defaultValues(e)}static schema(e={}){const t=a.H$(e,"names",{});return new n.T9({name:t.blockName||c,value:[new n.ZD({name:t.accessDescriptions||c,value:P.schema()})]})}fromSchema(e){a.ze(e,[ht]);const t=n.eN(e,e,ft.schema({names:{accessDescriptions:ht}}));f.assertSchema(t,this.className),this.accessDescriptions=Array.from(t.result.accessDescriptions,(e=>new P({schema:e})))}toSchema(){return new n.T9({value:Array.from(this.accessDescriptions,(e=>e.toSchema()))})}toJSON(){return{accessDescriptions:Array.from(this.accessDescriptions,(e=>e.toJSON()))}}}ft.CLASS_NAME="InfoAccess";const dt="distributionPoint",pt="distributionPointNames",mt="onlyContainsUserCerts",bt="onlyContainsCACerts",vt="onlySomeReasons",yt="indirectCRL",gt="onlyContainsAttributeCerts",wt=[dt,pt,mt,bt,vt,yt,gt];class St extends d{constructor(e={}){super(),dt in e&&(this.distributionPoint=a.H$(e,dt,St.defaultValues(dt))),this.onlyContainsUserCerts=a.H$(e,mt,St.defaultValues(mt)),this.onlyContainsCACerts=a.H$(e,bt,St.defaultValues(bt)),vt in e&&(this.onlySomeReasons=a.H$(e,vt,St.defaultValues(vt))),this.indirectCRL=a.H$(e,yt,St.defaultValues(yt)),this.onlyContainsAttributeCerts=a.H$(e,gt,St.defaultValues(gt)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case dt:return[];case mt:case bt:return!1;case vt:return 0;case yt:case gt:return!1;default:return super.defaultValues(e)}}static schema(e={}){const t=a.H$(e,"names",{});return new n.T9({name:t.blockName||c,value:[new n.FC({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new n.Lv({value:[new n.FC({name:t.distributionPoint||c,idBlock:{tagClass:3,tagNumber:0},value:[new n.ZD({name:t.distributionPointNames||c,value:O.schema()})]}),new n.FC({name:t.distributionPoint||c,idBlock:{tagClass:3,tagNumber:1},value:w.schema().valueBlock.value})]})]}),new n.WV({name:t.onlyContainsUserCerts||c,optional:!0,idBlock:{tagClass:3,tagNumber:1}}),new n.WV({name:t.onlyContainsCACerts||c,optional:!0,idBlock:{tagClass:3,tagNumber:2}}),new n.WV({name:t.onlySomeReasons||c,optional:!0,idBlock:{tagClass:3,tagNumber:3}}),new n.WV({name:t.indirectCRL||c,optional:!0,idBlock:{tagClass:3,tagNumber:4}}),new n.WV({name:t.onlyContainsAttributeCerts||c,optional:!0,idBlock:{tagClass:3,tagNumber:5}})]})}fromSchema(e){a.ze(e,wt);const t=n.eN(e,e,St.schema({names:{distributionPoint:dt,distributionPointNames:pt,onlyContainsUserCerts:mt,onlyContainsCACerts:bt,onlySomeReasons:vt,indirectCRL:yt,onlyContainsAttributeCerts:gt}}));if(f.assertSchema(t,this.className),dt in t.result)switch(!0){case 0===t.result.distributionPoint.idBlock.tagNumber:this.distributionPoint=Array.from(t.result.distributionPointNames,(e=>new O({schema:e})));break;case 1===t.result.distributionPoint.idBlock.tagNumber:this.distributionPoint=new w({schema:new n.T9({value:t.result.distributionPoint.valueBlock.value})});break;default:throw new Error("Unknown tagNumber for distributionPoint: {$asn1.result.distributionPoint.idBlock.tagNumber}")}if(mt in t.result){const e=new Uint8Array(t.result.onlyContainsUserCerts.valueBlock.valueHex);this.onlyContainsUserCerts=0!==e[0]}if(bt in t.result){const e=new Uint8Array(t.result.onlyContainsCACerts.valueBlock.valueHex);this.onlyContainsCACerts=0!==e[0]}if(vt in t.result){const e=new Uint8Array(t.result.onlySomeReasons.valueBlock.valueHex);this.onlySomeReasons=e[0]}if(yt in t.result){const e=new Uint8Array(t.result.indirectCRL.valueBlock.valueHex);this.indirectCRL=0!==e[0]}if(gt in t.result){const e=new Uint8Array(t.result.onlyContainsAttributeCerts.valueBlock.valueHex);this.onlyContainsAttributeCerts=0!==e[0]}}toSchema(){const e=[];if(this.distributionPoint){let t;this.distributionPoint instanceof Array?t=new n.FC({idBlock:{tagClass:3,tagNumber:0},value:Array.from(this.distributionPoint,(e=>e.toSchema()))}):(t=this.distributionPoint.toSchema(),t.idBlock.tagClass=3,t.idBlock.tagNumber=1),e.push(new n.FC({idBlock:{tagClass:3,tagNumber:0},value:[t]}))}if(this.onlyContainsUserCerts!==St.defaultValues(mt)&&e.push(new n.WV({idBlock:{tagClass:3,tagNumber:1},valueHex:new Uint8Array([255]).buffer})),this.onlyContainsCACerts!==St.defaultValues(bt)&&e.push(new n.WV({idBlock:{tagClass:3,tagNumber:2},valueHex:new Uint8Array([255]).buffer})),void 0!==this.onlySomeReasons){const t=new ArrayBuffer(1);new Uint8Array(t)[0]=this.onlySomeReasons,e.push(new n.WV({idBlock:{tagClass:3,tagNumber:3},valueHex:t}))}return this.indirectCRL!==St.defaultValues(yt)&&e.push(new n.WV({idBlock:{tagClass:3,tagNumber:4},valueHex:new Uint8Array([255]).buffer})),this.onlyContainsAttributeCerts!==St.defaultValues(gt)&&e.push(new n.WV({idBlock:{tagClass:3,tagNumber:5},valueHex:new Uint8Array([255]).buffer})),new n.T9({value:e})}toJSON(){const e={};return this.distributionPoint&&(this.distributionPoint instanceof Array?e.distributionPoint=Array.from(this.distributionPoint,(e=>e.toJSON())):e.distributionPoint=this.distributionPoint.toJSON()),this.onlyContainsUserCerts!==St.defaultValues(mt)&&(e.onlyContainsUserCerts=this.onlyContainsUserCerts),this.onlyContainsCACerts!==St.defaultValues(bt)&&(e.onlyContainsCACerts=this.onlyContainsCACerts),vt in this&&(e.onlySomeReasons=this.onlySomeReasons),this.indirectCRL!==St.defaultValues(yt)&&(e.indirectCRL=this.indirectCRL),this.onlyContainsAttributeCerts!==St.defaultValues(gt)&&(e.onlyContainsAttributeCerts=this.onlyContainsAttributeCerts),e}}St.CLASS_NAME="IssuingDistributionPoint";const _t="base",At="minimum",kt="maximum",Et=[_t,At,kt];class Ot extends d{constructor(e={}){super(),this.base=a.H$(e,_t,Ot.defaultValues(_t)),this.minimum=a.H$(e,At,Ot.defaultValues(At)),kt in e&&(this.maximum=a.H$(e,kt,Ot.defaultValues(kt))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case _t:return new O;case At:case kt:return 0;default:return super.defaultValues(e)}}static schema(e={}){const t=a.H$(e,"names",{});return new n.T9({name:t.blockName||c,value:[O.schema(t.base||{}),new n.FC({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new n.z8({name:t.minimum||c})]}),new n.FC({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[new n.z8({name:t.maximum||c})]})]})}fromSchema(e){a.ze(e,Et);const t=n.eN(e,e,Ot.schema({names:{base:{names:{blockName:_t}},minimum:At,maximum:kt}}));f.assertSchema(t,this.className),this.base=new O({schema:t.result.base}),At in t.result&&(t.result.minimum.valueBlock.isHexOnly?this.minimum=t.result.minimum:this.minimum=t.result.minimum.valueBlock.valueDec),kt in t.result&&(t.result.maximum.valueBlock.isHexOnly?this.maximum=t.result.maximum:this.maximum=t.result.maximum.valueBlock.valueDec)}toSchema(){const e=[];if(e.push(this.base.toSchema()),0!==this.minimum){let t=0;t=this.minimum instanceof n.z8?this.minimum:new n.z8({value:this.minimum}),e.push(new n.FC({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[t]}))}if(kt in this){let t=0;t=this.maximum instanceof n.z8?this.maximum:new n.z8({value:this.maximum}),e.push(new n.FC({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[t]}))}return new n.T9({value:e})}toJSON(){const e={base:this.base.toJSON()};return 0!==this.minimum&&("number"==typeof this.minimum?e.minimum=this.minimum:e.minimum=this.minimum.toJSON()),void 0!==this.maximum&&("number"==typeof this.maximum?e.maximum=this.maximum:e.maximum=this.maximum.toJSON()),e}}Ot.CLASS_NAME="GeneralSubtree";const Ct="permittedSubtrees",Nt="excludedSubtrees",xt=[Ct,Nt];class Pt extends d{constructor(e={}){super(),Ct in e&&(this.permittedSubtrees=a.H$(e,Ct,Pt.defaultValues(Ct))),Nt in e&&(this.excludedSubtrees=a.H$(e,Nt,Pt.defaultValues(Nt))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Ct:case Nt:return[];default:return super.defaultValues(e)}}static schema(e={}){const t=a.H$(e,"names",{});return new n.T9({name:t.blockName||c,value:[new n.FC({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new n.ZD({name:t.permittedSubtrees||c,value:Ot.schema()})]}),new n.FC({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[new n.ZD({name:t.excludedSubtrees||c,value:Ot.schema()})]})]})}fromSchema(e){a.ze(e,xt);const t=n.eN(e,e,Pt.schema({names:{permittedSubtrees:Ct,excludedSubtrees:Nt}}));f.assertSchema(t,this.className),Ct in t.result&&(this.permittedSubtrees=Array.from(t.result.permittedSubtrees,(e=>new Ot({schema:e})))),Nt in t.result&&(this.excludedSubtrees=Array.from(t.result.excludedSubtrees,(e=>new Ot({schema:e}))))}toSchema(){const e=[];return this.permittedSubtrees&&e.push(new n.FC({idBlock:{tagClass:3,tagNumber:0},value:Array.from(this.permittedSubtrees,(e=>e.toSchema()))})),this.excludedSubtrees&&e.push(new n.FC({idBlock:{tagClass:3,tagNumber:1},value:Array.from(this.excludedSubtrees,(e=>e.toSchema()))})),new n.T9({value:e})}toJSON(){const e={};return this.permittedSubtrees&&(e.permittedSubtrees=Array.from(this.permittedSubtrees,(e=>e.toJSON()))),this.excludedSubtrees&&(e.excludedSubtrees=Array.from(this.excludedSubtrees,(e=>e.toJSON()))),e}}Pt.CLASS_NAME="NameConstraints";const It="requireExplicitPolicy",Tt="inhibitPolicyMapping",jt=[It,Tt];class Vt extends d{constructor(e={}){super(),It in e&&(this.requireExplicitPolicy=a.H$(e,It,Vt.defaultValues(It))),Tt in e&&(this.inhibitPolicyMapping=a.H$(e,Tt,Vt.defaultValues(Tt))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case It:case Tt:return 0;default:return super.defaultValues(e)}}static schema(e={}){const t=a.H$(e,"names",{});return new n.T9({name:t.blockName||c,value:[new n.WV({name:t.requireExplicitPolicy||c,optional:!0,idBlock:{tagClass:3,tagNumber:0}}),new n.WV({name:t.inhibitPolicyMapping||c,optional:!0,idBlock:{tagClass:3,tagNumber:1}})]})}fromSchema(e){a.ze(e,jt);const t=n.eN(e,e,Vt.schema({names:{requireExplicitPolicy:It,inhibitPolicyMapping:Tt}}));if(f.assertSchema(t,this.className),It in t.result){const e=t.result.requireExplicitPolicy;e.idBlock.tagClass=1,e.idBlock.tagNumber=2;const r=e.toBER(!1),i=n.sc(r);f.assert(i,"Integer"),this.requireExplicitPolicy=i.result.valueBlock.valueDec}if(Tt in t.result){const e=t.result.inhibitPolicyMapping;e.idBlock.tagClass=1,e.idBlock.tagNumber=2;const r=e.toBER(!1),i=n.sc(r);f.assert(i,"Integer"),this.inhibitPolicyMapping=i.result.valueBlock.valueDec}}toSchema(){const e=[];if(It in this){const t=new n.z8({value:this.requireExplicitPolicy});t.idBlock.tagClass=3,t.idBlock.tagNumber=0,e.push(t)}if(Tt in this){const t=new n.z8({value:this.inhibitPolicyMapping});t.idBlock.tagClass=3,t.idBlock.tagNumber=1,e.push(t)}return new n.T9({value:e})}toJSON(){const e={};return It in this&&(e.requireExplicitPolicy=this.requireExplicitPolicy),Tt in this&&(e.inhibitPolicyMapping=this.inhibitPolicyMapping),e}}Vt.CLASS_NAME="PolicyConstraints";const Bt="issuerDomainPolicy",Dt="subjectDomainPolicy",Ht=[Bt,Dt];class Mt extends d{constructor(e={}){super(),this.issuerDomainPolicy=a.H$(e,Bt,Mt.defaultValues(Bt)),this.subjectDomainPolicy=a.H$(e,Dt,Mt.defaultValues(Dt)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Bt:case Dt:return c;default:return super.defaultValues(e)}}static schema(e={}){const t=a.H$(e,"names",{});return new n.T9({name:t.blockName||c,value:[new n.rP({name:t.issuerDomainPolicy||c}),new n.rP({name:t.subjectDomainPolicy||c})]})}fromSchema(e){a.ze(e,Ht);const t=n.eN(e,e,Mt.schema({names:{issuerDomainPolicy:Bt,subjectDomainPolicy:Dt}}));f.assertSchema(t,this.className),this.issuerDomainPolicy=t.result.issuerDomainPolicy.valueBlock.toString(),this.subjectDomainPolicy=t.result.subjectDomainPolicy.valueBlock.toString()}toSchema(){return new n.T9({value:[new n.rP({value:this.issuerDomainPolicy}),new n.rP({value:this.subjectDomainPolicy})]})}toJSON(){return{issuerDomainPolicy:this.issuerDomainPolicy,subjectDomainPolicy:this.subjectDomainPolicy}}}Mt.CLASS_NAME="PolicyMapping";const Rt="mappings",Lt=[Rt];class $t extends d{constructor(e={}){super(),this.mappings=a.H$(e,Rt,$t.defaultValues(Rt)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){return e===Rt?[]:super.defaultValues(e)}static schema(e={}){const t=a.H$(e,"names",{});return new n.T9({name:t.blockName||c,value:[new n.ZD({name:t.mappings||c,value:Mt.schema()})]})}fromSchema(e){a.ze(e,Lt);const t=n.eN(e,e,$t.schema({names:{mappings:Rt}}));f.assertSchema(t,this.className),this.mappings=Array.from(t.result.mappings,(e=>new Mt({schema:e})))}toSchema(){return new n.T9({value:Array.from(this.mappings,(e=>e.toSchema()))})}toJSON(){return{mappings:Array.from(this.mappings,(e=>e.toJSON()))}}}$t.CLASS_NAME="PolicyMappings";const Ut="notBefore",Ft="notAfter",Kt=[Ut,Ft];class zt extends d{constructor(e={}){super(),Ut in e&&(this.notBefore=a.H$(e,Ut,zt.defaultValues(Ut))),Ft in e&&(this.notAfter=a.H$(e,Ft,zt.defaultValues(Ft))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Ut:case Ft:return new Date;default:return super.defaultValues(e)}}static schema(e={}){const t=a.H$(e,"names",{});return new n.T9({name:t.blockName||c,value:[new n.WV({name:t.notBefore||c,optional:!0,idBlock:{tagClass:3,tagNumber:0}}),new n.WV({name:t.notAfter||c,optional:!0,idBlock:{tagClass:3,tagNumber:1}})]})}fromSchema(e){a.ze(e,Kt);const t=n.eN(e,e,zt.schema({names:{notBefore:Ut,notAfter:Ft}}));if(f.assertSchema(t,this.className),Ut in t.result){const e=new n.Yw;e.fromBuffer(t.result.notBefore.valueBlock.valueHex),this.notBefore=e.toDate()}if(Ft in t.result){const e=new n.Yw({valueHex:t.result.notAfter.valueBlock.valueHex});e.fromBuffer(t.result.notAfter.valueBlock.valueHex),this.notAfter=e.toDate()}}toSchema(){const e=[];return Ut in this&&e.push(new n.WV({idBlock:{tagClass:3,tagNumber:0},valueHex:new n.Yw({valueDate:this.notBefore}).valueBlock.valueHexView})),Ft in this&&e.push(new n.WV({idBlock:{tagClass:3,tagNumber:1},valueHex:new n.Yw({valueDate:this.notAfter}).valueBlock.valueHexView})),new n.T9({value:e})}toJSON(){const e={};return this.notBefore&&(e.notBefore=this.notBefore),this.notAfter&&(e.notAfter=this.notAfter),e}}zt.CLASS_NAME="PrivateKeyUsagePeriod";const Wt="id",qt="type",Zt="values",Jt=[Wt,qt],Gt=[Zt];class Yt extends d{constructor(e={}){super(),this.id=a.H$(e,Wt,Yt.defaultValues(Wt)),qt in e&&(this.type=a.H$(e,qt,Yt.defaultValues(qt))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Wt:return c;case qt:return new n.p2;default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case Wt:return t===c;case qt:return t instanceof n.p2;default:return super.defaultValues(e)}}static schema(e={}){const t=a.H$(e,"names",{});return new n.T9({name:t.blockName||c,value:[new n.rP({name:t.id||c}),new n.IK({name:t.type||c,optional:!0})]})}fromSchema(e){a.ze(e,Jt);const t=n.eN(e,e,Yt.schema({names:{id:Wt,type:qt}}));f.assertSchema(t,this.className),this.id=t.result.id.valueBlock.toString(),qt in t.result&&(this.type=t.result.type)}toSchema(){const e=[new n.rP({value:this.id})];return qt in this&&e.push(this.type),new n.T9({value:e})}toJSON(){const e={id:this.id};return this.type&&(e.type=this.type.toJSON()),e}}Yt.CLASS_NAME="QCStatement";class Xt extends d{constructor(e={}){super(),this.values=a.H$(e,Zt,Xt.defaultValues(Zt)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){return e===Zt?[]:super.defaultValues(e)}static compareWithDefault(e,t){return e===Zt?0===t.length:super.defaultValues(e)}static schema(e={}){const t=a.H$(e,"names",{});return new n.T9({name:t.blockName||c,value:[new n.ZD({name:t.values||c,value:Yt.schema(t.value||{})})]})}fromSchema(e){a.ze(e,Gt);const t=n.eN(e,e,Xt.schema({names:{values:Zt}}));f.assertSchema(t,this.className),this.values=Array.from(t.result.values,(e=>new Yt({schema:e})))}toSchema(){return new n.T9({value:Array.from(this.values,(e=>e.toSchema()))})}toJSON(){return{values:Array.from(this.values,(e=>e.toJSON()))}}}var Qt;Xt.CLASS_NAME="QCStatements";class er{static register(e,t,r){this.namedCurves[e.toLowerCase()]=this.namedCurves[t]={name:e,id:t,size:r}}static find(e){return this.namedCurves[e.toLowerCase()]||null}}Qt=er,er.namedCurves={},Qt.register("P-256","1.2.840.10045.3.1.7",32),Qt.register("P-384","1.3.132.0.34",48),Qt.register("P-521","1.3.132.0.35",66),Qt.register("brainpoolP256r1","1.3.36.3.3.2.8.1.1.7",32),Qt.register("brainpoolP384r1","1.3.36.3.3.2.8.1.1.11",48),Qt.register("brainpoolP512r1","1.3.36.3.3.2.8.1.1.13",64);const tr="x",rr="y",nr="namedCurve";class ir extends d{constructor(e={}){super(),this.x=a.H$(e,tr,ir.defaultValues(tr)),this.y=a.H$(e,rr,ir.defaultValues(rr)),this.namedCurve=a.H$(e,nr,ir.defaultValues(nr)),e.json&&this.fromJSON(e.json),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case tr:case rr:return u;case nr:return c;default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case tr:case rr:return t instanceof ArrayBuffer&&a.dN(t,ir.defaultValues(e));case nr:return"string"==typeof t&&t===ir.defaultValues(e);default:return super.defaultValues(e)}}static schema(){return new n.Gh}fromSchema(e){const t=i.vJ.toUint8Array(e);if(4!==t[0])throw new Error("Object's schema was not verified against input data for ECPublicKey");const r=er.find(this.namedCurve);if(!r)throw new Error(`Incorrect curve OID: ${this.namedCurve}`);const n=r.size;if(t.byteLength!==2*n+1)throw new Error("Object's schema was not verified against input data for ECPublicKey");this.namedCurve=r.name,this.x=t.slice(1,n+1).buffer,this.y=t.slice(1+n,2*n+1).buffer}toSchema(){return new n.Gh({data:a.hk(new Uint8Array([4]).buffer,this.x,this.y)})}toJSON(){const e=er.find(this.namedCurve);return{crv:e?e.name:this.namedCurve,x:a.s3(a.lE(this.x),!0,!0,!1),y:a.s3(a.lE(this.y),!0,!0,!1)}}fromJSON(e){h.assert("json",e,"crv","x","y");let t=0;const r=er.find(e.crv);r&&(this.namedCurve=r.id,t=r.size);const n=a.gG(a.Gh(e.x,!0));if(n.byteLength<t){this.x=new ArrayBuffer(t);const e=new Uint8Array(this.x),r=new Uint8Array(n);e.set(r,1)}else this.x=n.slice(0,t);const i=a.gG(a.Gh(e.y,!0));if(i.byteLength<t){this.y=new ArrayBuffer(t);const e=new Uint8Array(this.y),r=new Uint8Array(i);e.set(r,1)}else this.y=i.slice(0,t)}}ir.CLASS_NAME="ECPublicKey";const ar="modulus",sr="publicExponent",or=[ar,sr];class ur extends d{constructor(e={}){super(),this.modulus=a.H$(e,ar,ur.defaultValues(ar)),this.publicExponent=a.H$(e,sr,ur.defaultValues(sr)),e.json&&this.fromJSON(e.json),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case ar:case sr:return new n.z8;default:return super.defaultValues(e)}}static schema(e={}){const t=a.H$(e,"names",{});return new n.T9({name:t.blockName||c,value:[new n.z8({name:t.modulus||c}),new n.z8({name:t.publicExponent||c})]})}fromSchema(e){a.ze(e,or);const t=n.eN(e,e,ur.schema({names:{modulus:ar,publicExponent:sr}}));f.assertSchema(t,this.className),this.modulus=t.result.modulus.convertFromDER(256),this.publicExponent=t.result.publicExponent}toSchema(){return new n.T9({value:[this.modulus.convertToDER(),this.publicExponent]})}toJSON(){return{n:i.ep.ToBase64Url(this.modulus.valueBlock.valueHexView),e:i.ep.ToBase64Url(this.publicExponent.valueBlock.valueHexView)}}fromJSON(e){h.assert("json",e,"n","e");const t=a.gG(a.Gh(e.n,!0));this.modulus=new n.z8({valueHex:t.slice(0,Math.pow(2,a.J$(t.byteLength)))}),this.publicExponent=new n.z8({valueHex:a.gG(a.Gh(e.e,!0)).slice(0,3)})}}ur.CLASS_NAME="RSAPublicKey";const cr="algorithm",lr="subjectPublicKey",hr=[cr,lr];class fr extends d{constructor(e={}){super(),this.algorithm=a.H$(e,cr,fr.defaultValues(cr)),this.subjectPublicKey=a.H$(e,lr,fr.defaultValues(lr));const t=a.H$(e,"parsedKey",null);t&&(this.parsedKey=t),e.json&&this.fromJSON(e.json),e.schema&&this.fromSchema(e.schema)}get parsedKey(){if(void 0===this._parsedKey){switch(this.algorithm.algorithmId){case"1.2.840.10045.2.1":if("algorithmParams"in this.algorithm&&this.algorithm.algorithmParams.constructor.blockName()===n.rP.blockName())try{this._parsedKey=new ir({namedCurve:this.algorithm.algorithmParams.valueBlock.toString(),schema:this.subjectPublicKey.valueBlock.valueHexView})}catch(e){}break;case"1.2.840.113549.1.1.1":{const e=n.sc(this.subjectPublicKey.valueBlock.valueHexView);if(-1!==e.offset)try{this._parsedKey=new ur({schema:e.result})}catch(e){}}}this._parsedKey||(this._parsedKey=null)}return this._parsedKey||void 0}set parsedKey(e){this._parsedKey=e}static defaultValues(e){switch(e){case cr:return new L;case lr:return new n._K;default:return super.defaultValues(e)}}static schema(e={}){const t=a.H$(e,"names",{});return new n.T9({name:t.blockName||c,value:[L.schema(t.algorithm||{}),new n._K({name:t.subjectPublicKey||c})]})}fromSchema(e){a.ze(e,hr);const t=n.eN(e,e,fr.schema({names:{algorithm:{names:{blockName:cr}},subjectPublicKey:lr}}));f.assertSchema(t,this.className),this.algorithm=new L({schema:t.result.algorithm}),this.subjectPublicKey=t.result.subjectPublicKey}toSchema(){return new n.T9({value:[this.algorithm.toSchema(),this.subjectPublicKey]})}toJSON(){if(!this.parsedKey)return{algorithm:this.algorithm.toJSON(),subjectPublicKey:this.subjectPublicKey.toJSON()};const e={};switch(this.algorithm.algorithmId){case"1.2.840.10045.2.1":e.kty="EC";break;case"1.2.840.113549.1.1.1":e.kty="RSA"}const t=this.parsedKey.toJSON();return Object.assign(e,t),e}fromJSON(e){if("kty"in e){switch(e.kty.toUpperCase()){case"EC":this.parsedKey=new ir({json:e}),this.algorithm=new L({algorithmId:"1.2.840.10045.2.1",algorithmParams:new n.rP({value:this.parsedKey.namedCurve})});break;case"RSA":this.parsedKey=new ur({json:e}),this.algorithm=new L({algorithmId:"1.2.840.113549.1.1.1",algorithmParams:new n.p2});break;default:throw new Error(`Invalid value for "kty" parameter: ${e.kty}`)}this.subjectPublicKey=new n._K({valueHex:this.parsedKey.toSchema().toBER(!1)})}}async importKey(e,t=yn(!0)){try{if(!e)throw new Error("Need to provide publicKey input parameter");const r=await t.exportKey("spki",e),i=n.sc(r);try{this.fromSchema(i.result)}catch(e){throw new Error("Error during initializing object from schema")}}catch(e){const t=e instanceof Error?e.message:`${e}`;throw new Error(`Error during exporting public key: ${t}`)}}}fr.CLASS_NAME="PublicKeyInfo";const dr="version",pr="privateKey",mr="namedCurve",br="publicKey",vr=[dr,pr,mr,br];class yr extends d{constructor(e={}){super(),this.version=a.H$(e,dr,yr.defaultValues(dr)),this.privateKey=a.H$(e,pr,yr.defaultValues(pr)),mr in e&&(this.namedCurve=a.H$(e,mr,yr.defaultValues(mr))),br in e&&(this.publicKey=a.H$(e,br,yr.defaultValues(br))),e.json&&this.fromJSON(e.json),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case dr:return 1;case pr:return new n.fi;case mr:return c;case br:return new ir;default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case dr:return t===yr.defaultValues(e);case pr:return t.isEqual(yr.defaultValues(e));case mr:return t===c;case br:return ir.compareWithDefault(mr,t.namedCurve)&&ir.compareWithDefault("x",t.x)&&ir.compareWithDefault("y",t.y);default:return super.defaultValues(e)}}static schema(e={}){const t=a.H$(e,"names",{});return new n.T9({name:t.blockName||c,value:[new n.z8({name:t.version||c}),new n.fi({name:t.privateKey||c}),new n.FC({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new n.rP({name:t.namedCurve||c})]}),new n.FC({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[new n._K({name:t.publicKey||c})]})]})}fromSchema(e){a.ze(e,vr);const t=n.eN(e,e,yr.schema({names:{version:dr,privateKey:pr,namedCurve:mr,publicKey:br}}));if(f.assertSchema(t,this.className),this.version=t.result.version.valueBlock.valueDec,this.privateKey=t.result.privateKey,mr in t.result&&(this.namedCurve=t.result.namedCurve.valueBlock.toString()),br in t.result){const e={schema:t.result.publicKey.valueBlock.valueHex};mr in this&&(e.namedCurve=this.namedCurve),this.publicKey=new ir(e)}}toSchema(){const e=[new n.z8({value:this.version}),this.privateKey];return this.namedCurve&&e.push(new n.FC({idBlock:{tagClass:3,tagNumber:0},value:[new n.rP({value:this.namedCurve})]})),this.publicKey&&e.push(new n.FC({idBlock:{tagClass:3,tagNumber:1},value:[new n._K({valueHex:this.publicKey.toSchema().toBER(!1)})]})),new n.T9({value:e})}toJSON(){if(!this.namedCurve||yr.compareWithDefault(mr,this.namedCurve))throw new Error('Not enough information for making JSON: absent "namedCurve" value');const e=er.find(this.namedCurve),t={crv:e?e.name:this.namedCurve,d:i.ep.ToBase64Url(this.privateKey.valueBlock.valueHexView)};if(this.publicKey){const e=this.publicKey.toJSON();t.x=e.x,t.y=e.y}return t}fromJSON(e){h.assert("json",e,"crv","d");let t=0;const r=er.find(e.crv);r&&(this.namedCurve=r.id,t=r.size);const a=i.ep.FromBase64Url(e.d);if(a.byteLength<t){const e=new ArrayBuffer(t),r=new Uint8Array(e),i=new Uint8Array(a);r.set(i,1),this.privateKey=new n.fi({valueHex:e})}else this.privateKey=new n.fi({valueHex:a.slice(0,t)});e.x&&e.y&&(this.publicKey=new ir({json:e}))}}yr.CLASS_NAME="ECPrivateKey";const gr="prime",wr="exponent",Sr="coefficient",_r=[gr,wr,Sr];class Ar extends d{constructor(e={}){super(),this.prime=a.H$(e,gr,Ar.defaultValues(gr)),this.exponent=a.H$(e,wr,Ar.defaultValues(wr)),this.coefficient=a.H$(e,Sr,Ar.defaultValues(Sr)),e.json&&this.fromJSON(e.json),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case gr:case wr:case Sr:return new n.z8;default:return super.defaultValues(e)}}static schema(e={}){const t=a.H$(e,"names",{});return new n.T9({name:t.blockName||c,value:[new n.z8({name:t.prime||c}),new n.z8({name:t.exponent||c}),new n.z8({name:t.coefficient||c})]})}fromSchema(e){a.ze(e,_r);const t=n.eN(e,e,Ar.schema({names:{prime:gr,exponent:wr,coefficient:Sr}}));f.assertSchema(t,this.className),this.prime=t.result.prime.convertFromDER(),this.exponent=t.result.exponent.convertFromDER(),this.coefficient=t.result.coefficient.convertFromDER()}toSchema(){return new n.T9({value:[this.prime.convertToDER(),this.exponent.convertToDER(),this.coefficient.convertToDER()]})}toJSON(){return{r:i.ep.ToBase64Url(this.prime.valueBlock.valueHexView),d:i.ep.ToBase64Url(this.exponent.valueBlock.valueHexView),t:i.ep.ToBase64Url(this.coefficient.valueBlock.valueHexView)}}fromJSON(e){h.assert("json",e,"r","d","r"),this.prime=new n.z8({valueHex:i.ep.FromBase64Url(e.r)}),this.exponent=new n.z8({valueHex:i.ep.FromBase64Url(e.d)}),this.coefficient=new n.z8({valueHex:i.ep.FromBase64Url(e.t)})}}Ar.CLASS_NAME="OtherPrimeInfo";const kr="version",Er="modulus",Or="publicExponent",Cr="privateExponent",Nr="prime1",xr="prime2",Pr="exponent1",Ir="exponent2",Tr="coefficient",jr="otherPrimeInfos",Vr=[kr,Er,Or,Cr,Nr,xr,Pr,Ir,Tr,jr];class Br extends d{constructor(e={}){super(),this.version=a.H$(e,kr,Br.defaultValues(kr)),this.modulus=a.H$(e,Er,Br.defaultValues(Er)),this.publicExponent=a.H$(e,Or,Br.defaultValues(Or)),this.privateExponent=a.H$(e,Cr,Br.defaultValues(Cr)),this.prime1=a.H$(e,Nr,Br.defaultValues(Nr)),this.prime2=a.H$(e,xr,Br.defaultValues(xr)),this.exponent1=a.H$(e,Pr,Br.defaultValues(Pr)),this.exponent2=a.H$(e,Ir,Br.defaultValues(Ir)),this.coefficient=a.H$(e,Tr,Br.defaultValues(Tr)),jr in e&&(this.otherPrimeInfos=a.H$(e,jr,Br.defaultValues(jr))),e.json&&this.fromJSON(e.json),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case kr:return 0;case Er:case Or:case Cr:case Nr:case xr:case Pr:case Ir:case Tr:return new n.z8;case jr:return[];default:return super.defaultValues(e)}}static schema(e={}){const t=a.H$(e,"names",{});return new n.T9({name:t.blockName||c,value:[new n.z8({name:t.version||c}),new n.z8({name:t.modulus||c}),new n.z8({name:t.publicExponent||c}),new n.z8({name:t.privateExponent||c}),new n.z8({name:t.prime1||c}),new n.z8({name:t.prime2||c}),new n.z8({name:t.exponent1||c}),new n.z8({name:t.exponent2||c}),new n.z8({name:t.coefficient||c}),new n.T9({optional:!0,value:[new n.ZD({name:t.otherPrimeInfosName||c,value:Ar.schema(t.otherPrimeInfo||{})})]})]})}fromSchema(e){a.ze(e,Vr);const t=n.eN(e,e,Br.schema({names:{version:kr,modulus:Er,publicExponent:Or,privateExponent:Cr,prime1:Nr,prime2:xr,exponent1:Pr,exponent2:Ir,coefficient:Tr,otherPrimeInfo:{names:{blockName:jr}}}}));f.assertSchema(t,this.className),this.version=t.result.version.valueBlock.valueDec,this.modulus=t.result.modulus.convertFromDER(256),this.publicExponent=t.result.publicExponent,this.privateExponent=t.result.privateExponent.convertFromDER(256),this.prime1=t.result.prime1.convertFromDER(128),this.prime2=t.result.prime2.convertFromDER(128),this.exponent1=t.result.exponent1.convertFromDER(128),this.exponent2=t.result.exponent2.convertFromDER(128),this.coefficient=t.result.coefficient.convertFromDER(128),jr in t.result&&(this.otherPrimeInfos=Array.from(t.result.otherPrimeInfos,(e=>new Ar({schema:e}))))}toSchema(){const e=[];return e.push(new n.z8({value:this.version})),e.push(this.modulus.convertToDER()),e.push(this.publicExponent),e.push(this.privateExponent.convertToDER()),e.push(this.prime1.convertToDER()),e.push(this.prime2.convertToDER()),e.push(this.exponent1.convertToDER()),e.push(this.exponent2.convertToDER()),e.push(this.coefficient.convertToDER()),this.otherPrimeInfos&&e.push(new n.T9({value:Array.from(this.otherPrimeInfos,(e=>e.toSchema()))})),new n.T9({value:e})}toJSON(){const e={n:i.ep.ToBase64Url(this.modulus.valueBlock.valueHexView),e:i.ep.ToBase64Url(this.publicExponent.valueBlock.valueHexView),d:i.ep.ToBase64Url(this.privateExponent.valueBlock.valueHexView),p:i.ep.ToBase64Url(this.prime1.valueBlock.valueHexView),q:i.ep.ToBase64Url(this.prime2.valueBlock.valueHexView),dp:i.ep.ToBase64Url(this.exponent1.valueBlock.valueHexView),dq:i.ep.ToBase64Url(this.exponent2.valueBlock.valueHexView),qi:i.ep.ToBase64Url(this.coefficient.valueBlock.valueHexView)};return this.otherPrimeInfos&&(e.oth=Array.from(this.otherPrimeInfos,(e=>e.toJSON()))),e}fromJSON(e){h.assert("json",e,"n","e","d","p","q","dp","dq","qi"),this.modulus=new n.z8({valueHex:i.ep.FromBase64Url(e.n)}),this.publicExponent=new n.z8({valueHex:i.ep.FromBase64Url(e.e)}),this.privateExponent=new n.z8({valueHex:i.ep.FromBase64Url(e.d)}),this.prime1=new n.z8({valueHex:i.ep.FromBase64Url(e.p)}),this.prime2=new n.z8({valueHex:i.ep.FromBase64Url(e.q)}),this.exponent1=new n.z8({valueHex:i.ep.FromBase64Url(e.dp)}),this.exponent2=new n.z8({valueHex:i.ep.FromBase64Url(e.dq)}),this.coefficient=new n.z8({valueHex:i.ep.FromBase64Url(e.qi)}),e.oth&&(this.otherPrimeInfos=Array.from(e.oth,(e=>new Ar({json:e}))))}}Br.CLASS_NAME="RSAPrivateKey";const Dr="version",Hr="privateKeyAlgorithm",Mr="privateKey",Rr="attributes",Lr="parsedKey",$r=[Dr,Hr,Mr,Rr];class Ur extends d{constructor(e={}){super(),this.version=a.H$(e,Dr,Ur.defaultValues(Dr)),this.privateKeyAlgorithm=a.H$(e,Hr,Ur.defaultValues(Hr)),this.privateKey=a.H$(e,Mr,Ur.defaultValues(Mr)),Rr in e&&(this.attributes=a.H$(e,Rr,Ur.defaultValues(Rr))),Lr in e&&(this.parsedKey=a.H$(e,Lr,Ur.defaultValues(Lr))),e.json&&this.fromJSON(e.json),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Dr:return 0;case Hr:return new L;case Mr:return new n.fi;case Rr:return[];case Lr:return{};default:return super.defaultValues(e)}}static schema(e={}){const t=a.H$(e,"names",{});return new n.T9({name:t.blockName||c,value:[new n.z8({name:t.version||c}),L.schema(t.privateKeyAlgorithm||{}),new n.fi({name:t.privateKey||c}),new n.FC({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new n.ZD({name:t.attributes||c,value:q.schema()})]})]})}fromSchema(e){a.ze(e,$r);const t=n.eN(e,e,Ur.schema({names:{version:Dr,privateKeyAlgorithm:{names:{blockName:Hr}},privateKey:Mr,attributes:Rr}}));switch(f.assertSchema(t,this.className),this.version=t.result.version.valueBlock.valueDec,this.privateKeyAlgorithm=new L({schema:t.result.privateKeyAlgorithm}),this.privateKey=t.result.privateKey,Rr in t.result&&(this.attributes=Array.from(t.result.attributes,(e=>new q({schema:e})))),this.privateKeyAlgorithm.algorithmId){case"1.2.840.113549.1.1.1":{const e=n.sc(this.privateKey.valueBlock.valueHexView);-1!==e.offset&&(this.parsedKey=new Br({schema:e.result}))}break;case"1.2.840.10045.2.1":if("algorithmParams"in this.privateKeyAlgorithm&&this.privateKeyAlgorithm.algorithmParams instanceof n.rP){const e=n.sc(this.privateKey.valueBlock.valueHexView);-1!==e.offset&&(this.parsedKey=new yr({namedCurve:this.privateKeyAlgorithm.algorithmParams.valueBlock.toString(),schema:e.result}))}}}toSchema(){const e=[new n.z8({value:this.version}),this.privateKeyAlgorithm.toSchema(),this.privateKey];return this.attributes&&e.push(new n.FC({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:Array.from(this.attributes,(e=>e.toSchema()))})),new n.T9({value:e})}toJSON(){if(!this.parsedKey){const e={version:this.version,privateKeyAlgorithm:this.privateKeyAlgorithm.toJSON(),privateKey:this.privateKey.toJSON()};return this.attributes&&(e.attributes=Array.from(this.attributes,(e=>e.toJSON()))),e}const e={};switch(this.privateKeyAlgorithm.algorithmId){case"1.2.840.10045.2.1":e.kty="EC";break;case"1.2.840.113549.1.1.1":e.kty="RSA"}const t=this.parsedKey.toJSON();return Object.assign(e,t),e}fromJSON(e){if("kty"in e){switch(e.kty.toUpperCase()){case"EC":this.parsedKey=new yr({json:e}),this.privateKeyAlgorithm=new L({algorithmId:"1.2.840.10045.2.1",algorithmParams:new n.rP({value:this.parsedKey.namedCurve})});break;case"RSA":this.parsedKey=new Br({json:e}),this.privateKeyAlgorithm=new L({algorithmId:"1.2.840.113549.1.1.1",algorithmParams:new n.p2});break;default:throw new Error(`Invalid value for "kty" parameter: ${e.kty}`)}this.privateKey=new n.fi({valueHex:this.parsedKey.toSchema().toBER(!1)})}}}Ur.CLASS_NAME="PrivateKeyInfo";const Fr="contentType",Kr="contentEncryptionAlgorithm",zr="encryptedContent",Wr=[Fr,Kr,zr];class qr extends d{constructor(e={}){if(super(),this.contentType=a.H$(e,Fr,qr.defaultValues(Fr)),this.contentEncryptionAlgorithm=a.H$(e,Kr,qr.defaultValues(Kr)),zr in e&&e.encryptedContent&&(this.encryptedContent=e.encryptedContent,1===this.encryptedContent.idBlock.tagClass&&4===this.encryptedContent.idBlock.tagNumber&&!1===this.encryptedContent.idBlock.isConstructed)){const e=new n.fi({idBlock:{isConstructed:!0},isConstructed:!0});let t=0;const r=this.encryptedContent.valueBlock.valueHexView.slice().buffer;let i=r.byteLength;const a=1024;for(;i>0;){const s=new Uint8Array(r,t,t+a>r.byteLength?r.byteLength-t:a),o=new ArrayBuffer(s.length),u=new Uint8Array(o);for(let e=0;e<u.length;e++)u[e]=s[e];e.valueBlock.value.push(new n.fi({valueHex:o})),i-=s.length,t+=s.length}this.encryptedContent=e}e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Fr:return c;case Kr:return new L;case zr:return new n.fi;default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case Fr:return t===c;case Kr:return t.algorithmId===c&&"algorithmParams"in t==!1;case zr:return t.isEqual(qr.defaultValues(zr));default:return super.defaultValues(e)}}static schema(e={}){const t=a.H$(e,"names",{});return new n.T9({name:t.blockName||c,value:[new n.rP({name:t.contentType||c}),L.schema(t.contentEncryptionAlgorithm||{}),new n.Lv({value:[new n.FC({name:t.encryptedContent||c,idBlock:{tagClass:3,tagNumber:0},value:[new n.ZD({value:new n.fi})]}),new n.WV({name:t.encryptedContent||c,idBlock:{tagClass:3,tagNumber:0}})]})]})}fromSchema(e){a.ze(e,Wr);const t=n.eN(e,e,qr.schema({names:{contentType:Fr,contentEncryptionAlgorithm:{names:{blockName:Kr}},encryptedContent:zr}}));f.assertSchema(t,this.className),this.contentType=t.result.contentType.valueBlock.toString(),this.contentEncryptionAlgorithm=new L({schema:t.result.contentEncryptionAlgorithm}),zr in t.result&&(this.encryptedContent=t.result.encryptedContent,this.encryptedContent.idBlock.tagClass=1,this.encryptedContent.idBlock.tagNumber=4)}toSchema(){const e={isIndefiniteForm:!1},t=[];if(t.push(new n.rP({value:this.contentType})),t.push(this.contentEncryptionAlgorithm.toSchema()),this.encryptedContent){e.isIndefiniteForm=this.encryptedContent.idBlock.isConstructed;const r=this.encryptedContent;r.idBlock.tagClass=3,r.idBlock.tagNumber=0,r.lenBlock.isIndefiniteForm=this.encryptedContent.idBlock.isConstructed,t.push(r)}return new n.T9({lenBlock:e,value:t})}toJSON(){const e={contentType:this.contentType,contentEncryptionAlgorithm:this.contentEncryptionAlgorithm.toJSON()};return this.encryptedContent&&(e.encryptedContent=this.encryptedContent.toJSON()),e}getEncryptedContent(){if(!this.encryptedContent)throw new Error("Parameter 'encryptedContent' is undefined");return n.fi.prototype.getValue.call(this.encryptedContent)}}qr.CLASS_NAME="EncryptedContentInfo";const Zr="hashAlgorithm",Jr="maskGenAlgorithm",Gr="saltLength",Yr="trailerField",Xr=[Zr,Jr,Gr,Yr];class Qr extends d{constructor(e={}){super(),this.hashAlgorithm=a.H$(e,Zr,Qr.defaultValues(Zr)),this.maskGenAlgorithm=a.H$(e,Jr,Qr.defaultValues(Jr)),this.saltLength=a.H$(e,Gr,Qr.defaultValues(Gr)),this.trailerField=a.H$(e,Yr,Qr.defaultValues(Yr)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Zr:return new L({algorithmId:"1.3.14.3.2.26",algorithmParams:new n.p2});case Jr:return new L({algorithmId:"1.2.840.113549.1.1.8",algorithmParams:new L({algorithmId:"1.3.14.3.2.26",algorithmParams:new n.p2}).toSchema()});case Gr:return 20;case Yr:return 1;default:return super.defaultValues(e)}}static schema(e={}){const t=a.H$(e,"names",{});return new n.T9({name:t.blockName||c,value:[new n.FC({idBlock:{tagClass:3,tagNumber:0},optional:!0,value:[L.schema(t.hashAlgorithm||{})]}),new n.FC({idBlock:{tagClass:3,tagNumber:1},optional:!0,value:[L.schema(t.maskGenAlgorithm||{})]}),new n.FC({idBlock:{tagClass:3,tagNumber:2},optional:!0,value:[new n.z8({name:t.saltLength||c})]}),new n.FC({idBlock:{tagClass:3,tagNumber:3},optional:!0,value:[new n.z8({name:t.trailerField||c})]})]})}fromSchema(e){a.ze(e,Xr);const t=n.eN(e,e,Qr.schema({names:{hashAlgorithm:{names:{blockName:Zr}},maskGenAlgorithm:{names:{blockName:Jr}},saltLength:Gr,trailerField:Yr}}));f.assertSchema(t,this.className),Zr in t.result&&(this.hashAlgorithm=new L({schema:t.result.hashAlgorithm})),Jr in t.result&&(this.maskGenAlgorithm=new L({schema:t.result.maskGenAlgorithm})),Gr in t.result&&(this.saltLength=t.result.saltLength.valueBlock.valueDec),Yr in t.result&&(this.trailerField=t.result.trailerField.valueBlock.valueDec)}toSchema(){const e=[];return this.hashAlgorithm.isEqual(Qr.defaultValues(Zr))||e.push(new n.FC({idBlock:{tagClass:3,tagNumber:0},value:[this.hashAlgorithm.toSchema()]})),this.maskGenAlgorithm.isEqual(Qr.defaultValues(Jr))||e.push(new n.FC({idBlock:{tagClass:3,tagNumber:1},value:[this.maskGenAlgorithm.toSchema()]})),this.saltLength!==Qr.defaultValues(Gr)&&e.push(new n.FC({idBlock:{tagClass:3,tagNumber:2},value:[new n.z8({value:this.saltLength})]})),this.trailerField!==Qr.defaultValues(Yr)&&e.push(new n.FC({idBlock:{tagClass:3,tagNumber:3},value:[new n.z8({value:this.trailerField})]})),new n.T9({value:e})}toJSON(){const e={};return this.hashAlgorithm.isEqual(Qr.defaultValues(Zr))||(e.hashAlgorithm=this.hashAlgorithm.toJSON()),this.maskGenAlgorithm.isEqual(Qr.defaultValues(Jr))||(e.maskGenAlgorithm=this.maskGenAlgorithm.toJSON()),this.saltLength!==Qr.defaultValues(Gr)&&(e.saltLength=this.saltLength),this.trailerField!==Qr.defaultValues(Yr)&&(e.trailerField=this.trailerField),e}}Qr.CLASS_NAME="RSASSAPSSParams";const en="salt",tn="iterationCount",rn="keyLength",nn="prf",an=[en,tn,rn,nn];class sn extends d{constructor(e={}){super(),this.salt=a.H$(e,en,sn.defaultValues(en)),this.iterationCount=a.H$(e,tn,sn.defaultValues(tn)),rn in e&&(this.keyLength=a.H$(e,rn,sn.defaultValues(rn))),nn in e&&(this.prf=a.H$(e,nn,sn.defaultValues(nn))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case en:return{};case tn:return-1;case rn:return 0;case nn:return new L({algorithmId:"1.3.14.3.2.26",algorithmParams:new n.p2});default:return super.defaultValues(e)}}static schema(e={}){const t=a.H$(e,"names",{});return new n.T9({name:t.blockName||c,value:[new n.Lv({value:[new n.fi({name:t.saltPrimitive||c}),L.schema(t.saltConstructed||{})]}),new n.z8({name:t.iterationCount||c}),new n.z8({name:t.keyLength||c,optional:!0}),L.schema(t.prf||{names:{optional:!0}})]})}fromSchema(e){a.ze(e,an);const t=n.eN(e,e,sn.schema({names:{saltPrimitive:en,saltConstructed:{names:{blockName:en}},iterationCount:tn,keyLength:rn,prf:{names:{blockName:nn,optional:!0}}}}));f.assertSchema(t,this.className),this.salt=t.result.salt,this.iterationCount=t.result.iterationCount.valueBlock.valueDec,rn in t.result&&(this.keyLength=t.result.keyLength.valueBlock.valueDec),nn in t.result&&(this.prf=new L({schema:t.result.prf}))}toSchema(){const e=[];return e.push(this.salt),e.push(new n.z8({value:this.iterationCount})),rn in this&&sn.defaultValues(rn)!==this.keyLength&&e.push(new n.z8({value:this.keyLength})),this.prf&&!1===sn.defaultValues(nn).isEqual(this.prf)&&e.push(this.prf.toSchema()),new n.T9({value:e})}toJSON(){const e={salt:this.salt.toJSON(),iterationCount:this.iterationCount};return rn in this&&sn.defaultValues(rn)!==this.keyLength&&(e.keyLength=this.keyLength),this.prf&&!1===sn.defaultValues(nn).isEqual(this.prf)&&(e.prf=this.prf.toJSON()),e}}sn.CLASS_NAME="PBKDF2Params";const on="keyDerivationFunc",un="encryptionScheme",cn=[on,un];class ln extends d{constructor(e={}){super(),this.keyDerivationFunc=a.H$(e,on,ln.defaultValues(on)),this.encryptionScheme=a.H$(e,un,ln.defaultValues(un)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case on:case un:return new L;default:return super.defaultValues(e)}}static schema(e={}){const t=a.H$(e,"names",{});return new n.T9({name:t.blockName||c,value:[L.schema(t.keyDerivationFunc||{}),L.schema(t.encryptionScheme||{})]})}fromSchema(e){a.ze(e,cn);const t=n.eN(e,e,ln.schema({names:{keyDerivationFunc:{names:{blockName:on}},encryptionScheme:{names:{blockName:un}}}}));f.assertSchema(t,this.className),this.keyDerivationFunc=new L({schema:t.result.keyDerivationFunc}),this.encryptionScheme=new L({schema:t.result.encryptionScheme})}toSchema(){return new n.T9({value:[this.keyDerivationFunc.toSchema(),this.encryptionScheme.toSchema()]})}toJSON(){return{keyDerivationFunc:this.keyDerivationFunc.toJSON(),encryptionScheme:this.encryptionScheme.toJSON()}}}ln.CLASS_NAME="PBES2Params";class hn{constructor(e){this.crypto=e.crypto,this.subtle="webkitSubtle"in e.crypto?e.crypto.webkitSubtle:e.crypto.subtle,this.name=a.H$(e,"name",c)}async encrypt(...e){return this.subtle.encrypt(...e)}async decrypt(...e){return this.subtle.decrypt(...e)}sign(...e){return this.subtle.sign(...e)}async verify(...e){return this.subtle.verify(...e)}async digest(...e){return this.subtle.digest(...e)}async generateKey(...e){return this.subtle.generateKey(...e)}async deriveKey(...e){return this.subtle.deriveKey(...e)}async deriveBits(...e){return this.subtle.deriveBits(...e)}async wrapKey(...e){return this.subtle.wrapKey(...e)}async unwrapKey(...e){return this.subtle.unwrapKey(...e)}exportKey(...e){return this.subtle.exportKey(...e)}importKey(...e){return this.subtle.importKey(...e)}getRandomValues(e){return this.crypto.getRandomValues(e)}}async function fn(e,t,r,n,i,a){let s,o;const u=[];switch(t.toUpperCase()){case"SHA-1":s=20,o=64;break;case"SHA-256":s=32,o=64;break;case"SHA-384":s=48,o=128;break;case"SHA-512":s=64,o=128;break;default:throw new Error("Unsupported hashing algorithm")}const c=new Uint8Array(n),l=new ArrayBuffer(2*n.byteLength+2),h=new Uint8Array(l);for(let e=0;e<c.length;e++)h[2*e]=0,h[2*e+1]=c[e];h[h.length-2]=0,h[h.length-1]=0,n=l.slice(0);const f=new ArrayBuffer(o),d=new Uint8Array(f);for(let e=0;e<f.byteLength;e++)d[e]=3;const p=i.byteLength,m=o*Math.ceil(p/o),b=new ArrayBuffer(m),v=new Uint8Array(b),y=new Uint8Array(i);for(let e=0;e<m;e++)v[e]=y[e%p];const g=n.byteLength,w=o*Math.ceil(g/o),S=new ArrayBuffer(w),_=new Uint8Array(S),A=new Uint8Array(n);for(let e=0;e<w;e++)_[e]=A[e%g];const k=b.byteLength+S.byteLength;let E=new ArrayBuffer(k),O=new Uint8Array(E);O.set(v),O.set(_,v.length);const C=Math.ceil((r>>3)/s);let N=Promise.resolve(E);for(let r=0;r<=C;r++){N=N.then((e=>{const t=new ArrayBuffer(f.byteLength+e.byteLength),r=new Uint8Array(t);return r.set(d),r.set(O,d.length),t}));for(let r=0;r<a;r++)N=N.then((r=>e.digest({name:t},new Uint8Array(r))));N=N.then((e=>{const t=new ArrayBuffer(o),r=new Uint8Array(t);for(let n=0;n<t.byteLength;n++)r[n]=e[n%e.byteLength];const n=Math.ceil(p/o)+Math.ceil(g/o),i=[];let a=0,s=o;for(let e=0;e<n;e++){const e=Array.from(new Uint8Array(E.slice(a,a+s)));a+=o,a+o>E.byteLength&&(s=E.byteLength-a);let n=511;for(let i=t.byteLength-1;i>=0;i--)n>>=8,n+=r[i]+e[i],e[i]=255&n;i.push(...e)}return E=new ArrayBuffer(i.length),O=new Uint8Array(E),O.set(i),u.push(...new Uint8Array(e)),E}))}return N=N.then((()=>{const e=new ArrayBuffer(r>>3);return new Uint8Array(e).set(new Uint8Array(u).slice(0,r>>3)),e})),N}function dn(e){const t="string"==typeof e?{name:e}:e;return"hash"in t?{...t,hash:dn(t.hash)}:t}class pn extends hn{async importKey(e,t,r,s,o){var u,c,d,p,m,b;let v={};const y=dn(r);switch(e.toLowerCase()){case"raw":return this.subtle.importKey("raw",t,r,s,o);case"spki":{const e=n.sc(i.vJ.toArrayBuffer(t));f.assert(e,"keyData");const r=new fr;try{r.fromSchema(e.result)}catch{throw new l("Incorrect keyData")}switch(y.name.toUpperCase()){case"RSA-PSS":if(!y.hash)throw new h("hash","algorithm.hash","Incorrect hash algorithm: Hash algorithm is missed");switch(y.hash.name.toUpperCase()){case"SHA-1":v.alg="PS1";break;case"SHA-256":v.alg="PS256";break;case"SHA-384":v.alg="PS384";break;case"SHA-512":v.alg="PS512";break;default:throw new Error(`Incorrect hash algorithm: ${y.hash.name.toUpperCase()}`)}case"RSASSA-PKCS1-V1_5":{if(o=["verify"],v.kty="RSA",v.ext=s,v.key_ops=o,"1.2.840.113549.1.1.1"!==r.algorithm.algorithmId)throw new Error(`Incorrect public key algorithm: ${r.algorithm.algorithmId}`);if(!v.alg){if(!y.hash)throw new h("hash","algorithm.hash","Incorrect hash algorithm: Hash algorithm is missed");switch(y.hash.name.toUpperCase()){case"SHA-1":v.alg="RS1";break;case"SHA-256":v.alg="RS256";break;case"SHA-384":v.alg="RS384";break;case"SHA-512":v.alg="RS512";break;default:throw new Error(`Incorrect hash algorithm: ${y.hash.name.toUpperCase()}`)}}const e=r.toJSON();Object.assign(v,e)}break;case"ECDSA":o=["verify"];case"ECDH":{if(v={kty:"EC",ext:s,key_ops:o},"1.2.840.10045.2.1"!==r.algorithm.algorithmId)throw new Error(`Incorrect public key algorithm: ${r.algorithm.algorithmId}`);const e=r.toJSON();Object.assign(v,e)}break;case"RSA-OAEP":{if(v.kty="RSA",v.ext=s,v.key_ops=o,"safari"===this.name.toLowerCase())v.alg="RSA-OAEP";else{if(!y.hash)throw new h("hash","algorithm.hash","Incorrect hash algorithm: Hash algorithm is missed");switch(y.hash.name.toUpperCase()){case"SHA-1":v.alg="RSA-OAEP";break;case"SHA-256":v.alg="RSA-OAEP-256";break;case"SHA-384":v.alg="RSA-OAEP-384";break;case"SHA-512":v.alg="RSA-OAEP-512";break;default:throw new Error(`Incorrect hash algorithm: ${y.hash.name.toUpperCase()}`)}}const e=r.toJSON();Object.assign(v,e)}break;case"RSAES-PKCS1-V1_5":{v.kty="RSA",v.ext=s,v.key_ops=o,v.alg="PS1";const e=r.toJSON();Object.assign(v,e)}break;default:throw new Error(`Incorrect algorithm name: ${y.name.toUpperCase()}`)}}break;case"pkcs8":{const e=new Ur,r=n.sc(i.vJ.toArrayBuffer(t));f.assert(r,"keyData");try{e.fromSchema(r.result)}catch(e){throw new Error("Incorrect keyData")}if(!e.parsedKey)throw new Error("Incorrect keyData");switch(y.name.toUpperCase()){case"RSA-PSS":switch(null===(u=y.hash)||void 0===u?void 0:u.name.toUpperCase()){case"SHA-1":v.alg="PS1";break;case"SHA-256":v.alg="PS256";break;case"SHA-384":v.alg="PS384";break;case"SHA-512":v.alg="PS512";break;default:throw new Error(`Incorrect hash algorithm: ${null===(c=y.hash)||void 0===c?void 0:c.name.toUpperCase()}`)}case"RSASSA-PKCS1-V1_5":{if(o=["sign"],v.kty="RSA",v.ext=s,v.key_ops=o,"1.2.840.113549.1.1.1"!==e.privateKeyAlgorithm.algorithmId)throw new Error(`Incorrect private key algorithm: ${e.privateKeyAlgorithm.algorithmId}`);if("alg"in v==!1)switch(null===(d=y.hash)||void 0===d?void 0:d.name.toUpperCase()){case"SHA-1":v.alg="RS1";break;case"SHA-256":v.alg="RS256";break;case"SHA-384":v.alg="RS384";break;case"SHA-512":v.alg="RS512";break;default:throw new Error(`Incorrect hash algorithm: ${null===(p=y.hash)||void 0===p?void 0:p.name.toUpperCase()}`)}const t=e.toJSON();Object.assign(v,t)}break;case"ECDSA":o=["sign"];case"ECDH":{if(v={kty:"EC",ext:s,key_ops:o},"1.2.840.10045.2.1"!==e.privateKeyAlgorithm.algorithmId)throw new Error(`Incorrect algorithm: ${e.privateKeyAlgorithm.algorithmId}`);const t=e.toJSON();Object.assign(v,t)}break;case"RSA-OAEP":{if(v.kty="RSA",v.ext=s,v.key_ops=o,"safari"===this.name.toLowerCase())v.alg="RSA-OAEP";else switch(null===(m=y.hash)||void 0===m?void 0:m.name.toUpperCase()){case"SHA-1":v.alg="RSA-OAEP";break;case"SHA-256":v.alg="RSA-OAEP-256";break;case"SHA-384":v.alg="RSA-OAEP-384";break;case"SHA-512":v.alg="RSA-OAEP-512";break;default:throw new Error(`Incorrect hash algorithm: ${null===(b=y.hash)||void 0===b?void 0:b.name.toUpperCase()}`)}const t=e.toJSON();Object.assign(v,t)}break;case"RSAES-PKCS1-V1_5":{o=["decrypt"],v.kty="RSA",v.ext=s,v.key_ops=o,v.alg="PS1";const t=e.toJSON();Object.assign(v,t)}break;default:throw new Error(`Incorrect algorithm name: ${y.name.toUpperCase()}`)}}break;case"jwk":v=t;break;default:throw new Error(`Incorrect format: ${e}`)}if("safari"===this.name.toLowerCase())try{return this.subtle.importKey("jwk",a.gG(JSON.stringify(v)),r,s,o)}catch{return this.subtle.importKey("jwk",v,r,s,o)}return this.subtle.importKey("jwk",v,r,s,o)}async exportKey(e,t){let r=await this.subtle.exportKey("jwk",t);switch("safari"===this.name.toLowerCase()&&r instanceof ArrayBuffer&&(r=JSON.parse(a.lE(r))),e.toLowerCase()){case"raw":return this.subtle.exportKey("raw",t);case"spki":{const e=new fr;try{e.fromJSON(r)}catch(e){throw new Error("Incorrect key data")}return e.toSchema().toBER(!1)}case"pkcs8":{const e=new Ur;try{e.fromJSON(r)}catch(e){throw new Error("Incorrect key data")}return e.toSchema().toBER(!1)}case"jwk":return r;default:throw new Error(`Incorrect format: ${e}`)}}async convert(e,t,r,n,i,a){if(e.toLowerCase()===t.toLowerCase())return r;const s=await this.importKey(e,r,n,i,a);return this.exportKey(t,s)}getAlgorithmByOID(e,t=!1,r){switch(e){case"1.2.840.113549.1.1.1":return{name:"RSAES-PKCS1-v1_5"};case"1.2.840.113549.1.1.5":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-1"}};case"1.2.840.113549.1.1.11":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"1.2.840.113549.1.1.12":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-384"}};case"1.2.840.113549.1.1.13":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-512"}};case"1.2.840.113549.1.1.10":return{name:"RSA-PSS"};case"1.2.840.113549.1.1.7":return{name:"RSA-OAEP"};case"1.2.840.10045.2.1":case"1.2.840.10045.4.1":return{name:"ECDSA",hash:{name:"SHA-1"}};case"1.2.840.10045.4.3.2":return{name:"ECDSA",hash:{name:"SHA-256"}};case"1.2.840.10045.4.3.3":return{name:"ECDSA",hash:{name:"SHA-384"}};case"1.2.840.10045.4.3.4":return{name:"ECDSA",hash:{name:"SHA-512"}};case"1.3.133.16.840.63.0.2":return{name:"ECDH",kdf:"SHA-1"};case"1.3.132.1.11.1":return{name:"ECDH",kdf:"SHA-256"};case"1.3.132.1.11.2":return{name:"ECDH",kdf:"SHA-384"};case"1.3.132.1.11.3":return{name:"ECDH",kdf:"SHA-512"};case"2.16.840.1.101.3.4.1.2":return{name:"AES-CBC",length:128};case"2.16.840.1.101.3.4.1.22":return{name:"AES-CBC",length:192};case"2.16.840.1.101.3.4.1.42":return{name:"AES-CBC",length:256};case"2.16.840.1.101.3.4.1.6":return{name:"AES-GCM",length:128};case"2.16.840.1.101.3.4.1.26":return{name:"AES-GCM",length:192};case"2.16.840.1.101.3.4.1.46":return{name:"AES-GCM",length:256};case"2.16.840.1.101.3.4.1.4":return{name:"AES-CFB",length:128};case"2.16.840.1.101.3.4.1.24":return{name:"AES-CFB",length:192};case"2.16.840.1.101.3.4.1.44":return{name:"AES-CFB",length:256};case"2.16.840.1.101.3.4.1.5":return{name:"AES-KW",length:128};case"2.16.840.1.101.3.4.1.25":return{name:"AES-KW",length:192};case"2.16.840.1.101.3.4.1.45":return{name:"AES-KW",length:256};case"1.2.840.113549.2.7":return{name:"HMAC",hash:{name:"SHA-1"}};case"1.2.840.113549.2.9":return{name:"HMAC",hash:{name:"SHA-256"}};case"1.2.840.113549.2.10":return{name:"HMAC",hash:{name:"SHA-384"}};case"1.2.840.113549.2.11":return{name:"HMAC",hash:{name:"SHA-512"}};case"1.2.840.113549.1.9.16.3.5":return{name:"DH"};case"1.3.14.3.2.26":return{name:"SHA-1"};case"2.16.840.1.101.3.4.2.1":return{name:"SHA-256"};case"2.16.840.1.101.3.4.2.2":return{name:"SHA-384"};case"2.16.840.1.101.3.4.2.3":return{name:"SHA-512"};case"1.2.840.113549.1.5.12":return{name:"PBKDF2"};case"1.2.840.10045.3.1.7":return{name:"P-256"};case"1.3.132.0.34":return{name:"P-384"};case"1.3.132.0.35":return{name:"P-521"}}if(t)throw new Error(`Unsupported algorithm identifier ${r?`for ${r} `:c}: ${e}`);return{}}getOIDByAlgorithm(e,t=!1,r){let n=c;switch(e.name.toUpperCase()){case"RSAES-PKCS1-V1_5":n="1.2.840.113549.1.1.1";break;case"RSASSA-PKCS1-V1_5":switch(e.hash.name.toUpperCase()){case"SHA-1":n="1.2.840.113549.1.1.5";break;case"SHA-256":n="1.2.840.113549.1.1.11";break;case"SHA-384":n="1.2.840.113549.1.1.12";break;case"SHA-512":n="1.2.840.113549.1.1.13"}break;case"RSA-PSS":n="1.2.840.113549.1.1.10";break;case"RSA-OAEP":n="1.2.840.113549.1.1.7";break;case"ECDSA":switch(e.hash.name.toUpperCase()){case"SHA-1":n="1.2.840.10045.4.1";break;case"SHA-256":n="1.2.840.10045.4.3.2";break;case"SHA-384":n="1.2.840.10045.4.3.3";break;case"SHA-512":n="1.2.840.10045.4.3.4"}break;case"ECDH":switch(e.kdf.toUpperCase()){case"SHA-1":n="1.3.133.16.840.63.0.2";break;case"SHA-256":n="1.3.132.1.11.1";break;case"SHA-384":n="1.3.132.1.11.2";break;case"SHA-512":n="1.3.132.1.11.3"}break;case"AES-CTR":case"AES-CMAC":case"CONCAT":case"HKDF":break;case"AES-CBC":switch(e.length){case 128:n="2.16.840.1.101.3.4.1.2";break;case 192:n="2.16.840.1.101.3.4.1.22";break;case 256:n="2.16.840.1.101.3.4.1.42"}break;case"AES-GCM":switch(e.length){case 128:n="2.16.840.1.101.3.4.1.6";break;case 192:n="2.16.840.1.101.3.4.1.26";break;case 256:n="2.16.840.1.101.3.4.1.46"}break;case"AES-CFB":switch(e.length){case 128:n="2.16.840.1.101.3.4.1.4";break;case 192:n="2.16.840.1.101.3.4.1.24";break;case 256:n="2.16.840.1.101.3.4.1.44"}break;case"AES-KW":switch(e.length){case 128:n="2.16.840.1.101.3.4.1.5";break;case 192:n="2.16.840.1.101.3.4.1.25";break;case 256:n="2.16.840.1.101.3.4.1.45"}break;case"HMAC":switch(e.hash.name.toUpperCase()){case"SHA-1":n="1.2.840.113549.2.7";break;case"SHA-256":n="1.2.840.113549.2.9";break;case"SHA-384":n="1.2.840.113549.2.10";break;case"SHA-512":n="1.2.840.113549.2.11"}break;case"DH":n="1.2.840.113549.1.9.16.3.5";break;case"SHA-1":n="1.3.14.3.2.26";break;case"SHA-256":n="2.16.840.1.101.3.4.2.1";break;case"SHA-384":n="2.16.840.1.101.3.4.2.2";break;case"SHA-512":n="2.16.840.1.101.3.4.2.3";break;case"PBKDF2":n="1.2.840.113549.1.5.12";break;case"P-256":n="1.2.840.10045.3.1.7";break;case"P-384":n="1.3.132.0.34";break;case"P-521":n="1.3.132.0.35"}if(!n&&t)throw new Error(`Unsupported algorithm ${r?`for ${r} `:c}: ${e.name}`);return n}getAlgorithmParameters(e,t){let r={algorithm:{},usages:[]};switch(e.toUpperCase()){case"RSAES-PKCS1-V1_5":case"RSASSA-PKCS1-V1_5":switch(t.toLowerCase()){case"generatekey":r={algorithm:{name:"RSASSA-PKCS1-v1_5",modulusLength:2048,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-256"}},usages:["sign","verify"]};break;case"verify":case"sign":case"importkey":r={algorithm:{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},usages:["verify"]};break;default:return{algorithm:{name:"RSASSA-PKCS1-v1_5"},usages:[]}}break;case"RSA-PSS":switch(t.toLowerCase()){case"sign":case"verify":r={algorithm:{name:"RSA-PSS",hash:{name:"SHA-1"},saltLength:20},usages:["sign","verify"]};break;case"generatekey":r={algorithm:{name:"RSA-PSS",modulusLength:2048,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-1"}},usages:["sign","verify"]};break;case"importkey":r={algorithm:{name:"RSA-PSS",hash:{name:"SHA-1"}},usages:["verify"]};break;default:return{algorithm:{name:"RSA-PSS"},usages:[]}}break;case"RSA-OAEP":switch(t.toLowerCase()){case"encrypt":case"decrypt":r={algorithm:{name:"RSA-OAEP"},usages:["encrypt","decrypt"]};break;case"generatekey":r={algorithm:{name:"RSA-OAEP",modulusLength:2048,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-256"}},usages:["encrypt","decrypt","wrapKey","unwrapKey"]};break;case"importkey":r={algorithm:{name:"RSA-OAEP",hash:{name:"SHA-256"}},usages:["encrypt"]};break;default:return{algorithm:{name:"RSA-OAEP"},usages:[]}}break;case"ECDSA":switch(t.toLowerCase()){case"generatekey":r={algorithm:{name:"ECDSA",namedCurve:"P-256"},usages:["sign","verify"]};break;case"importkey":r={algorithm:{name:"ECDSA",namedCurve:"P-256"},usages:["verify"]};break;case"verify":case"sign":r={algorithm:{name:"ECDSA",hash:{name:"SHA-256"}},usages:["sign"]};break;default:return{algorithm:{name:"ECDSA"},usages:[]}}break;case"ECDH":switch(t.toLowerCase()){case"exportkey":case"importkey":case"generatekey":r={algorithm:{name:"ECDH",namedCurve:"P-256"},usages:["deriveKey","deriveBits"]};break;case"derivekey":case"derivebits":r={algorithm:{name:"ECDH",namedCurve:"P-256",public:[]},usages:["encrypt","decrypt"]};break;default:return{algorithm:{name:"ECDH"},usages:[]}}break;case"AES-CTR":switch(t.toLowerCase()){case"importkey":case"exportkey":case"generatekey":r={algorithm:{name:"AES-CTR",length:256},usages:["encrypt","decrypt","wrapKey","unwrapKey"]};break;case"decrypt":case"encrypt":r={algorithm:{name:"AES-CTR",counter:new Uint8Array(16),length:10},usages:["encrypt","decrypt","wrapKey","unwrapKey"]};break;default:return{algorithm:{name:"AES-CTR"},usages:[]}}break;case"AES-CBC":switch(t.toLowerCase()){case"importkey":case"exportkey":case"generatekey":r={algorithm:{name:"AES-CBC",length:256},usages:["encrypt","decrypt","wrapKey","unwrapKey"]};break;case"decrypt":case"encrypt":r={algorithm:{name:"AES-CBC",iv:this.getRandomValues(new Uint8Array(16))},usages:["encrypt","decrypt","wrapKey","unwrapKey"]};break;default:return{algorithm:{name:"AES-CBC"},usages:[]}}break;case"AES-GCM":switch(t.toLowerCase()){case"importkey":case"exportkey":case"generatekey":r={algorithm:{name:"AES-GCM",length:256},usages:["encrypt","decrypt","wrapKey","unwrapKey"]};break;case"decrypt":case"encrypt":r={algorithm:{name:"AES-GCM",iv:this.getRandomValues(new Uint8Array(16))},usages:["encrypt","decrypt","wrapKey","unwrapKey"]};break;default:return{algorithm:{name:"AES-GCM"},usages:[]}}break;case"AES-KW":switch(t.toLowerCase()){case"importkey":case"exportkey":case"generatekey":case"wrapkey":case"unwrapkey":r={algorithm:{name:"AES-KW",length:256},usages:["wrapKey","unwrapKey"]};break;default:return{algorithm:{name:"AES-KW"},usages:[]}}break;case"HMAC":switch(t.toLowerCase()){case"sign":case"verify":r={algorithm:{name:"HMAC"},usages:["sign","verify"]};break;case"importkey":case"exportkey":case"generatekey":r={algorithm:{name:"HMAC",length:32,hash:{name:"SHA-256"}},usages:["sign","verify"]};break;default:return{algorithm:{name:"HMAC"},usages:[]}}break;case"HKDF":if("derivekey"!==t.toLowerCase())return{algorithm:{name:"HKDF"},usages:[]};r={algorithm:{name:"HKDF",hash:"SHA-256",salt:new Uint8Array([]),info:new Uint8Array([])},usages:["encrypt","decrypt"]};break;case"PBKDF2":if("derivekey"!==t.toLowerCase())return{algorithm:{name:"PBKDF2"},usages:[]};r={algorithm:{name:"PBKDF2",hash:{name:"SHA-256"},salt:new Uint8Array([]),iterations:1e4},usages:["encrypt","decrypt"]}}return r}getHashAlgorithm(e){let t=c;switch(e.algorithmId){case"1.2.840.10045.4.1":case"1.2.840.113549.1.1.5":t="SHA-1";break;case"1.2.840.10045.4.3.2":case"1.2.840.113549.1.1.11":t="SHA-256";break;case"1.2.840.10045.4.3.3":case"1.2.840.113549.1.1.12":t="SHA-384";break;case"1.2.840.10045.4.3.4":case"1.2.840.113549.1.1.13":t="SHA-512";break;case"1.2.840.113549.1.1.10":try{const r=new Qr({schema:e.algorithmParams});if(r.hashAlgorithm){const e=this.getAlgorithmByOID(r.hashAlgorithm.algorithmId);if(!("name"in e))return c;t=e.name}else t="SHA-1"}catch{}}return t}async encryptEncryptedContentInfo(e){h.assert(e,"password","contentEncryptionAlgorithm","hmacHashAlgorithm","iterationCount","contentToEncrypt","contentToEncrypt","contentType");const t=this.getOIDByAlgorithm(e.contentEncryptionAlgorithm,!0,"contentEncryptionAlgorithm"),r=this.getOIDByAlgorithm({name:"PBKDF2"},!0,"PBKDF2"),i=this.getOIDByAlgorithm({name:"HMAC",hash:{name:e.hmacHashAlgorithm}},!0,"hmacHashAlgorithm"),a=new ArrayBuffer(16),s=new Uint8Array(a);this.getRandomValues(s);const o=new ArrayBuffer(64),u=new Uint8Array(o);this.getRandomValues(u);const c=new Uint8Array(e.contentToEncrypt),l=new sn({salt:new n.fi({valueHex:o}),iterationCount:e.iterationCount,prf:new L({algorithmId:i,algorithmParams:new n.p2})}),f=new Uint8Array(e.password),d=await this.importKey("raw",f,"PBKDF2",!1,["deriveKey"]),p=await this.deriveKey({name:"PBKDF2",hash:{name:e.hmacHashAlgorithm},salt:u,iterations:e.iterationCount},d,e.contentEncryptionAlgorithm,!1,["encrypt"]),m=await this.encrypt({name:e.contentEncryptionAlgorithm.name,iv:s},p,c),b=new ln({keyDerivationFunc:new L({algorithmId:r,algorithmParams:l.toSchema()}),encryptionScheme:new L({algorithmId:t,algorithmParams:new n.fi({valueHex:a})})});return new qr({contentType:e.contentType,contentEncryptionAlgorithm:new L({algorithmId:"1.2.840.113549.1.5.13",algorithmParams:b.toSchema()}),encryptedContent:new n.fi({valueHex:m})})}async decryptEncryptedContentInfo(e){if(h.assert(e,"password","encryptedContentInfo"),"1.2.840.113549.1.5.13"!==e.encryptedContentInfo.contentEncryptionAlgorithm.algorithmId)throw new Error(`Unknown "contentEncryptionAlgorithm": ${e.encryptedContentInfo.contentEncryptionAlgorithm.algorithmId}`);let t,r;try{t=new ln({schema:e.encryptedContentInfo.contentEncryptionAlgorithm.algorithmParams})}catch(e){throw new Error('Incorrectly encoded "pbes2Parameters"')}try{r=new sn({schema:t.keyDerivationFunc.algorithmParams})}catch(e){throw new Error('Incorrectly encoded "pbkdf2Params"')}const n=this.getAlgorithmByOID(t.encryptionScheme.algorithmId,!0),i=t.encryptionScheme.algorithmParams.valueBlock.valueHex,a=new Uint8Array(i),s=r.salt.valueBlock.valueHex,o=new Uint8Array(s),u=r.iterationCount;let c="SHA-1";if(r.prf){c=this.getAlgorithmByOID(r.prf.algorithmId,!0).hash.name}const l=await this.importKey("raw",e.password,"PBKDF2",!1,["deriveKey"]),f=await this.deriveKey({name:"PBKDF2",hash:{name:c},salt:o,iterations:u},l,n,!1,["decrypt"]),d=e.encryptedContentInfo.getEncryptedContent();return this.decrypt({name:n.name,iv:a},f,d)}async stampDataWithPassword(e){if(e instanceof Object==!1)throw new Error('Parameters must have type "Object"');let t;switch(h.assert(e,"password","hashAlgorithm","iterationCount","salt","contentToStamp"),e.hashAlgorithm.toLowerCase()){case"sha-1":t=160;break;case"sha-256":t=256;break;case"sha-384":t=384;break;case"sha-512":t=512;break;default:throw new Error(`Incorrect "parameters.hashAlgorithm" parameter: ${e.hashAlgorithm}`)}const r={name:"HMAC",length:t,hash:{name:e.hashAlgorithm}},n=await fn(this,e.hashAlgorithm,t,e.password,e.salt,e.iterationCount),i=await this.importKey("raw",new Uint8Array(n),r,!1,["sign"]);return this.sign(r,i,new Uint8Array(e.contentToStamp))}async verifyDataStampedWithPassword(e){h.assert(e,"password","hashAlgorithm","salt","iterationCount","contentToVerify","signatureToVerify");let t=0;switch(e.hashAlgorithm.toLowerCase()){case"sha-1":t=160;break;case"sha-256":t=256;break;case"sha-384":t=384;break;case"sha-512":t=512;break;default:throw new Error(`Incorrect "parameters.hashAlgorithm" parameter: ${e.hashAlgorithm}`)}const r={name:"HMAC",length:t,hash:{name:e.hashAlgorithm}},n=await fn(this,e.hashAlgorithm,t,e.password,e.salt,e.iterationCount),i=await this.importKey("raw",new Uint8Array(n),r,!1,["verify"]);return this.verify(r,i,new Uint8Array(e.signatureToVerify),new Uint8Array(e.contentToVerify))}async getSignatureParameters(e,t="SHA-1"){this.getOIDByAlgorithm({name:t},!0,"hashAlgorithm");const r=new L,i=this.getAlgorithmParameters(e.algorithm.name,"sign");if(!Object.keys(i.algorithm).length)throw new Error("Parameter 'algorithm' is empty");const a=i.algorithm;switch(a.hash.name=t,e.algorithm.name.toUpperCase()){case"RSASSA-PKCS1-V1_5":case"ECDSA":r.algorithmId=this.getOIDByAlgorithm(a,!0);break;case"RSA-PSS":{switch(t.toUpperCase()){case"SHA-256":a.saltLength=32;break;case"SHA-384":a.saltLength=48;break;case"SHA-512":a.saltLength=64}const e={};if("SHA-1"!==t.toUpperCase()){const r=this.getOIDByAlgorithm({name:t},!0,"hashAlgorithm");e.hashAlgorithm=new L({algorithmId:r,algorithmParams:new n.p2}),e.maskGenAlgorithm=new L({algorithmId:"1.2.840.113549.1.1.8",algorithmParams:e.hashAlgorithm.toSchema()})}20!==a.saltLength&&(e.saltLength=a.saltLength);const i=new Qr(e);r.algorithmId="1.2.840.113549.1.1.10",r.algorithmParams=i.toSchema()}break;default:throw new Error(`Unsupported signature algorithm: ${e.algorithm.name}`)}return{signatureAlgorithm:r,parameters:i}}async signWithPrivateKey(e,t,r){const i=await this.sign(r.algorithm,t,e);return"ECDSA"===r.algorithm.name?function(e){if(e.byteLength%2!=0)return u;const t=e.byteLength/2,r=new ArrayBuffer(t);new Uint8Array(r).set(new Uint8Array(e,0,t));const i=new n.z8({valueHex:r}),a=new ArrayBuffer(t);new Uint8Array(a).set(new Uint8Array(e,t,t));const s=new n.z8({valueHex:a});return new n.T9({value:[i.convertToDER(),s.convertToDER()]}).toBER(!1)}(i):i}fillPublicKeyParameters(e,t){const r={},n=this.getHashAlgorithm(t);if(n===c)throw new Error(`Unsupported signature algorithm: ${t.algorithmId}`);let i;i="1.2.840.113549.1.1.10"===t.algorithmId?t.algorithmId:e.algorithm.algorithmId;const a=this.getAlgorithmByOID(i,!0);if(r.algorithm=this.getAlgorithmParameters(a.name,"importKey"),"hash"in r.algorithm.algorithm&&(r.algorithm.algorithm.hash.name=n),"ECDSA"===a.name){const t=e.algorithm;if(!t.algorithmParams)throw new Error("Algorithm parameters for ECDSA public key are missed");const n=t.algorithmParams;if("idBlock"in t.algorithmParams&&(1!==n.idBlock.tagClass||6!==n.idBlock.tagNumber))throw new Error("Incorrect type for ECDSA public key parameters");const i=this.getAlgorithmByOID(n.valueBlock.toString(),!0);r.algorithm.algorithm.namedCurve=i.name}return r}async getPublicKey(e,t,r){r||(r=this.fillPublicKeyParameters(e,t));const n=e.toSchema().toBER(!1);return this.importKey("spki",n,r.algorithm.algorithm,!0,r.algorithm.usages)}async verifyWithPublicKey(e,t,r,i,a){let s;if(a){const e={};let t;t="1.2.840.113549.1.1.10"===i.algorithmId?i.algorithmId:r.algorithm.algorithmId;const n=this.getAlgorithmByOID(t,!0);if(e.algorithm=this.getAlgorithmParameters(n.name,"importKey"),"hash"in e.algorithm.algorithm&&(e.algorithm.algorithm.hash.name=a),"ECDSA"===n.name){let t=!1;if("algorithmParams"in r.algorithm==!0&&"idBlock"in r.algorithm.algorithmParams&&1===r.algorithm.algorithmParams.idBlock.tagClass&&6===r.algorithm.algorithmParams.idBlock.tagNumber&&(t=!0),!1===t)throw new Error("Incorrect type for ECDSA public key parameters");const n=this.getAlgorithmByOID(r.algorithm.algorithmParams.valueBlock.toString(),!0);e.algorithm.algorithm.namedCurve=n.name}s=await this.getPublicKey(r,null,e)}else{if(!(a=this.getHashAlgorithm(i)))throw new Error(`Unsupported signature algorithm: ${i.algorithmId}`);s=await this.getPublicKey(r,i)}const o=this.getAlgorithmParameters(s.algorithm.name,"verify");"hash"in o.algorithm&&(o.algorithm.hash.name=a);let c=t.valueBlock.valueHexView;if("ECDSA"===s.algorithm.name){const e=er.find(s.algorithm.namedCurve);if(!e)throw new Error("Unsupported named curve in use");const t=n.sc(c);f.assert(t,"Signature value"),c=function(e,t){if(!(e instanceof n.T9&&2===e.valueBlock.value.length&&e.valueBlock.value[0]instanceof n.z8&&e.valueBlock.value[1]instanceof n.z8))return u;const r=e.valueBlock.value[0].convertFromDER().valueBlock.valueHexView,i=e.valueBlock.value[1].convertFromDER().valueBlock.valueHexView,a=new Uint8Array(2*t);return a.set(r,t-r.byteLength),a.set(i,2*t-i.byteLength),a.buffer}(t.result,e.size)}if("RSA-PSS"===s.algorithm.name){const e=new Qr({schema:i.algorithmParams});o.algorithm.saltLength="saltLength"in e?e.saltLength:20;let t="SHA-1";if("hashAlgorithm"in e){t=this.getAlgorithmByOID(e.hashAlgorithm.algorithmId,!0).name}o.algorithm.hash.name=t}return this.verify(o.algorithm,s,c,e)}}let mn={name:"none",crypto:null};function bn(e){return!(!e||"object"!=typeof e||!("crypto"in e))}function vn(e,...t){let n=null;if(1===t.length)n=t[0];else{const e=t[0],r=t[1];bn(r)&&(n=r),bn(e)&&(n=e),"subtle"in e&&"getRandomValues"in e&&(n=new pn({crypto:e}))}if(void 0!==o&&"pid"in o&&void 0!==r.g&&"undefined"==typeof window){if(void 0===r.g[o.pid])r.g[o.pid]={};else if("object"!=typeof r.g[o.pid])throw new Error(`Name global.${o.pid} already exists and it is not an object`);if(void 0===r.g[o.pid].pkijs)r.g[o.pid].pkijs={};else if("object"!=typeof r.g[o.pid].pkijs)throw new Error(`Name global.${o.pid}.pkijs already exists and it is not an object`);r.g[o.pid].pkijs.engine={name:e,crypto:n}}else mn.name!==e&&(mn={name:e,crypto:n})}function yn(e=!1){const t=function(){if(void 0!==o&&"pid"in o&&void 0!==r.g&&"undefined"==typeof window){let e;try{e=r.g[o.pid].pkijs.engine}catch(e){throw new Error("Please call 'setEngine' before call to 'getEngine'")}return e}return mn}();if(!t.crypto&&e)throw new Error("Unable to create WebCrypto object");return t.crypto}async function gn(e,t,r,n,i){switch(e.toUpperCase()){case"SHA-1":case"SHA-256":case"SHA-384":case"SHA-512":break;default:throw new l(`Unknown hash function: ${e}`)}if(l.assert(t,"zBuffer","ArrayBuffer"),0===t.byteLength)throw new l("'zBuffer' has zero length, error");if(l.assert(n,"SharedInfo","ArrayBuffer"),r>255)throw new l("Please set 'Counter' argument to value less or equal to 255");const s=new ArrayBuffer(4),o=new Uint8Array(s);o[0]=0,o[1]=0,o[2]=0,o[3]=r;let c=u;c=a.hk(c,t),c=a.hk(c,s),c=a.hk(c,n);return{counter:r,result:await i.digest({name:e},c)}}async function wn(e,t,r,n,i=yn(!0)){let s=0,o=1;switch(e.toUpperCase()){case"SHA-1":s=160;break;case"SHA-256":s=256;break;case"SHA-384":s=384;break;case"SHA-512":s=512;break;default:throw new l(`Unknown hash function: ${e}`)}if(l.assert(t,"Zbuffer","ArrayBuffer"),0===t.byteLength)throw new l("'Zbuffer' has zero length, error");l.assert(n,"SharedInfo","ArrayBuffer");const c=r/s;Math.floor(c)>0&&(o=Math.floor(c),c-o>0&&o++);const h=[];for(let r=1;r<=o;r++)h.push(await gn(e,t,r,n,i));let f=u,d=1,p=!0;for(;p;){p=!1;for(const e of h)if(e.counter===d){f=a.hk(f,e.result),p=!0;break}d++}if(r>>=3,f.byteLength>r){const e=new ArrayBuffer(r),t=new Uint8Array(e),n=new Uint8Array(f);for(let e=0;e<r;e++)t[e]=n[e];return e}return f}const Sn="version",_n="logID",An="extensions",kn="timestamp",En="hashAlgorithm",On="signatureAlgorithm",Cn="signature",Nn="none",xn="sha1",Pn="sha224",In="sha256",Tn="sha384",jn="sha512",Vn="anonymous",Bn="ecdsa";class Dn extends d{constructor(e={}){super(),this.version=a.H$(e,Sn,Dn.defaultValues(Sn)),this.logID=a.H$(e,_n,Dn.defaultValues(_n)),this.timestamp=a.H$(e,kn,Dn.defaultValues(kn)),this.extensions=a.H$(e,An,Dn.defaultValues(An)),this.hashAlgorithm=a.H$(e,En,Dn.defaultValues(En)),this.signatureAlgorithm=a.H$(e,On,Dn.defaultValues(On)),this.signature=a.H$(e,Cn,Dn.defaultValues(Cn)),"stream"in e&&e.stream&&this.fromStream(e.stream),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Sn:return 0;case _n:case An:return u;case kn:return new Date(0);case En:case On:return c;case Cn:return new n.IK;default:return super.defaultValues(e)}}fromSchema(e){if(e instanceof n.Gh==!1)throw new Error("Object's schema was not verified against input data for SignedCertificateTimestamp");const t=new s.sF({stream:new s.$W({buffer:e.data})});this.fromStream(t)}fromStream(e){const t=e.getUint16();if(this.version=e.getBlock(1)[0],0===this.version){this.logID=new Uint8Array(e.getBlock(32)).buffer.slice(0),this.timestamp=new Date(a.r9(new Uint8Array(e.getBlock(8)),8));const r=e.getUint16();switch(this.extensions=new Uint8Array(e.getBlock(r)).buffer.slice(0),e.getBlock(1)[0]){case 0:this.hashAlgorithm=Nn;break;case 1:this.hashAlgorithm="md5";break;case 2:this.hashAlgorithm=xn;break;case 3:this.hashAlgorithm=Pn;break;case 4:this.hashAlgorithm=In;break;case 5:this.hashAlgorithm=Tn;break;case 6:this.hashAlgorithm=jn;break;default:throw new Error("Object's stream was not correct for SignedCertificateTimestamp")}switch(e.getBlock(1)[0]){case 0:this.signatureAlgorithm=Vn;break;case 1:this.signatureAlgorithm="rsa";break;case 2:this.signatureAlgorithm="dsa";break;case 3:this.signatureAlgorithm=Bn;break;default:throw new Error("Object's stream was not correct for SignedCertificateTimestamp")}const i=e.getUint16(),s=new Uint8Array(e.getBlock(i)).buffer.slice(0),o=n.sc(s);if(f.assert(o,"SignedCertificateTimestamp"),this.signature=o.result,t!==47+r+i)throw new Error("Object's stream was not correct for SignedCertificateTimestamp")}}toSchema(){const e=this.toStream();return new n.Gh({data:e.stream.buffer})}toStream(){const e=new s.sF;e.appendUint16(47+this.extensions.byteLength+this.signature.valueBeforeDecodeView.byteLength),e.appendChar(this.version),e.appendView(new Uint8Array(this.logID));const t=new ArrayBuffer(8),r=new Uint8Array(t),n=a.lL(this.timestamp.valueOf(),8);let i,o;switch(r.set(new Uint8Array(n),8-n.byteLength),e.appendView(r),e.appendUint16(this.extensions.byteLength),this.extensions.byteLength&&e.appendView(new Uint8Array(this.extensions)),this.hashAlgorithm.toLowerCase()){case Nn:i=0;break;case"md5":i=1;break;case xn:i=2;break;case Pn:i=3;break;case In:i=4;break;case Tn:i=5;break;case jn:i=6;break;default:throw new Error(`Incorrect data for hashAlgorithm: ${this.hashAlgorithm}`)}switch(e.appendChar(i),this.signatureAlgorithm.toLowerCase()){case Vn:o=0;break;case"rsa":o=1;break;case"dsa":o=2;break;case Bn:o=3;break;default:throw new Error(`Incorrect data for signatureAlgorithm: ${this.signatureAlgorithm}`)}e.appendChar(o);const u=this.signature.toBER(!1);return e.appendUint16(u.byteLength),e.appendView(new Uint8Array(u)),e}toJSON(){return{version:this.version,logID:a.RH(this.logID),timestamp:this.timestamp,extensions:a.RH(this.extensions),hashAlgorithm:this.hashAlgorithm,signatureAlgorithm:this.signatureAlgorithm,signature:this.signature.toJSON()}}async verify(e,t,r=0,i=yn(!0)){const o=a.s3(a.lE(this.logID));let u=null;const l=new s.sF;for(const t of e)if(t.log_id===o){u=t.key;break}if(!u)throw new Error(`Public key not found for CT with logId: ${o}`);const h=a.gG(a.Gh(u)),f=fr.fromBER(h);l.appendChar(0),l.appendChar(0);const d=new ArrayBuffer(8),p=new Uint8Array(d),m=a.lL(this.timestamp.valueOf(),8);return p.set(new Uint8Array(m),8-m.byteLength),l.appendView(p),l.appendUint16(r),0===r&&l.appendUint24(t.byteLength),l.appendView(new Uint8Array(t)),l.appendUint16(this.extensions.byteLength),0!==this.extensions.byteLength&&l.appendView(new Uint8Array(this.extensions)),i.verifyWithPublicKey(l.buffer.slice(0,l.length),new n.fi({valueHex:this.signature.toBER(!1)}),f,{algorithmId:c},"SHA-256")}}Dn.CLASS_NAME="SignedCertificateTimestamp";const Hn="timestamps";class Mn extends d{constructor(e={}){super(),this.timestamps=a.H$(e,Hn,Mn.defaultValues(Hn)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){return e===Hn?[]:super.defaultValues(e)}static compareWithDefault(e,t){return e===Hn?0===t.length:super.defaultValues(e)}static schema(e={}){var t;const r=a.H$(e,"names",{});return null!==(t=r.optional)&&void 0!==t||(r.optional=!1),new n.fi({name:r.blockName||"SignedCertificateTimestampList",optional:r.optional})}fromSchema(e){if(e instanceof n.fi==!1)throw new Error("Object's schema was not verified against input data for SignedCertificateTimestampList");const t=new s.sF({stream:new s.$W({buffer:e.valueBlock.valueHex})});if(t.getUint16()!==t.length)throw new Error("Object's schema was not verified against input data for SignedCertificateTimestampList");for(;t.length;)this.timestamps.push(new Dn({stream:t}))}toSchema(){const e=new s.sF;let t=0;const r=[];for(const e of this.timestamps){const n=e.toStream();r.push(n),t+=n.stream.buffer.byteLength}e.appendUint16(t);for(const t of r)e.appendView(t.stream.view);return new n.fi({valueHex:e.stream.buffer.slice(0)})}toJSON(){return{timestamps:Array.from(this.timestamps,(e=>e.toJSON()))}}}Mn.CLASS_NAME="SignedCertificateTimestampList";const Rn="attributes",Ln=[Rn];class $n extends d{constructor(e={}){super(),this.attributes=a.H$(e,Rn,$n.defaultValues(Rn)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){return e===Rn?[]:super.defaultValues(e)}static schema(e={}){const t=a.H$(e,"names",{});return new n.T9({name:t.blockName||c,value:[new n.ZD({name:t.attributes||c,value:q.schema()})]})}fromSchema(e){a.ze(e,Ln);const t=n.eN(e,e,$n.schema({names:{attributes:Rn}}));f.assertSchema(t,this.className),this.attributes=Array.from(t.result.attributes,(e=>new q({schema:e})))}toSchema(){return new n.T9({value:Array.from(this.attributes,(e=>e.toSchema()))})}toJSON(){return{attributes:Array.from(this.attributes,(e=>e.toJSON()))}}}$n.CLASS_NAME="SubjectDirectoryAttributes";class Un{static getItems(){return this.types||(this.types={},Un.register(te,"SubjectAltName",F),Un.register(re,"IssuerAltName",F),Un.register(fe,"AuthorityKeyIdentifier",xe),Un.register(ne,"BasicConstraints",Te),Un.register("1.3.6.1.4.1.311.21.1","MicrosoftCaVersion",Be),Un.register(ce,"CertificatePolicies",We),Un.register("1.3.6.1.4.1.311.21.10","CertificatePoliciesMicrosoft",We),Un.register("1.3.6.1.4.1.311.21.7","MicrosoftCertTemplateV2",Ye),Un.register(oe,"CRLDistributionPoints",ot),Un.register(ue,"FreshestCRL",ot),Un.register("2.5.29.37","ExtKeyUsage",lt),Un.register(ae,"CertificateIssuer",ee),Un.register(pe,"AuthorityInfoAccess",ft),Un.register("1.3.6.1.5.5.7.1.11","SubjectInfoAccess",ft),Un.register(ie,"IssuingDistributionPoint",St),Un.register(se,"NameConstraints",Pt),Un.register(de,"PolicyConstraints",Vt),Un.register(he,"PolicyMappings",$t),Un.register("2.5.29.16","PrivateKeyUsagePeriod",zt),Un.register("1.3.6.1.5.5.7.1.3","QCStatements",Xt),Un.register(me,"SignedCertificateTimestampList",Mn),Un.register("2.5.29.9","SubjectDirectoryAttributes",$n)),this.types}static fromBER(e,t){const r=n.sc(t);if(-1===r.offset)return null;const i=this.find(e);if(i)try{return new i.type({schema:r.result})}catch(t){const r=new i.type;return r.parsingError=`Incorrectly formatted value of extension ${i.name} (${e})`,r}return r.result}static find(e){return this.getItems()[e]||null}static register(e,t,r){this.getItems()[e]={name:t,type:r}}}const Fn="extnID",Kn="critical",zn="extnValue",Wn="parsedValue",qn=[Fn,Kn,zn];class Zn extends d{constructor(e={}){super(),this.extnID=a.H$(e,Fn,Zn.defaultValues(Fn)),this.critical=a.H$(e,Kn,Zn.defaultValues(Kn)),this.extnValue=zn in e?new n.fi({valueHex:e.extnValue}):Zn.defaultValues(zn),Wn in e&&(this.parsedValue=a.H$(e,Wn,Zn.defaultValues(Wn))),e.schema&&this.fromSchema(e.schema)}get parsedValue(){if(void 0===this._parsedValue){const e=Un.fromBER(this.extnID,this.extnValue.valueBlock.valueHexView);this._parsedValue=e}return this._parsedValue||void 0}set parsedValue(e){this._parsedValue=e}static defaultValues(e){switch(e){case Fn:return c;case Kn:return!1;case zn:return new n.fi;case Wn:return{};default:return super.defaultValues(e)}}static schema(e={}){const t=a.H$(e,"names",{});return new n.T9({name:t.blockName||c,value:[new n.rP({name:t.extnID||c}),new n.ge({name:t.critical||c,optional:!0}),new n.fi({name:t.extnValue||c})]})}fromSchema(e){a.ze(e,qn);const t=n.eN(e,e,Zn.schema({names:{extnID:Fn,critical:Kn,extnValue:zn}}));f.assertSchema(t,this.className),this.extnID=t.result.extnID.valueBlock.toString(),Kn in t.result&&(this.critical=t.result.critical.valueBlock.value),this.extnValue=t.result.extnValue}toSchema(){const e=[];return e.push(new n.rP({value:this.extnID})),this.critical!==Zn.defaultValues(Kn)&&e.push(new n.ge({value:this.critical})),e.push(this.extnValue),new n.T9({value:e})}toJSON(){const e={extnID:this.extnID,extnValue:this.extnValue.toJSON()};return this.critical!==Zn.defaultValues(Kn)&&(e.critical=this.critical),this.parsedValue&&this.parsedValue.toJSON&&(e.parsedValue=this.parsedValue.toJSON()),e}}Zn.CLASS_NAME="Extension";const Jn="extensions",Gn=[Jn];class Yn extends d{constructor(e={}){super(),this.extensions=a.H$(e,Jn,Yn.defaultValues(Jn)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){return e===Jn?[]:super.defaultValues(e)}static schema(e={},t=!1){const r=a.H$(e,"names",{});return new n.T9({optional:t,name:r.blockName||c,value:[new n.ZD({name:r.extensions||c,value:Zn.schema(r.extension||{})})]})}fromSchema(e){a.ze(e,Gn);const t=n.eN(e,e,Yn.schema({names:{extensions:Jn}}));f.assertSchema(t,this.className),this.extensions=Array.from(t.result.extensions,(e=>new Zn({schema:e})))}toSchema(){return new n.T9({value:Array.from(this.extensions,(e=>e.toSchema()))})}toJSON(){return{extensions:this.extensions.map((e=>e.toJSON()))}}}Yn.CLASS_NAME="Extensions";const Xn="issuer",Qn="serialNumber",ei="issuerUID",ti=[Xn,Qn,ei];class ri extends d{constructor(e={}){super(),this.issuer=a.H$(e,Xn,ri.defaultValues(Xn)),this.serialNumber=a.H$(e,Qn,ri.defaultValues(Qn)),ei in e&&(this.issuerUID=a.H$(e,ei,ri.defaultValues(ei))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Xn:return new ee;case Qn:return new n.z8;case ei:return new n._K;default:return super.defaultValues(e)}}static schema(e={}){const t=a.H$(e,"names",{});return new n.T9({name:t.blockName||c,value:[ee.schema(t.issuer||{}),new n.z8({name:t.serialNumber||c}),new n._K({optional:!0,name:t.issuerUID||c})]})}fromSchema(e){a.ze(e,ti);const t=n.eN(e,e,ri.schema({names:{issuer:{names:{blockName:Xn}},serialNumber:Qn,issuerUID:ei}}));f.assertSchema(t,this.className),this.issuer=new ee({schema:t.result.issuer}),this.serialNumber=t.result.serialNumber,ei in t.result&&(this.issuerUID=t.result.issuerUID)}toSchema(){const e=new n.T9({value:[this.issuer.toSchema(),this.serialNumber]});return this.issuerUID&&e.valueBlock.value.push(this.issuerUID),e}toJSON(){const e={issuer:this.issuer.toJSON(),serialNumber:this.serialNumber.toJSON()};return this.issuerUID&&(e.issuerUID=this.issuerUID.toJSON()),e}}ri.CLASS_NAME="IssuerSerial";const ni="version",ii="baseCertificateID",ai="subjectName",si="issuer",oi="signature",ui="serialNumber",ci="attrCertValidityPeriod",li="attributes",hi="issuerUniqueID",fi="extensions",di=[ni,ii,ai,si,oi,ui,ci,li,hi,fi];class pi extends d{constructor(e={}){super(),this.version=a.H$(e,ni,pi.defaultValues(ni)),ii in e&&(this.baseCertificateID=a.H$(e,ii,pi.defaultValues(ii))),ai in e&&(this.subjectName=a.H$(e,ai,pi.defaultValues(ai))),this.issuer=a.H$(e,si,pi.defaultValues(si)),this.signature=a.H$(e,oi,pi.defaultValues(oi)),this.serialNumber=a.H$(e,ui,pi.defaultValues(ui)),this.attrCertValidityPeriod=a.H$(e,ci,pi.defaultValues(ci)),this.attributes=a.H$(e,li,pi.defaultValues(li)),hi in e&&(this.issuerUniqueID=a.H$(e,hi,pi.defaultValues(hi))),fi in e&&(this.extensions=a.H$(e,fi,pi.defaultValues(fi))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case ni:return 0;case ii:return new ri;case ai:case si:return new ee;case oi:return new L;case ui:return new n.z8;case ci:return new Y;case li:return[];case hi:return new n._K;case fi:return new Yn;default:return super.defaultValues(e)}}static schema(e={}){const t=a.H$(e,"names",{});return new n.T9({name:t.blockName||c,value:[new n.z8({name:t.version||c}),new n.Lv({value:[new n.FC({name:t.baseCertificateID||c,idBlock:{tagClass:3,tagNumber:0},value:ri.schema().valueBlock.value}),new n.FC({name:t.subjectName||c,idBlock:{tagClass:3,tagNumber:1},value:ee.schema().valueBlock.value})]}),ee.schema({names:{blockName:t.issuer||c}}),L.schema(t.signature||{}),new n.z8({name:t.serialNumber||c}),Y.schema(t.attrCertValidityPeriod||{}),new n.T9({name:t.attributes||c,value:[new n.ZD({value:q.schema()})]}),new n._K({optional:!0,name:t.issuerUniqueID||c}),Yn.schema(t.extensions||{},!0)]})}fromSchema(e){a.ze(e,di);const t=n.eN(e,e,pi.schema({names:{version:ni,baseCertificateID:ii,subjectName:ai,issuer:si,signature:{names:{blockName:oi}},serialNumber:ui,attrCertValidityPeriod:{names:{blockName:ci}},attributes:li,issuerUniqueID:hi,extensions:{names:{blockName:fi}}}}));f.assertSchema(t,this.className),this.version=t.result.version.valueBlock.valueDec,ii in t.result&&(this.baseCertificateID=new ri({schema:new n.T9({value:t.result.baseCertificateID.valueBlock.value})})),ai in t.result&&(this.subjectName=new ee({schema:new n.T9({value:t.result.subjectName.valueBlock.value})})),this.issuer=t.result.issuer,this.signature=new L({schema:t.result.signature}),this.serialNumber=t.result.serialNumber,this.attrCertValidityPeriod=new Y({schema:t.result.attrCertValidityPeriod}),this.attributes=Array.from(t.result.attributes.valueBlock.value,(e=>new q({schema:e}))),hi in t.result&&(this.issuerUniqueID=t.result.issuerUniqueID),fi in t.result&&(this.extensions=new Yn({schema:t.result.extensions}))}toSchema(){const e=new n.T9({value:[new n.z8({value:this.version})]});return this.baseCertificateID&&e.valueBlock.value.push(new n.FC({idBlock:{tagClass:3,tagNumber:0},value:this.baseCertificateID.toSchema().valueBlock.value})),this.subjectName&&e.valueBlock.value.push(new n.FC({idBlock:{tagClass:3,tagNumber:1},value:this.subjectName.toSchema().valueBlock.value})),e.valueBlock.value.push(this.issuer.toSchema()),e.valueBlock.value.push(this.signature.toSchema()),e.valueBlock.value.push(this.serialNumber),e.valueBlock.value.push(this.attrCertValidityPeriod.toSchema()),e.valueBlock.value.push(new n.T9({value:Array.from(this.attributes,(e=>e.toSchema()))})),this.issuerUniqueID&&e.valueBlock.value.push(this.issuerUniqueID),this.extensions&&e.valueBlock.value.push(this.extensions.toSchema()),e}toJSON(){const e={version:this.version};return this.baseCertificateID&&(e.baseCertificateID=this.baseCertificateID.toJSON()),this.subjectName&&(e.subjectName=this.subjectName.toJSON()),e.issuer=this.issuer.toJSON(),e.signature=this.signature.toJSON(),e.serialNumber=this.serialNumber.toJSON(),e.attrCertValidityPeriod=this.attrCertValidityPeriod.toJSON(),e.attributes=Array.from(this.attributes,(e=>e.toJSON())),this.issuerUniqueID&&(e.issuerUniqueID=this.issuerUniqueID.toJSON()),this.extensions&&(e.extensions=this.extensions.toJSON()),e}}pi.CLASS_NAME="AttributeCertificateInfoV1";const mi="acinfo",bi="signatureAlgorithm",vi="signatureValue",yi=[mi,vi,bi];class gi extends d{constructor(e={}){super(),this.acinfo=a.H$(e,mi,gi.defaultValues(mi)),this.signatureAlgorithm=a.H$(e,bi,gi.defaultValues(bi)),this.signatureValue=a.H$(e,vi,gi.defaultValues(vi)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case mi:return new pi;case bi:return new L;case vi:return new n._K;default:return super.defaultValues(e)}}static schema(e={}){const t=a.H$(e,"names",{});return new n.T9({name:t.blockName||c,value:[pi.schema(t.acinfo||{}),L.schema(t.signatureAlgorithm||{}),new n._K({name:t.signatureValue||c})]})}fromSchema(e){a.ze(e,yi);const t=n.eN(e,e,gi.schema({names:{acinfo:{names:{blockName:mi}},signatureAlgorithm:{names:{blockName:bi}},signatureValue:vi}}));f.assertSchema(t,this.className),this.acinfo=new pi({schema:t.result.acinfo}),this.signatureAlgorithm=new L({schema:t.result.signatureAlgorithm}),this.signatureValue=t.result.signatureValue}toSchema(){return new n.T9({value:[this.acinfo.toSchema(),this.signatureAlgorithm.toSchema(),this.signatureValue]})}toJSON(){return{acinfo:this.acinfo.toJSON(),signatureAlgorithm:this.signatureAlgorithm.toJSON(),signatureValue:this.signatureValue.toJSON()}}}gi.CLASS_NAME="AttributeCertificateV1";const wi="digestedObjectType",Si="otherObjectTypeID",_i="digestAlgorithm",Ai="objectDigest",ki=[wi,Si,_i,Ai];class Ei extends d{constructor(e={}){super(),this.digestedObjectType=a.H$(e,wi,Ei.defaultValues(wi)),Si in e&&(this.otherObjectTypeID=a.H$(e,Si,Ei.defaultValues(Si))),this.digestAlgorithm=a.H$(e,_i,Ei.defaultValues(_i)),this.objectDigest=a.H$(e,Ai,Ei.defaultValues(Ai)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case wi:return new n.WC;case Si:return new n.rP;case _i:return new L;case Ai:return new n._K;default:return super.defaultValues(e)}}static schema(e={}){const t=a.H$(e,"names",{});return new n.T9({name:t.blockName||c,value:[new n.WC({name:t.digestedObjectType||c}),new n.rP({optional:!0,name:t.otherObjectTypeID||c}),L.schema(t.digestAlgorithm||{}),new n._K({name:t.objectDigest||c})]})}fromSchema(e){a.ze(e,ki);const t=n.eN(e,e,Ei.schema({names:{digestedObjectType:wi,otherObjectTypeID:Si,digestAlgorithm:{names:{blockName:_i}},objectDigest:Ai}}));f.assertSchema(t,this.className),this.digestedObjectType=t.result.digestedObjectType,Si in t.result&&(this.otherObjectTypeID=t.result.otherObjectTypeID),this.digestAlgorithm=new L({schema:t.result.digestAlgorithm}),this.objectDigest=t.result.objectDigest}toSchema(){const e=new n.T9({value:[this.digestedObjectType]});return this.otherObjectTypeID&&e.valueBlock.value.push(this.otherObjectTypeID),e.valueBlock.value.push(this.digestAlgorithm.toSchema()),e.valueBlock.value.push(this.objectDigest),e}toJSON(){const e={digestedObjectType:this.digestedObjectType.toJSON(),digestAlgorithm:this.digestAlgorithm.toJSON(),objectDigest:this.objectDigest.toJSON()};return this.otherObjectTypeID&&(e.otherObjectTypeID=this.otherObjectTypeID.toJSON()),e}}Ei.CLASS_NAME="ObjectDigestInfo";const Oi="issuerName",Ci="baseCertificateID",Ni="objectDigestInfo",xi=[Oi,Ci,Ni];class Pi extends d{constructor(e={}){super(),Oi in e&&(this.issuerName=a.H$(e,Oi,Pi.defaultValues(Oi))),Ci in e&&(this.baseCertificateID=a.H$(e,Ci,Pi.defaultValues(Ci))),Ni in e&&(this.objectDigestInfo=a.H$(e,Ni,Pi.defaultValues(Ni))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Oi:return new ee;case Ci:return new ri;case Ni:return new Ei;default:return super.defaultValues(e)}}static schema(e={}){const t=a.H$(e,"names",{});return new n.T9({name:t.blockName||c,value:[ee.schema({names:{blockName:t.issuerName}},!0),new n.FC({optional:!0,name:t.baseCertificateID||c,idBlock:{tagClass:3,tagNumber:0},value:ri.schema().valueBlock.value}),new n.FC({optional:!0,name:t.objectDigestInfo||c,idBlock:{tagClass:3,tagNumber:1},value:Ei.schema().valueBlock.value})]})}fromSchema(e){a.ze(e,xi);const t=n.eN(e,e,Pi.schema({names:{issuerName:Oi,baseCertificateID:Ci,objectDigestInfo:Ni}}));f.assertSchema(t,this.className),Oi in t.result&&(this.issuerName=new ee({schema:t.result.issuerName})),Ci in t.result&&(this.baseCertificateID=new ri({schema:new n.T9({value:t.result.baseCertificateID.valueBlock.value})})),Ni in t.result&&(this.objectDigestInfo=new Ei({schema:new n.T9({value:t.result.objectDigestInfo.valueBlock.value})}))}toSchema(){const e=new n.T9;return this.issuerName&&e.valueBlock.value.push(this.issuerName.toSchema()),this.baseCertificateID&&e.valueBlock.value.push(new n.FC({idBlock:{tagClass:3,tagNumber:0},value:this.baseCertificateID.toSchema().valueBlock.value})),this.objectDigestInfo&&e.valueBlock.value.push(new n.FC({idBlock:{tagClass:3,tagNumber:1},value:this.objectDigestInfo.toSchema().valueBlock.value})),e}toJSON(){const e={};return this.issuerName&&(e.issuerName=this.issuerName.toJSON()),this.baseCertificateID&&(e.baseCertificateID=this.baseCertificateID.toJSON()),this.objectDigestInfo&&(e.objectDigestInfo=this.objectDigestInfo.toJSON()),e}}Pi.CLASS_NAME="V2Form";const Ii="baseCertificateID",Ti="entityName",ji="objectDigestInfo",Vi=[Ii,Ti,ji];class Bi extends d{constructor(e={}){super(),Ii in e&&(this.baseCertificateID=a.H$(e,Ii,Bi.defaultValues(Ii))),Ti in e&&(this.entityName=a.H$(e,Ti,Bi.defaultValues(Ti))),ji in e&&(this.objectDigestInfo=a.H$(e,ji,Bi.defaultValues(ji))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Ii:return new ri;case Ti:return new ee;case ji:return new Ei;default:return super.defaultValues(e)}}static schema(e={}){const t=a.H$(e,"names",{});return new n.T9({name:t.blockName||c,value:[new n.FC({optional:!0,name:t.baseCertificateID||c,idBlock:{tagClass:3,tagNumber:0},value:ri.schema().valueBlock.value}),new n.FC({optional:!0,name:t.entityName||c,idBlock:{tagClass:3,tagNumber:1},value:ee.schema().valueBlock.value}),new n.FC({optional:!0,name:t.objectDigestInfo||c,idBlock:{tagClass:3,tagNumber:2},value:Ei.schema().valueBlock.value})]})}fromSchema(e){a.ze(e,Vi);const t=n.eN(e,e,Bi.schema({names:{baseCertificateID:Ii,entityName:Ti,objectDigestInfo:ji}}));f.assertSchema(t,this.className),Ii in t.result&&(this.baseCertificateID=new ri({schema:new n.T9({value:t.result.baseCertificateID.valueBlock.value})})),Ti in t.result&&(this.entityName=new ee({schema:new n.T9({value:t.result.entityName.valueBlock.value})})),ji in t.result&&(this.objectDigestInfo=new Ei({schema:new n.T9({value:t.result.objectDigestInfo.valueBlock.value})}))}toSchema(){const e=new n.T9;return this.baseCertificateID&&e.valueBlock.value.push(new n.FC({idBlock:{tagClass:3,tagNumber:0},value:this.baseCertificateID.toSchema().valueBlock.value})),this.entityName&&e.valueBlock.value.push(new n.FC({idBlock:{tagClass:3,tagNumber:1},value:this.entityName.toSchema().valueBlock.value})),this.objectDigestInfo&&e.valueBlock.value.push(new n.FC({idBlock:{tagClass:3,tagNumber:2},value:this.objectDigestInfo.toSchema().valueBlock.value})),e}toJSON(){const e={};return this.baseCertificateID&&(e.baseCertificateID=this.baseCertificateID.toJSON()),this.entityName&&(e.entityName=this.entityName.toJSON()),this.objectDigestInfo&&(e.objectDigestInfo=this.objectDigestInfo.toJSON()),e}}Bi.CLASS_NAME="Holder";const Di="version",Hi="holder",Mi="issuer",Ri="signature",Li="serialNumber",$i="attrCertValidityPeriod",Ui="attributes",Fi="issuerUniqueID",Ki="extensions",zi=[Di,Hi,Mi,Ri,Li,$i,Ui,Fi,Ki];class Wi extends d{constructor(e={}){super(),this.version=a.H$(e,Di,Wi.defaultValues(Di)),this.holder=a.H$(e,Hi,Wi.defaultValues(Hi)),this.issuer=a.H$(e,Mi,Wi.defaultValues(Mi)),this.signature=a.H$(e,Ri,Wi.defaultValues(Ri)),this.serialNumber=a.H$(e,Li,Wi.defaultValues(Li)),this.attrCertValidityPeriod=a.H$(e,$i,Wi.defaultValues($i)),this.attributes=a.H$(e,Ui,Wi.defaultValues(Ui)),Fi in e&&(this.issuerUniqueID=a.H$(e,Fi,Wi.defaultValues(Fi))),Ki in e&&(this.extensions=a.H$(e,Ki,Wi.defaultValues(Ki))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Di:return 1;case Hi:return new Bi;case Mi:return{};case Ri:return new L;case Li:return new n.z8;case $i:return new Y;case Ui:return[];case Fi:return new n._K;case Ki:return new Yn;default:return super.defaultValues(e)}}static schema(e={}){const t=a.H$(e,"names",{});return new n.T9({name:t.blockName||c,value:[new n.z8({name:t.version||c}),Bi.schema(t.holder||{}),new n.Lv({value:[ee.schema({names:{blockName:t.issuer||c}}),new n.FC({name:t.issuer||c,idBlock:{tagClass:3,tagNumber:0},value:Pi.schema().valueBlock.value})]}),L.schema(t.signature||{}),new n.z8({name:t.serialNumber||c}),Y.schema(t.attrCertValidityPeriod||{}),new n.T9({name:t.attributes||c,value:[new n.ZD({value:q.schema()})]}),new n._K({optional:!0,name:t.issuerUniqueID||c}),Yn.schema(t.extensions||{},!0)]})}fromSchema(e){a.ze(e,zi);const t=n.eN(e,e,Wi.schema({names:{version:Di,holder:{names:{blockName:Hi}},issuer:Mi,signature:{names:{blockName:Ri}},serialNumber:Li,attrCertValidityPeriod:{names:{blockName:$i}},attributes:Ui,issuerUniqueID:Fi,extensions:{names:{blockName:Ki}}}}));if(f.assertSchema(t,this.className),this.version=t.result.version.valueBlock.valueDec,this.holder=new Bi({schema:t.result.holder}),3!==t.result.issuer.idBlock.tagClass)throw new Error("Incorrect value for 'issuer' in AttributeCertificateInfoV2");this.issuer=new Pi({schema:new n.T9({value:t.result.issuer.valueBlock.value})}),this.signature=new L({schema:t.result.signature}),this.serialNumber=t.result.serialNumber,this.attrCertValidityPeriod=new Y({schema:t.result.attrCertValidityPeriod}),this.attributes=Array.from(t.result.attributes.valueBlock.value,(e=>new q({schema:e}))),Fi in t.result&&(this.issuerUniqueID=t.result.issuerUniqueID),Ki in t.result&&(this.extensions=new Yn({schema:t.result.extensions}))}toSchema(){const e=new n.T9({value:[new n.z8({value:this.version}),this.holder.toSchema(),new n.FC({idBlock:{tagClass:3,tagNumber:0},value:this.issuer.toSchema().valueBlock.value}),this.signature.toSchema(),this.serialNumber,this.attrCertValidityPeriod.toSchema(),new n.T9({value:Array.from(this.attributes,(e=>e.toSchema()))})]});return this.issuerUniqueID&&e.valueBlock.value.push(this.issuerUniqueID),this.extensions&&e.valueBlock.value.push(this.extensions.toSchema()),e}toJSON(){const e={version:this.version,holder:this.holder.toJSON(),issuer:this.issuer.toJSON(),signature:this.signature.toJSON(),serialNumber:this.serialNumber.toJSON(),attrCertValidityPeriod:this.attrCertValidityPeriod.toJSON(),attributes:Array.from(this.attributes,(e=>e.toJSON()))};return this.issuerUniqueID&&(e.issuerUniqueID=this.issuerUniqueID.toJSON()),this.extensions&&(e.extensions=this.extensions.toJSON()),e}}Wi.CLASS_NAME="AttributeCertificateInfoV2";const qi="acinfo",Zi="signatureAlgorithm",Ji="signatureValue",Gi=[qi,Zi,Ji];class Yi extends d{constructor(e={}){super(),this.acinfo=a.H$(e,qi,Yi.defaultValues(qi)),this.signatureAlgorithm=a.H$(e,Zi,Yi.defaultValues(Zi)),this.signatureValue=a.H$(e,Ji,Yi.defaultValues(Ji)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case qi:return new Wi;case Zi:return new L;case Ji:return new n._K;default:return super.defaultValues(e)}}static schema(e={}){const t=a.H$(e,"names",{});return new n.T9({name:t.blockName||c,value:[Wi.schema(t.acinfo||{}),L.schema(t.signatureAlgorithm||{}),new n._K({name:t.signatureValue||c})]})}fromSchema(e){a.ze(e,Gi);const t=n.eN(e,e,Yi.schema({names:{acinfo:{names:{blockName:qi}},signatureAlgorithm:{names:{blockName:Zi}},signatureValue:Ji}}));f.assertSchema(t,this.className),this.acinfo=new Wi({schema:t.result.acinfo}),this.signatureAlgorithm=new L({schema:t.result.signatureAlgorithm}),this.signatureValue=t.result.signatureValue}toSchema(){return new n.T9({value:[this.acinfo.toSchema(),this.signatureAlgorithm.toSchema(),this.signatureValue]})}toJSON(){return{acinfo:this.acinfo.toJSON(),signatureAlgorithm:this.signatureAlgorithm.toJSON(),signatureValue:this.signatureValue.toJSON()}}}Yi.CLASS_NAME="AttributeCertificateV2";const Xi="contentType",Qi="content",ea=[Xi,Qi];class ta extends d{constructor(e={}){super(),this.contentType=a.H$(e,Xi,ta.defaultValues(Xi)),this.content=a.H$(e,Qi,ta.defaultValues(Qi)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Xi:return c;case Qi:return new n.IK;default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case Xi:return"string"==typeof t&&t===this.defaultValues(Xi);case Qi:return t instanceof n.IK;default:return super.defaultValues(e)}}static schema(e={}){const t=a.H$(e,"names",{});return"optional"in t==!1&&(t.optional=!1),new n.T9({name:t.blockName||"ContentInfo",optional:t.optional,value:[new n.rP({name:t.contentType||Xi}),new n.FC({idBlock:{tagClass:3,tagNumber:0},value:[new n.IK({name:t.content||Qi})]})]})}fromSchema(e){a.ze(e,ea);const t=n.eN(e,e,ta.schema());f.assertSchema(t,this.className),this.contentType=t.result.contentType.valueBlock.toString(),this.content=t.result.content}toSchema(){return new n.T9({value:[new n.rP({value:this.contentType}),new n.FC({idBlock:{tagClass:3,tagNumber:0},value:[this.content]})]})}toJSON(){const e={contentType:this.contentType};return this.content instanceof n.IK||(e.content=this.content.toJSON()),e}}ta.CLASS_NAME="ContentInfo",ta.DATA=be,ta.SIGNED_DATA=ve,ta.ENVELOPED_DATA=ye,ta.ENCRYPTED_DATA=ge;const ra="type",na="value",ia="utcTimeName",aa="generalTimeName",sa=[ia,aa];var oa;!function(e){e[e.UTCTime=0]="UTCTime",e[e.GeneralizedTime=1]="GeneralizedTime",e[e.empty=2]="empty"}(oa||(oa={}));class ua extends d{constructor(e={}){super(),this.type=a.H$(e,ra,ua.defaultValues(ra)),this.value=a.H$(e,na,ua.defaultValues(na)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case ra:return 0;case na:return new Date(0,0,0);default:return super.defaultValues(e)}}static schema(e={},t=!1){const r=a.H$(e,"names",{});return new n.Lv({optional:t,value:[new n.BD({name:r.utcTimeName||c}),new n.Yw({name:r.generalTimeName||c})]})}fromSchema(e){a.ze(e,sa);const t=n.eN(e,e,ua.schema({names:{utcTimeName:ia,generalTimeName:aa}}));f.assertSchema(t,this.className),ia in t.result&&(this.type=0,this.value=t.result.utcTimeName.toDate()),aa in t.result&&(this.type=1,this.value=t.result.generalTimeName.toDate())}toSchema(){return 0===this.type?new n.BD({valueDate:this.value}):1===this.type?new n.Yw({valueDate:this.value}):{}}toJSON(){return{type:this.type,value:this.value}}}ua.CLASS_NAME="Time";const ca="tbs",la="version",ha="serialNumber",fa="signature",da="issuer",pa="notBefore",ma="notAfter",ba="subject",va="subjectPublicKeyInfo",ya="issuerUniqueID",ga="subjectUniqueID",wa="extensions",Sa="signatureAlgorithm",_a="signatureValue",Aa="tbsCertificate",ka=`${Aa}.${la}`,Ea=`${Aa}.${ha}`,Oa=`${Aa}.${fa}`,Ca=`${Aa}.${da}`,Na=`${Aa}.${pa}`,xa=`${Aa}.${ma}`,Pa=`${Aa}.${ba}`,Ia=`${Aa}.${va}`,Ta=`${Aa}.${ya}`,ja=`${Aa}.${ga}`,Va=`${Aa}.${wa}`,Ba=[Aa,ka,Ea,Oa,Ca,Na,xa,Pa,Ia,Ta,ja,Va,Sa,_a];function Da(e={}){const t=a.H$(e,"names",{});return new n.T9({name:t.blockName||Aa,value:[new n.FC({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new n.z8({name:t.tbsCertificateVersion||ka})]}),new n.z8({name:t.tbsCertificateSerialNumber||Ea}),L.schema(t.signature||{names:{blockName:Oa}}),w.schema(t.issuer||{names:{blockName:Ca}}),new n.T9({name:t.tbsCertificateValidity||"tbsCertificate.validity",value:[ua.schema(t.notBefore||{names:{utcTimeName:Na,generalTimeName:Na}}),ua.schema(t.notAfter||{names:{utcTimeName:xa,generalTimeName:xa}})]}),w.schema(t.subject||{names:{blockName:Pa}}),fr.schema(t.subjectPublicKeyInfo||{names:{blockName:Ia}}),new n.WV({name:t.tbsCertificateIssuerUniqueID||Ta,optional:!0,idBlock:{tagClass:3,tagNumber:1}}),new n.WV({name:t.tbsCertificateSubjectUniqueID||ja,optional:!0,idBlock:{tagClass:3,tagNumber:2}}),new n.FC({optional:!0,idBlock:{tagClass:3,tagNumber:3},value:[Yn.schema(t.extensions||{names:{blockName:Va}})]})]})}class Ha extends d{constructor(e={}){super(),this.tbsView=new Uint8Array(a.H$(e,ca,Ha.defaultValues(ca))),this.version=a.H$(e,la,Ha.defaultValues(la)),this.serialNumber=a.H$(e,ha,Ha.defaultValues(ha)),this.signature=a.H$(e,fa,Ha.defaultValues(fa)),this.issuer=a.H$(e,da,Ha.defaultValues(da)),this.notBefore=a.H$(e,pa,Ha.defaultValues(pa)),this.notAfter=a.H$(e,ma,Ha.defaultValues(ma)),this.subject=a.H$(e,ba,Ha.defaultValues(ba)),this.subjectPublicKeyInfo=a.H$(e,va,Ha.defaultValues(va)),ya in e&&(this.issuerUniqueID=a.H$(e,ya,Ha.defaultValues(ya))),ga in e&&(this.subjectUniqueID=a.H$(e,ga,Ha.defaultValues(ga))),wa in e&&(this.extensions=a.H$(e,wa,Ha.defaultValues(wa))),this.signatureAlgorithm=a.H$(e,Sa,Ha.defaultValues(Sa)),this.signatureValue=a.H$(e,_a,Ha.defaultValues(_a)),e.schema&&this.fromSchema(e.schema)}get tbs(){return i.vJ.toArrayBuffer(this.tbsView)}set tbs(e){this.tbsView=new Uint8Array(e)}static defaultValues(e){switch(e){case ca:return u;case la:return 0;case ha:return new n.z8;case fa:return new L;case da:return new w;case pa:case ma:return new ua;case ba:return new w;case va:return new fr;case ya:case ga:return u;case wa:return[];case Sa:return new L;case _a:return new n._K;default:return super.defaultValues(e)}}static schema(e={}){const t=a.H$(e,"names",{});return new n.T9({name:t.blockName||c,value:[Da(t.tbsCertificate),L.schema(t.signatureAlgorithm||{names:{blockName:Sa}}),new n._K({name:t.signatureValue||_a})]})}fromSchema(e){a.ze(e,Ba);const t=n.eN(e,e,Ha.schema({names:{tbsCertificate:{names:{extensions:{names:{extensions:Va}}}}}}));f.assertSchema(t,this.className),this.tbsView=t.result.tbsCertificate.valueBeforeDecodeView,ka in t.result&&(this.version=t.result[ka].valueBlock.valueDec),this.serialNumber=t.result[Ea],this.signature=new L({schema:t.result[Oa]}),this.issuer=new w({schema:t.result[Ca]}),this.notBefore=new ua({schema:t.result[Na]}),this.notAfter=new ua({schema:t.result[xa]}),this.subject=new w({schema:t.result[Pa]}),this.subjectPublicKeyInfo=new fr({schema:t.result[Ia]}),Ta in t.result&&(this.issuerUniqueID=t.result[Ta].valueBlock.valueHex),ja in t.result&&(this.subjectUniqueID=t.result[ja].valueBlock.valueHex),Va in t.result&&(this.extensions=Array.from(t.result[Va],(e=>new Zn({schema:e})))),this.signatureAlgorithm=new L({schema:t.result.signatureAlgorithm}),this.signatureValue=t.result.signatureValue}encodeTBS(){const e=[];return la in this&&this.version!==Ha.defaultValues(la)&&e.push(new n.FC({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new n.z8({value:this.version})]})),e.push(this.serialNumber),e.push(this.signature.toSchema()),e.push(this.issuer.toSchema()),e.push(new n.T9({value:[this.notBefore.toSchema(),this.notAfter.toSchema()]})),e.push(this.subject.toSchema()),e.push(this.subjectPublicKeyInfo.toSchema()),this.issuerUniqueID&&e.push(new n.WV({optional:!0,idBlock:{tagClass:3,tagNumber:1},valueHex:this.issuerUniqueID})),this.subjectUniqueID&&e.push(new n.WV({optional:!0,idBlock:{tagClass:3,tagNumber:2},valueHex:this.subjectUniqueID})),this.extensions&&e.push(new n.FC({optional:!0,idBlock:{tagClass:3,tagNumber:3},value:[new n.T9({value:Array.from(this.extensions,(e=>e.toSchema()))})]})),new n.T9({value:e})}toSchema(e=!1){let t;if(!1===e){if(!this.tbsView.byteLength)return Ha.schema().value[0];const e=n.sc(this.tbsView);f.assert(e,"TBS Certificate"),t=e.result}else t=this.encodeTBS();return new n.T9({value:[t,this.signatureAlgorithm.toSchema(),this.signatureValue]})}toJSON(){const e={tbs:i.ep.ToHex(this.tbsView),version:this.version,serialNumber:this.serialNumber.toJSON(),signature:this.signature.toJSON(),issuer:this.issuer.toJSON(),notBefore:this.notBefore.toJSON(),notAfter:this.notAfter.toJSON(),subject:this.subject.toJSON(),subjectPublicKeyInfo:this.subjectPublicKeyInfo.toJSON(),signatureAlgorithm:this.signatureAlgorithm.toJSON(),signatureValue:this.signatureValue.toJSON()};return la in this&&this.version!==Ha.defaultValues(la)&&(e.version=this.version),this.issuerUniqueID&&(e.issuerUniqueID=i.ep.ToHex(this.issuerUniqueID)),this.subjectUniqueID&&(e.subjectUniqueID=i.ep.ToHex(this.subjectUniqueID)),this.extensions&&(e.extensions=Array.from(this.extensions,(e=>e.toJSON()))),e}async getPublicKey(e,t=yn(!0)){return t.getPublicKey(this.subjectPublicKeyInfo,this.signatureAlgorithm,e)}async getKeyHash(e="SHA-1",t=yn(!0)){return t.digest({name:e},this.subjectPublicKeyInfo.subjectPublicKey.valueBlock.valueHexView)}async sign(e,t="SHA-1",r=yn(!0)){if(!e)throw new Error("Need to provide a private key for signing");const i=await r.getSignatureParameters(e,t),a=i.parameters;this.signature=i.signatureAlgorithm,this.signatureAlgorithm=i.signatureAlgorithm,this.tbsView=new Uint8Array(this.encodeTBS().toBER());const s=await r.signWithPrivateKey(this.tbsView,e,a);this.signatureValue=new n._K({valueHex:s})}async verify(e,t=yn(!0)){let r;if(e?r=e.subjectPublicKeyInfo:this.issuer.isEqual(this.subject)&&(r=this.subjectPublicKeyInfo),!(r instanceof fr))throw new Error("Please provide issuer certificate as a parameter");return t.verifyWithPublicKey(this.tbsView,this.signatureValue,r,this.signatureAlgorithm)}}function Ma(e,t=null){if(t&&e.issuer.isEqual(t.issuer)&&e.serialNumber.isEqual(t.serialNumber))return null;let r=!1;if(e.extensions)for(const t of e.extensions)if(t.extnID===ne&&t.parsedValue instanceof Te&&t.parsedValue.cA){r=!0;break}return r?e:null}Ha.CLASS_NAME="Certificate";const Ra="certId",La="certValue",$a="parsedValue",Ua=[Ra,La];class Fa extends d{constructor(e={}){super(),this.certId=a.H$(e,Ra,Fa.defaultValues(Ra)),this.certValue=a.H$(e,La,Fa.defaultValues(La)),$a in e&&(this.parsedValue=a.H$(e,$a,Fa.defaultValues($a))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Ra:return c;case La:return new n.IK;case $a:return{};default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case Ra:return t===c;case La:return t instanceof n.IK;case $a:return t instanceof Object&&0===Object.keys(t).length;default:return super.defaultValues(e)}}static schema(e={}){const t=a.H$(e,"names",{});return new n.T9({name:t.blockName||c,value:[new n.rP({name:t.id||"id"}),new n.FC({idBlock:{tagClass:3,tagNumber:0},value:[new n.IK({name:t.value||"value"})]})]})}fromSchema(e){a.ze(e,Ua);const t=n.eN(e,e,Fa.schema({names:{id:Ra,value:La}}));f.assertSchema(t,this.className),this.certId=t.result.certId.valueBlock.toString(),this.certValue=t.result.certValue;const r=this.certValue.valueBlock.valueHexView;switch(this.certId){case we:try{this.parsedValue=Ha.fromBER(r)}catch(e){Yi.fromBER(r)}break;case Se:this.parsedValue=Yi.fromBER(r);break;default:throw new Error(`Incorrect CERT_ID value in CertBag: ${this.certId}`)}}toSchema(){return $a in this&&("acinfo"in this.parsedValue?this.certId=Se:this.certId=we,this.certValue=new n.fi({valueHex:this.parsedValue.toSchema().toBER(!1)})),new n.T9({value:[new n.rP({value:this.certId}),new n.FC({idBlock:{tagClass:3,tagNumber:0},value:["toSchema"in this.certValue?this.certValue.toSchema():this.certValue]})]})}toJSON(){return{certId:this.certId,certValue:this.certValue.toJSON()}}}Fa.CLASS_NAME="CertBag";const Ka="userCertificate",za="revocationDate",Wa="crlEntryExtensions",qa=[Ka,za,Wa];class Za extends d{constructor(e={}){super(),this.userCertificate=a.H$(e,Ka,Za.defaultValues(Ka)),this.revocationDate=a.H$(e,za,Za.defaultValues(za)),Wa in e&&(this.crlEntryExtensions=a.H$(e,Wa,Za.defaultValues(Wa))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Ka:return new n.z8;case za:return new ua;case Wa:return new Yn;default:return super.defaultValues(e)}}static schema(e={}){const t=a.H$(e,"names",{});return new n.T9({name:t.blockName||c,value:[new n.z8({name:t.userCertificate||Ka}),ua.schema({names:{utcTimeName:t.revocationDate||za,generalTimeName:t.revocationDate||za}}),Yn.schema({names:{blockName:t.crlEntryExtensions||Wa}},!0)]})}fromSchema(e){a.ze(e,qa);const t=n.eN(e,e,Za.schema());f.assertSchema(t,this.className),this.userCertificate=t.result.userCertificate,this.revocationDate=new ua({schema:t.result.revocationDate}),Wa in t.result&&(this.crlEntryExtensions=new Yn({schema:t.result.crlEntryExtensions}))}toSchema(){const e=[this.userCertificate,this.revocationDate.toSchema()];return this.crlEntryExtensions&&e.push(this.crlEntryExtensions.toSchema()),new n.T9({value:e})}toJSON(){const e={userCertificate:this.userCertificate.toJSON(),revocationDate:this.revocationDate.toJSON()};return this.crlEntryExtensions&&(e.crlEntryExtensions=this.crlEntryExtensions.toJSON()),e}}Za.CLASS_NAME="RevokedCertificate";const Ja="tbs",Ga="version",Ya="signature",Xa="issuer",Qa="thisUpdate",es="nextUpdate",ts="revokedCertificates",rs="crlExtensions",ns="signatureAlgorithm",is="signatureValue",as="tbsCertList",ss=`${as}.version`,os=`${as}.signature`,us=`${as}.issuer`,cs=`${as}.thisUpdate`,ls=`${as}.nextUpdate`,hs=`${as}.revokedCertificates`,fs=`${as}.extensions`,ds=[as,ss,os,us,cs,ls,hs,fs,ns,is];function ps(e={}){const t=a.H$(e,"names",{});return new n.T9({name:t.blockName||as,value:[new n.z8({optional:!0,name:t.tbsCertListVersion||ss,value:2}),L.schema(t.signature||{names:{blockName:os}}),w.schema(t.issuer||{names:{blockName:us}}),ua.schema(t.tbsCertListThisUpdate||{names:{utcTimeName:cs,generalTimeName:cs}}),ua.schema(t.tbsCertListNextUpdate||{names:{utcTimeName:ls,generalTimeName:ls}},!0),new n.T9({optional:!0,value:[new n.ZD({name:t.tbsCertListRevokedCertificates||hs,value:new n.T9({value:[new n.z8,ua.schema(),Yn.schema({},!0)]})})]}),new n.FC({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[Yn.schema(t.crlExtensions||{names:{blockName:fs}})]})]})}const ms=[fe,re,"2.5.29.20","2.5.29.27",ie,ue,pe,"2.5.29.21","2.5.29.24",ae];class bs extends d{constructor(e={}){super(),this.tbsView=new Uint8Array(a.H$(e,Ja,bs.defaultValues(Ja))),this.version=a.H$(e,Ga,bs.defaultValues(Ga)),this.signature=a.H$(e,Ya,bs.defaultValues(Ya)),this.issuer=a.H$(e,Xa,bs.defaultValues(Xa)),this.thisUpdate=a.H$(e,Qa,bs.defaultValues(Qa)),es in e&&(this.nextUpdate=a.H$(e,es,bs.defaultValues(es))),ts in e&&(this.revokedCertificates=a.H$(e,ts,bs.defaultValues(ts))),rs in e&&(this.crlExtensions=a.H$(e,rs,bs.defaultValues(rs))),this.signatureAlgorithm=a.H$(e,ns,bs.defaultValues(ns)),this.signatureValue=a.H$(e,is,bs.defaultValues(is)),e.schema&&this.fromSchema(e.schema)}get tbs(){return i.vJ.toArrayBuffer(this.tbsView)}set tbs(e){this.tbsView=new Uint8Array(e)}static defaultValues(e){switch(e){case Ja:return u;case Ga:return 0;case Ya:return new L;case Xa:return new w;case Qa:case es:return new ua;case ts:return[];case rs:return new Yn;case ns:return new L;case is:return new n._K;default:return super.defaultValues(e)}}static schema(e={}){const t=a.H$(e,"names",{});return new n.T9({name:t.blockName||"CertificateList",value:[ps(e),L.schema(t.signatureAlgorithm||{names:{blockName:ns}}),new n._K({name:t.signatureValue||is})]})}fromSchema(e){a.ze(e,ds);const t=n.eN(e,e,bs.schema());f.assertSchema(t,this.className),this.tbsView=t.result.tbsCertList.valueBeforeDecodeView,ss in t.result&&(this.version=t.result[ss].valueBlock.valueDec),this.signature=new L({schema:t.result[os]}),this.issuer=new w({schema:t.result[us]}),this.thisUpdate=new ua({schema:t.result[cs]}),ls in t.result&&(this.nextUpdate=new ua({schema:t.result[ls]})),hs in t.result&&(this.revokedCertificates=Array.from(t.result[hs],(e=>new Za({schema:e})))),fs in t.result&&(this.crlExtensions=new Yn({schema:t.result[fs]})),this.signatureAlgorithm=new L({schema:t.result.signatureAlgorithm}),this.signatureValue=t.result.signatureValue}encodeTBS(){const e=[];return this.version!==bs.defaultValues(Ga)&&e.push(new n.z8({value:this.version})),e.push(this.signature.toSchema()),e.push(this.issuer.toSchema()),e.push(this.thisUpdate.toSchema()),this.nextUpdate&&e.push(this.nextUpdate.toSchema()),this.revokedCertificates&&e.push(new n.T9({value:Array.from(this.revokedCertificates,(e=>e.toSchema()))})),this.crlExtensions&&e.push(new n.FC({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[this.crlExtensions.toSchema()]})),new n.T9({value:e})}toSchema(e=!1){let t;if(e)t=this.encodeTBS();else{if(!this.tbsView.byteLength)return bs.schema();const e=n.sc(this.tbsView);f.assert(e,"TBS Certificate Revocation List"),t=e.result}return new n.T9({value:[t,this.signatureAlgorithm.toSchema(),this.signatureValue]})}toJSON(){const e={tbs:i.ep.ToHex(this.tbsView),version:this.version,signature:this.signature.toJSON(),issuer:this.issuer.toJSON(),thisUpdate:this.thisUpdate.toJSON(),signatureAlgorithm:this.signatureAlgorithm.toJSON(),signatureValue:this.signatureValue.toJSON()};return this.version!==bs.defaultValues(Ga)&&(e.version=this.version),this.nextUpdate&&(e.nextUpdate=this.nextUpdate.toJSON()),this.revokedCertificates&&(e.revokedCertificates=Array.from(this.revokedCertificates,(e=>e.toJSON()))),this.crlExtensions&&(e.crlExtensions=this.crlExtensions.toJSON()),e}isCertificateRevoked(e){if(!this.issuer.isEqual(e.issuer))return!1;if(!this.revokedCertificates)return!1;for(const t of this.revokedCertificates)if(t.userCertificate.isEqual(e.serialNumber))return!0;return!1}async sign(e,t="SHA-1",r=yn(!0)){if(!e)throw new Error("Need to provide a private key for signing");const i=await r.getSignatureParameters(e,t),{parameters:a}=i;this.signature=i.signatureAlgorithm,this.signatureAlgorithm=i.signatureAlgorithm,this.tbsView=new Uint8Array(this.encodeTBS().toBER());const s=await r.signWithPrivateKey(this.tbsView,e,a);this.signatureValue=new n._K({valueHex:s})}async verify(e={},t=yn(!0)){let r;if(e.issuerCertificate&&(r=e.issuerCertificate.subjectPublicKeyInfo,!this.issuer.isEqual(e.issuerCertificate.subject)))return!1;if(e.publicKeyInfo&&(r=e.publicKeyInfo),!r)throw new Error("Issuer's certificate must be provided as an input parameter");if(this.crlExtensions)for(const e of this.crlExtensions.extensions)if(e.critical&&!ms.includes(e.extnID))return!1;return t.verifyWithPublicKey(this.tbsView,this.signatureValue,r,this.signatureAlgorithm)}}bs.CLASS_NAME="CertificateRevocationList";const vs="crlId",ys="crlValue",gs="parsedValue",ws=[vs,ys];class Ss extends d{constructor(e={}){super(),this.crlId=a.H$(e,vs,Ss.defaultValues(vs)),this.crlValue=a.H$(e,ys,Ss.defaultValues(ys)),gs in e&&(this.parsedValue=a.H$(e,gs,Ss.defaultValues(gs))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case vs:return c;case ys:return new n.IK;case gs:return{};default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case vs:return t===c;case ys:return t instanceof n.IK;case gs:return t instanceof Object&&0===Object.keys(t).length;default:return super.defaultValues(e)}}static schema(e={}){const t=a.H$(e,"names",{});return new n.T9({name:t.blockName||c,value:[new n.rP({name:t.id||"id"}),new n.FC({idBlock:{tagClass:3,tagNumber:0},value:[new n.IK({name:t.value||"value"})]})]})}fromSchema(e){a.ze(e,ws);const t=n.eN(e,e,Ss.schema({names:{id:vs,value:ys}}));if(f.assertSchema(t,this.className),this.crlId=t.result.crlId.valueBlock.toString(),this.crlValue=t.result.crlValue,this.crlId!==_e)throw new Error(`Incorrect CRL_ID value in CRLBag: ${this.crlId}`);this.parsedValue=bs.fromBER(this.certValue.valueBlock.valueHex)}toSchema(){return this.parsedValue&&(this.crlId=_e,this.crlValue=new n.fi({valueHex:this.parsedValue.toSchema().toBER(!1)})),new n.T9({value:[new n.rP({value:this.crlId}),new n.FC({idBlock:{tagClass:3,tagNumber:0},value:[this.crlValue.toSchema()]})]})}toJSON(){return{crlId:this.crlId,crlValue:this.crlValue.toJSON()}}}Ss.CLASS_NAME="CRLBag";const _s="version",As="encryptedContentInfo",ks="unprotectedAttrs",Es=[_s,As,ks];class Os extends d{constructor(e={}){super(),this.version=a.H$(e,_s,Os.defaultValues(_s)),this.encryptedContentInfo=a.H$(e,As,Os.defaultValues(As)),ks in e&&(this.unprotectedAttrs=a.H$(e,ks,Os.defaultValues(ks))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case _s:return 0;case As:return new qr;case ks:return[];default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case _s:return 0===t;case As:return qr.compareWithDefault("contentType",t.contentType)&&qr.compareWithDefault("contentEncryptionAlgorithm",t.contentEncryptionAlgorithm)&&qr.compareWithDefault("encryptedContent",t.encryptedContent);case ks:return 0===t.length;default:return super.defaultValues(e)}}static schema(e={}){const t=a.H$(e,"names",{});return new n.T9({name:t.blockName||c,value:[new n.z8({name:t.version||c}),qr.schema(t.encryptedContentInfo||{}),new n.FC({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[new n.ZD({name:t.unprotectedAttrs||c,value:q.schema()})]})]})}fromSchema(e){a.ze(e,Es);const t=n.eN(e,e,Os.schema({names:{version:_s,encryptedContentInfo:{names:{blockName:As}},unprotectedAttrs:ks}}));f.assertSchema(t,this.className),this.version=t.result.version.valueBlock.valueDec,this.encryptedContentInfo=new qr({schema:t.result.encryptedContentInfo}),ks in t.result&&(this.unprotectedAttrs=Array.from(t.result.unprotectedAttrs,(e=>new q({schema:e}))))}toSchema(){const e=[];return e.push(new n.z8({value:this.version})),e.push(this.encryptedContentInfo.toSchema()),this.unprotectedAttrs&&e.push(new n.FC({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:Array.from(this.unprotectedAttrs,(e=>e.toSchema()))})),new n.T9({value:e})}toJSON(){const e={version:this.version,encryptedContentInfo:this.encryptedContentInfo.toJSON()};return this.unprotectedAttrs&&(e.unprotectedAttrs=Array.from(this.unprotectedAttrs,(e=>e.toJSON()))),e}async encrypt(e){l.assert(e,"parameters","object");const t={...e,contentType:"1.2.840.113549.1.7.1"};this.encryptedContentInfo=await yn(!0).encryptEncryptedContentInfo(t)}async decrypt(e,t=yn(!0)){l.assert(e,"parameters","object");const r={...e,encryptedContentInfo:this.encryptedContentInfo};return t.decryptEncryptedContentInfo(r)}}Os.CLASS_NAME="EncryptedData";const Cs="encryptionAlgorithm",Ns="encryptedData",xs="parsedValue",Ps=[Cs,Ns];class Is extends d{constructor(e={}){super(),this.encryptionAlgorithm=a.H$(e,Cs,Is.defaultValues(Cs)),this.encryptedData=a.H$(e,Ns,Is.defaultValues(Ns)),xs in e&&(this.parsedValue=a.H$(e,xs,Is.defaultValues(xs))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Cs:return new L;case Ns:return new n.fi;case xs:return{};default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case Cs:return L.compareWithDefault("algorithmId",t.algorithmId)&&"algorithmParams"in t==!1;case Ns:return t.isEqual(Is.defaultValues(e));case xs:return t instanceof Object&&0===Object.keys(t).length;default:return super.defaultValues(e)}}static schema(e={}){const t=a.H$(e,"names",{});return new n.T9({name:t.blockName||c,value:[L.schema(t.encryptionAlgorithm||{names:{blockName:Cs}}),new n.Lv({value:[new n.fi({name:t.encryptedData||Ns}),new n.fi({idBlock:{isConstructed:!0},name:t.encryptedData||Ns})]})]})}fromSchema(e){a.ze(e,Ps);const t=n.eN(e,e,Is.schema({names:{encryptionAlgorithm:{names:{blockName:Cs}},encryptedData:Ns}}));f.assertSchema(t,this.className),this.encryptionAlgorithm=new L({schema:t.result.encryptionAlgorithm}),this.encryptedData=t.result.encryptedData}toSchema(){return new n.T9({value:[this.encryptionAlgorithm.toSchema(),this.encryptedData]})}toJSON(){return{encryptionAlgorithm:this.encryptionAlgorithm.toJSON(),encryptedData:this.encryptedData.toJSON()}}async parseInternalValues(e,t=yn(!0)){const r=new Os({encryptedContentInfo:new qr({contentEncryptionAlgorithm:this.encryptionAlgorithm,encryptedContent:this.encryptedData})}),n=await r.decrypt(e,t);this.parsedValue=Ur.fromBER(n)}async makeInternalValues(e){if(!this.parsedValue)throw new Error('Please initialize "parsedValue" first');const t=new Os,r={...e,contentToEncrypt:this.parsedValue.toSchema().toBER(!1)};if(await t.encrypt(r),!t.encryptedContentInfo.encryptedContent)throw new Error("The filed `encryptedContent` in EncryptedContentInfo is empty");this.encryptionAlgorithm=t.encryptedContentInfo.contentEncryptionAlgorithm,this.encryptedData=t.encryptedContentInfo.encryptedContent}}Is.CLASS_NAME="PKCS8ShroudedKeyBag";const Ts="secretTypeId",js="secretValue",Vs=[Ts,js];class Bs extends d{constructor(e={}){super(),this.secretTypeId=a.H$(e,Ts,Bs.defaultValues(Ts)),this.secretValue=a.H$(e,js,Bs.defaultValues(js)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Ts:return c;case js:return new n.IK;default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case Ts:return t===c;case js:return t instanceof n.IK;default:return super.defaultValues(e)}}static schema(e={}){const t=a.H$(e,"names",{});return new n.T9({name:t.blockName||c,value:[new n.rP({name:t.id||"id"}),new n.FC({idBlock:{tagClass:3,tagNumber:0},value:[new n.IK({name:t.value||"value"})]})]})}fromSchema(e){a.ze(e,Vs);const t=n.eN(e,e,Bs.schema({names:{id:Ts,value:js}}));f.assertSchema(t,this.className),this.secretTypeId=t.result.secretTypeId.valueBlock.toString(),this.secretValue=t.result.secretValue}toSchema(){return new n.T9({value:[new n.rP({value:this.secretTypeId}),new n.FC({idBlock:{tagClass:3,tagNumber:0},value:[this.secretValue.toSchema()]})]})}toJSON(){return{secretTypeId:this.secretTypeId,secretValue:this.secretValue.toJSON()}}}Bs.CLASS_NAME="SecretBag";class Ds{static getItems(){return this.items||(this.items={},Ds.register("1.2.840.113549.1.12.10.1.1",Ur),Ds.register("1.2.840.113549.1.12.10.1.2",Is),Ds.register("1.2.840.113549.1.12.10.1.3",Fa),Ds.register("1.2.840.113549.1.12.10.1.4",Ss),Ds.register("1.2.840.113549.1.12.10.1.5",Bs),Ds.register("1.2.840.113549.1.12.10.1.6",Fs)),this.items}static register(e,t){this.getItems()[e]=t}static find(e){return this.getItems()[e]||null}}const Hs="bagId",Ms="bagValue",Rs="bagAttributes",Ls=[Hs,Ms,Rs];class $s extends d{constructor(e={}){super(),this.bagId=a.H$(e,Hs,$s.defaultValues(Hs)),this.bagValue=a.H$(e,Ms,$s.defaultValues(Ms)),Rs in e&&(this.bagAttributes=a.H$(e,Rs,$s.defaultValues(Rs))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Hs:return c;case Ms:return new n.IK;case Rs:return[];default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case Hs:return t===c;case Ms:return t instanceof n.IK;case Rs:return 0===t.length;default:return super.defaultValues(e)}}static schema(e={}){const t=a.H$(e,"names",{});return new n.T9({name:t.blockName||c,value:[new n.rP({name:t.bagId||Hs}),new n.FC({idBlock:{tagClass:3,tagNumber:0},value:[new n.IK({name:t.bagValue||Ms})]}),new n.l4({optional:!0,value:[new n.ZD({name:t.bagAttributes||Rs,value:q.schema()})]})]})}fromSchema(e){a.ze(e,Ls);const t=n.eN(e,e,$s.schema({names:{bagId:Hs,bagValue:Ms,bagAttributes:Rs}}));f.assertSchema(t,this.className),this.bagId=t.result.bagId.valueBlock.toString();const r=Ds.find(this.bagId);if(!r)throw new Error(`Invalid BAG_ID for SafeBag: ${this.bagId}`);this.bagValue=new r({schema:t.result.bagValue}),Rs in t.result&&(this.bagAttributes=Array.from(t.result.bagAttributes,(e=>new q({schema:e}))))}toSchema(){const e=[new n.rP({value:this.bagId}),new n.FC({idBlock:{tagClass:3,tagNumber:0},value:[this.bagValue.toSchema()]})];return this.bagAttributes&&e.push(new n.l4({value:Array.from(this.bagAttributes,(e=>e.toSchema()))})),new n.T9({value:e})}toJSON(){const e={bagId:this.bagId,bagValue:this.bagValue.toJSON()};return this.bagAttributes&&(e.bagAttributes=Array.from(this.bagAttributes,(e=>e.toJSON()))),e}}$s.CLASS_NAME="SafeBag";const Us="safeBags";class Fs extends d{constructor(e={}){super(),this.safeBags=a.H$(e,Us,Fs.defaultValues(Us)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){return e===Us?[]:super.defaultValues(e)}static compareWithDefault(e,t){return e===Us?0===t.length:super.defaultValues(e)}static schema(e={}){const t=a.H$(e,"names",{});return new n.T9({name:t.blockName||c,value:[new n.ZD({name:t.safeBags||c,value:$s.schema()})]})}fromSchema(e){a.ze(e,[Us]);const t=n.eN(e,e,Fs.schema({names:{safeBags:Us}}));f.assertSchema(t,this.className),this.safeBags=Array.from(t.result.safeBags,(e=>new $s({schema:e})))}toSchema(){return new n.T9({value:Array.from(this.safeBags,(e=>e.toSchema()))})}toJSON(){return{safeBags:Array.from(this.safeBags,(e=>e.toJSON()))}}}Fs.CLASS_NAME="SafeContents";const Ks="otherCertFormat",zs="otherCert",Ws=[Ks,zs];class qs extends d{constructor(e={}){super(),this.otherCertFormat=a.H$(e,Ks,qs.defaultValues(Ks)),this.otherCert=a.H$(e,zs,qs.defaultValues(zs)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Ks:return c;case zs:return new n.IK;default:return super.defaultValues(e)}}static schema(e={}){const t=a.H$(e,"names",{});return new n.T9({name:t.blockName||c,value:[new n.rP({name:t.otherCertFormat||Ks}),new n.IK({name:t.otherCert||zs})]})}fromSchema(e){a.ze(e,Ws);const t=n.eN(e,e,qs.schema());f.assertSchema(t,this.className),this.otherCertFormat=t.result.otherCertFormat.valueBlock.toString(),this.otherCert=t.result.otherCert}toSchema(){return new n.T9({value:[new n.rP({value:this.otherCertFormat}),this.otherCert]})}toJSON(){const e={otherCertFormat:this.otherCertFormat};return this.otherCert instanceof n.IK||(e.otherCert=this.otherCert.toJSON()),e}}const Zs="certificates",Js=[Zs];class Gs extends d{constructor(e={}){super(),this.certificates=a.H$(e,Zs,Gs.defaultValues(Zs)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){return e===Zs?[]:super.defaultValues(e)}static schema(e={}){const t=a.H$(e,"names",{});return new n.l4({name:t.blockName||c,value:[new n.ZD({name:t.certificates||Zs,value:new n.Lv({value:[Ha.schema(),new n.FC({idBlock:{tagClass:3,tagNumber:0},value:[new n.IK]}),new n.FC({idBlock:{tagClass:3,tagNumber:1},value:[new n.T9]}),new n.FC({idBlock:{tagClass:3,tagNumber:2},value:Yi.schema().valueBlock.value}),new n.FC({idBlock:{tagClass:3,tagNumber:3},value:qs.schema().valueBlock.value})]})})]})}fromSchema(e){a.ze(e,Js);const t=n.eN(e,e,Gs.schema());f.assertSchema(t,this.className),this.certificates=Array.from(t.result.certificates||[],(e=>{const t=e.idBlock.tagNumber;if(1===e.idBlock.tagClass)return new Ha({schema:e});const r=new n.T9({value:e.valueBlock.value});switch(t){case 1:return 1===r.valueBlock.value[0].valueBlock.value[0].valueBlock.valueDec?new Yi({schema:r}):new gi({schema:r});case 2:return new Yi({schema:r});case 3:return new qs({schema:r})}return e}))}toSchema(){return new n.l4({value:Array.from(this.certificates,(e=>{switch(!0){case e instanceof Ha:return e.toSchema();case e instanceof gi:return new n.FC({idBlock:{tagClass:3,tagNumber:1},value:e.toSchema().valueBlock.value});case e instanceof Yi:return new n.FC({idBlock:{tagClass:3,tagNumber:2},value:e.toSchema().valueBlock.value});case e instanceof qs:return new n.FC({idBlock:{tagClass:3,tagNumber:3},value:e.toSchema().valueBlock.value})}return e.toSchema()}))})}toJSON(){return{certificates:Array.from(this.certificates,(e=>e.toJSON()))}}}Gs.CLASS_NAME="CertificateSet";const Ys="otherRevInfoFormat",Xs="otherRevInfo",Qs=[Ys,Xs];class eo extends d{constructor(e={}){super(),this.otherRevInfoFormat=a.H$(e,Ys,eo.defaultValues(Ys)),this.otherRevInfo=a.H$(e,Xs,eo.defaultValues(Xs)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Ys:return c;case Xs:return new n.IK;default:return super.defaultValues(e)}}static schema(e={}){const t=a.H$(e,"names",{});return new n.T9({name:t.blockName||c,value:[new n.rP({name:t.otherRevInfoFormat||Ys}),new n.IK({name:t.otherRevInfo||Xs})]})}fromSchema(e){a.ze(e,Qs);const t=n.eN(e,e,eo.schema());f.assertSchema(t,this.className),this.otherRevInfoFormat=t.result.otherRevInfoFormat.valueBlock.toString(),this.otherRevInfo=t.result.otherRevInfo}toSchema(){return new n.T9({value:[new n.rP({value:this.otherRevInfoFormat}),this.otherRevInfo]})}toJSON(){const e={otherRevInfoFormat:this.otherRevInfoFormat};return this.otherRevInfo instanceof n.IK||(e.otherRevInfo=this.otherRevInfo.toJSON()),e}}eo.CLASS_NAME="OtherRevocationInfoFormat";const to="crls",ro="otherRevocationInfos",no=[to];class io extends d{constructor(e={}){super(),this.crls=a.H$(e,to,io.defaultValues(to)),this.otherRevocationInfos=a.H$(e,ro,io.defaultValues(ro)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case to:case ro:return[];default:return super.defaultValues(e)}}static schema(e={}){const t=a.H$(e,"names",{});return new n.l4({name:t.blockName||c,value:[new n.ZD({name:t.crls||c,value:new n.Lv({value:[bs.schema(),new n.FC({idBlock:{tagClass:3,tagNumber:1},value:[new n.rP,new n.IK]})]})})]})}fromSchema(e){a.ze(e,no);const t=n.eN(e,e,io.schema({names:{crls:to}}));if(f.assertSchema(t,this.className),t.result.crls)for(const e of t.result.crls)1===e.idBlock.tagClass?this.crls.push(new bs({schema:e})):this.otherRevocationInfos.push(new eo({schema:e}))}toSchema(){const e=[];return e.push(...Array.from(this.crls,(e=>e.toSchema()))),e.push(...Array.from(this.otherRevocationInfos,(e=>{const t=e.toSchema();return t.idBlock.tagClass=3,t.idBlock.tagNumber=1,t}))),new n.l4({value:e})}toJSON(){return{crls:Array.from(this.crls,(e=>e.toJSON())),otherRevocationInfos:Array.from(this.otherRevocationInfos,(e=>e.toJSON()))}}}io.CLASS_NAME="RevocationInfoChoices";const ao="certs",so="crls",oo=[ao,so];class uo extends d{constructor(e={}){super(),this.crls=a.H$(e,so,uo.defaultValues(so)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case ao:return new Gs;case so:return new io;default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case ao:return 0===t.certificates.length;case so:return 0===t.crls.length&&0===t.otherRevocationInfos.length;default:return super.defaultValues(e)}}static schema(e={}){const t=a.H$(e,"names",{});return new n.T9({name:t.blockName||c,value:[new n.FC({name:t.certs||c,optional:!0,idBlock:{tagClass:3,tagNumber:0},value:Gs.schema().valueBlock.value}),new n.FC({name:t.crls||c,optional:!0,idBlock:{tagClass:3,tagNumber:1},value:io.schema().valueBlock.value})]})}fromSchema(e){a.ze(e,oo);const t=n.eN(e,e,uo.schema({names:{certs:ao,crls:so}}));f.assertSchema(t,this.className),ao in t.result&&(this.certs=new Gs({schema:new n.l4({value:t.result.certs.valueBlock.value})})),so in t.result&&(this.crls=new io({schema:new n.l4({value:t.result.crls.valueBlock.value})}))}toSchema(){const e=[];return this.certs&&e.push(new n.FC({idBlock:{tagClass:3,tagNumber:0},value:this.certs.toSchema().valueBlock.value})),this.crls&&e.push(new n.FC({idBlock:{tagClass:3,tagNumber:1},value:this.crls.toSchema().valueBlock.value})),new n.T9({value:e})}toJSON(){const e={};return this.certs&&(e.certs=this.certs.toJSON()),this.crls&&(e.crls=this.crls.toJSON()),e}}uo.CLASS_NAME="OriginatorInfo";const co="issuer",lo="serialNumber",ho=[co,lo];class fo extends d{constructor(e={}){super(),this.issuer=a.H$(e,co,fo.defaultValues(co)),this.serialNumber=a.H$(e,lo,fo.defaultValues(lo)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case co:return new w;case lo:return new n.z8;default:return super.defaultValues(e)}}static schema(e={}){const t=a.H$(e,"names",{});return new n.T9({name:t.blockName||c,value:[w.schema(t.issuer||{}),new n.z8({name:t.serialNumber||c})]})}fromSchema(e){a.ze(e,ho);const t=n.eN(e,e,fo.schema({names:{issuer:{names:{blockName:co}},serialNumber:lo}}));f.assertSchema(t,this.className),this.issuer=new w({schema:t.result.issuer}),this.serialNumber=t.result.serialNumber}toSchema(){return new n.T9({value:[this.issuer.toSchema(),this.serialNumber]})}toJSON(){return{issuer:this.issuer.toJSON(),serialNumber:this.serialNumber.toJSON()}}}fo.CLASS_NAME="IssuerAndSerialNumber";const po="variant",mo="value",bo=["blockName"];class vo extends d{constructor(e={}){super(),this.variant=a.H$(e,po,vo.defaultValues(po)),mo in e&&(this.value=a.H$(e,mo,vo.defaultValues(mo))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case po:return-1;case mo:return{};default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case po:return-1===t;case mo:return 0===Object.keys(t).length;default:return super.defaultValues(e)}}static schema(e={}){const t=a.H$(e,"names",{});return new n.Lv({value:[fo.schema({names:{blockName:t.blockName||c}}),new n.WV({name:t.blockName||c,idBlock:{tagClass:3,tagNumber:0}})]})}fromSchema(e){a.ze(e,bo);const t=n.eN(e,e,vo.schema({names:{blockName:"blockName"}}));f.assertSchema(t,this.className),1===t.result.blockName.idBlock.tagClass?(this.variant=1,this.value=new fo({schema:t.result.blockName})):(this.variant=2,this.value=new n.fi({valueHex:t.result.blockName.valueBlock.valueHex}))}toSchema(){switch(this.variant){case 1:if(!(this.value instanceof fo))throw new Error("Incorrect type of RecipientIdentifier.value. It should be IssuerAndSerialNumber.");return this.value.toSchema();case 2:if(!(this.value instanceof n.fi))throw new Error("Incorrect type of RecipientIdentifier.value. It should be ASN.1 OctetString.");return new n.WV({idBlock:{tagClass:3,tagNumber:0},valueHex:this.value.valueBlock.valueHexView});default:return new n.IK}}toJSON(){const e={variant:this.variant};return 1!==this.variant&&2!==this.variant||!this.value||(e.value=this.value.toJSON()),e}}vo.CLASS_NAME="RecipientIdentifier";const yo="version",go="rid",wo="keyEncryptionAlgorithm",So="encryptedKey",_o="recipientCertificate",Ao=[yo,go,wo,So];class ko extends d{constructor(e={}){super(),this.version=a.H$(e,yo,ko.defaultValues(yo)),this.rid=a.H$(e,go,ko.defaultValues(go)),this.keyEncryptionAlgorithm=a.H$(e,wo,ko.defaultValues(wo)),this.encryptedKey=a.H$(e,So,ko.defaultValues(So)),this.recipientCertificate=a.H$(e,_o,ko.defaultValues(_o)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case yo:return-1;case go:return{};case wo:return new L;case So:return new n.fi;case _o:return new Ha;default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case yo:return t===ko.defaultValues(yo);case go:return 0===Object.keys(t).length;case wo:case So:return t.isEqual(ko.defaultValues(e));case _o:return!1;default:return super.defaultValues(e)}}static schema(e={}){const t=a.H$(e,"names",{});return new n.T9({name:t.blockName||c,value:[new n.z8({name:t.version||c}),vo.schema(t.rid||{}),L.schema(t.keyEncryptionAlgorithm||{}),new n.fi({name:t.encryptedKey||c})]})}fromSchema(e){a.ze(e,Ao);const t=n.eN(e,e,ko.schema({names:{version:yo,rid:{names:{blockName:go}},keyEncryptionAlgorithm:{names:{blockName:wo}},encryptedKey:So}}));f.assertSchema(t,this.className),this.version=t.result.version.valueBlock.valueDec,3===t.result.rid.idBlock.tagClass?this.rid=new n.fi({valueHex:t.result.rid.valueBlock.valueHex}):this.rid=new fo({schema:t.result.rid}),this.keyEncryptionAlgorithm=new L({schema:t.result.keyEncryptionAlgorithm}),this.encryptedKey=t.result.encryptedKey}toSchema(){const e=[];return this.rid instanceof fo?(this.version=0,e.push(new n.z8({value:this.version})),e.push(this.rid.toSchema())):(this.version=2,e.push(new n.z8({value:this.version})),e.push(new n.WV({idBlock:{tagClass:3,tagNumber:0},valueHex:this.rid.valueBlock.valueHexView}))),e.push(this.keyEncryptionAlgorithm.toSchema()),e.push(this.encryptedKey),new n.T9({value:e})}toJSON(){return{version:this.version,rid:this.rid.toJSON(),keyEncryptionAlgorithm:this.keyEncryptionAlgorithm.toJSON(),encryptedKey:this.encryptedKey.toJSON()}}}ko.CLASS_NAME="KeyTransRecipientInfo";const Eo="algorithm",Oo="publicKey",Co=[Eo,Oo];class No extends d{constructor(e={}){super(),this.algorithm=a.H$(e,Eo,No.defaultValues(Eo)),this.publicKey=a.H$(e,Oo,No.defaultValues(Oo)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Eo:return new L;case Oo:return new n._K;default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case Eo:case Oo:return t.isEqual(No.defaultValues(e));default:return super.defaultValues(e)}}static schema(e={}){const t=a.H$(e,"names",{});return new n.T9({name:t.blockName||c,value:[L.schema(t.algorithm||{}),new n._K({name:t.publicKey||c})]})}fromSchema(e){a.ze(e,Co);const t=n.eN(e,e,No.schema({names:{algorithm:{names:{blockName:Eo}},publicKey:Oo}}));f.assertSchema(t,this.className),this.algorithm=new L({schema:t.result.algorithm}),this.publicKey=t.result.publicKey}toSchema(){return new n.T9({value:[this.algorithm.toSchema(),this.publicKey]})}toJSON(){return{algorithm:this.algorithm.toJSON(),publicKey:this.publicKey.toJSON()}}}No.CLASS_NAME="OriginatorPublicKey";const xo="variant",Po="value",Io=["blockName"];class To extends d{constructor(e={}){super(),this.variant=a.H$(e,xo,To.defaultValues(xo)),Po in e&&(this.value=a.H$(e,Po,To.defaultValues(Po))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case xo:return-1;case Po:return{};default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case xo:return-1===t;case Po:return 0===Object.keys(t).length;default:return super.defaultValues(e)}}static schema(e={}){const t=a.H$(e,"names",{});return new n.Lv({value:[fo.schema({names:{blockName:t.blockName||c}}),new n.WV({idBlock:{tagClass:3,tagNumber:0},name:t.blockName||c}),new n.FC({idBlock:{tagClass:3,tagNumber:1},name:t.blockName||c,value:No.schema().valueBlock.value})]})}fromSchema(e){a.ze(e,Io);const t=n.eN(e,e,To.schema({names:{blockName:"blockName"}}));f.assertSchema(t,this.className),1===t.result.blockName.idBlock.tagClass?(this.variant=1,this.value=new fo({schema:t.result.blockName})):0===t.result.blockName.idBlock.tagNumber?(t.result.blockName.idBlock.tagClass=1,t.result.blockName.idBlock.tagNumber=4,this.variant=2,this.value=t.result.blockName):(this.variant=3,this.value=new No({schema:new n.T9({value:t.result.blockName.valueBlock.value})}))}toSchema(){switch(this.variant){case 1:return this.value.toSchema();case 2:return this.value.idBlock.tagClass=3,this.value.idBlock.tagNumber=0,this.value;case 3:{const e=this.value.toSchema();return e.idBlock.tagClass=3,e.idBlock.tagNumber=1,e}default:return new n.IK}}toJSON(){const e={variant:this.variant};return 1!==this.variant&&2!==this.variant&&3!==this.variant||(e.value=this.value.toJSON()),e}}To.CLASS_NAME="OriginatorIdentifierOrKey";const jo="keyAttrId",Vo="keyAttr",Bo=[jo,Vo];class Do extends d{constructor(e={}){super(),this.keyAttrId=a.H$(e,jo,Do.defaultValues(jo)),Vo in e&&(this.keyAttr=a.H$(e,Vo,Do.defaultValues(Vo))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case jo:return c;case Vo:return{};default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case jo:return"string"==typeof t&&t===c;case Vo:return 0===Object.keys(t).length;default:return super.defaultValues(e)}}static schema(e={}){const t=a.H$(e,"names",{});return new n.T9({optional:t.optional||!0,name:t.blockName||c,value:[new n.rP({name:t.keyAttrId||c}),new n.IK({optional:!0,name:t.keyAttr||c})]})}fromSchema(e){a.ze(e,Bo);const t=n.eN(e,e,Do.schema({names:{keyAttrId:jo,keyAttr:Vo}}));f.assertSchema(t,this.className),this.keyAttrId=t.result.keyAttrId.valueBlock.toString(),Vo in t.result&&(this.keyAttr=t.result.keyAttr)}toSchema(){const e=[];return e.push(new n.rP({value:this.keyAttrId})),Vo in this&&e.push(this.keyAttr),new n.T9({value:e})}toJSON(){const e={keyAttrId:this.keyAttrId};return Vo in this&&(e.keyAttr=this.keyAttr.toJSON()),e}}Do.CLASS_NAME="OtherKeyAttribute";const Ho="subjectKeyIdentifier",Mo="date",Ro="other",Lo=[Ho,Mo,Ro];class $o extends d{constructor(e={}){super(),this.subjectKeyIdentifier=a.H$(e,Ho,$o.defaultValues(Ho)),Mo in e&&(this.date=a.H$(e,Mo,$o.defaultValues(Mo))),Ro in e&&(this.other=a.H$(e,Ro,$o.defaultValues(Ro))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Ho:return new n.fi;case Mo:return new n.Yw;case Ro:return new Do;default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case Ho:return t.isEqual($o.defaultValues(Ho));case Mo:return 0===t.year&&0===t.month&&0===t.day&&0===t.hour&&0===t.minute&&0===t.second&&0===t.millisecond;case Ro:return t.keyAttrId===c&&"keyAttr"in t==!1;default:return super.defaultValues(e)}}static schema(e={}){const t=a.H$(e,"names",{});return new n.T9({name:t.blockName||c,value:[new n.fi({name:t.subjectKeyIdentifier||c}),new n.Yw({optional:!0,name:t.date||c}),Do.schema(t.other||{})]})}fromSchema(e){a.ze(e,Lo);const t=n.eN(e,e,$o.schema({names:{subjectKeyIdentifier:Ho,date:Mo,other:{names:{blockName:Ro}}}}));f.assertSchema(t,this.className),this.subjectKeyIdentifier=t.result.subjectKeyIdentifier,Mo in t.result&&(this.date=t.result.date),Ro in t.result&&(this.other=new Do({schema:t.result.other}))}toSchema(){const e=[];return e.push(this.subjectKeyIdentifier),this.date&&e.push(this.date),this.other&&e.push(this.other.toSchema()),new n.T9({value:e})}toJSON(){const e={subjectKeyIdentifier:this.subjectKeyIdentifier.toJSON()};return this.date&&(e.date=this.date.toJSON()),this.other&&(e.other=this.other.toJSON()),e}}$o.CLASS_NAME="RecipientKeyIdentifier";const Uo="variant",Fo="value",Ko=["blockName"];class zo extends d{constructor(e={}){super(),this.variant=a.H$(e,Uo,zo.defaultValues(Uo)),this.value=a.H$(e,Fo,zo.defaultValues(Fo)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Uo:return-1;case Fo:return{};default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case Uo:return-1===t;case Fo:return 0===Object.keys(t).length;default:return super.defaultValues(e)}}static schema(e={}){const t=a.H$(e,"names",{});return new n.Lv({value:[fo.schema(t.issuerAndSerialNumber||{names:{blockName:t.blockName||c}}),new n.FC({name:t.blockName||c,idBlock:{tagClass:3,tagNumber:0},value:$o.schema(t.rKeyId||{names:{blockName:t.blockName||c}}).valueBlock.value})]})}fromSchema(e){a.ze(e,Ko);const t=n.eN(e,e,zo.schema({names:{blockName:"blockName"}}));f.assertSchema(t,this.className),1===t.result.blockName.idBlock.tagClass?(this.variant=1,this.value=new fo({schema:t.result.blockName})):(this.variant=2,this.value=new $o({schema:new n.T9({value:t.result.blockName.valueBlock.value})}))}toSchema(){switch(this.variant){case 1:return this.value.toSchema();case 2:return new n.FC({idBlock:{tagClass:3,tagNumber:0},value:this.value.toSchema().valueBlock.value});default:return new n.IK}}toJSON(){const e={variant:this.variant};return 1!==this.variant&&2!==this.variant||(e.value=this.value.toJSON()),e}}zo.CLASS_NAME="KeyAgreeRecipientIdentifier";const Wo="rid",qo="encryptedKey",Zo=[Wo,qo];class Jo extends d{constructor(e={}){super(),this.rid=a.H$(e,Wo,Jo.defaultValues(Wo)),this.encryptedKey=a.H$(e,qo,Jo.defaultValues(qo)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Wo:return new zo;case qo:return new n.fi;default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case Wo:return-1===t.variant&&"value"in t==!1;case qo:return t.isEqual(Jo.defaultValues(qo));default:return super.defaultValues(e)}}static schema(e={}){const t=a.H$(e,"names",{});return new n.T9({name:t.blockName||c,value:[zo.schema(t.rid||{}),new n.fi({name:t.encryptedKey||c})]})}fromSchema(e){a.ze(e,Zo);const t=n.eN(e,e,Jo.schema({names:{rid:{names:{blockName:Wo}},encryptedKey:qo}}));f.assertSchema(t,this.className),this.rid=new zo({schema:t.result.rid}),this.encryptedKey=t.result.encryptedKey}toSchema(){return new n.T9({value:[this.rid.toSchema(),this.encryptedKey]})}toJSON(){return{rid:this.rid.toJSON(),encryptedKey:this.encryptedKey.toJSON()}}}Jo.CLASS_NAME="RecipientEncryptedKey";const Go="encryptedKeys",Yo="RecipientEncryptedKeys",Xo=[Yo];class Qo extends d{constructor(e={}){super(),this.encryptedKeys=a.H$(e,Go,Qo.defaultValues(Go)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){return e===Go?[]:super.defaultValues(e)}static compareWithDefault(e,t){return e===Go?0===t.length:super.defaultValues(e)}static schema(e={}){const t=a.H$(e,"names",{});return new n.T9({name:t.blockName||c,value:[new n.ZD({name:t.RecipientEncryptedKeys||c,value:Jo.schema()})]})}fromSchema(e){a.ze(e,Xo);const t=n.eN(e,e,Qo.schema({names:{RecipientEncryptedKeys:Yo}}));f.assertSchema(t,this.className),this.encryptedKeys=Array.from(t.result.RecipientEncryptedKeys,(e=>new Jo({schema:e})))}toSchema(){return new n.T9({value:Array.from(this.encryptedKeys,(e=>e.toSchema()))})}toJSON(){return{encryptedKeys:Array.from(this.encryptedKeys,(e=>e.toJSON()))}}}Qo.CLASS_NAME="RecipientEncryptedKeys";const eu="version",tu="originator",ru="ukm",nu="keyEncryptionAlgorithm",iu="recipientEncryptedKeys",au="recipientCertificate",su="recipientPublicKey",ou=[eu,tu,ru,nu,iu];class uu extends d{constructor(e={}){super(),this.version=a.H$(e,eu,uu.defaultValues(eu)),this.originator=a.H$(e,tu,uu.defaultValues(tu)),ru in e&&(this.ukm=a.H$(e,ru,uu.defaultValues(ru))),this.keyEncryptionAlgorithm=a.H$(e,nu,uu.defaultValues(nu)),this.recipientEncryptedKeys=a.H$(e,iu,uu.defaultValues(iu)),this.recipientCertificate=a.H$(e,au,uu.defaultValues(au)),this.recipientPublicKey=a.H$(e,su,uu.defaultValues(su)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case eu:return 0;case tu:return new To;case ru:return new n.fi;case nu:return new L;case iu:return new Qo;case au:return new Ha;case su:return null;default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case eu:return 0===t;case tu:return-1===t.variant&&"value"in t==!1;case ru:return t.isEqual(uu.defaultValues(ru));case nu:return t.algorithmId===c&&"algorithmParams"in t==!1;case iu:return 0===t.encryptedKeys.length;case au:case su:return!1;default:return super.defaultValues(e)}}static schema(e={}){const t=a.H$(e,"names",{});return new n.T9({name:t.blockName||c,value:[new n.z8({name:t.version||c}),new n.FC({idBlock:{tagClass:3,tagNumber:0},value:[To.schema(t.originator||{})]}),new n.FC({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[new n.fi({name:t.ukm||c})]}),L.schema(t.keyEncryptionAlgorithm||{}),Qo.schema(t.recipientEncryptedKeys||{})]})}fromSchema(e){a.ze(e,ou);const t=n.eN(e,e,uu.schema({names:{version:eu,originator:{names:{blockName:tu}},ukm:ru,keyEncryptionAlgorithm:{names:{blockName:nu}},recipientEncryptedKeys:{names:{blockName:iu}}}}));f.assertSchema(t,this.className),this.version=t.result.version.valueBlock.valueDec,this.originator=new To({schema:t.result.originator}),ru in t.result&&(this.ukm=t.result.ukm),this.keyEncryptionAlgorithm=new L({schema:t.result.keyEncryptionAlgorithm}),this.recipientEncryptedKeys=new Qo({schema:t.result.recipientEncryptedKeys})}toSchema(){const e=[];return e.push(new n.z8({value:this.version})),e.push(new n.FC({idBlock:{tagClass:3,tagNumber:0},value:[this.originator.toSchema()]})),this.ukm&&e.push(new n.FC({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[this.ukm]})),e.push(this.keyEncryptionAlgorithm.toSchema()),e.push(this.recipientEncryptedKeys.toSchema()),new n.T9({value:e})}toJSON(){const e={version:this.version,originator:this.originator.toJSON(),keyEncryptionAlgorithm:this.keyEncryptionAlgorithm.toJSON(),recipientEncryptedKeys:this.recipientEncryptedKeys.toJSON()};return this.ukm&&(e.ukm=this.ukm.toJSON()),e}}uu.CLASS_NAME="KeyAgreeRecipientInfo";const cu="keyIdentifier",lu="date",hu="other",fu=[cu,lu,hu];class du extends d{constructor(e={}){super(),this.keyIdentifier=a.H$(e,cu,du.defaultValues(cu)),lu in e&&(this.date=a.H$(e,lu,du.defaultValues(lu))),hu in e&&(this.other=a.H$(e,hu,du.defaultValues(hu))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case cu:return new n.fi;case lu:return new n.Yw;case hu:return new Do;default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case cu:return t.isEqual(du.defaultValues(cu));case lu:return 0===t.year&&0===t.month&&0===t.day&&0===t.hour&&0===t.minute&&0===t.second&&0===t.millisecond;case hu:return t.compareWithDefault("keyAttrId",t.keyAttrId)&&"keyAttr"in t==!1;default:return super.defaultValues(e)}}static schema(e={}){const t=a.H$(e,"names",{});return new n.T9({name:t.blockName||c,value:[new n.fi({name:t.keyIdentifier||c}),new n.Yw({optional:!0,name:t.date||c}),Do.schema(t.other||{})]})}fromSchema(e){a.ze(e,fu);const t=n.eN(e,e,du.schema({names:{keyIdentifier:cu,date:lu,other:{names:{blockName:hu}}}}));f.assertSchema(t,this.className),this.keyIdentifier=t.result.keyIdentifier,lu in t.result&&(this.date=t.result.date),hu in t.result&&(this.other=new Do({schema:t.result.other}))}toSchema(){const e=[];return e.push(this.keyIdentifier),this.date&&e.push(this.date),this.other&&e.push(this.other.toSchema()),new n.T9({value:e})}toJSON(){const e={keyIdentifier:this.keyIdentifier.toJSON()};return this.date&&(e.date=this.date),this.other&&(e.other=this.other.toJSON()),e}}du.CLASS_NAME="KEKIdentifier";const pu="version",mu="kekid",bu="keyEncryptionAlgorithm",vu="encryptedKey",yu="preDefinedKEK",gu=[pu,mu,bu,vu];class wu extends d{constructor(e={}){super(),this.version=a.H$(e,pu,wu.defaultValues(pu)),this.kekid=a.H$(e,mu,wu.defaultValues(mu)),this.keyEncryptionAlgorithm=a.H$(e,bu,wu.defaultValues(bu)),this.encryptedKey=a.H$(e,vu,wu.defaultValues(vu)),this.preDefinedKEK=a.H$(e,yu,wu.defaultValues(yu)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case pu:return 0;case mu:return new du;case bu:return new L;case vu:return new n.fi;case yu:return u;default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case"KEKRecipientInfo":return t===wu.defaultValues(pu);case mu:return t.compareWithDefault("keyIdentifier",t.keyIdentifier)&&"date"in t==!1&&"other"in t==!1;case bu:return t.algorithmId===c&&"algorithmParams"in t==!1;case vu:return t.isEqual(wu.defaultValues(vu));case yu:return 0===t.byteLength;default:return super.defaultValues(e)}}static schema(e={}){const t=a.H$(e,"names",{});return new n.T9({name:t.blockName||c,value:[new n.z8({name:t.version||c}),du.schema(t.kekid||{}),L.schema(t.keyEncryptionAlgorithm||{}),new n.fi({name:t.encryptedKey||c})]})}fromSchema(e){a.ze(e,gu);const t=n.eN(e,e,wu.schema({names:{version:pu,kekid:{names:{blockName:mu}},keyEncryptionAlgorithm:{names:{blockName:bu}},encryptedKey:vu}}));f.assertSchema(t,this.className),this.version=t.result.version.valueBlock.valueDec,this.kekid=new du({schema:t.result.kekid}),this.keyEncryptionAlgorithm=new L({schema:t.result.keyEncryptionAlgorithm}),this.encryptedKey=t.result.encryptedKey}toSchema(){return new n.T9({value:[new n.z8({value:this.version}),this.kekid.toSchema(),this.keyEncryptionAlgorithm.toSchema(),this.encryptedKey]})}toJSON(){return{version:this.version,kekid:this.kekid.toJSON(),keyEncryptionAlgorithm:this.keyEncryptionAlgorithm.toJSON(),encryptedKey:this.encryptedKey.toJSON()}}}wu.CLASS_NAME="KEKRecipientInfo";const Su="version",_u="keyDerivationAlgorithm",Au="keyEncryptionAlgorithm",ku="encryptedKey",Eu="password",Ou=[Su,_u,Au,ku];class Cu extends d{constructor(e={}){super(),this.version=a.H$(e,Su,Cu.defaultValues(Su)),_u in e&&(this.keyDerivationAlgorithm=a.H$(e,_u,Cu.defaultValues(_u))),this.keyEncryptionAlgorithm=a.H$(e,Au,Cu.defaultValues(Au)),this.encryptedKey=a.H$(e,ku,Cu.defaultValues(ku)),this.password=a.H$(e,Eu,Cu.defaultValues(Eu)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Su:return-1;case _u:case Au:return new L;case ku:return new n.fi;case Eu:return u;default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case Su:return-1===t;case _u:case Au:return t.algorithmId===c&&"algorithmParams"in t==!1;case ku:return t.isEqual(Cu.defaultValues(ku));case Eu:return 0===t.byteLength;default:return super.defaultValues(e)}}static schema(e={}){const t=a.H$(e,"names",{});return new n.T9({name:t.blockName||c,value:[new n.z8({name:t.version||c}),new n.FC({name:t.keyDerivationAlgorithm||c,optional:!0,idBlock:{tagClass:3,tagNumber:0},value:L.schema().valueBlock.value}),L.schema(t.keyEncryptionAlgorithm||{}),new n.fi({name:t.encryptedKey||c})]})}fromSchema(e){a.ze(e,Ou);const t=n.eN(e,e,Cu.schema({names:{version:Su,keyDerivationAlgorithm:_u,keyEncryptionAlgorithm:{names:{blockName:Au}},encryptedKey:ku}}));f.assertSchema(t,this.className),this.version=t.result.version.valueBlock.valueDec,_u in t.result&&(this.keyDerivationAlgorithm=new L({schema:new n.T9({value:t.result.keyDerivationAlgorithm.valueBlock.value})})),this.keyEncryptionAlgorithm=new L({schema:t.result.keyEncryptionAlgorithm}),this.encryptedKey=t.result.encryptedKey}toSchema(){const e=[];return e.push(new n.z8({value:this.version})),this.keyDerivationAlgorithm&&e.push(new n.FC({idBlock:{tagClass:3,tagNumber:0},value:this.keyDerivationAlgorithm.toSchema().valueBlock.value})),e.push(this.keyEncryptionAlgorithm.toSchema()),e.push(this.encryptedKey),new n.T9({value:e})}toJSON(){const e={version:this.version,keyEncryptionAlgorithm:this.keyEncryptionAlgorithm.toJSON(),encryptedKey:this.encryptedKey.toJSON()};return this.keyDerivationAlgorithm&&(e.keyDerivationAlgorithm=this.keyDerivationAlgorithm.toJSON()),e}}Cu.CLASS_NAME="PasswordRecipientInfo";const Nu="oriType",xu="oriValue",Pu=[Nu,xu];class Iu extends d{constructor(e={}){super(),this.oriType=a.H$(e,Nu,Iu.defaultValues(Nu)),this.oriValue=a.H$(e,xu,Iu.defaultValues(xu)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Nu:return c;case xu:return{};default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case Nu:return t===c;case xu:return 0===Object.keys(t).length;default:return super.defaultValues(e)}}static schema(e={}){const t=a.H$(e,"names",{});return new n.T9({name:t.blockName||c,value:[new n.rP({name:t.oriType||c}),new n.IK({name:t.oriValue||c})]})}fromSchema(e){a.ze(e,Pu);const t=n.eN(e,e,Iu.schema({names:{oriType:Nu,oriValue:xu}}));f.assertSchema(t,this.className),this.oriType=t.result.oriType.valueBlock.toString(),this.oriValue=t.result.oriValue}toSchema(){return new n.T9({value:[new n.rP({value:this.oriType}),this.oriValue]})}toJSON(){const e={oriType:this.oriType};return Iu.compareWithDefault(xu,this.oriValue)||(e.oriValue=this.oriValue.toJSON()),e}}Iu.CLASS_NAME="OtherRecipientInfo";const Tu="variant",ju="value",Vu=["blockName"];class Bu extends d{constructor(e={}){super(),this.variant=a.H$(e,Tu,Bu.defaultValues(Tu)),ju in e&&(this.value=a.H$(e,ju,Bu.defaultValues(ju))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Tu:return-1;case ju:return{};default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case Tu:return t===Bu.defaultValues(e);case ju:return 0===Object.keys(t).length;default:return super.defaultValues(e)}}static schema(e={}){const t=a.H$(e,"names",{});return new n.Lv({value:[ko.schema({names:{blockName:t.blockName||c}}),new n.FC({name:t.blockName||c,idBlock:{tagClass:3,tagNumber:1},value:uu.schema().valueBlock.value}),new n.FC({name:t.blockName||c,idBlock:{tagClass:3,tagNumber:2},value:wu.schema().valueBlock.value}),new n.FC({name:t.blockName||c,idBlock:{tagClass:3,tagNumber:3},value:Cu.schema().valueBlock.value}),new n.FC({name:t.blockName||c,idBlock:{tagClass:3,tagNumber:4},value:Iu.schema().valueBlock.value})]})}fromSchema(e){a.ze(e,Vu);const t=n.eN(e,e,Bu.schema({names:{blockName:"blockName"}}));if(f.assertSchema(t,this.className),1===t.result.blockName.idBlock.tagClass)this.variant=1,this.value=new ko({schema:t.result.blockName});else{const e=new n.T9({value:t.result.blockName.valueBlock.value});switch(t.result.blockName.idBlock.tagNumber){case 1:this.variant=2,this.value=new uu({schema:e});break;case 2:this.variant=3,this.value=new wu({schema:e});break;case 3:this.variant=4,this.value=new Cu({schema:e});break;case 4:this.variant=5,this.value=new Iu({schema:e});break;default:throw new Error("Incorrect structure of RecipientInfo block")}}}toSchema(){h.assertEmpty(this.value,"value","RecipientInfo");const e=this.value.toSchema();switch(this.variant){case 1:return e;case 2:case 3:case 4:return e.idBlock.tagClass=3,e.idBlock.tagNumber=this.variant-1,e;default:return new n.IK}}toJSON(){const e={variant:this.variant};return this.value&&this.variant>=1&&this.variant<=4&&(e.value=this.value.toJSON()),e}}Bu.CLASS_NAME="RecipientInfo";const Du="hashAlgorithm",Hu="maskGenAlgorithm",Mu="pSourceAlgorithm",Ru=[Du,Hu,Mu];class Lu extends d{constructor(e={}){super(),this.hashAlgorithm=a.H$(e,Du,Lu.defaultValues(Du)),this.maskGenAlgorithm=a.H$(e,Hu,Lu.defaultValues(Hu)),this.pSourceAlgorithm=a.H$(e,Mu,Lu.defaultValues(Mu)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Du:return new L({algorithmId:"1.3.14.3.2.26",algorithmParams:new n.p2});case Hu:return new L({algorithmId:"1.2.840.113549.1.1.8",algorithmParams:new L({algorithmId:"1.3.14.3.2.26",algorithmParams:new n.p2}).toSchema()});case Mu:return new L({algorithmId:"1.2.840.113549.1.1.9",algorithmParams:new n.fi({valueHex:new Uint8Array([218,57,163,238,94,107,75,13,50,85,191,239,149,96,24,144,175,216,7,9]).buffer})});default:return super.defaultValues(e)}}static schema(e={}){const t=a.H$(e,"names",{});return new n.T9({name:t.blockName||c,value:[new n.FC({idBlock:{tagClass:3,tagNumber:0},optional:!0,value:[L.schema(t.hashAlgorithm||{})]}),new n.FC({idBlock:{tagClass:3,tagNumber:1},optional:!0,value:[L.schema(t.maskGenAlgorithm||{})]}),new n.FC({idBlock:{tagClass:3,tagNumber:2},optional:!0,value:[L.schema(t.pSourceAlgorithm||{})]})]})}fromSchema(e){a.ze(e,Ru);const t=n.eN(e,e,Lu.schema({names:{hashAlgorithm:{names:{blockName:Du}},maskGenAlgorithm:{names:{blockName:Hu}},pSourceAlgorithm:{names:{blockName:Mu}}}}));f.assertSchema(t,this.className),Du in t.result&&(this.hashAlgorithm=new L({schema:t.result.hashAlgorithm})),Hu in t.result&&(this.maskGenAlgorithm=new L({schema:t.result.maskGenAlgorithm})),Mu in t.result&&(this.pSourceAlgorithm=new L({schema:t.result.pSourceAlgorithm}))}toSchema(){const e=[];return this.hashAlgorithm.isEqual(Lu.defaultValues(Du))||e.push(new n.FC({idBlock:{tagClass:3,tagNumber:0},value:[this.hashAlgorithm.toSchema()]})),this.maskGenAlgorithm.isEqual(Lu.defaultValues(Hu))||e.push(new n.FC({idBlock:{tagClass:3,tagNumber:1},value:[this.maskGenAlgorithm.toSchema()]})),this.pSourceAlgorithm.isEqual(Lu.defaultValues(Mu))||e.push(new n.FC({idBlock:{tagClass:3,tagNumber:2},value:[this.pSourceAlgorithm.toSchema()]})),new n.T9({value:e})}toJSON(){const e={};return this.hashAlgorithm.isEqual(Lu.defaultValues(Du))||(e.hashAlgorithm=this.hashAlgorithm.toJSON()),this.maskGenAlgorithm.isEqual(Lu.defaultValues(Hu))||(e.maskGenAlgorithm=this.maskGenAlgorithm.toJSON()),this.pSourceAlgorithm.isEqual(Lu.defaultValues(Mu))||(e.pSourceAlgorithm=this.pSourceAlgorithm.toJSON()),e}}Lu.CLASS_NAME="RSAESOAEPParams";const $u="keyInfo",Uu="entityUInfo",Fu="suppPubInfo",Ku=[$u,Uu,Fu];class zu extends d{constructor(e={}){super(),this.keyInfo=a.H$(e,$u,zu.defaultValues($u)),Uu in e&&(this.entityUInfo=a.H$(e,Uu,zu.defaultValues(Uu))),this.suppPubInfo=a.H$(e,Fu,zu.defaultValues(Fu)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case $u:return new L;case Uu:case Fu:return new n.fi;default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case $u:case Uu:case Fu:return t.isEqual(zu.defaultValues(e));default:return super.defaultValues(e)}}static schema(e={}){const t=a.H$(e,"names",{});return new n.T9({name:t.blockName||c,value:[L.schema(t.keyInfo||{}),new n.FC({name:t.entityUInfo||c,idBlock:{tagClass:3,tagNumber:0},optional:!0,value:[new n.fi]}),new n.FC({name:t.suppPubInfo||c,idBlock:{tagClass:3,tagNumber:2},value:[new n.fi]})]})}fromSchema(e){a.ze(e,Ku);const t=n.eN(e,e,zu.schema({names:{keyInfo:{names:{blockName:$u}},entityUInfo:Uu,suppPubInfo:Fu}}));f.assertSchema(t,this.className),this.keyInfo=new L({schema:t.result.keyInfo}),Uu in t.result&&(this.entityUInfo=t.result.entityUInfo.valueBlock.value[0]),this.suppPubInfo=t.result.suppPubInfo.valueBlock.value[0]}toSchema(){const e=[];return e.push(this.keyInfo.toSchema()),this.entityUInfo&&e.push(new n.FC({idBlock:{tagClass:3,tagNumber:0},value:[this.entityUInfo]})),e.push(new n.FC({idBlock:{tagClass:3,tagNumber:2},value:[this.suppPubInfo]})),new n.T9({value:e})}toJSON(){const e={keyInfo:this.keyInfo.toJSON(),suppPubInfo:this.suppPubInfo.toJSON()};return this.entityUInfo&&(e.entityUInfo=this.entityUInfo.toJSON()),e}}zu.CLASS_NAME="ECCCMSSharedInfo";const Wu="version",qu="originatorInfo",Zu="recipientInfos",Ju="encryptedContentInfo",Gu="unprotectedAttrs",Yu=[Wu,qu,Zu,Ju,Gu],Xu={kdfAlgorithm:"SHA-512",kekEncryptionLength:256},Qu={"P-256":256,"P-384":384,"P-521":528};class ec extends d{constructor(e={}){super(),this.version=a.H$(e,Wu,ec.defaultValues(Wu)),qu in e&&(this.originatorInfo=a.H$(e,qu,ec.defaultValues(qu))),this.recipientInfos=a.H$(e,Zu,ec.defaultValues(Zu)),this.encryptedContentInfo=a.H$(e,Ju,ec.defaultValues(Ju)),Gu in e&&(this.unprotectedAttrs=a.H$(e,Gu,ec.defaultValues(Gu))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Wu:return 0;case qu:return new uo;case Zu:return[];case Ju:return new qr;case Gu:return[];default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case Wu:return t===ec.defaultValues(e);case qu:return 0===t.certs.certificates.length&&0===t.crls.crls.length;case Zu:case Gu:return 0===t.length;case Ju:return qr.compareWithDefault("contentType",t.contentType)&&qr.compareWithDefault("contentEncryptionAlgorithm",t.contentEncryptionAlgorithm)&&qr.compareWithDefault("encryptedContent",t.encryptedContent);default:return super.defaultValues(e)}}static schema(e={}){const t=a.H$(e,"names",{});return new n.T9({name:t.blockName||c,value:[new n.z8({name:t.version||c}),new n.FC({name:t.originatorInfo||c,optional:!0,idBlock:{tagClass:3,tagNumber:0},value:uo.schema().valueBlock.value}),new n.l4({value:[new n.ZD({name:t.recipientInfos||c,value:Bu.schema()})]}),qr.schema(t.encryptedContentInfo||{}),new n.FC({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[new n.ZD({name:t.unprotectedAttrs||c,value:q.schema()})]})]})}fromSchema(e){a.ze(e,Yu);const t=n.eN(e,e,ec.schema({names:{version:Wu,originatorInfo:qu,recipientInfos:Zu,encryptedContentInfo:{names:{blockName:Ju}},unprotectedAttrs:Gu}}));f.assertSchema(t,this.className),this.version=t.result.version.valueBlock.valueDec,qu in t.result&&(this.originatorInfo=new uo({schema:new n.T9({value:t.result.originatorInfo.valueBlock.value})})),this.recipientInfos=Array.from(t.result.recipientInfos,(e=>new Bu({schema:e}))),this.encryptedContentInfo=new qr({schema:t.result.encryptedContentInfo}),Gu in t.result&&(this.unprotectedAttrs=Array.from(t.result.unprotectedAttrs,(e=>new q({schema:e}))))}toSchema(){const e=[];return e.push(new n.z8({value:this.version})),this.originatorInfo&&e.push(new n.FC({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:this.originatorInfo.toSchema().valueBlock.value})),e.push(new n.l4({value:Array.from(this.recipientInfos,(e=>e.toSchema()))})),e.push(this.encryptedContentInfo.toSchema()),this.unprotectedAttrs&&e.push(new n.FC({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:Array.from(this.unprotectedAttrs,(e=>e.toSchema()))})),new n.T9({value:e})}toJSON(){const e={version:this.version,recipientInfos:Array.from(this.recipientInfos,(e=>e.toJSON())),encryptedContentInfo:this.encryptedContentInfo.toJSON()};return this.originatorInfo&&(e.originatorInfo=this.originatorInfo.toJSON()),this.unprotectedAttrs&&(e.unprotectedAttrs=Array.from(this.unprotectedAttrs,(e=>e.toJSON()))),e}addRecipientByCertificate(e,t,r,i=yn(!0)){const a=Object.assign({useOAEP:!0,oaepHashAlgorithm:"SHA-512"},Xu,t||{});if(-1!==e.subjectPublicKeyInfo.algorithm.algorithmId.indexOf("1.2.840.113549"))r=1;else{if(-1===e.subjectPublicKeyInfo.algorithm.algorithmId.indexOf("1.2.840.10045"))throw new Error(`Unknown type of certificate's public key: ${e.subjectPublicKeyInfo.algorithm.algorithmId}`);r=2}switch(r){case 1:{let t,r;if(!0===a.useOAEP){t=i.getOIDByAlgorithm({name:"RSA-OAEP"},!0,"keyEncryptionAlgorithm");const e=i.getOIDByAlgorithm({name:a.oaepHashAlgorithm},!0,"RSAES-OAEP-params"),s=new L({algorithmId:e,algorithmParams:new n.p2});r=new Lu({hashAlgorithm:s,maskGenAlgorithm:new L({algorithmId:"1.2.840.113549.1.1.8",algorithmParams:s.toSchema()})}).toSchema()}else{if(t=i.getOIDByAlgorithm({name:"RSAES-PKCS1-v1_5"}),t===c)throw new Error("Can not find OID for RSAES-PKCS1-v1_5");r=new n.p2}const s=new ko({version:0,rid:new fo({issuer:e.issuer,serialNumber:e.serialNumber}),keyEncryptionAlgorithm:new L({algorithmId:t,algorithmParams:r}),recipientCertificate:e});this.recipientInfos.push(new Bu({variant:1,value:s}))}break;case 2:{const t=new zo({variant:1,value:new fo({issuer:e.issuer,serialNumber:e.serialNumber})});this._addKeyAgreeRecipientInfo(t,a,{recipientCertificate:e},i)}break;default:throw new Error(`Unknown "variant" value: ${r}`)}return!0}addRecipientByPreDefinedData(e,t={},r,i=yn(!0)){if(l.assert(e,"preDefinedData","ArrayBuffer"),!e.byteLength)throw new Error("Pre-defined data could have zero length");if(!t.keyIdentifier){const e=new ArrayBuffer(16),r=new Uint8Array(e);i.getRandomValues(r),t.keyIdentifier=e}switch(t.hmacHashAlgorithm||(t.hmacHashAlgorithm="SHA-512"),void 0===t.iterationCount&&(t.iterationCount=2048),t.keyEncryptionAlgorithm||(t.keyEncryptionAlgorithm={name:"AES-KW",length:256}),t.keyEncryptionAlgorithmParams||(t.keyEncryptionAlgorithmParams=new n.p2),r){case 1:{const r=i.getOIDByAlgorithm(t.keyEncryptionAlgorithm,!0,"keyEncryptionAlgorithm"),a=new wu({version:4,kekid:new du({keyIdentifier:new n.fi({valueHex:t.keyIdentifier})}),keyEncryptionAlgorithm:new L({algorithmId:r,algorithmParams:t.keyEncryptionAlgorithmParams}),preDefinedKEK:e});this.recipientInfos.push(new Bu({variant:3,value:a}))}break;case 2:{const r=i.getOIDByAlgorithm({name:"PBKDF2"},!0,"keyDerivationAlgorithm"),a=new ArrayBuffer(64),s=new Uint8Array(a);i.getRandomValues(s);const o=i.getOIDByAlgorithm({name:"HMAC",hash:{name:t.hmacHashAlgorithm}},!0,"hmacHashAlgorithm"),u=new sn({salt:new n.fi({valueHex:a}),iterationCount:t.iterationCount,prf:new L({algorithmId:o,algorithmParams:new n.p2})}),c=i.getOIDByAlgorithm(t.keyEncryptionAlgorithm,!0,"keyEncryptionAlgorithm"),l=new Cu({version:0,keyDerivationAlgorithm:new L({algorithmId:r,algorithmParams:u.toSchema()}),keyEncryptionAlgorithm:new L({algorithmId:c,algorithmParams:t.keyEncryptionAlgorithmParams}),password:e});this.recipientInfos.push(new Bu({variant:4,value:l}))}break;default:throw new Error(`Unknown value for "variant": ${r}`)}}addRecipientByKeyIdentifier(e,t,r,i=yn(!0)){const a=Object.assign({},Xu,r||{}),s=new zo({variant:2,value:new $o({subjectKeyIdentifier:new n.fi({valueHex:t})})});this._addKeyAgreeRecipientInfo(s,a,{recipientPublicKey:e},i)}_addKeyAgreeRecipientInfo(e,t,r,i=yn(!0)){const a=new Jo({rid:e}),s=i.getOIDByAlgorithm({name:"AES-KW",length:t.kekEncryptionLength},!0,"keyEncryptionAlgorithm"),o=new L({algorithmId:s}),u=i.getOIDByAlgorithm({name:"ECDH",kdf:t.kdfAlgorithm},!0,"KeyAgreeRecipientInfo"),c=new ArrayBuffer(64),l=new Uint8Array(c);i.getRandomValues(l);const h={version:3,ukm:new n.fi({valueHex:c}),keyEncryptionAlgorithm:new L({algorithmId:u,algorithmParams:o.toSchema()}),recipientEncryptedKeys:new Qo({encryptedKeys:[a]})},f=new uu(Object.assign(h,r));this.recipientInfos.push(new Bu({variant:2,value:f}))}async encrypt(e,t,r=yn(!0)){const i=new ArrayBuffer(16),a=new Uint8Array(i);r.getRandomValues(a);const s=new Uint8Array(t),o=r.getOIDByAlgorithm(e,!0,"contentEncryptionAlgorithm"),u=await r.generateKey(e,!0,["encrypt"]),c=await r.encrypt({name:e.name,iv:a},u,s),l=await r.exportKey("raw",u);this.version=2,this.encryptedContentInfo=new qr({contentType:"1.2.840.113549.1.7.1",contentEncryptionAlgorithm:new L({algorithmId:o,algorithmParams:new n.fi({valueHex:i})}),encryptedContent:new n.fi({valueHex:c})});const h=async e=>{const t=this.recipientInfos[e].value;let i,a;if(t.recipientPublicKey)i=t.recipientPublicKey.algorithm.namedCurve,a=t.recipientPublicKey;else{if(!t.recipientCertificate)throw new Error("Unsupported RecipientInfo");{const s=t.recipientCertificate.subjectPublicKeyInfo.algorithm.algorithmParams;if(s.constructor.blockName()!==n.rP.blockName())throw new Error(`Incorrect "recipientCertificate" for index ${e}`);switch(s.valueBlock.toString()){case"1.2.840.10045.3.1.7":i="P-256";break;case"1.3.132.0.34":i="P-384";break;case"1.3.132.0.35":i="P-521";break;default:throw new Error(`Incorrect curve OID for index ${e}`)}a=await t.recipientCertificate.getPublicKey({algorithm:{algorithm:{name:"ECDH",namedCurve:i},usages:[]}},r)}}const s=Qu[i],o=await r.generateKey({name:"ECDH",namedCurve:i},!0,["deriveBits"]),c=await r.exportKey("spki",o.publicKey),l=await r.deriveBits({name:"ECDH",public:a},o.privateKey,s),h=new L({schema:t.keyEncryptionAlgorithm.algorithmParams}),f=r.getAlgorithmByOID(h.algorithmId,!0,"aesKWAlgorithm");let d=f.length;const p=new ArrayBuffer(4),m=new Uint8Array(p);for(let e=3;e>=0;e--)m[e]=d,d>>=8;const b=new zu({keyInfo:new L({algorithmId:h.algorithmId}),entityUInfo:t.ukm,suppPubInfo:new n.fi({valueHex:p})}).toSchema().toBER(!1),v=r.getAlgorithmByOID(t.keyEncryptionAlgorithm.algorithmId,!0,"ecdhAlgorithm"),y=await wn(v.kdf,l,f.length,b,r),g=await r.importKey("raw",y,{name:"AES-KW"},!0,["wrapKey"]),w=await r.wrapKey("raw",u,g,{name:"AES-KW"}),S=new To;return S.variant=3,S.value=No.fromBER(c),t.originator=S,t.recipientEncryptedKeys.encryptedKeys[0].encryptedKey=new n.fi({valueHex:w}),{ecdhPrivateKey:o.privateKey}},f=async e=>{const t=this.recipientInfos[e].value,i=r.getAlgorithmByOID(t.keyEncryptionAlgorithm.algorithmId,!0,"keyEncryptionAlgorithm");if("RSA-OAEP"===i.name){const e=t.keyEncryptionAlgorithm.algorithmParams,n=new Lu({schema:e});if(i.hash=r.getAlgorithmByOID(n.hashAlgorithm.algorithmId),"name"in i.hash==!1)throw new Error(`Incorrect OID for hash algorithm: ${n.hashAlgorithm.algorithmId}`)}try{const e=await t.recipientCertificate.getPublicKey({algorithm:{algorithm:i,usages:["encrypt","wrapKey"]}},r),a=await r.encrypt(e.algorithm,e,l);t.encryptedKey=new n.fi({valueHex:a})}catch{}},d=async e=>{const t=this.recipientInfos[e].value,i=r.getAlgorithmByOID(t.keyEncryptionAlgorithm.algorithmId,!0,"kekAlgorithm"),a=await r.importKey("raw",new Uint8Array(t.preDefinedKEK),i,!0,["wrapKey"]),s=await r.wrapKey("raw",u,a,i);t.encryptedKey=new n.fi({valueHex:s})},p=async e=>{const t=this.recipientInfos[e].value;let i;if(!t.keyDerivationAlgorithm)throw new Error('Please append encoded "keyDerivationAlgorithm"');if(!t.keyDerivationAlgorithm.algorithmParams)throw new Error('Incorrectly encoded "keyDerivationAlgorithm"');try{i=new sn({schema:t.keyDerivationAlgorithm.algorithmParams})}catch(e){throw new Error('Incorrectly encoded "keyDerivationAlgorithm"')}const a=new Uint8Array(t.password),s=await r.importKey("raw",a,"PBKDF2",!1,["deriveKey"]),o=r.getAlgorithmByOID(t.keyEncryptionAlgorithm.algorithmId,!0,"kekAlgorithm");let c="SHA-1";if(i.prf){c=r.getAlgorithmByOID(i.prf.algorithmId,!0,"prfAlgorithm").hash.name}const l=new Uint8Array(i.salt.valueBlock.valueHex),h=i.iterationCount,f=await r.deriveKey({name:"PBKDF2",hash:{name:c},salt:l,iterations:h},s,o,!0,["wrapKey"]),d=await r.wrapKey("raw",u,f,o);t.encryptedKey=new n.fi({valueHex:d})},m=[];for(let e=0;e<this.recipientInfos.length;e++)switch(this.recipientInfos[e].variant){case 1:m.push(await f(e));break;case 2:m.push(await h(e));break;case 3:m.push(await d(e));break;case 4:m.push(await p(e));break;default:throw new Error(`Unknown recipient type in array with index ${e}`)}return m}async decrypt(e,t,r=yn(!0)){const i=t||{};if(e+1>this.recipientInfos.length)throw new Error('Maximum value for "index" is: '+(this.recipientInfos.length-1));const a=async e=>{const t=this.recipientInfos[e].value;let a,s,o;const u=t.originator;if(i.recipientCertificate){const t=i.recipientCertificate.subjectPublicKeyInfo.algorithm.algorithmParams;if(t.constructor.blockName()!==n.rP.blockName())throw new Error(`Incorrect "recipientCertificate" for index ${e}`);a=t.valueBlock.toString()}else{if(!u.value.algorithm.algorithmParams)throw new Error('Parameter "recipientCertificate" is mandatory for "KeyAgreeRecipientInfo" if algorithm params are missing from originator');{const t=u.value.algorithm.algorithmParams;if(t.constructor.blockName()!==n.rP.blockName())throw new Error(`Incorrect originator for index ${e}`);a=t.valueBlock.toString()}}if(!i.recipientPrivateKey)throw new Error('Parameter "recipientPrivateKey" is mandatory for "KeyAgreeRecipientInfo"');switch(a){case"1.2.840.10045.3.1.7":s="P-256",o=256;break;case"1.3.132.0.34":s="P-384",o=384;break;case"1.3.132.0.35":s="P-521",o=528;break;default:throw new Error(`Incorrect curve OID for index ${e}`)}const c=await r.importKey("pkcs8",i.recipientPrivateKey,{name:"ECDH",namedCurve:s},!0,["deriveBits"]);"algorithmParams"in u.value.algorithm==!1&&(u.value.algorithm.algorithmParams=new n.rP({value:a}));const l=u.value.toSchema().toBER(!1),h=await r.importKey("spki",l,{name:"ECDH",namedCurve:s},!0,[]),f=await r.deriveBits({name:"ECDH",public:h},c,o);async function d(e){e=e||!1;const i=new L({schema:t.keyEncryptionAlgorithm.algorithmParams}),a=r.getAlgorithmByOID(i.algorithmId,!0,"kwAlgorithm");let s=a.length;const o=new ArrayBuffer(4),u=new Uint8Array(o);for(let e=3;e>=0;e--)u[e]=s,s>>=8;const c={algorithmId:i.algorithmId};e&&(c.algorithmParams=new n.p2);const l=new zu({keyInfo:new L(c),entityUInfo:t.ukm,suppPubInfo:new n.fi({valueHex:o})}).toSchema().toBER(!1),h=r.getAlgorithmByOID(t.keyEncryptionAlgorithm.algorithmId,!0,"ecdhAlgorithm");if(!h.name)throw new Error(`Incorrect OID for key encryption algorithm: ${t.keyEncryptionAlgorithm.algorithmId}`);return wn(h.kdf,f,a.length,l,r)}const p=await d(),m=async e=>r.importKey("raw",e,{name:"AES-KW"},!0,["unwrapKey"]),b=await m(p),v=async e=>{const n=this.encryptedContentInfo.contentEncryptionAlgorithm.algorithmId,i=r.getAlgorithmByOID(n,!0,"contentEncryptionAlgorithm");return r.unwrapKey("raw",t.recipientEncryptedKeys.encryptedKeys[0].encryptedKey.valueBlock.valueHexView,e,{name:"AES-KW"},i,!0,["decrypt"])};try{return await v(b)}catch{const e=await d(!0);return v(await m(e))}},s=async e=>{const t=this.recipientInfos[e].value;if(!i.recipientPrivateKey)throw new Error('Parameter "recipientPrivateKey" is mandatory for "KeyTransRecipientInfo"');const n=r.getAlgorithmByOID(t.keyEncryptionAlgorithm.algorithmId,!0,"keyEncryptionAlgorithm");if("RSA-OAEP"===n.name){const e=t.keyEncryptionAlgorithm.algorithmParams,i=new Lu({schema:e});if(n.hash=r.getAlgorithmByOID(i.hashAlgorithm.algorithmId),"name"in n.hash==!1)throw new Error(`Incorrect OID for hash algorithm: ${i.hashAlgorithm.algorithmId}`)}const a=await r.importKey("pkcs8",i.recipientPrivateKey,n,!0,["decrypt"]),s=await r.decrypt(a.algorithm,a,t.encryptedKey.valueBlock.valueHexView),o=this.encryptedContentInfo.contentEncryptionAlgorithm.algorithmId,u=r.getAlgorithmByOID(o,!0,"contentEncryptionAlgorithm");if("name"in u==!1)throw new Error(`Incorrect "contentEncryptionAlgorithm": ${o}`);return r.importKey("raw",s,u,!0,["decrypt"])},o=async e=>{const t=this.recipientInfos[e].value;if(!i.preDefinedData)throw new Error('Parameter "preDefinedData" is mandatory for "KEKRecipientInfo"');const n=r.getAlgorithmByOID(t.keyEncryptionAlgorithm.algorithmId,!0,"kekAlgorithm"),a=await r.importKey("raw",i.preDefinedData,n,!0,["unwrapKey"]),s=this.encryptedContentInfo.contentEncryptionAlgorithm.algorithmId,o=r.getAlgorithmByOID(s,!0,"contentEncryptionAlgorithm");if(!o.name)throw new Error(`Incorrect "contentEncryptionAlgorithm": ${s}`);return r.unwrapKey("raw",t.encryptedKey.valueBlock.valueHexView,a,n,o,!0,["decrypt"])},u=async e=>{const t=this.recipientInfos[e].value;let n;if(!i.preDefinedData)throw new Error('Parameter "preDefinedData" is mandatory for "KEKRecipientInfo"');if(!t.keyDerivationAlgorithm)throw new Error('Please append encoded "keyDerivationAlgorithm"');if(!t.keyDerivationAlgorithm.algorithmParams)throw new Error('Incorrectly encoded "keyDerivationAlgorithm"');try{n=new sn({schema:t.keyDerivationAlgorithm.algorithmParams})}catch(e){throw new Error('Incorrectly encoded "keyDerivationAlgorithm"')}const a=await r.importKey("raw",i.preDefinedData,"PBKDF2",!1,["deriveKey"]),s=r.getAlgorithmByOID(t.keyEncryptionAlgorithm.algorithmId,!0,"keyEncryptionAlgorithm"),o=n.prf?r.getAlgorithmByOID(n.prf.algorithmId,!0,"prfAlgorithm").hash.name:"SHA-1",u=new Uint8Array(n.salt.valueBlock.valueHex),c=n.iterationCount,l=await r.deriveKey({name:"PBKDF2",hash:{name:o},salt:u,iterations:c},a,s,!0,["unwrapKey"]),h=this.encryptedContentInfo.contentEncryptionAlgorithm.algorithmId,f=r.getAlgorithmByOID(h,!0,"contentEncryptionAlgorithm");return r.unwrapKey("raw",t.encryptedKey.valueBlock.valueHexView,l,s,f,!0,["decrypt"])};let c;switch(this.recipientInfos[e].variant){case 1:c=await s(e);break;case 2:c=await a(e);break;case 3:c=await o(e);break;case 4:c=await u(e);break;default:throw new Error(`Unknown recipient type in array with index ${e}`)}const l=this.encryptedContentInfo.contentEncryptionAlgorithm.algorithmId,h=r.getAlgorithmByOID(l,!0,"contentEncryptionAlgorithm"),f=this.encryptedContentInfo.contentEncryptionAlgorithm.algorithmParams.valueBlock.valueHex,d=new Uint8Array(f);if(!this.encryptedContentInfo.encryptedContent)throw new Error("Required property `encryptedContent` is empty");const p=this.encryptedContentInfo.getEncryptedContent();return r.decrypt({name:h.name,iv:d},c,p)}}ec.CLASS_NAME="EnvelopedData";const tc="safeContents",rc="parsedValue",nc="contentInfos";class ic extends d{constructor(e={}){super(),this.safeContents=a.H$(e,tc,ic.defaultValues(tc)),rc in e&&(this.parsedValue=a.H$(e,rc,ic.defaultValues(rc))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case tc:return[];case rc:return{};default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case tc:return 0===t.length;case rc:return t instanceof Object&&0===Object.keys(t).length;default:return super.defaultValues(e)}}static schema(e={}){const t=a.H$(e,"names",{});return new n.T9({name:t.blockName||c,value:[new n.ZD({name:t.contentInfos||c,value:ta.schema()})]})}fromSchema(e){a.ze(e,[nc]);const t=n.eN(e,e,ic.schema({names:{contentInfos:nc}}));f.assertSchema(t,this.className),this.safeContents=Array.from(t.result.contentInfos,(e=>new ta({schema:e})))}toSchema(){return new n.T9({value:Array.from(this.safeContents,(e=>e.toSchema()))})}toJSON(){return{safeContents:Array.from(this.safeContents,(e=>e.toJSON()))}}async parseInternalValues(e,t=yn(!0)){if(h.assert(e,tc),l.assert(e.safeContents,tc,"Array"),e.safeContents.length!==this.safeContents.length)throw new l('Length of "parameters.safeContents" must be equal to "this.safeContents.length"');this.parsedValue={safeContents:[]};for(const[r,i]of this.safeContents.entries()){const a=e.safeContents[r],s=`parameters.safeContents[${r}]`;switch(i.contentType){case be:{l.assert(i.content,"this.safeContents[j].content",n.fi);const e=i.content.getValue();this.parsedValue.safeContents.push({privacyMode:0,value:Fs.fromBER(e)})}break;case ye:{const e=new ec({schema:i.content});h.assert(s,a,"recipientCertificate","recipientKey");const r=a,n=r.recipientCertificate,o=r.recipientKey,u=await e.decrypt(0,{recipientCertificate:n,recipientPrivateKey:o},t);this.parsedValue.safeContents.push({privacyMode:2,value:Fs.fromBER(u)})}break;case ge:{const e=new Os({schema:i.content});h.assert(s,a,"password");const r=a.password,n=await e.decrypt({password:r},t);this.parsedValue.safeContents.push({privacyMode:1,value:Fs.fromBER(n)})}break;default:throw new Error(`Unknown "contentType" for AuthenticatedSafe: " ${i.contentType}`)}}}async makeInternalValues(e,t=yn(!0)){if(!this.parsedValue)throw new Error('Please run "parseValues" first or add "parsedValue" manually');if(l.assert(this.parsedValue,"this.parsedValue","object"),l.assert(this.parsedValue.safeContents,"this.parsedValue.safeContents","Array"),l.assert(e,"parameters","object"),h.assert(e,"safeContents"),l.assert(e.safeContents,"parameters.safeContents","Array"),e.safeContents.length!==this.parsedValue.safeContents.length)throw new l('Length of "parameters.safeContents" must be equal to "this.parsedValue.safeContents"');this.safeContents=[];for(const[r,i]of this.parsedValue.safeContents.entries())switch(h.assert("content",i,"privacyMode","value"),l.assert(i.value,"content.value",Fs),i.privacyMode){case 0:{const e=i.value.toSchema().toBER(!1);this.safeContents.push(new ta({contentType:"1.2.840.113549.1.7.1",content:new n.fi({valueHex:e})}))}break;case 1:{const t=new Os,n=e.safeContents[r];n.contentToEncrypt=i.value.toSchema().toBER(!1),await t.encrypt(n),this.safeContents.push(new ta({contentType:"1.2.840.113549.1.7.6",content:t.toSchema()}))}break;case 2:{const n=new ec,a=i.value.toSchema().toBER(!1),s=e.safeContents[r];switch(h.assert(`parameters.safeContents[${r}]`,s,"encryptingCertificate","encryptionAlgorithm"),!0){case"aes-cbc"===s.encryptionAlgorithm.name.toLowerCase():case"aes-gcm"===s.encryptionAlgorithm.name.toLowerCase():break;default:throw new Error(`Incorrect parameter "encryptionAlgorithm" in "parameters.safeContents[i]": ${s.encryptionAlgorithm}`)}switch(!0){case 128===s.encryptionAlgorithm.length:case 192===s.encryptionAlgorithm.length:case 256===s.encryptionAlgorithm.length:break;default:throw new Error(`Incorrect parameter "encryptionAlgorithm.length" in "parameters.safeContents[i]": ${s.encryptionAlgorithm.length}`)}const o=s.encryptionAlgorithm;n.addRecipientByCertificate(s.encryptingCertificate,{},void 0,t),await n.encrypt(o,a,t),this.safeContents.push(new ta({contentType:"1.2.840.113549.1.7.3",content:n.toSchema()}))}break;default:throw new Error(`Incorrect value for "content.privacyMode": ${i.privacyMode}`)}return this}}ic.CLASS_NAME="AuthenticatedSafe";const ac="hashAlgorithm",sc="issuerNameHash",oc="issuerKeyHash",uc="serialNumber",cc=[ac,sc,oc,uc];class lc extends d{constructor(e={}){super(),this.hashAlgorithm=a.H$(e,ac,lc.defaultValues(ac)),this.issuerNameHash=a.H$(e,sc,lc.defaultValues(sc)),this.issuerKeyHash=a.H$(e,oc,lc.defaultValues(oc)),this.serialNumber=a.H$(e,uc,lc.defaultValues(uc)),e.schema&&this.fromSchema(e.schema)}static async create(e,t,r=yn(!0)){const n=new lc;return await n.createForCertificate(e,t,r),n}static defaultValues(e){switch(e){case ac:return new L;case sc:case oc:return new n.fi;case uc:return new n.z8;default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case ac:return t.algorithmId===c&&"algorithmParams"in t==!1;case sc:case oc:case uc:return t.isEqual(lc.defaultValues(uc));default:return super.defaultValues(e)}}static schema(e={}){const t=a.H$(e,"names",{});return new n.T9({name:t.blockName||c,value:[L.schema(t.hashAlgorithmObject||{names:{blockName:t.hashAlgorithm||c}}),new n.fi({name:t.issuerNameHash||c}),new n.fi({name:t.issuerKeyHash||c}),new n.z8({name:t.serialNumber||c})]})}fromSchema(e){a.ze(e,cc);const t=n.eN(e,e,lc.schema({names:{hashAlgorithm:ac,issuerNameHash:sc,issuerKeyHash:oc,serialNumber:uc}}));f.assertSchema(t,this.className),this.hashAlgorithm=new L({schema:t.result.hashAlgorithm}),this.issuerNameHash=t.result.issuerNameHash,this.issuerKeyHash=t.result.issuerKeyHash,this.serialNumber=t.result.serialNumber}toSchema(){return new n.T9({value:[this.hashAlgorithm.toSchema(),this.issuerNameHash,this.issuerKeyHash,this.serialNumber]})}toJSON(){return{hashAlgorithm:this.hashAlgorithm.toJSON(),issuerNameHash:this.issuerNameHash.toJSON(),issuerKeyHash:this.issuerKeyHash.toJSON(),serialNumber:this.serialNumber.toJSON()}}isEqual(e){return this.hashAlgorithm.algorithmId===e.hashAlgorithm.algorithmId&&(!!i.vJ.isEqual(this.issuerNameHash.valueBlock.valueHexView,e.issuerNameHash.valueBlock.valueHexView)&&(!!i.vJ.isEqual(this.issuerKeyHash.valueBlock.valueHexView,e.issuerKeyHash.valueBlock.valueHexView)&&!!this.serialNumber.isEqual(e.serialNumber)))}async createForCertificate(e,t,r=yn(!0)){h.assert(t,ac,"issuerCertificate");const i=r.getOIDByAlgorithm({name:t.hashAlgorithm},!0,"hashAlgorithm");this.hashAlgorithm=new L({algorithmId:i,algorithmParams:new n.p2});const a=t.issuerCertificate;this.serialNumber=e.serialNumber;const s=await r.digest({name:t.hashAlgorithm},a.subject.toSchema().toBER(!1));this.issuerNameHash=new n.fi({valueHex:s});const o=a.subjectPublicKeyInfo.subjectPublicKey.valueBlock.valueHexView,u=await r.digest({name:t.hashAlgorithm},o);this.issuerKeyHash=new n.fi({valueHex:u})}}lc.CLASS_NAME="CertID";const hc="certID",fc="certStatus",dc="thisUpdate",pc="nextUpdate",mc="singleExtensions",bc=[hc,fc,dc,pc,mc];class vc extends d{constructor(e={}){super(),this.certID=a.H$(e,hc,vc.defaultValues(hc)),this.certStatus=a.H$(e,fc,vc.defaultValues(fc)),this.thisUpdate=a.H$(e,dc,vc.defaultValues(dc)),pc in e&&(this.nextUpdate=a.H$(e,pc,vc.defaultValues(pc))),mc in e&&(this.singleExtensions=a.H$(e,mc,vc.defaultValues(mc))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case hc:return new lc;case fc:return{};case dc:case pc:return new Date(0,0,0);case mc:return[];default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case hc:return lc.compareWithDefault("hashAlgorithm",t.hashAlgorithm)&&lc.compareWithDefault("issuerNameHash",t.issuerNameHash)&&lc.compareWithDefault("issuerKeyHash",t.issuerKeyHash)&&lc.compareWithDefault("serialNumber",t.serialNumber);case fc:return 0===Object.keys(t).length;case dc:case pc:return t===vc.defaultValues(e);default:return super.defaultValues(e)}}static schema(e={}){const t=a.H$(e,"names",{});return new n.T9({name:t.blockName||c,value:[lc.schema(t.certID||{}),new n.Lv({value:[new n.WV({name:t.certStatus||c,idBlock:{tagClass:3,tagNumber:0}}),new n.FC({name:t.certStatus||c,idBlock:{tagClass:3,tagNumber:1},value:[new n.Yw,new n.FC({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new n.WC]})]}),new n.WV({name:t.certStatus||c,idBlock:{tagClass:3,tagNumber:2},lenBlock:{length:1}})]}),new n.Yw({name:t.thisUpdate||c}),new n.FC({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new n.Yw({name:t.nextUpdate||c})]}),new n.FC({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[Yn.schema(t.singleExtensions||{})]})]})}fromSchema(e){a.ze(e,bc);const t=n.eN(e,e,vc.schema({names:{certID:{names:{blockName:hc}},certStatus:fc,thisUpdate:dc,nextUpdate:pc,singleExtensions:{names:{blockName:mc}}}}));f.assertSchema(t,this.className),this.certID=new lc({schema:t.result.certID}),this.certStatus=t.result.certStatus,this.thisUpdate=t.result.thisUpdate.toDate(),pc in t.result&&(this.nextUpdate=t.result.nextUpdate.toDate()),mc in t.result&&(this.singleExtensions=Array.from(t.result.singleExtensions.valueBlock.value,(e=>new Zn({schema:e}))))}toSchema(){const e=[];return e.push(this.certID.toSchema()),e.push(this.certStatus),e.push(new n.Yw({valueDate:this.thisUpdate})),this.nextUpdate&&e.push(new n.FC({idBlock:{tagClass:3,tagNumber:0},value:[new n.Yw({valueDate:this.nextUpdate})]})),this.singleExtensions&&e.push(new n.T9({value:Array.from(this.singleExtensions,(e=>e.toSchema()))})),new n.T9({value:e})}toJSON(){const e={certID:this.certID.toJSON(),certStatus:this.certStatus.toJSON(),thisUpdate:this.thisUpdate};return this.nextUpdate&&(e.nextUpdate=this.nextUpdate),this.singleExtensions&&(e.singleExtensions=Array.from(this.singleExtensions,(e=>e.toJSON()))),e}}vc.CLASS_NAME="SingleResponse";const yc="tbs",gc="version",wc="responderID",Sc="producedAt",_c="responses",Ac="responseExtensions",kc="ResponseData",Ec=`${kc}.${gc}`,Oc=`${kc}.${wc}`,Cc=`${kc}.${Sc}`,Nc=`${kc}.${_c}`,xc=`${kc}.${Ac}`,Pc=[kc,Ec,Oc,Cc,Nc,xc];class Ic extends d{constructor(e={}){super(),this.tbsView=new Uint8Array(a.H$(e,yc,Ic.defaultValues(yc))),gc in e&&(this.version=a.H$(e,gc,Ic.defaultValues(gc))),this.responderID=a.H$(e,wc,Ic.defaultValues(wc)),this.producedAt=a.H$(e,Sc,Ic.defaultValues(Sc)),this.responses=a.H$(e,_c,Ic.defaultValues(_c)),Ac in e&&(this.responseExtensions=a.H$(e,Ac,Ic.defaultValues(Ac))),e.schema&&this.fromSchema(e.schema)}get tbs(){return i.vJ.toArrayBuffer(this.tbsView)}set tbs(e){this.tbsView=new Uint8Array(e)}static defaultValues(e){switch(e){case gc:return 0;case yc:return u;case wc:return{};case Sc:return new Date(0,0,0);case _c:case Ac:return[];default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case yc:return 0===t.byteLength;case wc:return 0===Object.keys(t).length;case Sc:return t===Ic.defaultValues(e);case _c:case Ac:return 0===t.length;default:return super.defaultValues(e)}}static schema(e={}){const t=a.H$(e,"names",{});return new n.T9({name:t.blockName||kc,value:[new n.FC({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new n.z8({name:t.version||Ec})]}),new n.Lv({value:[new n.FC({name:t.responderID||Oc,idBlock:{tagClass:3,tagNumber:1},value:[w.schema(t.ResponseDataByName||{names:{blockName:"ResponseData.byName"}})]}),new n.FC({name:t.responderID||Oc,idBlock:{tagClass:3,tagNumber:2},value:[new n.fi({name:t.ResponseDataByKey||"ResponseData.byKey"})]})]}),new n.Yw({name:t.producedAt||Cc}),new n.T9({value:[new n.ZD({name:Nc,value:vc.schema(t.response||{})})]}),new n.FC({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[Yn.schema(t.extensions||{names:{blockName:xc}})]})]})}fromSchema(e){a.ze(e,Pc);const t=n.eN(e,e,Ic.schema());f.assertSchema(t,this.className),this.tbsView=t.result.ResponseData.valueBeforeDecodeView,Ec in t.result&&(this.version=t.result[Ec].valueBlock.valueDec),1===t.result[Oc].idBlock.tagNumber?this.responderID=new w({schema:t.result[Oc].valueBlock.value[0]}):this.responderID=t.result[Oc].valueBlock.value[0],this.producedAt=t.result[Cc].toDate(),this.responses=Array.from(t.result[Nc],(e=>new vc({schema:e}))),xc in t.result&&(this.responseExtensions=Array.from(t.result[xc].valueBlock.value,(e=>new Zn({schema:e}))))}toSchema(e=!1){let t;if(!1===e){if(!this.tbsView.byteLength)return Ic.schema();const e=n.sc(this.tbsView);f.assert(e,"TBS Response Data"),t=e.result}else{const e=[];gc in this&&e.push(new n.FC({idBlock:{tagClass:3,tagNumber:0},value:[new n.z8({value:this.version})]})),this.responderID instanceof w?e.push(new n.FC({idBlock:{tagClass:3,tagNumber:1},value:[this.responderID.toSchema()]})):e.push(new n.FC({idBlock:{tagClass:3,tagNumber:2},value:[this.responderID]})),e.push(new n.Yw({valueDate:this.producedAt})),e.push(new n.T9({value:Array.from(this.responses,(e=>e.toSchema()))})),this.responseExtensions&&e.push(new n.FC({idBlock:{tagClass:3,tagNumber:1},value:[new n.T9({value:Array.from(this.responseExtensions,(e=>e.toSchema()))})]})),t=new n.T9({value:e})}return t}toJSON(){const e={};return gc in this&&(e.version=this.version),this.responderID&&(e.responderID=this.responderID),this.producedAt&&(e.producedAt=this.producedAt),this.responses&&(e.responses=Array.from(this.responses,(e=>e.toJSON()))),this.responseExtensions&&(e.responseExtensions=Array.from(this.responseExtensions,(e=>e.toJSON()))),e}}Ic.CLASS_NAME="ResponseData";const Tc="trustedCerts",jc="certs",Vc="crls",Bc="ocsps",Dc="checkDate",Hc="findOrigin",Mc="findIssuer";class Rc{constructor(e={}){this.trustedCerts=a.H$(e,Tc,this.defaultValues(Tc)),this.certs=a.H$(e,jc,this.defaultValues(jc)),this.crls=a.H$(e,Vc,this.defaultValues(Vc)),this.ocsps=a.H$(e,Bc,this.defaultValues(Bc)),this.checkDate=a.H$(e,Dc,this.defaultValues(Dc)),this.findOrigin=a.H$(e,Hc,this.defaultValues(Hc)),this.findIssuer=a.H$(e,Mc,this.defaultValues(Mc))}static defaultFindOrigin(e,t){0===e.tbsView.byteLength&&(e.tbsView=new Uint8Array(e.encodeTBS().toBER()));for(const r of t.certs)if(0===r.tbsView.byteLength&&(r.tbsView=new Uint8Array(r.encodeTBS().toBER())),i.vJ.isEqual(e.tbsView,r.tbsView))return"Intermediate Certificates";for(const r of t.trustedCerts)if(0===r.tbsView.byteLength&&(r.tbsView=new Uint8Array(r.encodeTBS().toBER())),i.vJ.isEqual(e.tbsView,r.tbsView))return"Trusted Certificates";return"Unknown"}async defaultFindIssuer(e,t,r=yn(!0)){const n=[];let a=null,s=null,o=null;if(e.subject.isEqual(e.issuer))try{if(await e.verify(void 0,r))return[e]}catch(e){}if(e.extensions)for(const t of e.extensions)if(t.extnID===fe&&t.parsedValue instanceof xe){t.parsedValue.keyIdentifier?a=t.parsedValue.keyIdentifier:(t.parsedValue.authorityCertIssuer&&(s=t.parsedValue.authorityCertIssuer),t.parsedValue.authorityCertSerialNumber&&(o=t.parsedValue.authorityCertSerialNumber));break}function u(t){if(null!==a&&t.extensions){let e=!1;for(const r of t.extensions)if("2.5.29.14"===r.extnID&&r.parsedValue){e=!0,i.vJ.isEqual(r.parsedValue.valueBlock.valueHex,a.valueBlock.valueHexView)&&n.push(t);break}if(e)return}let r=!1;null!==o&&(r=t.serialNumber.isEqual(o)),null!==s?t.subject.isEqual(s)&&r&&n.push(t):e.issuer.isEqual(t.subject)&&n.push(t)}for(const e of t.trustedCerts)u(e);for(const e of t.certs)u(e);for(let t=0;t<n.length;t++)try{!1===await e.verify(n[t],r)&&n.splice(t,1)}catch(e){n.splice(t,1)}return n}defaultValues(e){switch(e){case Tc:case jc:case Vc:case Bc:return[];case Dc:return new Date;case Hc:return Rc.defaultFindOrigin;case Mc:return this.defaultFindIssuer;default:throw new Error(`Invalid member name for CertificateChainValidationEngine class: ${e}`)}}async sort(e=!1,t=yn(!0)){const r=[],n=async(e,t)=>{const r=[];function a(e){let t=!0;for(let r=0;r<e.length;r++){for(let n=0;n<e.length;n++)if(n!==r&&e[r]===e[n]){t=!1;break}if(!t)break}return t}const s=await this.findIssuer(e,this,t);if(0===s.length)throw new Error("No valid certificate paths found");for(let o=0;o<s.length;o++){if(i.vJ.isEqual(s[o].tbsView,e.tbsView)){r.push([s[o]]);continue}const u=await n(s[o],t);for(let e=0;e<u.length;e++){const t=u[e].slice();t.splice(0,0,s[o]),a(t)?r.push(t):r.push(u[e])}}return r},a=async e=>{const n=[],i=[],a=[];if(n.push(...r.filter((t=>e.issuer.isEqual(t.subject)))),0===n.length)return{status:1,statusMessage:"No certificate's issuers"};if(i.push(...this.crls.filter((t=>t.issuer.isEqual(e.issuer)))),0===i.length)return{status:2,statusMessage:"No CRLs for specific certificate issuer"};for(let e=0;e<i.length;e++){const r=i[e];if(!(r.nextUpdate&&r.nextUpdate.value<this.checkDate))for(let r=0;r<n.length;r++)try{if(await i[e].verify({issuerCertificate:n[r]},t)){a.push({crl:i[e],certificate:n[r]});break}}catch(e){}}return a.length?{status:0,statusMessage:c,result:a}:{status:3,statusMessage:"No valid CRLs found"}},s=async(e,r)=>{const n=t.getAlgorithmByOID(e.signatureAlgorithm.algorithmId);if(!n.name)return 1;if(!n.hash)return 1;for(let n=0;n<this.ocsps.length;n++){const i=this.ocsps[n],a=await i.getCertificateStatus(e,r,t);if(a.isForCertificate)return 0===a.status?0:1}return 2};async function o(e,t=!1){let r=!1,n=!1,i=!1,a=!1;if(e.extensions){for(let t=0;t<e.extensions.length;t++){const s=e.extensions[t];if(s.critical&&!s.parsedValue)return{result:!1,resultCode:6,resultMessage:`Unable to parse critical certificate extension: ${s.extnID}`};if("2.5.29.15"===s.extnID){i=!0;const e=new Uint8Array(s.parsedValue.valueBlock.valueHex);4==(4&e[0])&&(n=!0),2==(2&e[0])&&(a=!0)}s.extnID===ne&&"cA"in s.parsedValue&&!0===s.parsedValue.cA&&(r=!0)}if(!0===n&&!1===r)return{result:!1,resultCode:3,resultMessage:'Unable to build certificate chain - using "keyCertSign" flag set without BasicConstraints'};if(!0===i&&!0===r&&!1===n)return{result:!1,resultCode:4,resultMessage:'Unable to build certificate chain - "keyCertSign" flag was not set'};if(!0===r&&!0===i&&t&&!1===a)return{result:!1,resultCode:5,resultMessage:'Unable to build certificate chain - intermediate certificate must have "cRLSign" key usage flag'}}return!1===r?{result:!1,resultCode:7,resultMessage:"Unable to build certificate chain - more than one possible end-user certificate"}:{result:!0,resultCode:0,resultMessage:c}}r.push(...this.trustedCerts),r.push(...this.certs);for(let e=0;e<r.length;e++)for(let t=0;t<r.length;t++)if(e!==t&&i.vJ.isEqual(r[e].tbsView,r[t].tbsView)){r.splice(t,1),e=0;break}let u;const l=[r[r.length-1]];if(u=await n(r[r.length-1],t),0===u.length)throw{result:!1,resultCode:60,resultMessage:"Unable to find certificate path"};for(let e=0;e<u.length;e++){let t=!1;for(let r=0;r<u[e].length;r++){const n=u[e][r];for(let e=0;e<this.trustedCerts.length;e++)if(i.vJ.isEqual(n.tbsView,this.trustedCerts[e].tbsView)){t=!0;break}if(t)break}t||(u.splice(e,1),e=0)}if(0===u.length)throw{result:!1,resultCode:97,resultMessage:"No valid certificate paths found"};let h=u[0].length,f=0;for(let e=0;e<u.length;e++)u[e].length<h&&(h=u[e].length,f=e);for(let e=0;e<u[f].length;e++)l.push(u[f][e]);if(u=await(async(t,r)=>{for(let e=0;e<t.length;e++)if(t[e].notBefore.value>r||t[e].notAfter.value<r)return{result:!1,resultCode:8,resultMessage:"The certificate is either not yet valid or expired"};if(t.length<2)return{result:!1,resultCode:9,resultMessage:"Too short certificate path"};for(let e=t.length-2;e>=0;e--)if(!1===t[e].issuer.isEqual(t[e].subject)&&!1===t[e].issuer.isEqual(t[e+1].subject))return{result:!1,resultCode:10,resultMessage:"Incorrect name chaining"};if(0!==this.crls.length||0!==this.ocsps.length)for(let r=0;r<t.length-1;r++){let n=2,i={status:0,statusMessage:c};if(0!==this.ocsps.length)switch(n=await s(t[r],t[r+1]),n){case 0:continue;case 1:return{result:!1,resultCode:12,resultMessage:"One of certificates was revoked via OCSP response"}}if(0!==this.crls.length){if(i=await a(t[r]),0===i.status&&i.result)for(let e=0;e<i.result.length;e++){if(i.result[e].crl.isCertificateRevoked(t[r]))return{result:!1,resultCode:12,resultMessage:"One of certificates had been revoked"};if(!1===(await o(i.result[e].certificate,!0)).result)return{result:!1,resultCode:13,resultMessage:"CRL issuer certificate is not a CA certificate or does not have crlSign flag"}}else if(!1===e)throw{result:!1,resultCode:11,resultMessage:`No revocation values found for one of certificates: ${i.statusMessage}`}}else if(2===n)return{result:!1,resultCode:11,resultMessage:"No revocation values found for one of certificates"};if(2===n&&2===i.status&&e){const e=t[r+1];let n=!1;if(e.extensions)for(const t of e.extensions)switch(t.extnID){case oe:case ue:case pe:n=!0}if(n)throw{result:!1,resultCode:11,resultMessage:`No revocation values found for one of certificates: ${i.statusMessage}`}}}for(const[e,r]of t.entries()){if(!e)continue;if(!(await o(r)).result)return{result:!1,resultCode:14,resultMessage:"One of intermediate certificates is not a CA certificate"}}return{result:!0}})(l,this.checkDate),!1===u.result)throw u;return l}async verify(e={},t=yn(!0)){function r(e,t){const r=p(e),n=p(t),i=r.split("."),a=n.split("."),s=i.length,o=a.length;if(0===s||0===o||s<o)return!1;for(let e=0;e<s;e++)if(0===i[e].length)return!1;for(let e=0;e<o;e++)if(0===a[e].length){if(0===e){if(1===o)return!1;continue}return!1}for(let e=0;e<o;e++)if(0!==a[o-1-e].length&&0!==i[s-1-e].localeCompare(a[o-1-e]))return!1;return!0}function n(e,t){const n=p(e),i=p(t),a=n.split("@"),s=i.split("@");if(0===a.length||0===s.length||a.length<s.length)return!1;if(1===s.length){if(r(a[1],s[0])){const e=a[1].split("."),t=s[0].split(".");return 0===t[0].length||e.length===t.length}return!1}return 0===n.localeCompare(i)}function i(e,t){let n=p(e);const i=p(t),a=n.split("/");if(i.split("/").length>1)return!1;if(a.length>1)for(let e=0;e<a.length;e++)if(a[e].length>0&&":"!==a[e].charAt(a[e].length-1)){n=a[e].split(":")[0];break}if(r(n,i)){const e=n.split("."),t=i.split(".");return 0===t[0].length||e.length===t.length}return!1}function a(e,t){const r=e.valueBlock.valueHexView,n=t.valueBlock.valueHexView;if(4===r.length&&8===n.length){for(let e=0;e<4;e++)if((r[e]^n[e])&n[e+4])return!1;return!0}if(16===r.length&&32===n.length){for(let e=0;e<16;e++)if((r[e]^n[e])&n[e+16])return!1;return!0}return!1}function s(e,t){if(0===e.typesAndValues.length||0===t.typesAndValues.length)return!0;if(e.typesAndValues.length<t.typesAndValues.length)return!1;let r=!0,n=0;for(let i=0;i<t.typesAndValues.length;i++){let a=!1;for(let s=n;s<e.typesAndValues.length;s++)if(a=e.typesAndValues[s].isEqual(t.typesAndValues[i]),e.typesAndValues[s].type===t.typesAndValues[i].type&&(r=r&&a),!0===a){if(0===n||n===s){n=s+1;break}return!1}if(!1===a)return!1}return 0!==n&&r}try{if(0===this.certs.length)throw new Error("Empty certificate array");const o=e.passedWhenNotRevValues||!1,u=e.initialPolicySet||[le],l=e.initialExplicitPolicy||!1,h=e.initialPolicyMappingInhibit||!1,f=e.initialInhibitPolicy||!1,d=e.initialPermittedSubtreesSet||[],p=e.initialExcludedSubtreesSet||[],m=e.initialRequiredNameForms||[];let b=l,v=h,y=f;const g=[!1,!1,!1];let w=0,S=0,_=0,A=d,k=p;const E=m;let O=1;this.certs=await this.sort(o,t);const C=[];C.push(le);const N=[],x=new Array(this.certs.length-1);for(let e=0;e<this.certs.length-1;e++)x[e]=!0;N.push(x);const P=new Array(this.certs.length-1),I=new Array(this.certs.length-1);let T=b?this.certs.length-1:-1;for(let e=this.certs.length-2;e>=0;e--,O++){const t=this.certs[e];if(t.extensions){for(let r=0;r<t.extensions.length;r++){const n=t.extensions[r];if(n.extnID===ce){I[e]=n.parsedValue;for(let t=0;t<C.length;t++)if(C[t]===le){delete N[t][e];break}for(let t=0;t<n.parsedValue.certificatePolicies.length;t++){let r=-1;const i=n.parsedValue.certificatePolicies[t].policyIdentifier;for(let e=0;e<C.length;e++)if(i===C[e]){r=e;break}if(-1===r){C.push(i);const t=new Array(this.certs.length-1);t[e]=!0,N.push(t)}else N[r][e]=!0}}if(n.extnID===he){if(v)return{result:!1,resultCode:98,resultMessage:"Policy mapping prohibited"};P[e]=n.parsedValue}n.extnID===de&&!1===b&&(0===n.parsedValue.requireExplicitPolicy?(b=!0,T=e):!1===g[0]?(g[0]=!0,w=n.parsedValue.requireExplicitPolicy):w=w>n.parsedValue.requireExplicitPolicy?n.parsedValue.requireExplicitPolicy:w,0===n.parsedValue.inhibitPolicyMapping?v=!0:!1===g[1]?(g[1]=!0,S=n.parsedValue.inhibitPolicyMapping+1):S=S>n.parsedValue.inhibitPolicyMapping+1?n.parsedValue.inhibitPolicyMapping+1:S),"2.5.29.54"===n.extnID&&!1===y&&(0===n.parsedValue.valueBlock.valueDec?y=!0:!1===g[2]?(g[2]=!0,_=n.parsedValue.valueBlock.valueDec):_=_>n.parsedValue.valueBlock.valueDec?n.parsedValue.valueBlock.valueDec:_)}if(!0===y){let t=-1;for(let e=0;e<C.length;e++)if(C[e]===le){t=e;break}-1!==t&&delete N[0][e]}!1===b&&!0===g[0]&&(w--,0===w&&(b=!0,T=e,g[0]=!1)),!1===v&&!0===g[1]&&(S--,0===S&&(v=!0,g[1]=!1)),!1===y&&!0===g[2]&&(_--,0===_&&(y=!0,g[2]=!1))}}for(let e=0;e<this.certs.length-1;e++)if(e<this.certs.length-2&&void 0!==P[e+1])for(let t=0;t<P[e+1].mappings.length;t++){if(P[e+1].mappings[t].issuerDomainPolicy===le||P[e+1].mappings[t].subjectDomainPolicy===le)return{result:!1,resultCode:99,resultMessage:'The "anyPolicy" should not be a part of policy mapping scheme'};let r=-1,n=-1;for(let i=0;i<C.length;i++)C[i]===P[e+1].mappings[t].issuerDomainPolicy&&(r=i),C[i]===P[e+1].mappings[t].subjectDomainPolicy&&(n=i);void 0!==N[r][e]&&delete N[r][e];for(let i=0;i<I[e].certificatePolicies.length;i++)if(P[e+1].mappings[t].subjectDomainPolicy===I[e].certificatePolicies[i].policyIdentifier&&-1!==r&&-1!==n)for(let t=0;t<=e;t++)void 0!==N[n][t]&&(N[r][t]=!0,delete N[n][t])}for(let e=0;e<C.length;e++)if(C[e]===le)for(let t=0;t<T;t++)delete N[e][t];const j=[];for(let e=0;e<N.length;e++){let t=!0;for(let r=0;r<this.certs.length-1;r++){let n=!1;if(r<T&&C[e]===le&&C.length>1){t=!1;break}if(void 0===N[e][r]){if(r>=T)for(let e=0;e<C.length;e++)if(C[e]===le){!0===N[e][r]&&(n=!0);break}if(!n){t=!1;break}}}!0===t&&j.push(C[e])}let V=[];if(1===u.length&&u[0]===le&&!1===b)V=u;else if(1===j.length&&j[0]===le)V=u;else for(let e=0;e<j.length;e++)for(let t=0;t<u.length;t++)if(u[t]===j[e]||u[t]===le){V.push(j[e]);break}const B={result:V.length>0,resultCode:0,resultMessage:V.length>0?c:'Zero "userConstrPolicies" array, no intersections with "authConstrPolicies"',authConstrPolicies:j,userConstrPolicies:V,explicitPolicyIndicator:b,policyMappings:P,certificatePath:this.certs};if(0===V.length)return B;if(!1===B.result)return B;O=1;for(let e=this.certs.length-2;e>=0;e--,O++){const t=this.certs[e];let o=[],u=[],c=[];if(t.extensions)for(let e=0;e<t.extensions.length;e++){const r=t.extensions[e];r.extnID===se&&("permittedSubtrees"in r.parsedValue&&(u=u.concat(r.parsedValue.permittedSubtrees)),"excludedSubtrees"in r.parsedValue&&(c=c.concat(r.parsedValue.excludedSubtrees))),r.extnID===te&&(o=o.concat(r.parsedValue.altNames))}let l=E.length<=0;for(let e=0;e<E.length;e++)switch(E[e].base.type){case 4:if(E[e].base.value.typesAndValues.length!==t.subject.typesAndValues.length)continue;l=!0;for(let r=0;r<t.subject.typesAndValues.length;r++)if(t.subject.typesAndValues[r].type!==E[e].base.value.typesAndValues[r].type){l=!1;break}if(!0===l)break}if(!1===l)throw B.result=!1,B.resultCode=21,B.resultMessage="No necessary name form found",B;const h=[[],[],[],[],[]];for(let e=0;e<A.length;e++)switch(A[e].base.type){case 1:h[0].push(A[e]);break;case 2:h[1].push(A[e]);break;case 4:h[2].push(A[e]);break;case 6:h[3].push(A[e]);break;case 7:h[4].push(A[e])}for(let e=0;e<5;e++){let u=!1,c=!1;const l=h[e];for(let h=0;h<l.length;h++){switch(e){case 0:if(o.length>0)for(let e=0;e<o.length;e++)1===o[e].type&&(c=!0,u=u||n(o[e].value,l[h].base.value));else for(let e=0;e<t.subject.typesAndValues.length;e++)"1.2.840.113549.1.9.1"!==t.subject.typesAndValues[e].type&&"0.9.2342.19200300.100.1.3"!==t.subject.typesAndValues[e].type||(c=!0,u=u||n(t.subject.typesAndValues[e].value.valueBlock.value,l[h].base.value));break;case 1:if(o.length>0)for(let e=0;e<o.length;e++)2===o[e].type&&(c=!0,u=u||r(o[e].value,l[h].base.value));break;case 2:c=!0,u=s(t.subject,l[h].base.value);break;case 3:if(o.length>0)for(let e=0;e<o.length;e++)6===o[e].type&&(c=!0,u=u||i(o[e].value,l[h].base.value));break;case 4:if(o.length>0)for(let e=0;e<o.length;e++)7===o[e].type&&(c=!0,u=u||a(o[e].value,l[h].base.value))}if(u)break}if(!1===u&&l.length>0&&c)throw B.result=!1,B.resultCode=41,B.resultMessage='Failed to meet "permitted sub-trees" name constraint',B}let f=!1;for(let e=0;e<k.length;e++){switch(k[e].base.type){case 1:if(o.length>=0)for(let t=0;t<o.length;t++)1===o[t].type&&(f=f||n(o[t].value,k[e].base.value));else for(let r=0;r<t.subject.typesAndValues.length;r++)"1.2.840.113549.1.9.1"!==t.subject.typesAndValues[r].type&&"0.9.2342.19200300.100.1.3"!==t.subject.typesAndValues[r].type||(f=f||n(t.subject.typesAndValues[r].value.valueBlock.value,k[e].base.value));break;case 2:if(o.length>0)for(let t=0;t<o.length;t++)2===o[t].type&&(f=f||r(o[t].value,k[e].base.value));break;case 4:f=f||s(t.subject,k[e].base.value);break;case 6:if(o.length>0)for(let t=0;t<o.length;t++)6===o[t].type&&(f=f||i(o[t].value,k[e].base.value));break;case 7:if(o.length>0)for(let t=0;t<o.length;t++)7===o[t].type&&(f=f||a(o[t].value,k[e].base.value))}if(f)break}if(!0===f)throw B.result=!1,B.resultCode=42,B.resultMessage='Failed to meet "excluded sub-trees" name constraint',B;A=A.concat(u),k=k.concat(c)}return B}catch(e){if(e instanceof Object){if("resultMessage"in e)return e;if("message"in e)return{result:!1,resultCode:-1,resultMessage:e.message}}return{result:!1,resultCode:-1,resultMessage:e}}}}const Lc="tbsResponseData",$c="signatureAlgorithm",Uc="signature",Fc="certs",Kc="BasicOCSPResponse",zc=`${Kc}.${Lc}`,Wc=`${Kc}.${$c}`,qc=`${Kc}.${Uc}`,Zc=`${Kc}.${Fc}`,Jc=[zc,Wc,qc,Zc];class Gc extends d{constructor(e={}){super(),this.tbsResponseData=a.H$(e,Lc,Gc.defaultValues(Lc)),this.signatureAlgorithm=a.H$(e,$c,Gc.defaultValues($c)),this.signature=a.H$(e,Uc,Gc.defaultValues(Uc)),Fc in e&&(this.certs=a.H$(e,Fc,Gc.defaultValues(Fc))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Lc:return new Ic;case $c:return new L;case Uc:return new n._K;case Fc:return[];default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case"type":{let e=Ic.compareWithDefault("tbs",t.tbs)&&Ic.compareWithDefault("responderID",t.responderID)&&Ic.compareWithDefault("producedAt",t.producedAt)&&Ic.compareWithDefault("responses",t.responses);return"responseExtensions"in t&&(e=e&&Ic.compareWithDefault("responseExtensions",t.responseExtensions)),e}case $c:return t.algorithmId===c&&"algorithmParams"in t==!1;case Uc:return t.isEqual(Gc.defaultValues(e));case Fc:return 0===t.length;default:return super.defaultValues(e)}}static schema(e={}){const t=a.H$(e,"names",{});return new n.T9({name:t.blockName||Kc,value:[Ic.schema(t.tbsResponseData||{names:{blockName:zc}}),L.schema(t.signatureAlgorithm||{names:{blockName:Wc}}),new n._K({name:t.signature||qc}),new n.FC({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new n.T9({value:[new n.ZD({name:Zc,value:Ha.schema(t.certs||{})})]})]})]})}fromSchema(e){a.ze(e,Jc);const t=n.eN(e,e,Gc.schema());f.assertSchema(t,this.className),this.tbsResponseData=new Ic({schema:t.result[zc]}),this.signatureAlgorithm=new L({schema:t.result[Wc]}),this.signature=t.result[qc],Zc in t.result&&(this.certs=Array.from(t.result[Zc],(e=>new Ha({schema:e}))))}toSchema(){const e=[];return e.push(this.tbsResponseData.toSchema()),e.push(this.signatureAlgorithm.toSchema()),e.push(this.signature),this.certs&&e.push(new n.FC({idBlock:{tagClass:3,tagNumber:0},value:[new n.T9({value:Array.from(this.certs,(e=>e.toSchema()))})]})),new n.T9({value:e})}toJSON(){const e={tbsResponseData:this.tbsResponseData.toJSON(),signatureAlgorithm:this.signatureAlgorithm.toJSON(),signature:this.signature.toJSON()};return this.certs&&(e.certs=Array.from(this.certs,(e=>e.toJSON()))),e}async getCertificateStatus(e,t,r=yn(!0)){const n={isForCertificate:!1,status:2},i={},a=[];for(const n of this.tbsResponseData.responses){const s=r.getAlgorithmByOID(n.certID.hashAlgorithm.algorithmId,!0,"CertID.hashAlgorithm");if(!i[s.name]){i[s.name]=1;const n=new lc;a.push(n),await n.createForCertificate(e,{hashAlgorithm:s.name,issuerCertificate:t},r)}}for(const e of this.tbsResponseData.responses)for(const t of a)if(e.certID.isEqual(t)){n.isForCertificate=!0;try{switch(e.certStatus.idBlock.isConstructed){case!0:1===e.certStatus.idBlock.tagNumber&&(n.status=1);break;case!1:switch(e.certStatus.idBlock.tagNumber){case 0:n.status=0;break;case 2:n.status=2}}}catch(e){}return n}return n}async sign(e,t="SHA-1",r=yn(!0)){if(!e)throw new Error("Need to provide a private key for signing");const i=await r.getSignatureParameters(e,t),a=i.parameters.algorithm;if(!("name"in a))throw new Error("Empty algorithm");this.signatureAlgorithm=i.signatureAlgorithm,this.tbsResponseData.tbsView=new Uint8Array(this.tbsResponseData.toSchema(!0).toBER());const s=await r.signWithPrivateKey(this.tbsResponseData.tbsView,e,{algorithm:a});this.signature=new n._K({valueHex:s})}async verify(e={},t=yn(!0)){let r=null,i=-1;const s=e.trustedCerts||[];if(!this.certs)throw new Error("No certificates attached to the BasicOCSPResponse");switch(!0){case this.tbsResponseData.responderID instanceof w:for(const[e,t]of this.certs.entries())if(t.subject.isEqual(this.tbsResponseData.responderID)){i=e;break}break;case this.tbsResponseData.responderID instanceof n.fi:for(const[e,r]of this.certs.entries()){const n=await t.digest({name:"sha-1"},r.subjectPublicKeyInfo.subjectPublicKey.valueBlock.valueHexView);if(a.dN(n,this.tbsResponseData.responderID.valueBlock.valueHex)){i=e;break}}break;default:throw new Error("Wrong value for responderID")}if(-1===i)throw new Error("Correct certificate was not found in OCSP response");r=this.certs[i];const o=[r];for(const e of this.certs){const t=await Ma(e,r);t&&o.push(t)}const u=new Rc({certs:o,trustedCerts:s});if(!(await u.verify({},t)).result)throw new Error("Validation of signer's certificate failed");return t.verifyWithPublicKey(this.tbsResponseData.tbsView,this.signature,this.certs[i].subjectPublicKeyInfo,this.signatureAlgorithm)}}Gc.CLASS_NAME="BasicOCSPResponse";const Yc="tbs",Xc="version",Qc="subject",el="subjectPublicKeyInfo",tl="attributes",rl="signatureAlgorithm",nl="signatureValue",il="CertificationRequestInfo",al=`${il}.version`,sl=`${il}.subject`,ol=`${il}.subjectPublicKeyInfo`,ul=`${il}.attributes`,cl=[il,al,sl,ol,ul,rl,nl];function ll(e={}){const t=a.H$(e,"names",{});return new n.T9({name:t.CertificationRequestInfo||il,value:[new n.z8({name:t.CertificationRequestInfoVersion||al}),w.schema(t.subject||{names:{blockName:sl}}),fr.schema({names:{blockName:ol}}),new n.FC({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new n.ZD({optional:!0,name:t.CertificationRequestInfoAttributes||ul,value:q.schema(t.attributes||{})})]})]})}class hl extends d{constructor(e={}){super(),this.tbsView=new Uint8Array(a.H$(e,Yc,hl.defaultValues(Yc))),this.version=a.H$(e,Xc,hl.defaultValues(Xc)),this.subject=a.H$(e,Qc,hl.defaultValues(Qc)),this.subjectPublicKeyInfo=a.H$(e,el,hl.defaultValues(el)),tl in e&&(this.attributes=a.H$(e,tl,hl.defaultValues(tl))),this.signatureAlgorithm=a.H$(e,rl,hl.defaultValues(rl)),this.signatureValue=a.H$(e,nl,hl.defaultValues(nl)),e.schema&&this.fromSchema(e.schema)}get tbs(){return i.vJ.toArrayBuffer(this.tbsView)}set tbs(e){this.tbsView=new Uint8Array(e)}static defaultValues(e){switch(e){case Yc:return u;case Xc:return 0;case Qc:return new w;case el:return new fr;case tl:return[];case rl:return new L;case nl:return new n._K;default:return super.defaultValues(e)}}static schema(e={}){const t=a.H$(e,"names",{});return new n.T9({value:[ll(t.certificationRequestInfo||{}),new n.T9({name:t.signatureAlgorithm||rl,value:[new n.rP,new n.IK({optional:!0})]}),new n._K({name:t.signatureValue||nl})]})}fromSchema(e){a.ze(e,cl);const t=n.eN(e,e,hl.schema());f.assertSchema(t,this.className),this.tbsView=t.result.CertificationRequestInfo.valueBeforeDecodeView,this.version=t.result[al].valueBlock.valueDec,this.subject=new w({schema:t.result[sl]}),this.subjectPublicKeyInfo=new fr({schema:t.result[ol]}),ul in t.result&&(this.attributes=Array.from(t.result[ul],(e=>new q({schema:e})))),this.signatureAlgorithm=new L({schema:t.result.signatureAlgorithm}),this.signatureValue=t.result.signatureValue}encodeTBS(){const e=[new n.z8({value:this.version}),this.subject.toSchema(),this.subjectPublicKeyInfo.toSchema()];return tl in this&&e.push(new n.FC({idBlock:{tagClass:3,tagNumber:0},value:Array.from(this.attributes||[],(e=>e.toSchema()))})),new n.T9({value:e})}toSchema(e=!1){let t;if(!1===e){if(0===this.tbsView.byteLength)return hl.schema();const e=n.sc(this.tbsView);f.assert(e,"PKCS#10 Certificate Request"),t=e.result}else t=this.encodeTBS();return new n.T9({value:[t,this.signatureAlgorithm.toSchema(),this.signatureValue]})}toJSON(){const e={tbs:i.ep.ToHex(this.tbsView),version:this.version,subject:this.subject.toJSON(),subjectPublicKeyInfo:this.subjectPublicKeyInfo.toJSON(),signatureAlgorithm:this.signatureAlgorithm.toJSON(),signatureValue:this.signatureValue.toJSON()};return tl in this&&(e.attributes=Array.from(this.attributes||[],(e=>e.toJSON()))),e}async sign(e,t="SHA-1",r=yn(!0)){if(!e)throw new Error("Need to provide a private key for signing");const i=await r.getSignatureParameters(e,t),a=i.parameters;this.signatureAlgorithm=i.signatureAlgorithm,this.tbsView=new Uint8Array(this.encodeTBS().toBER());const s=await r.signWithPrivateKey(this.tbsView,e,a);this.signatureValue=new n._K({valueHex:s})}async verify(e=yn(!0)){return e.verifyWithPublicKey(this.tbsView,this.signatureValue,this.subjectPublicKeyInfo,this.signatureAlgorithm)}async getPublicKey(e,t=yn(!0)){return t.getPublicKey(this.subjectPublicKeyInfo,this.signatureAlgorithm,e)}}hl.CLASS_NAME="CertificationRequest";const fl="digestAlgorithm",dl="digest",pl=[fl,dl];class ml extends d{constructor(e={}){super(),this.digestAlgorithm=a.H$(e,fl,ml.defaultValues(fl)),this.digest=a.H$(e,dl,ml.defaultValues(dl)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case fl:return new L;case dl:return new n.fi;default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case fl:return L.compareWithDefault("algorithmId",t.algorithmId)&&"algorithmParams"in t==!1;case dl:return t.isEqual(ml.defaultValues(e));default:return super.defaultValues(e)}}static schema(e={}){const t=a.H$(e,"names",{});return new n.T9({name:t.blockName||c,value:[L.schema(t.digestAlgorithm||{names:{blockName:fl}}),new n.fi({name:t.digest||dl})]})}fromSchema(e){a.ze(e,pl);const t=n.eN(e,e,ml.schema({names:{digestAlgorithm:{names:{blockName:fl}},digest:dl}}));f.assertSchema(t,this.className),this.digestAlgorithm=new L({schema:t.result.digestAlgorithm}),this.digest=t.result.digest}toSchema(){return new n.T9({value:[this.digestAlgorithm.toSchema(),this.digest]})}toJSON(){return{digestAlgorithm:this.digestAlgorithm.toJSON(),digest:this.digest.toJSON()}}}ml.CLASS_NAME="DigestInfo";const bl="eContentType",vl="eContent",yl=[bl,vl];class gl extends d{constructor(e={}){if(super(),this.eContentType=a.H$(e,bl,gl.defaultValues(bl)),vl in e&&(this.eContent=a.H$(e,vl,gl.defaultValues(vl)),1===this.eContent.idBlock.tagClass&&4===this.eContent.idBlock.tagNumber&&!1===this.eContent.idBlock.isConstructed)){const e=new n.fi({idBlock:{isConstructed:!0},isConstructed:!0});let t=0;const r=this.eContent.valueBlock.valueHexView.slice().buffer;let i=r.byteLength;for(;i>0;){const a=new Uint8Array(r,t,t+65536>r.byteLength?r.byteLength-t:65536),s=new ArrayBuffer(a.length),o=new Uint8Array(s);for(let e=0;e<o.length;e++)o[e]=a[e];e.valueBlock.value.push(new n.fi({valueHex:s})),i-=a.length,t+=a.length}this.eContent=e}e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case bl:return c;case vl:return new n.fi;default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case bl:return t===c;case vl:return 1===t.idBlock.tagClass&&4===t.idBlock.tagNumber&&t.isEqual(gl.defaultValues(vl));default:return super.defaultValues(e)}}static schema(e={}){const t=a.H$(e,"names",{});return new n.T9({name:t.blockName||c,value:[new n.rP({name:t.eContentType||c}),new n.FC({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new n.IK({name:t.eContent||c})]})]})}fromSchema(e){a.ze(e,yl);const t=n.eN(e,e,gl.schema({names:{eContentType:bl,eContent:vl}}));f.assertSchema(t,this.className),this.eContentType=t.result.eContentType.valueBlock.toString(),vl in t.result&&(this.eContent=t.result.eContent)}toSchema(){const e=[];return e.push(new n.rP({value:this.eContentType})),this.eContent&&!1===gl.compareWithDefault(vl,this.eContent)&&e.push(new n.FC({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[this.eContent]})),new n.T9({value:e})}toJSON(){const e={eContentType:this.eContentType};return this.eContent&&!1===gl.compareWithDefault(vl,this.eContent)&&(e.eContent=this.eContent.toJSON()),e}}gl.CLASS_NAME="EncapsulatedContentInfo";const wl="mac",Sl="macSalt",_l="iterations",Al=[wl,Sl,_l];class kl extends d{constructor(e={}){super(),this.mac=a.H$(e,wl,kl.defaultValues(wl)),this.macSalt=a.H$(e,Sl,kl.defaultValues(Sl)),_l in e&&(this.iterations=a.H$(e,_l,kl.defaultValues(_l))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case wl:return new ml;case Sl:return new n.fi;case _l:return 1;default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case wl:return ml.compareWithDefault("digestAlgorithm",t.digestAlgorithm)&&ml.compareWithDefault("digest",t.digest);case Sl:return t.isEqual(kl.defaultValues(e));case _l:return t===kl.defaultValues(e);default:return super.defaultValues(e)}}static schema(e={}){const t=a.H$(e,"names",{});return new n.T9({name:t.blockName||c,optional:t.optional||!0,value:[ml.schema(t.mac||{names:{blockName:wl}}),new n.fi({name:t.macSalt||Sl}),new n.z8({optional:!0,name:t.iterations||_l})]})}fromSchema(e){a.ze(e,Al);const t=n.eN(e,e,kl.schema({names:{mac:{names:{blockName:wl}},macSalt:Sl,iterations:_l}}));f.assertSchema(t,this.className),this.mac=new ml({schema:t.result.mac}),this.macSalt=t.result.macSalt,_l in t.result&&(this.iterations=t.result.iterations.valueBlock.valueDec)}toSchema(){const e=[this.mac.toSchema(),this.macSalt];return void 0!==this.iterations&&e.push(new n.z8({value:this.iterations})),new n.T9({value:e})}toJSON(){const e={mac:this.mac.toJSON(),macSalt:this.macSalt.toJSON()};return void 0!==this.iterations&&(e.iterations=this.iterations),e}}kl.CLASS_NAME="MacData";const El="hashAlgorithm",Ol="hashedMessage",Cl=[El,Ol];class Nl extends d{constructor(e={}){super(),this.hashAlgorithm=a.H$(e,El,Nl.defaultValues(El)),this.hashedMessage=a.H$(e,Ol,Nl.defaultValues(Ol)),e.schema&&this.fromSchema(e.schema)}static async create(e,t,r=yn(!0)){const i=r.getOIDByAlgorithm({name:e},!0,"hashAlgorithm"),a=await r.digest(e,t);return new Nl({hashAlgorithm:new L({algorithmId:i,algorithmParams:new n.p2}),hashedMessage:new n.fi({valueHex:a})})}static defaultValues(e){switch(e){case El:return new L;case Ol:return new n.fi;default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case El:return t.algorithmId===c&&"algorithmParams"in t==!1;case Ol:return 0===t.isEqual(Nl.defaultValues(e));default:return super.defaultValues(e)}}static schema(e={}){const t=a.H$(e,"names",{});return new n.T9({name:t.blockName||c,value:[L.schema(t.hashAlgorithm||{}),new n.fi({name:t.hashedMessage||c})]})}fromSchema(e){a.ze(e,Cl);const t=n.eN(e,e,Nl.schema({names:{hashAlgorithm:{names:{blockName:El}},hashedMessage:Ol}}));f.assertSchema(t,this.className),this.hashAlgorithm=new L({schema:t.result.hashAlgorithm}),this.hashedMessage=t.result.hashedMessage}toSchema(){return new n.T9({value:[this.hashAlgorithm.toSchema(),this.hashedMessage]})}toJSON(){return{hashAlgorithm:this.hashAlgorithm.toJSON(),hashedMessage:this.hashedMessage.toJSON()}}}Nl.CLASS_NAME="MessageImprint";const xl="reqCert",Pl="singleRequestExtensions",Il=[xl,Pl];class Tl extends d{constructor(e={}){super(),this.reqCert=a.H$(e,xl,Tl.defaultValues(xl)),Pl in e&&(this.singleRequestExtensions=a.H$(e,Pl,Tl.defaultValues(Pl))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case xl:return new lc;case Pl:return[];default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case xl:return t.isEqual(Tl.defaultValues(e));case Pl:return 0===t.length;default:return super.defaultValues(e)}}static schema(e={}){const t=a.H$(e,"names",{});return new n.T9({name:t.blockName||c,value:[lc.schema(t.reqCert||{}),new n.FC({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[Zn.schema(t.extensions||{names:{blockName:t.singleRequestExtensions||c}})]})]})}fromSchema(e){a.ze(e,Il);const t=n.eN(e,e,Tl.schema({names:{reqCert:{names:{blockName:xl}},extensions:{names:{blockName:Pl}}}}));f.assertSchema(t,this.className),this.reqCert=new lc({schema:t.result.reqCert}),Pl in t.result&&(this.singleRequestExtensions=Array.from(t.result.singleRequestExtensions.valueBlock.value,(e=>new Zn({schema:e}))))}toSchema(){const e=[];return e.push(this.reqCert.toSchema()),this.singleRequestExtensions&&e.push(new n.FC({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new n.T9({value:Array.from(this.singleRequestExtensions,(e=>e.toSchema()))})]})),new n.T9({value:e})}toJSON(){const e={reqCert:this.reqCert.toJSON()};return this.singleRequestExtensions&&(e.singleRequestExtensions=Array.from(this.singleRequestExtensions,(e=>e.toJSON()))),e}}Tl.CLASS_NAME="Request";const jl="tbs",Vl="version",Bl="requestorName",Dl="requestList",Hl="requestExtensions",Ml="TBSRequest",Rl=`${Ml}.${Vl}`,Ll=`${Ml}.${Bl}`,$l=`${Ml}.requests`,Ul=`${Ml}.${Hl}`,Fl=[Ml,Rl,Ll,$l,Ul];class Kl extends d{constructor(e={}){super(),this.tbsView=new Uint8Array(a.H$(e,jl,Kl.defaultValues(jl))),Vl in e&&(this.version=a.H$(e,Vl,Kl.defaultValues(Vl))),Bl in e&&(this.requestorName=a.H$(e,Bl,Kl.defaultValues(Bl))),this.requestList=a.H$(e,Dl,Kl.defaultValues(Dl)),Hl in e&&(this.requestExtensions=a.H$(e,Hl,Kl.defaultValues(Hl))),e.schema&&this.fromSchema(e.schema)}get tbs(){return i.vJ.toArrayBuffer(this.tbsView)}set tbs(e){this.tbsView=new Uint8Array(e)}static defaultValues(e){switch(e){case jl:return u;case Vl:return 0;case Bl:return new O;case Dl:case Hl:return[];default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case jl:return 0===t.byteLength;case Vl:return t===Kl.defaultValues(e);case Bl:return t.type===O.defaultValues("type")&&0===Object.keys(t.value).length;case Dl:case Hl:return 0===t.length;default:return super.defaultValues(e)}}static schema(e={}){const t=a.H$(e,"names",{});return new n.T9({name:t.blockName||Ml,value:[new n.FC({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new n.z8({name:t.TBSRequestVersion||Rl})]}),new n.FC({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[O.schema(t.requestorName||{names:{blockName:Ll}})]}),new n.T9({name:t.requestList||"TBSRequest.requestList",value:[new n.ZD({name:t.requests||$l,value:Tl.schema(t.requestNames||{})})]}),new n.FC({optional:!0,idBlock:{tagClass:3,tagNumber:2},value:[Yn.schema(t.extensions||{names:{blockName:t.requestExtensions||Ul}})]})]})}fromSchema(e){a.ze(e,Fl);const t=n.eN(e,e,Kl.schema());f.assertSchema(t,this.className),this.tbsView=t.result.TBSRequest.valueBeforeDecodeView,Rl in t.result&&(this.version=t.result[Rl].valueBlock.valueDec),Ll in t.result&&(this.requestorName=new O({schema:t.result[Ll]})),this.requestList=Array.from(t.result[$l],(e=>new Tl({schema:e}))),Ul in t.result&&(this.requestExtensions=Array.from(t.result[Ul].valueBlock.value,(e=>new Zn({schema:e}))))}toSchema(e=!1){let t;if(!1===e){if(0===this.tbsView.byteLength)return Kl.schema();const e=n.sc(this.tbsView);if(f.assert(e,"TBS Request"),!(e.result instanceof n.T9))throw new Error("ASN.1 result should be SEQUENCE");t=e.result}else{const e=[];void 0!==this.version&&e.push(new n.FC({idBlock:{tagClass:3,tagNumber:0},value:[new n.z8({value:this.version})]})),this.requestorName&&e.push(new n.FC({idBlock:{tagClass:3,tagNumber:1},value:[this.requestorName.toSchema()]})),e.push(new n.T9({value:Array.from(this.requestList,(e=>e.toSchema()))})),this.requestExtensions&&e.push(new n.FC({idBlock:{tagClass:3,tagNumber:2},value:[new n.T9({value:Array.from(this.requestExtensions,(e=>e.toSchema()))})]})),t=new n.T9({value:e})}return t}toJSON(){const e={};return null!=this.version&&(e.version=this.version),this.requestorName&&(e.requestorName=this.requestorName.toJSON()),e.requestList=Array.from(this.requestList,(e=>e.toJSON())),this.requestExtensions&&(e.requestExtensions=Array.from(this.requestExtensions,(e=>e.toJSON()))),e}}Kl.CLASS_NAME="TBSRequest";const zl="signatureAlgorithm",Wl="signature",ql="certs";class Zl extends d{constructor(e={}){super(),this.signatureAlgorithm=a.H$(e,zl,Zl.defaultValues(zl)),this.signature=a.H$(e,Wl,Zl.defaultValues(Wl)),ql in e&&(this.certs=a.H$(e,ql,Zl.defaultValues(ql))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case zl:return new L;case Wl:return new n._K;case ql:return[];default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case zl:return t.algorithmId===c&&"algorithmParams"in t==!1;case Wl:return t.isEqual(Zl.defaultValues(e));case ql:return 0===t.length;default:return super.defaultValues(e)}}static schema(e={}){const t=a.H$(e,"names",{});return new n.T9({name:t.blockName||c,value:[L.schema(t.signatureAlgorithm||{}),new n._K({name:t.signature||c}),new n.FC({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new n.T9({value:[new n.ZD({name:t.certs||c,value:Ha.schema({})})]})]})]})}fromSchema(e){a.ze(e,[zl,Wl,ql]);const t=n.eN(e,e,Zl.schema({names:{signatureAlgorithm:{names:{blockName:zl}},signature:Wl,certs:ql}}));f.assertSchema(t,this.className),this.signatureAlgorithm=new L({schema:t.result.signatureAlgorithm}),this.signature=t.result.signature,ql in t.result&&(this.certs=Array.from(t.result.certs,(e=>new Ha({schema:e}))))}toSchema(){const e=[];return e.push(this.signatureAlgorithm.toSchema()),e.push(this.signature),this.certs&&e.push(new n.FC({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new n.T9({value:Array.from(this.certs,(e=>e.toSchema()))})]})),new n.T9({value:e})}toJSON(){const e={signatureAlgorithm:this.signatureAlgorithm.toJSON(),signature:this.signature.toJSON()};return this.certs&&(e.certs=Array.from(this.certs,(e=>e.toJSON()))),e}}Zl.CLASS_NAME="Signature";const Jl="tbsRequest",Gl="optionalSignature",Yl=[Jl,Gl];class Xl extends d{constructor(e={}){super(),this.tbsRequest=a.H$(e,Jl,Xl.defaultValues(Jl)),Gl in e&&(this.optionalSignature=a.H$(e,Gl,Xl.defaultValues(Gl))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Jl:return new Kl;case Gl:return new Zl;default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case Jl:return Kl.compareWithDefault("tbs",t.tbs)&&Kl.compareWithDefault("version",t.version)&&Kl.compareWithDefault("requestorName",t.requestorName)&&Kl.compareWithDefault("requestList",t.requestList)&&Kl.compareWithDefault("requestExtensions",t.requestExtensions);case Gl:return Zl.compareWithDefault("signatureAlgorithm",t.signatureAlgorithm)&&Zl.compareWithDefault("signature",t.signature)&&Zl.compareWithDefault("certs",t.certs);default:return super.defaultValues(e)}}static schema(e={}){const t=a.H$(e,"names",{});return new n.T9({name:t.blockName||"OCSPRequest",value:[Kl.schema(t.tbsRequest||{names:{blockName:Jl}}),new n.FC({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[Zl.schema(t.optionalSignature||{names:{blockName:Gl}})]})]})}fromSchema(e){a.ze(e,Yl);const t=n.eN(e,e,Xl.schema());f.assertSchema(t,this.className),this.tbsRequest=new Kl({schema:t.result.tbsRequest}),Gl in t.result&&(this.optionalSignature=new Zl({schema:t.result.optionalSignature}))}toSchema(e=!1){const t=[];return t.push(this.tbsRequest.toSchema(e)),this.optionalSignature&&t.push(new n.FC({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[this.optionalSignature.toSchema()]})),new n.T9({value:t})}toJSON(){const e={tbsRequest:this.tbsRequest.toJSON()};return this.optionalSignature&&(e.optionalSignature=this.optionalSignature.toJSON()),e}async createForCertificate(e,t,r=yn(!0)){const n=new lc;await n.createForCertificate(e,t,r),this.tbsRequest.requestList.push(new Tl({reqCert:n}))}async sign(e,t="SHA-1",r=yn(!0)){if(h.assertEmpty(e,"privateKey","OCSPRequest.sign method"),!this.optionalSignature)throw new Error('Need to create "optionalSignature" field before signing');const i=await r.getSignatureParameters(e,t),a=i.parameters;this.optionalSignature.signatureAlgorithm=i.signatureAlgorithm;const s=this.tbsRequest.toSchema(!0).toBER(!1),o=await r.signWithPrivateKey(s,e,a);this.optionalSignature.signature=new n._K({valueHex:o})}verify(){}}Xl.CLASS_NAME="OCSPRequest";const Ql="responseType",eh="response",th=[Ql,eh];class rh extends d{constructor(e={}){super(),this.responseType=a.H$(e,Ql,rh.defaultValues(Ql)),this.response=a.H$(e,eh,rh.defaultValues(eh)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Ql:return c;case eh:return new n.fi;default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case Ql:return t===c;case eh:return t.isEqual(rh.defaultValues(e));default:return super.defaultValues(e)}}static schema(e={}){const t=a.H$(e,"names",{});return new n.T9({name:t.blockName||c,value:[new n.rP({name:t.responseType||c}),new n.fi({name:t.response||c})]})}fromSchema(e){a.ze(e,th);const t=n.eN(e,e,rh.schema({names:{responseType:Ql,response:eh}}));f.assertSchema(t,this.className),this.responseType=t.result.responseType.valueBlock.toString(),this.response=t.result.response}toSchema(){return new n.T9({value:[new n.rP({value:this.responseType}),this.response]})}toJSON(){return{responseType:this.responseType,response:this.response.toJSON()}}}rh.CLASS_NAME="ResponseBytes";const nh="responseStatus",ih="responseBytes";class ah extends d{constructor(e={}){super(),this.responseStatus=a.H$(e,nh,ah.defaultValues(nh)),ih in e&&(this.responseBytes=a.H$(e,ih,ah.defaultValues(ih))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case nh:return new n.WC;case ih:return new rh;default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case nh:return t.isEqual(ah.defaultValues(e));case ih:return rh.compareWithDefault("responseType",t.responseType)&&rh.compareWithDefault("response",t.response);default:return super.defaultValues(e)}}static schema(e={}){const t=a.H$(e,"names",{});return new n.T9({name:t.blockName||"OCSPResponse",value:[new n.WC({name:t.responseStatus||nh}),new n.FC({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[rh.schema(t.responseBytes||{names:{blockName:ih}})]})]})}fromSchema(e){a.ze(e,[nh,ih]);const t=n.eN(e,e,ah.schema());f.assertSchema(t,this.className),this.responseStatus=t.result.responseStatus,ih in t.result&&(this.responseBytes=new rh({schema:t.result.responseBytes}))}toSchema(){const e=[];return e.push(this.responseStatus),this.responseBytes&&e.push(new n.FC({idBlock:{tagClass:3,tagNumber:0},value:[this.responseBytes.toSchema()]})),new n.T9({value:e})}toJSON(){const e={responseStatus:this.responseStatus.toJSON()};return this.responseBytes&&(e.responseBytes=this.responseBytes.toJSON()),e}async getCertificateStatus(e,t,r=yn(!0)){let i;const a={isForCertificate:!1,status:2};if(!this.responseBytes)return a;if(this.responseBytes.responseType!==ke)return a;try{const e=n.sc(this.responseBytes.response.valueBlock.valueHexView);f.assert(e,"Basic OCSP response"),i=new Gc({schema:e.result})}catch(e){return a}return i.getCertificateStatus(e,t,r)}async sign(e,t,r=yn(!0)){var n;if(this.responseBytes&&this.responseBytes.responseType===ke){return Gc.fromBER(this.responseBytes.response.valueBlock.valueHexView).sign(e,t,r)}throw new Error(`Unknown ResponseBytes type: ${(null===(n=this.responseBytes)||void 0===n?void 0:n.responseType)||"Unknown"}`)}async verify(e=null,t=yn(!0)){var r;if(ih in this==!1)throw new Error("Empty ResponseBytes field");if(this.responseBytes&&this.responseBytes.responseType===ke){const r=Gc.fromBER(this.responseBytes.response.valueBlock.valueHexView);return null!==e&&(r.certs||(r.certs=[]),r.certs.push(e)),r.verify({},t)}throw new Error(`Unknown ResponseBytes type: ${(null===(r=this.responseBytes)||void 0===r?void 0:r.responseType)||"Unknown"}`)}}ah.CLASS_NAME="OCSPResponse";const sh="type",oh="attributes",uh="encodedValue",ch=[oh];class lh extends d{constructor(e={}){super(),this.type=a.H$(e,sh,lh.defaultValues(sh)),this.attributes=a.H$(e,oh,lh.defaultValues(oh)),this.encodedValue=a.H$(e,uh,lh.defaultValues(uh)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case sh:return-1;case oh:return[];case uh:return u;default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case sh:return t===lh.defaultValues(sh);case oh:return 0===t.length;case uh:return 0===t.byteLength;default:return super.defaultValues(e)}}static schema(e={}){const t=a.H$(e,"names",{});return new n.FC({name:t.blockName||c,optional:!0,idBlock:{tagClass:3,tagNumber:t.tagNumber||0},value:[new n.ZD({name:t.attributes||c,value:q.schema()})]})}fromSchema(e){a.ze(e,ch);const t=n.eN(e,e,lh.schema({names:{tagNumber:this.type,attributes:oh}}));f.assertSchema(t,this.className),this.type=t.result.idBlock.tagNumber,this.encodedValue=i.vJ.toArrayBuffer(t.result.valueBeforeDecodeView);if(new Uint8Array(this.encodedValue)[0]=49,oh in t.result!=!1)this.attributes=Array.from(t.result.attributes,(e=>new q({schema:e})));else if(0===this.type)throw new Error("Wrong structure of SignedUnsignedAttributes")}toSchema(){if(lh.compareWithDefault(sh,this.type)||lh.compareWithDefault(oh,this.attributes))throw new Error('Incorrectly initialized "SignedAndUnsignedAttributes" class');return new n.FC({optional:!0,idBlock:{tagClass:3,tagNumber:this.type},value:Array.from(this.attributes,(e=>e.toSchema()))})}toJSON(){if(lh.compareWithDefault(sh,this.type)||lh.compareWithDefault(oh,this.attributes))throw new Error('Incorrectly initialized "SignedAndUnsignedAttributes" class');return{type:this.type,attributes:Array.from(this.attributes,(e=>e.toJSON()))}}}lh.CLASS_NAME="SignedAndUnsignedAttributes";const hh="version",fh="sid",dh="digestAlgorithm",ph="signedAttrs",mh="signatureAlgorithm",bh="signature",vh="unsignedAttrs",yh="SignerInfo",gh=`${yh}.${hh}`,wh=`${yh}.${fh}`,Sh=`${yh}.${dh}`,_h=`${yh}.${ph}`,Ah=`${yh}.${mh}`,kh=`${yh}.${bh}`,Eh=`${yh}.${vh}`,Oh=[gh,wh,Sh,_h,Ah,kh,Eh];class Ch extends d{constructor(e={}){super(),this.version=a.H$(e,hh,Ch.defaultValues(hh)),this.sid=a.H$(e,fh,Ch.defaultValues(fh)),this.digestAlgorithm=a.H$(e,dh,Ch.defaultValues(dh)),ph in e&&(this.signedAttrs=a.H$(e,ph,Ch.defaultValues(ph))),this.signatureAlgorithm=a.H$(e,mh,Ch.defaultValues(mh)),this.signature=a.H$(e,bh,Ch.defaultValues(bh)),vh in e&&(this.unsignedAttrs=a.H$(e,vh,Ch.defaultValues(vh))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case hh:return 0;case fh:return new n.IK;case dh:return new L;case ph:return new lh({type:0});case mh:return new L;case bh:return new n.fi;case vh:return new lh({type:1});default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case hh:return Ch.defaultValues(hh)===t;case fh:return t instanceof n.IK;case dh:return t instanceof L!=!1&&t.isEqual(Ch.defaultValues(dh));case ph:return lh.compareWithDefault("type",t.type)&&lh.compareWithDefault("attributes",t.attributes)&&lh.compareWithDefault("encodedValue",t.encodedValue);case mh:return t instanceof L!=!1&&t.isEqual(Ch.defaultValues(mh));case bh:case vh:return lh.compareWithDefault("type",t.type)&&lh.compareWithDefault("attributes",t.attributes)&&lh.compareWithDefault("encodedValue",t.encodedValue);default:return super.defaultValues(e)}}static schema(e={}){const t=a.H$(e,"names",{});return new n.T9({name:yh,value:[new n.z8({name:t.version||gh}),new n.Lv({value:[fo.schema(t.sidSchema||{names:{blockName:wh}}),new n.Lv({value:[new n.FC({optional:!0,name:t.sid||wh,idBlock:{tagClass:3,tagNumber:0},value:[new n.fi]}),new n.WV({optional:!0,name:t.sid||wh,idBlock:{tagClass:3,tagNumber:0}})]})]}),L.schema(t.digestAlgorithm||{names:{blockName:Sh}}),lh.schema(t.signedAttrs||{names:{blockName:_h,tagNumber:0}}),L.schema(t.signatureAlgorithm||{names:{blockName:Ah}}),new n.fi({name:t.signature||kh}),lh.schema(t.unsignedAttrs||{names:{blockName:Eh,tagNumber:1}})]})}fromSchema(e){a.ze(e,Oh);const t=n.eN(e,e,Ch.schema());f.assertSchema(t,this.className),this.version=t.result[gh].valueBlock.valueDec;const r=t.result[wh];1===r.idBlock.tagClass?this.sid=new fo({schema:r}):this.sid=r,this.digestAlgorithm=new L({schema:t.result[Sh]}),_h in t.result&&(this.signedAttrs=new lh({type:0,schema:t.result[_h]})),this.signatureAlgorithm=new L({schema:t.result[Ah]}),this.signature=t.result[kh],Eh in t.result&&(this.unsignedAttrs=new lh({type:1,schema:t.result[Eh]}))}toSchema(){if(Ch.compareWithDefault(fh,this.sid))throw new Error('Incorrectly initialized "SignerInfo" class');const e=[];return e.push(new n.z8({value:this.version})),this.sid instanceof fo?e.push(this.sid.toSchema()):e.push(this.sid),e.push(this.digestAlgorithm.toSchema()),this.signedAttrs&&!1===Ch.compareWithDefault(ph,this.signedAttrs)&&e.push(this.signedAttrs.toSchema()),e.push(this.signatureAlgorithm.toSchema()),e.push(this.signature),this.unsignedAttrs&&!1===Ch.compareWithDefault(vh,this.unsignedAttrs)&&e.push(this.unsignedAttrs.toSchema()),new n.T9({value:e})}toJSON(){if(Ch.compareWithDefault(fh,this.sid))throw new Error('Incorrectly initialized "SignerInfo" class');const e={version:this.version,digestAlgorithm:this.digestAlgorithm.toJSON(),signatureAlgorithm:this.signatureAlgorithm.toJSON(),signature:this.signature.toJSON()};return this.sid instanceof n.IK||(e.sid=this.sid.toJSON()),this.signedAttrs&&!1===Ch.compareWithDefault(ph,this.signedAttrs)&&(e.signedAttrs=this.signedAttrs.toJSON()),this.unsignedAttrs&&!1===Ch.compareWithDefault(vh,this.unsignedAttrs)&&(e.unsignedAttrs=this.unsignedAttrs.toJSON()),e}}Ch.CLASS_NAME="SignerInfo";const Nh="version",xh="policy",Ph="messageImprint",Ih="serialNumber",Th="genTime",jh="ordering",Vh="nonce",Bh="accuracy",Dh="tsa",Hh="extensions",Mh="TSTInfo",Rh=`${Mh}.${Nh}`,Lh=`${Mh}.${xh}`,$h=`${Mh}.${Ph}`,Uh=`${Mh}.${Ih}`,Fh=`${Mh}.${Th}`,Kh=`${Mh}.${Bh}`,zh=`${Mh}.${jh}`,Wh=`${Mh}.${Vh}`,qh=`${Mh}.${Dh}`,Zh=`${Mh}.${Hh}`,Jh=[Rh,Lh,$h,Uh,Fh,Kh,zh,Wh,qh,Zh];class Gh extends d{constructor(e={}){super(),this.version=a.H$(e,Nh,Gh.defaultValues(Nh)),this.policy=a.H$(e,xh,Gh.defaultValues(xh)),this.messageImprint=a.H$(e,Ph,Gh.defaultValues(Ph)),this.serialNumber=a.H$(e,Ih,Gh.defaultValues(Ih)),this.genTime=a.H$(e,Th,Gh.defaultValues(Th)),Bh in e&&(this.accuracy=a.H$(e,Bh,Gh.defaultValues(Bh))),jh in e&&(this.ordering=a.H$(e,jh,Gh.defaultValues(jh))),Vh in e&&(this.nonce=a.H$(e,Vh,Gh.defaultValues(Vh))),Dh in e&&(this.tsa=a.H$(e,Dh,Gh.defaultValues(Dh))),Hh in e&&(this.extensions=a.H$(e,Hh,Gh.defaultValues(Hh))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Nh:return 0;case xh:return c;case Ph:return new Nl;case Ih:return new n.z8;case Th:return new Date(0,0,0);case Bh:return new V;case jh:return!1;case Vh:return new n.z8;case Dh:return new O;case Hh:return[];default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case Nh:case xh:case Th:case jh:return t===Gh.defaultValues(jh);case Ph:return Nl.compareWithDefault(El,t.hashAlgorithm)&&Nl.compareWithDefault(Ol,t.hashedMessage);case Ih:case Vh:return t.isEqual(Gh.defaultValues(Vh));case Bh:return V.compareWithDefault(I,t.seconds)&&V.compareWithDefault(T,t.millis)&&V.compareWithDefault(j,t.micros);case Dh:return O.compareWithDefault(S,t.type)&&O.compareWithDefault(_,t.value);case Hh:return 0===t.length;default:return super.defaultValues(e)}}static schema(e={}){const t=a.H$(e,"names",{});return new n.T9({name:t.blockName||Mh,value:[new n.z8({name:t.version||Rh}),new n.rP({name:t.policy||Lh}),Nl.schema(t.messageImprint||{names:{blockName:$h}}),new n.z8({name:t.serialNumber||Uh}),new n.Yw({name:t.genTime||Fh}),V.schema(t.accuracy||{names:{blockName:Kh}}),new n.ge({name:t.ordering||zh,optional:!0}),new n.z8({name:t.nonce||Wh,optional:!0}),new n.FC({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[O.schema(t.tsa||{names:{blockName:qh}})]}),new n.FC({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[new n.ZD({name:t.extensions||Zh,value:Zn.schema(t.extension||{})})]})]})}fromSchema(e){a.ze(e,Jh);const t=n.eN(e,e,Gh.schema());f.assertSchema(t,this.className),this.version=t.result[Rh].valueBlock.valueDec,this.policy=t.result[Lh].valueBlock.toString(),this.messageImprint=new Nl({schema:t.result[$h]}),this.serialNumber=t.result[Uh],this.genTime=t.result[Fh].toDate(),Kh in t.result&&(this.accuracy=new V({schema:t.result[Kh]})),zh in t.result&&(this.ordering=t.result[zh].valueBlock.value),Wh in t.result&&(this.nonce=t.result[Wh]),qh in t.result&&(this.tsa=new O({schema:t.result[qh]})),Zh in t.result&&(this.extensions=Array.from(t.result[Zh],(e=>new Zn({schema:e}))))}toSchema(){const e=[];return e.push(new n.z8({value:this.version})),e.push(new n.rP({value:this.policy})),e.push(this.messageImprint.toSchema()),e.push(this.serialNumber),e.push(new n.Yw({valueDate:this.genTime})),this.accuracy&&e.push(this.accuracy.toSchema()),void 0!==this.ordering&&e.push(new n.ge({value:this.ordering})),this.nonce&&e.push(this.nonce),this.tsa&&e.push(new n.FC({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[this.tsa.toSchema()]})),this.extensions&&e.push(new n.FC({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:Array.from(this.extensions,(e=>e.toSchema()))})),new n.T9({value:e})}toJSON(){const e={version:this.version,policy:this.policy,messageImprint:this.messageImprint.toJSON(),serialNumber:this.serialNumber.toJSON(),genTime:this.genTime};return this.accuracy&&(e.accuracy=this.accuracy.toJSON()),void 0!==this.ordering&&(e.ordering=this.ordering),this.nonce&&(e.nonce=this.nonce.toJSON()),this.tsa&&(e.tsa=this.tsa.toJSON()),this.extensions&&(e.extensions=Array.from(this.extensions,(e=>e.toJSON()))),e}async verify(e,t=yn(!0)){if(!e.data)throw new Error('"data" is a mandatory attribute for TST_INFO verification');const r=e.data;if(e.notBefore&&this.genTime<e.notBefore)throw new Error("Generation time for TSTInfo object is less than notBefore value");if(e.notAfter&&this.genTime>e.notAfter)throw new Error("Generation time for TSTInfo object is more than notAfter value");const n=t.getAlgorithmByOID(this.messageImprint.hashAlgorithm.algorithmId,!0,"MessageImprint.hashAlgorithm"),a=await t.digest(n.name,new Uint8Array(r));return i.vJ.isEqual(a,this.messageImprint.hashedMessage.valueBlock.valueHexView)}}Gh.CLASS_NAME="TSTInfo";const Yh="version",Xh="digestAlgorithms",Qh="encapContentInfo",ef="certificates",tf="crls",rf="signerInfos",nf="ocsps",af="SignedData",sf=`${af}.${Yh}`,of=`${af}.${Xh}`,uf=`${af}.${Qh}`,cf=`${af}.${ef}`,lf=`${af}.${tf}`,hf=`${af}.${rf}`,ff=[sf,of,uf,cf,lf,hf];class df extends Error{constructor({message:e,code:t=0,date:r=new Date,signatureVerified:n=null,signerCertificate:i=null,signerCertificateVerified:a=null,timestampSerial:s=null,certificatePath:o=[]}){super(e),this.name="SignedDataVerifyError",this.date=r,this.code=t,this.timestampSerial=s,this.signatureVerified=n,this.signerCertificate=i,this.signerCertificateVerified=a,this.certificatePath=o}}class pf extends d{constructor(e={}){super(),this.version=a.H$(e,Yh,pf.defaultValues(Yh)),this.digestAlgorithms=a.H$(e,Xh,pf.defaultValues(Xh)),this.encapContentInfo=a.H$(e,Qh,pf.defaultValues(Qh)),ef in e&&(this.certificates=a.H$(e,ef,pf.defaultValues(ef))),tf in e&&(this.crls=a.H$(e,tf,pf.defaultValues(tf))),nf in e&&(this.ocsps=a.H$(e,nf,pf.defaultValues(nf))),this.signerInfos=a.H$(e,rf,pf.defaultValues(rf)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Yh:return 0;case Xh:return[];case Qh:return new gl;case ef:case tf:case nf:case rf:return[];default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case Yh:return t===pf.defaultValues(Yh);case Qh:return gl.compareWithDefault("eContentType",t.eContentType)&&gl.compareWithDefault("eContent",t.eContent);case Xh:case ef:case tf:case nf:case rf:return 0===t.length;default:return super.defaultValues(e)}}static schema(e={}){const t=a.H$(e,"names",{});return void 0===t.optional&&(t.optional=!1),new n.T9({name:t.blockName||af,optional:t.optional,value:[new n.z8({name:t.version||sf}),new n.l4({value:[new n.ZD({name:t.digestAlgorithms||of,value:L.schema()})]}),gl.schema(t.encapContentInfo||{names:{blockName:uf}}),new n.FC({name:t.certificates||cf,optional:!0,idBlock:{tagClass:3,tagNumber:0},value:Gs.schema().valueBlock.value}),new n.FC({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:io.schema(t.crls||{names:{crls:lf}}).valueBlock.value}),new n.l4({value:[new n.ZD({name:t.signerInfos||hf,value:Ch.schema()})]})]})}fromSchema(e){a.ze(e,ff);const t=n.eN(e,e,pf.schema());if(f.assertSchema(t,this.className),this.version=t.result[sf].valueBlock.valueDec,of in t.result&&(this.digestAlgorithms=Array.from(t.result[of],(e=>new L({schema:e})))),this.encapContentInfo=new gl({schema:t.result[uf]}),cf in t.result){const e=new Gs({schema:new n.l4({value:t.result[cf].valueBlock.value})});this.certificates=e.certificates.slice(0)}lf in t.result&&(this.crls=Array.from(t.result[lf],(e=>1===e.idBlock.tagClass?new bs({schema:e}):(e.idBlock.tagClass=1,e.idBlock.tagNumber=16,new eo({schema:e}))))),hf in t.result&&(this.signerInfos=Array.from(t.result[hf],(e=>new Ch({schema:e}))))}toSchema(e=!1){const t=[];if(this.certificates&&this.certificates.length&&this.certificates.some((e=>e instanceof qs))||this.crls&&this.crls.length&&this.crls.some((e=>e instanceof eo))?this.version=5:this.certificates&&this.certificates.length&&this.certificates.some((e=>e instanceof Yi))?this.version=4:this.certificates&&this.certificates.length&&this.certificates.some((e=>e instanceof gi))||this.signerInfos.some((e=>3===e.version))||this.encapContentInfo.eContentType!==pf.ID_DATA?this.version=3:this.version=1,t.push(new n.z8({value:this.version})),t.push(new n.l4({value:Array.from(this.digestAlgorithms,(e=>e.toSchema()))})),t.push(this.encapContentInfo.toSchema()),this.certificates){const e=new Gs({certificates:this.certificates}).toSchema();t.push(new n.FC({idBlock:{tagClass:3,tagNumber:0},value:e.valueBlock.value}))}return this.crls&&t.push(new n.FC({idBlock:{tagClass:3,tagNumber:1},value:Array.from(this.crls,(t=>{if(t instanceof eo){const e=t.toSchema();return e.idBlock.tagClass=3,e.idBlock.tagNumber=1,e}return t.toSchema(e)}))})),t.push(new n.l4({value:Array.from(this.signerInfos,(e=>e.toSchema()))})),new n.T9({value:t})}toJSON(){const e={version:this.version,digestAlgorithms:Array.from(this.digestAlgorithms,(e=>e.toJSON())),encapContentInfo:this.encapContentInfo.toJSON(),signerInfos:Array.from(this.signerInfos,(e=>e.toJSON()))};return this.certificates&&(e.certificates=Array.from(this.certificates,(e=>e.toJSON()))),this.crls&&(e.crls=Array.from(this.crls,(e=>e.toJSON()))),e}async verify({signer:e=-1,data:t=u,trustedCerts:r=[],checkDate:n=new Date,checkChain:i=!1,passedWhenNotRevValues:s=!1,extendedMode:o=!1,findOrigin:l=null,findIssuer:h=null}={},f=yn(!0)){let d=null,p=null;try{let m=u,b=c,v=[];const y=this.signerInfos[e];if(!y)throw new df({date:n,code:1,message:"Unable to get signer by supplied index"});if(!this.certificates)throw new df({date:n,code:2,message:"No certificates attached to this signed data"});if(y.sid instanceof fo){for(const e of this.certificates)if(e instanceof Ha&&e.issuer.isEqual(y.sid.issuer)&&e.serialNumber.isEqual(y.sid.serialNumber)){d=e;break}}else{const e=y.sid,t=e.idBlock.isConstructed?e.valueBlock.value[0].valueBlock.valueHex:e.valueBlock.valueHex;for(const e of this.certificates){if(!(e instanceof Ha))continue;const r=await f.digest({name:"sha-1"},e.subjectPublicKeyInfo.subjectPublicKey.valueBlock.valueHexView);if(a.dN(r,t)){d=e;break}}}if(!d)throw new df({date:n,code:3,message:"Unable to find signer certificate"});if("1.2.840.113549.1.9.16.1.4"===this.encapContentInfo.eContentType){if(!this.encapContentInfo.eContent)throw new df({date:n,code:15,message:"Error during verification: TSTInfo eContent is empty",signatureVerified:null,signerCertificate:d,timestampSerial:p,signerCertificateVerified:!0});let e;try{e=Gh.fromBER(this.encapContentInfo.eContent.valueBlock.valueHexView)}catch(e){throw new df({date:n,code:15,message:"Error during verification: TSTInfo wrong ASN.1 schema ",signatureVerified:null,signerCertificate:d,timestampSerial:p,signerCertificateVerified:!0})}if(n=e.genTime,p=e.serialNumber.valueBlock.valueHexView.slice(),0===t.byteLength)throw new df({date:n,code:4,message:"Missed detached data input array"});if(!await e.verify({data:t},f))throw new df({date:n,code:15,message:"Error during verification: TSTInfo verification is failed",signatureVerified:!1,signerCertificate:d,timestampSerial:p,signerCertificateVerified:!0})}if(i){const e=this.certificates.filter((e=>e instanceof Ha&&!!Ma(e,d))),t={checkDate:n,certs:e,trustedCerts:r};h&&(t.findIssuer=h),l&&(t.findOrigin=l);const i=new Rc(t);if(i.certs.push(d),this.crls)for(const e of this.crls)"thisUpdate"in e?i.crls.push(e):e.otherRevInfoFormat===ke&&i.ocsps.push(new Gc({schema:e.otherRevInfo}));this.ocsps&&i.ocsps.push(...this.ocsps);const a=await i.verify({passedWhenNotRevValues:s},f).catch((e=>{throw new df({date:n,code:5,message:`Validation of signer's certificate failed with error: ${e instanceof Object?e.resultMessage:e}`,signerCertificate:d,signerCertificateVerified:!1})}));if(a.certificatePath&&(v=a.certificatePath),!a.result)throw new df({date:n,code:5,message:`Validation of signer's certificate failed: ${a.resultMessage}`,signerCertificate:d,signerCertificateVerified:!1})}const g=f.getAlgorithmByOID(y.digestAlgorithm.algorithmId);if(!("name"in g))throw new df({date:n,code:7,message:`Unsupported signature algorithm: ${y.digestAlgorithm.algorithmId}`,signerCertificate:d,signerCertificateVerified:!0});b=g.name;const w=this.encapContentInfo.eContent;if(w)t=1===w.idBlock.tagClass&&4===w.idBlock.tagNumber?w.getValue():w.valueBlock.valueBeforeDecodeView;else if(0===t.byteLength)throw new df({date:n,code:8,message:"Missed detached data input array",signerCertificate:d,signerCertificateVerified:!0});if(y.signedAttrs){let e=!1,t=!1;for(const r of y.signedAttrs.attributes)if("1.2.840.113549.1.9.3"===r.type&&(e=!0),"1.2.840.113549.1.9.4"===r.type&&(t=!0,m=r.values[0].valueBlock.valueHex),e&&t)break;if(!1===e)throw new df({date:n,code:9,message:'Attribute "content-type" is a mandatory attribute for "signed attributes"',signerCertificate:d,signerCertificateVerified:!0});if(!1===t)throw new df({date:n,code:10,message:'Attribute "message-digest" is a mandatory attribute for "signed attributes"',signatureVerified:null,signerCertificate:d,signerCertificateVerified:!0})}if(y.signedAttrs){const e=await f.digest(b,new Uint8Array(t));if(!a.dN(e,m))throw new df({date:n,code:15,message:"Error during verification: Message digest doesn't match",signatureVerified:null,signerCertificate:d,timestampSerial:p,signerCertificateVerified:!0});t=y.signedAttrs.encodedValue}const S=await f.verifyWithPublicKey(t,y.signature,d.subjectPublicKeyInfo,d.signatureAlgorithm,b);return o?{date:n,code:14,message:c,signatureVerified:S,signerCertificate:d,timestampSerial:p,signerCertificateVerified:!0,certificatePath:v}:S}catch(e){if(e instanceof df)throw e;throw new df({date:n,code:15,message:`Error during verification: ${e instanceof Error?e.message:e}`,signatureVerified:null,signerCertificate:d,timestampSerial:p,signerCertificateVerified:!0})}}async sign(e,t,r="SHA-1",a=u,s=yn(!0)){if(!e)throw new Error("Need to provide a private key for signing");const o=s.getOIDByAlgorithm({name:r},!0,"hashAlgorithm");0===this.digestAlgorithms.filter((e=>e.algorithmId===o)).length&&this.digestAlgorithms.push(new L({algorithmId:o,algorithmParams:new n.p2}));const c=this.signerInfos[t];if(!c)throw new RangeError("SignerInfo index is out of range");c.digestAlgorithm=new L({algorithmId:o,algorithmParams:new n.p2});const l=await s.getSignatureParameters(e,r),h=l.parameters;if(c.signatureAlgorithm=l.signatureAlgorithm,c.signedAttrs)if(0!==c.signedAttrs.encodedValue.byteLength)a=c.signedAttrs.encodedValue;else{a=c.signedAttrs.toSchema().toBER();i.vJ.toUint8Array(a)[0]=49}else{const e=this.encapContentInfo.eContent;if(e)a=1===e.idBlock.tagClass&&4===e.idBlock.tagNumber?e.getValue():e.valueBlock.valueBeforeDecodeView;else if(0===a.byteLength)throw new Error("Missed detached data input array")}const f=await s.signWithPrivateKey(a,e,h);c.signature=new n.fi({valueHex:f})}}pf.CLASS_NAME="SignedData",pf.ID_DATA=be;const mf="version",bf="authSafe",vf="macData",yf="parsedValue",gf=[mf,bf,vf];class wf extends d{constructor(e={}){super(),this.version=a.H$(e,mf,wf.defaultValues(mf)),this.authSafe=a.H$(e,bf,wf.defaultValues(bf)),vf in e&&(this.macData=a.H$(e,vf,wf.defaultValues(vf))),yf in e&&(this.parsedValue=a.H$(e,yf,wf.defaultValues(yf))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case mf:return 3;case bf:return new ta;case vf:return new kl;case yf:return{};default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case mf:return t===wf.defaultValues(e);case bf:return ta.compareWithDefault("contentType",t.contentType)&&ta.compareWithDefault("content",t.content);case vf:return kl.compareWithDefault("mac",t.mac)&&kl.compareWithDefault("macSalt",t.macSalt)&&kl.compareWithDefault("iterations",t.iterations);case yf:return t instanceof Object&&0===Object.keys(t).length;default:return super.defaultValues(e)}}static schema(e={}){const t=a.H$(e,"names",{});return new n.T9({name:t.blockName||c,value:[new n.z8({name:t.version||mf}),ta.schema(t.authSafe||{names:{blockName:bf}}),kl.schema(t.macData||{names:{blockName:vf,optional:!0}})]})}fromSchema(e){a.ze(e,gf);const t=n.eN(e,e,wf.schema({names:{version:mf,authSafe:{names:{blockName:bf}},macData:{names:{blockName:vf}}}}));f.assertSchema(t,this.className),this.version=t.result.version.valueBlock.valueDec,this.authSafe=new ta({schema:t.result.authSafe}),vf in t.result&&(this.macData=new kl({schema:t.result.macData}))}toSchema(){const e=[new n.z8({value:this.version}),this.authSafe.toSchema()];return this.macData&&e.push(this.macData.toSchema()),new n.T9({value:e})}toJSON(){const e={version:this.version,authSafe:this.authSafe.toJSON()};return this.macData&&(e.macData=this.macData.toJSON()),e}async makeInternalValues(e={},t=yn(!0)){if(l.assert(e,"parameters","object"),!this.parsedValue)throw new Error('Please call "parseValues" function first in order to make "parsedValue" data');switch(h.assertEmpty(this.parsedValue.integrityMode,"integrityMode","parsedValue"),h.assertEmpty(this.parsedValue.authenticatedSafe,"authenticatedSafe","parsedValue"),this.parsedValue.integrityMode){case 0:{if(!("iterations"in e))throw new h("iterations");h.assertEmpty(e.pbkdf2HashAlgorithm,"pbkdf2HashAlgorithm"),h.assertEmpty(e.hmacHashAlgorithm,"hmacHashAlgorithm"),h.assertEmpty(e.password,"password");const r=new ArrayBuffer(64),i=new Uint8Array(r);t.getRandomValues(i);const a=this.parsedValue.authenticatedSafe.toSchema().toBER(!1);this.authSafe=new ta({contentType:ta.DATA,content:new n.fi({valueHex:a})});const s=await t.stampDataWithPassword({password:e.password,hashAlgorithm:e.hmacHashAlgorithm,salt:r,iterationCount:e.iterations,contentToStamp:a});this.macData=new kl({mac:new ml({digestAlgorithm:new L({algorithmId:t.getOIDByAlgorithm({name:e.hmacHashAlgorithm},!0,"hmacHashAlgorithm")}),digest:new n.fi({valueHex:s})}),macSalt:new n.fi({valueHex:r}),iterations:e.iterations})}break;case 1:{if(!("signingCertificate"in e))throw new h("signingCertificate");h.assertEmpty(e.privateKey,"privateKey"),h.assertEmpty(e.hashAlgorithm,"hashAlgorithm");const r=this.parsedValue.authenticatedSafe.toSchema().toBER(!1),i=new pf({version:1,encapContentInfo:new gl({eContentType:"1.2.840.113549.1.7.1",eContent:new n.fi({valueHex:r})}),certificates:[e.signingCertificate]}),a=await t.digest({name:e.hashAlgorithm},new Uint8Array(r)),s=[];s.push(new q({type:"1.2.840.113549.1.9.3",values:[new n.rP({value:"1.2.840.113549.1.7.1"})]})),s.push(new q({type:"1.2.840.113549.1.9.5",values:[new n.BD({valueDate:new Date})]})),s.push(new q({type:"1.2.840.113549.1.9.4",values:[new n.fi({valueHex:a})]})),i.signerInfos.push(new Ch({version:1,sid:new fo({issuer:e.signingCertificate.issuer,serialNumber:e.signingCertificate.serialNumber}),signedAttrs:new lh({type:0,attributes:s})})),await i.sign(e.privateKey,0,e.hashAlgorithm,void 0,t),this.authSafe=new ta({contentType:"1.2.840.113549.1.7.2",content:i.toSchema(!0)})}break;default:throw new Error(`Parameter "integrityMode" has unknown value: ${this.parsedValue.integrityMode}`)}}async parseInternalValues(e,t=yn(!0)){switch(l.assert(e,"parameters","object"),void 0===e.checkIntegrity&&(e.checkIntegrity=!0),this.parsedValue={},this.authSafe.contentType){case ta.DATA:{h.assertEmpty(e.password,"password"),this.parsedValue.integrityMode=0,l.assert(this.authSafe.content,"authSafe.content",n.fi);const r=this.authSafe.content.getValue();if(this.parsedValue.authenticatedSafe=ic.fromBER(r),e.checkIntegrity){if(!this.macData)throw new Error('Absent "macData" value, can not check PKCS#12 data integrity');const n=t.getAlgorithmByOID(this.macData.mac.digestAlgorithm.algorithmId,!0,"digestAlgorithm");if(!await t.verifyDataStampedWithPassword({password:e.password,hashAlgorithm:n.name,salt:i.vJ.toArrayBuffer(this.macData.macSalt.valueBlock.valueHexView),iterationCount:this.macData.iterations||0,contentToVerify:r,signatureToVerify:i.vJ.toArrayBuffer(this.macData.mac.digest.valueBlock.valueHexView)}))throw new Error("Integrity for the PKCS#12 data is broken!")}}break;case ta.SIGNED_DATA:{this.parsedValue.integrityMode=1;const e=new pf({schema:this.authSafe.content}),r=e.encapContentInfo.eContent;h.assert(r,"eContent","cmsSigned.encapContentInfo"),l.assert(r,"eContent",n.fi);const i=r.getValue();this.parsedValue.authenticatedSafe=ic.fromBER(i);if(!await e.verify({signer:0,checkChain:!1},t))throw new Error("Integrity for the PKCS#12 data is broken!")}break;default:throw new Error(`Incorrect value for "this.authSafe.contentType": ${this.authSafe.contentType}`)}}}wf.CLASS_NAME="PFX";const Sf="status",_f="statusStrings",Af="failInfo",kf=[Sf,_f,Af];var Ef;!function(e){e[e.granted=0]="granted",e[e.grantedWithMods=1]="grantedWithMods",e[e.rejection=2]="rejection",e[e.waiting=3]="waiting",e[e.revocationWarning=4]="revocationWarning",e[e.revocationNotification=5]="revocationNotification"}(Ef||(Ef={}));class Of extends d{constructor(e={}){super(),this.status=a.H$(e,Sf,Of.defaultValues(Sf)),_f in e&&(this.statusStrings=a.H$(e,_f,Of.defaultValues(_f))),Af in e&&(this.failInfo=a.H$(e,Af,Of.defaultValues(Af))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Sf:return 2;case _f:return[];case Af:return new n._K;default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case Sf:return t===Of.defaultValues(e);case _f:return 0===t.length;case Af:return t.isEqual(Of.defaultValues(e));default:return super.defaultValues(e)}}static schema(e={}){const t=a.H$(e,"names",{});return new n.T9({name:t.blockName||c,value:[new n.z8({name:t.status||c}),new n.T9({optional:!0,value:[new n.ZD({name:t.statusStrings||c,value:new n.qU})]}),new n._K({name:t.failInfo||c,optional:!0})]})}fromSchema(e){a.ze(e,kf);const t=n.eN(e,e,Of.schema({names:{status:Sf,statusStrings:_f,failInfo:Af}}));f.assertSchema(t,this.className);const r=t.result.status;if(!0===r.valueBlock.isHexOnly||r.valueBlock.valueDec<0||r.valueBlock.valueDec>5)throw new Error('PKIStatusInfo "status" has invalid value');this.status=r.valueBlock.valueDec,_f in t.result&&(this.statusStrings=t.result.statusStrings),Af in t.result&&(this.failInfo=t.result.failInfo)}toSchema(){const e=[];return e.push(new n.z8({value:this.status})),this.statusStrings&&e.push(new n.T9({optional:!0,value:this.statusStrings})),this.failInfo&&e.push(this.failInfo),new n.T9({value:e})}toJSON(){const e={status:this.status};return this.statusStrings&&(e.statusStrings=Array.from(this.statusStrings,(e=>e.toJSON()))),this.failInfo&&(e.failInfo=this.failInfo.toJSON()),e}}Of.CLASS_NAME="PKIStatusInfo";const Cf="version",Nf="messageImprint",xf="reqPolicy",Pf="nonce",If="certReq",Tf="extensions",jf="TimeStampReq",Vf=`${jf}.${Cf}`,Bf=`${jf}.${Nf}`,Df=`${jf}.${xf}`,Hf=`${jf}.${Pf}`,Mf=`${jf}.${If}`,Rf=`${jf}.${Tf}`,Lf=[Vf,Bf,Df,Hf,Mf,Rf];class $f extends d{constructor(e={}){super(),this.version=a.H$(e,Cf,$f.defaultValues(Cf)),this.messageImprint=a.H$(e,Nf,$f.defaultValues(Nf)),xf in e&&(this.reqPolicy=a.H$(e,xf,$f.defaultValues(xf))),Pf in e&&(this.nonce=a.H$(e,Pf,$f.defaultValues(Pf))),If in e&&(this.certReq=a.H$(e,If,$f.defaultValues(If))),Tf in e&&(this.extensions=a.H$(e,Tf,$f.defaultValues(Tf))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Cf:return 0;case Nf:return new Nl;case xf:return c;case Pf:return new n.z8;case If:return!1;case Tf:return[];default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case Cf:case xf:case If:return t===$f.defaultValues(e);case Nf:return Nl.compareWithDefault("hashAlgorithm",t.hashAlgorithm)&&Nl.compareWithDefault("hashedMessage",t.hashedMessage);case Pf:return t.isEqual($f.defaultValues(e));case Tf:return 0===t.length;default:return super.defaultValues(e)}}static schema(e={}){const t=a.H$(e,"names",{});return new n.T9({name:t.blockName||jf,value:[new n.z8({name:t.version||Vf}),Nl.schema(t.messageImprint||{names:{blockName:Bf}}),new n.rP({name:t.reqPolicy||Df,optional:!0}),new n.z8({name:t.nonce||Hf,optional:!0}),new n.ge({name:t.certReq||Mf,optional:!0}),new n.FC({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new n.ZD({name:t.extensions||Rf,value:Zn.schema()})]})]})}fromSchema(e){a.ze(e,Lf);const t=n.eN(e,e,$f.schema());f.assertSchema(t,this.className),this.version=t.result[Vf].valueBlock.valueDec,this.messageImprint=new Nl({schema:t.result[Bf]}),Df in t.result&&(this.reqPolicy=t.result[Df].valueBlock.toString()),Hf in t.result&&(this.nonce=t.result[Hf]),Mf in t.result&&(this.certReq=t.result[Mf].valueBlock.value),Rf in t.result&&(this.extensions=Array.from(t.result[Rf],(e=>new Zn({schema:e}))))}toSchema(){const e=[];return e.push(new n.z8({value:this.version})),e.push(this.messageImprint.toSchema()),this.reqPolicy&&e.push(new n.rP({value:this.reqPolicy})),this.nonce&&e.push(this.nonce),If in this&&!1===$f.compareWithDefault(If,this.certReq)&&e.push(new n.ge({value:this.certReq})),this.extensions&&e.push(new n.FC({idBlock:{tagClass:3,tagNumber:0},value:Array.from(this.extensions,(e=>e.toSchema()))})),new n.T9({value:e})}toJSON(){const e={version:this.version,messageImprint:this.messageImprint.toJSON()};return void 0!==this.reqPolicy&&(e.reqPolicy=this.reqPolicy),void 0!==this.nonce&&(e.nonce=this.nonce.toJSON()),void 0!==this.certReq&&!1===$f.compareWithDefault(If,this.certReq)&&(e.certReq=this.certReq),this.extensions&&(e.extensions=Array.from(this.extensions,(e=>e.toJSON()))),e}}$f.CLASS_NAME="TimeStampReq";const Uf="status",Ff="timeStampToken",Kf="TimeStampResp",zf=`${Kf}.${Uf}`,Wf=`${Kf}.${Ff}`,qf=[zf,Wf];class Zf extends d{constructor(e={}){super(),this.status=a.H$(e,Uf,Zf.defaultValues(Uf)),Ff in e&&(this.timeStampToken=a.H$(e,Ff,Zf.defaultValues(Ff))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Uf:return new Of;case Ff:return new ta;default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case Uf:return Of.compareWithDefault(Uf,t.status)&&"statusStrings"in t==!1&&"failInfo"in t==!1;case Ff:return t.contentType===c&&t.content instanceof n.IK;default:return super.defaultValues(e)}}static schema(e={}){const t=a.H$(e,"names",{});return new n.T9({name:t.blockName||Kf,value:[Of.schema(t.status||{names:{blockName:zf}}),ta.schema(t.timeStampToken||{names:{blockName:Wf,optional:!0}})]})}fromSchema(e){a.ze(e,qf);const t=n.eN(e,e,Zf.schema());f.assertSchema(t,this.className),this.status=new Of({schema:t.result[zf]}),Wf in t.result&&(this.timeStampToken=new ta({schema:t.result[Wf]}))}toSchema(){const e=[];return e.push(this.status.toSchema()),this.timeStampToken&&e.push(this.timeStampToken.toSchema()),new n.T9({value:e})}toJSON(){const e={status:this.status.toJSON()};return this.timeStampToken&&(e.timeStampToken=this.timeStampToken.toJSON()),e}async sign(e,t,r=yn(!0)){this.assertContentType();return new pf({schema:this.timeStampToken.content}).sign(e,0,t,void 0,r)}async verify(e={signer:0,trustedCerts:[],data:u},t=yn(!0)){this.assertContentType();return new pf({schema:this.timeStampToken.content}).verify(e,t)}assertContentType(){if(!this.timeStampToken)throw new Error("timeStampToken is absent in TSP response");if(this.timeStampToken.contentType!==ve)throw new Error(`Wrong format of timeStampToken: ${this.timeStampToken.contentType}`)}}Zf.CLASS_NAME="TimeStampResp",function(){if("undefined"!=typeof self){if("crypto"in self){let e="webcrypto";"webkitSubtle"in self.crypto&&(e="safari"),vn(e,new pn({name:e,crypto}))}}else if("undefined"!=typeof crypto&&"webcrypto"in crypto){const e="NodeJS ^15",t=crypto.webcrypto;vn(e,new pn({name:e,crypto:t}))}}()},6646:(e,t,r)=>{"use strict";var n=r(73656);void 0===n||!n.version||0===n.version.indexOf("v0.")||0===n.version.indexOf("v1.")&&0!==n.version.indexOf("v1.8.")?e.exports={nextTick:function(e,t,r,i){if("function"!=typeof e)throw new TypeError('"callback" argument must be a function');var a,s,o=arguments.length;switch(o){case 0:case 1:return n.nextTick(e);case 2:return n.nextTick((function(){e.call(null,t)}));case 3:return n.nextTick((function(){e.call(null,t,r)}));case 4:return n.nextTick((function(){e.call(null,t,r,i)}));default:for(a=new Array(o-1),s=0;s<a.length;)a[s++]=arguments[s];return n.nextTick((function(){e.apply(null,a)}))}}}:e.exports=n},73656:e=>{var t,r,n=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(t===setTimeout)return setTimeout(e,0);if((t===i||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(r){try{return t.call(null,e,0)}catch(r){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:i}catch(e){t=i}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var o,u=[],c=!1,l=-1;function h(){c&&o&&(c=!1,o.length?u=o.concat(u):l=-1,u.length&&f())}function f(){if(!c){var e=s(h);c=!0;for(var t=u.length;t;){for(o=u,u=[];++l<t;)o&&o[l].run();l=-1,t=u.length}o=null,c=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{return r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function d(e,t){this.fun=e,this.array=t}function p(){}n.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];u.push(new d(e,t)),1!==u.length||c||s(f)},d.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=p,n.addListener=p,n.once=p,n.off=p,n.removeListener=p,n.removeAllListeners=p,n.emit=p,n.prependListener=p,n.prependOnceListener=p,n.listeners=function(e){return[]},n.binding=function(e){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(e){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},72882:function(e){var t,r;t=this,r=function(){var e="function"==typeof Object.defineProperty?function(e,t,r){return Object.defineProperty(e,t,r),e}:function(e,t,r){return e[t]=r.value,e};return function(t,r,n,i){var a;if(i=function(e,t){var r="object"==typeof t,n=!r&&"string"==typeof t,i=function(e){return r?!!t[e]:!!n&&t.indexOf(e[0])>-1};return{enumerable:i("enumerable"),configurable:i("configurable"),writable:i("writable"),value:e}}(n,i),"object"==typeof r){for(a in r)Object.hasOwnProperty.call(r,a)&&(i.value=r[a],e(t,a,i));return t}return e(t,r,i)}},e.exports?e.exports=r():t.prr=r()},65437:function(e){var t,r;t=this,r=function(){var e="function"==typeof Object.defineProperty?function(e,t,r){return Object.defineProperty(e,t,r),e}:function(e,t,r){return e[t]=r.value,e};return function(t,r,n,i){var a;if(i=function(e,t){var r="object"==typeof t,n=!r&&"string"==typeof t,i=function(e){return r?!!t[e]:!!n&&t.indexOf(e[0])>-1};return{enumerable:i("enumerable"),configurable:i("configurable"),writable:i("writable"),value:e}}(n,i),"object"==typeof r){for(a in r)Object.hasOwnProperty.call(r,a)&&(i.value=r[a],e(t,a,i));return t}return e(t,r,i)}},e.exports?e.exports=r():t.prr=r()},65938:(e,t,r)=>{t.publicEncrypt=r(68741),t.privateDecrypt=r(60220),t.privateEncrypt=function(e,r){return t.publicEncrypt(e,r,!0)},t.publicDecrypt=function(e,r){return t.privateDecrypt(e,r,!0)}},70439:(e,t,r)=>{var n=r(20160),i=r(21607).Buffer;function a(e){var t=i.allocUnsafe(4);return t.writeUInt32BE(e,0),t}e.exports=function(e,t){for(var r,s=i.alloc(0),o=0;s.length<t;)r=a(o++),s=i.concat([s,n("sha1").update(e).update(r).digest()]);return s.slice(0,t)}},60220:(e,t,r)=>{var n=r(8742),i=r(70439),a=r(35115),s=r(28891),o=r(57364),u=r(20160),c=r(34546),l=r(21607).Buffer;e.exports=function(e,t,r){var h;h=e.padding?e.padding:r?1:4;var f,d=n(e),p=d.modulus.byteLength();if(t.length>p||new s(t).cmp(d.modulus)>=0)throw new Error("decryption error");f=r?c(new s(t),d):o(t,d);var m=l.alloc(p-f.length);if(f=l.concat([m,f],p),4===h)return function(e,t){var r=e.modulus.byteLength(),n=u("sha1").update(l.alloc(0)).digest(),s=n.length;if(0!==t[0])throw new Error("decryption error");var o=t.slice(1,s+1),c=t.slice(s+1),h=a(o,i(c,s)),f=a(c,i(h,r-s-1));if(function(e,t){e=l.from(e),t=l.from(t);var r=0,n=e.length;e.length!==t.length&&(r++,n=Math.min(e.length,t.length));var i=-1;for(;++i<n;)r+=e[i]^t[i];return r}(n,f.slice(0,s)))throw new Error("decryption error");var d=s;for(;0===f[d];)d++;if(1!==f[d++])throw new Error("decryption error");return f.slice(d)}(d,f);if(1===h)return function(e,t,r){var n=t.slice(0,2),i=2,a=0;for(;0!==t[i++];)if(i>=t.length){a++;break}var s=t.slice(2,i-1);("0002"!==n.toString("hex")&&!r||"0001"!==n.toString("hex")&&r)&&a++;s.length<8&&a++;if(a)throw new Error("decryption error");return t.slice(i)}(0,f,r);if(3===h)return f;throw new Error("unknown padding")}},68741:(e,t,r)=>{var n=r(8742),i=r(98773),a=r(20160),s=r(70439),o=r(35115),u=r(28891),c=r(34546),l=r(57364),h=r(21607).Buffer;e.exports=function(e,t,r){var f;f=e.padding?e.padding:r?1:4;var d,p=n(e);if(4===f)d=function(e,t){var r=e.modulus.byteLength(),n=t.length,c=a("sha1").update(h.alloc(0)).digest(),l=c.length,f=2*l;if(n>r-f-2)throw new Error("message too long");var d=h.alloc(r-n-f-2),p=r-l-1,m=i(l),b=o(h.concat([c,d,h.alloc(1,1),t],p),s(m,p)),v=o(m,s(b,l));return new u(h.concat([h.alloc(1),v,b],r))}(p,t);else if(1===f)d=function(e,t,r){var n,a=t.length,s=e.modulus.byteLength();if(a>s-11)throw new Error("message too long");n=r?h.alloc(s-a-3,255):function(e){var t,r=h.allocUnsafe(e),n=0,a=i(2*e),s=0;for(;n<e;)s===a.length&&(a=i(2*e),s=0),(t=a[s++])&&(r[n++]=t);return r}(s-a-3);return new u(h.concat([h.from([0,r?1:2]),n,h.alloc(1),t],s))}(p,t,r);else{if(3!==f)throw new Error("unknown padding");if((d=new u(t)).cmp(p.modulus)>=0)throw new Error("data too long for modulus")}return r?l(d,p):c(d,p)}},34546:(e,t,r)=>{var n=r(28891),i=r(21607).Buffer;e.exports=function(e,t){return i.from(e.toRed(n.mont(t.modulus)).redPow(new n(t.publicExponent)).fromRed().toArray())}},35115:e=>{e.exports=function(e,t){for(var r=e.length,n=-1;++n<r;)e[n]^=t[n];return e}},27377:function(e,t,r){var n;e=r.nmd(e),function(i){t&&t.nodeType,e&&e.nodeType;var a="object"==typeof r.g&&r.g;a.global!==a&&a.window!==a&&a.self;var s,o=2147483647,u=36,c=1,l=26,h=38,f=700,d=72,p=128,m="-",b=/^xn--/,v=/[^\x20-\x7E]/,y=/[\x2E\u3002\uFF0E\uFF61]/g,g={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},w=u-c,S=Math.floor,_=String.fromCharCode;function A(e){throw RangeError(g[e])}function k(e,t){for(var r=e.length,n=[];r--;)n[r]=t(e[r]);return n}function E(e,t){var r=e.split("@"),n="";return r.length>1&&(n=r[0]+"@",e=r[1]),n+k((e=e.replace(y,".")).split("."),t).join(".")}function O(e){for(var t,r,n=[],i=0,a=e.length;i<a;)(t=e.charCodeAt(i++))>=55296&&t<=56319&&i<a?56320==(64512&(r=e.charCodeAt(i++)))?n.push(((1023&t)<<10)+(1023&r)+65536):(n.push(t),i--):n.push(t);return n}function C(e){return k(e,(function(e){var t="";return e>65535&&(t+=_((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+=_(e)})).join("")}function N(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function x(e,t,r){var n=0;for(e=r?S(e/f):e>>1,e+=S(e/t);e>w*l>>1;n+=u)e=S(e/w);return S(n+(w+1)*e/(e+h))}function P(e){var t,r,n,i,a,s,h,f,b,v,y,g=[],w=e.length,_=0,k=p,E=d;for((r=e.lastIndexOf(m))<0&&(r=0),n=0;n<r;++n)e.charCodeAt(n)>=128&&A("not-basic"),g.push(e.charCodeAt(n));for(i=r>0?r+1:0;i<w;){for(a=_,s=1,h=u;i>=w&&A("invalid-input"),((f=(y=e.charCodeAt(i++))-48<10?y-22:y-65<26?y-65:y-97<26?y-97:u)>=u||f>S((o-_)/s))&&A("overflow"),_+=f*s,!(f<(b=h<=E?c:h>=E+l?l:h-E));h+=u)s>S(o/(v=u-b))&&A("overflow"),s*=v;E=x(_-a,t=g.length+1,0==a),S(_/t)>o-k&&A("overflow"),k+=S(_/t),_%=t,g.splice(_++,0,k)}return C(g)}function I(e){var t,r,n,i,a,s,h,f,b,v,y,g,w,k,E,C=[];for(g=(e=O(e)).length,t=p,r=0,a=d,s=0;s<g;++s)(y=e[s])<128&&C.push(_(y));for(n=i=C.length,i&&C.push(m);n<g;){for(h=o,s=0;s<g;++s)(y=e[s])>=t&&y<h&&(h=y);for(h-t>S((o-r)/(w=n+1))&&A("overflow"),r+=(h-t)*w,t=h,s=0;s<g;++s)if((y=e[s])<t&&++r>o&&A("overflow"),y==t){for(f=r,b=u;!(f<(v=b<=a?c:b>=a+l?l:b-a));b+=u)E=f-v,k=u-v,C.push(_(N(v+E%k,0))),f=S(E/k);C.push(_(N(f,0))),a=x(r,w,n==i),r=0,++n}++r,++t}return C.join("")}s={version:"1.3.2",ucs2:{decode:O,encode:C},decode:P,encode:I,toASCII:function(e){return E(e,(function(e){return v.test(e)?"xn--"+I(e):e}))},toUnicode:function(e){return E(e,(function(e){return b.test(e)?P(e.slice(4).toLowerCase()):e}))}},void 0===(n=function(){return s}.call(t,r,t,e))||(e.exports=n)}()},11590:(e,t,r)=>{"use strict";r.d(t,{H9:()=>g,xX:()=>y});const n=2147483647,i=36,a=/^xn--/,s=/[^\0-\x7E]/,o=/[\x2E\u3002\uFF0E\uFF61]/g,u={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},c=Math.floor,l=String.fromCharCode;function h(e){throw new RangeError(u[e])}function f(e,t){const r=e.split("@");let n="";r.length>1&&(n=r[0]+"@",e=r[1]);const i=function(e,t){const r=[];let n=e.length;for(;n--;)r[n]=t(e[n]);return r}((e=e.replace(o,".")).split("."),t).join(".");return n+i}function d(e){const t=[];let r=0;const n=e.length;for(;r<n;){const i=e.charCodeAt(r++);if(i>=55296&&i<=56319&&r<n){const n=e.charCodeAt(r++);56320==(64512&n)?t.push(((1023&i)<<10)+(1023&n)+65536):(t.push(i),r--)}else t.push(i)}return t}const p=function(e,t){return e+22+75*(e<26)-((0!=t)<<5)},m=function(e,t,r){let n=0;for(e=r?c(e/700):e>>1,e+=c(e/t);e>455;n+=i)e=c(e/35);return c(n+36*e/(e+38))},b=function(e){const t=[],r=e.length;let a=0,s=128,o=72,u=e.lastIndexOf("-");u<0&&(u=0);for(let r=0;r<u;++r)e.charCodeAt(r)>=128&&h("not-basic"),t.push(e.charCodeAt(r));for(let f=u>0?u+1:0;f<r;){let u=a;for(let t=1,s=i;;s+=i){f>=r&&h("invalid-input");const u=(l=e.charCodeAt(f++))-48<10?l-22:l-65<26?l-65:l-97<26?l-97:i;(u>=i||u>c((n-a)/t))&&h("overflow"),a+=u*t;const d=s<=o?1:s>=o+26?26:s-o;if(u<d)break;const p=i-d;t>c(n/p)&&h("overflow"),t*=p}const d=t.length+1;o=m(a-u,d,0==u),c(a/d)>n-s&&h("overflow"),s+=c(a/d),a%=d,t.splice(a++,0,s)}var l;return String.fromCodePoint(...t)},v=function(e){const t=[];let r=(e=d(e)).length,a=128,s=0,o=72;for(const r of e)r<128&&t.push(l(r));let u=t.length,f=u;for(u&&t.push("-");f<r;){let r=n;for(const t of e)t>=a&&t<r&&(r=t);const d=f+1;r-a>c((n-s)/d)&&h("overflow"),s+=(r-a)*d,a=r;for(const r of e)if(r<a&&++s>n&&h("overflow"),r==a){let e=s;for(let r=i;;r+=i){const n=r<=o?1:r>=o+26?26:r-o;if(e<n)break;const a=e-n,s=i-n;t.push(l(p(n+a%s,0))),e=c(a/s)}t.push(l(p(e,0))),o=m(s,d,f==u),s=0,++f}++s,++a}return t.join("")},y=function(e){return f(e,(function(e){return a.test(e)?b(e.slice(4).toLowerCase()):e}))},g=function(e){return f(e,(function(e){return s.test(e)?"xn--"+v(e):e}))}},99612:(e,t,r)=>{"use strict";var n=r(15313).Buffer;class i{static isArrayBuffer(e){return"[object ArrayBuffer]"===Object.prototype.toString.call(e)}static toArrayBuffer(e){return this.isArrayBuffer(e)?e:e.byteLength===e.buffer.byteLength?e.buffer:this.toUint8Array(e).slice().buffer}static toUint8Array(e){return this.toView(e,Uint8Array)}static toView(e,t){if(e.constructor===t)return e;if(this.isArrayBuffer(e))return new t(e);if(this.isArrayBufferView(e))return new t(e.buffer,e.byteOffset,e.byteLength);throw new TypeError("The provided value is not of type '(ArrayBuffer or ArrayBufferView)'")}static isBufferSource(e){return this.isArrayBufferView(e)||this.isArrayBuffer(e)}static isArrayBufferView(e){return ArrayBuffer.isView(e)||e&&this.isArrayBuffer(e.buffer)}static isEqual(e,t){const r=i.toUint8Array(e),n=i.toUint8Array(t);if(r.length!==n.byteLength)return!1;for(let e=0;e<r.length;e++)if(r[e]!==n[e])return!1;return!0}static concat(...e){if(Array.isArray(e[0])){const t=e[0];let r=0;for(const e of t)r+=e.byteLength;const n=new Uint8Array(r);let i=0;for(const e of t){const t=this.toUint8Array(e);n.set(t,i),i+=t.length}return e[1]?this.toView(n,e[1]):n.buffer}return this.concat(e)}}class a{static fromString(e){const t=unescape(encodeURIComponent(e)),r=new Uint8Array(t.length);for(let e=0;e<t.length;e++)r[e]=t.charCodeAt(e);return r.buffer}static toString(e){const t=i.toUint8Array(e);let r="";for(let e=0;e<t.length;e++)r+=String.fromCharCode(t[e]);return decodeURIComponent(escape(r))}}class s{static toString(e,t=!1){const r=i.toArrayBuffer(e),n=new DataView(r);let a="";for(let e=0;e<r.byteLength;e+=2){const r=n.getUint16(e,t);a+=String.fromCharCode(r)}return a}static fromString(e,t=!1){const r=new ArrayBuffer(2*e.length),n=new DataView(r);for(let r=0;r<e.length;r++)n.setUint16(2*r,e.charCodeAt(r),t);return r}}class o{static isHex(e){return"string"==typeof e&&/^[a-z0-9]+$/i.test(e)}static isBase64(e){return"string"==typeof e&&/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}static isBase64Url(e){return"string"==typeof e&&/^[a-zA-Z0-9-_]+$/i.test(e)}static ToString(e,t="utf8"){const r=i.toUint8Array(e);switch(t.toLowerCase()){case"utf8":return this.ToUtf8String(r);case"binary":return this.ToBinary(r);case"hex":return this.ToHex(r);case"base64":return this.ToBase64(r);case"base64url":return this.ToBase64Url(r);case"utf16le":return s.toString(r,!0);case"utf16":case"utf16be":return s.toString(r);default:throw new Error(`Unknown type of encoding '${t}'`)}}static FromString(e,t="utf8"){if(!e)return new ArrayBuffer(0);switch(t.toLowerCase()){case"utf8":return this.FromUtf8String(e);case"binary":return this.FromBinary(e);case"hex":return this.FromHex(e);case"base64":return this.FromBase64(e);case"base64url":return this.FromBase64Url(e);case"utf16le":return s.fromString(e,!0);case"utf16":case"utf16be":return s.fromString(e);default:throw new Error(`Unknown type of encoding '${t}'`)}}static ToBase64(e){const t=i.toUint8Array(e);if("undefined"!=typeof btoa){const e=this.ToString(t,"binary");return btoa(e)}return n.from(t).toString("base64")}static FromBase64(e){const t=this.formatString(e);if(!t)return new ArrayBuffer(0);if(!o.isBase64(t))throw new TypeError("Argument 'base64Text' is not Base64 encoded");return"undefined"!=typeof atob?this.FromBinary(atob(t)):new Uint8Array(n.from(t,"base64")).buffer}static FromBase64Url(e){const t=this.formatString(e);if(!t)return new ArrayBuffer(0);if(!o.isBase64Url(t))throw new TypeError("Argument 'base64url' is not Base64Url encoded");return this.FromBase64(this.Base64Padding(t.replace(/\-/g,"+").replace(/\_/g,"/")))}static ToBase64Url(e){return this.ToBase64(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/\=/g,"")}static FromUtf8String(e,t=o.DEFAULT_UTF8_ENCODING){switch(t){case"ascii":return this.FromBinary(e);case"utf8":return a.fromString(e);case"utf16":case"utf16be":return s.fromString(e);case"utf16le":case"usc2":return s.fromString(e,!0);default:throw new Error(`Unknown type of encoding '${t}'`)}}static ToUtf8String(e,t=o.DEFAULT_UTF8_ENCODING){switch(t){case"ascii":return this.ToBinary(e);case"utf8":return a.toString(e);case"utf16":case"utf16be":return s.toString(e);case"utf16le":case"usc2":return s.toString(e,!0);default:throw new Error(`Unknown type of encoding '${t}'`)}}static FromBinary(e){const t=e.length,r=new Uint8Array(t);for(let n=0;n<t;n++)r[n]=e.charCodeAt(n);return r.buffer}static ToBinary(e){const t=i.toUint8Array(e);let r="";for(let e=0;e<t.length;e++)r+=String.fromCharCode(t[e]);return r}static ToHex(e){const t=i.toUint8Array(e),r=[],n=t.length;for(let e=0;e<n;e++){const n=t[e].toString(16).padStart(2,"0");r.push(n)}return r.join("")}static FromHex(e){let t=this.formatString(e);if(!t)return new ArrayBuffer(0);if(!o.isHex(t))throw new TypeError("Argument 'hexString' is not HEX encoded");t.length%2&&(t=`0${t}`);const r=new Uint8Array(t.length/2);for(let e=0;e<t.length;e+=2){const n=t.slice(e,e+2);r[e/2]=parseInt(n,16)}return r.buffer}static ToUtf16String(e,t=!1){return s.toString(e,t)}static FromUtf16String(e,t=!1){return s.fromString(e,t)}static Base64Padding(e){const t=4-e.length%4;if(t<4)for(let r=0;r<t;r++)e+="=";return e}static formatString(e){return(null==e?void 0:e.replace(/[\n\r\t ]/g,""))||""}}o.DEFAULT_UTF8_ENCODING="utf8",t.vJ=i,t.ep=o},30598:(e,t,r)=>{"use strict";function n(e,t,r){var n;return e instanceof Object==!1?r:null!==(n=e[t])&&void 0!==n?n:r}function i(e,t=0,r=e.byteLength-t,n=!1){let i="";for(const a of new Uint8Array(e,t,r)){const e=a.toString(16).toUpperCase();1===e.length&&(i+="0"),i+=e,n&&(i+=" ")}return i.trim()}function a(e,t){let r=0;if(1===e.length)return e[0];for(let n=e.length-1;n>=0;n--)r+=e[e.length-1-n]*Math.pow(2,t*n);return r}function s(e,t,r=-1){const n=r;let i=e,a=0,s=Math.pow(2,t);for(let r=1;r<8;r++){if(e<s){let e;if(n<0)e=new ArrayBuffer(r),a=r;else{if(n<r)return new ArrayBuffer(0);e=new ArrayBuffer(n),a=n}const s=new Uint8Array(e);for(let e=r-1;e>=0;e--){const r=Math.pow(2,e*t);s[a-e-1]=Math.floor(i/r),i-=s[a-e-1]*r}return e}s*=Math.pow(2,t)}return new ArrayBuffer(0)}function o(...e){let t=0,r=0;for(const r of e)t+=r.byteLength;const n=new ArrayBuffer(t),i=new Uint8Array(n);for(const t of e)i.set(new Uint8Array(t),r),r+=t.byteLength;return n}function u(...e){let t=0,r=0;for(const r of e)t+=r.length;const n=new ArrayBuffer(t),i=new Uint8Array(n);for(const t of e)i.set(t,r),r+=t.length;return i}function c(){const e=new Uint8Array(this.valueHex);if(this.valueHex.byteLength>=2){const t=255===e[0]&&128&e[1],r=0===e[0]&&0==(128&e[1]);(t||r)&&this.warnings.push("Needlessly long format")}const t=new ArrayBuffer(this.valueHex.byteLength),r=new Uint8Array(t);for(let e=0;e<this.valueHex.byteLength;e++)r[e]=0;r[0]=128&e[0];const n=a(r,8),i=new ArrayBuffer(this.valueHex.byteLength),s=new Uint8Array(i);for(let t=0;t<this.valueHex.byteLength;t++)s[t]=e[t];s[0]&=127;return a(s,8)-n}function l(e){const t=e<0?-1*e:e;let r=128;for(let n=1;n<8;n++){if(t<=r){if(e<0){const e=s(r-t,8,n);return new Uint8Array(e)[0]|=128,e}let i=s(t,8,n),a=new Uint8Array(i);if(128&a[0]){const e=i.slice(0),t=new Uint8Array(e);i=new ArrayBuffer(i.byteLength+1),a=new Uint8Array(i);for(let r=0;r<e.byteLength;r++)a[r+1]=t[r];a[0]=0}return i}r*=Math.pow(2,8)}return new ArrayBuffer(0)}function h(e,t){if(e.byteLength!==t.byteLength)return!1;const r=new Uint8Array(e),n=new Uint8Array(t);for(let e=0;e<r.length;e++)if(r[e]!==n[e])return!1;return!0}function f(e,t){const r=e.toString(10);if(t<r.length)return"";const n=t-r.length,i=new Array(n);for(let e=0;e<n;e++)i[e]="0";return i.join("").concat(r)}r.d(t,{Gc:()=>c,Gh:()=>b,H$:()=>n,Ir:()=>u,J$:()=>w,RH:()=>i,dN:()=>h,gG:()=>y,hk:()=>o,lE:()=>v,lL:()=>s,qE:()=>l,r9:()=>a,s3:()=>m,vX:()=>f,ze:()=>S});const d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",p="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=";function m(e,t=!1,r=!1,n=!1){let i=0,a=0,s=0,o="";const u=t?p:d;if(n){let t=0;for(let r=0;r<e.length;r++)if(0!==e.charCodeAt(r)){t=r;break}e=e.slice(t)}for(;i<e.length;){const t=e.charCodeAt(i++);i>=e.length&&(a=1);const n=e.charCodeAt(i++);i>=e.length&&(s=1);const c=e.charCodeAt(i++),l=t>>2,h=(3&t)<<4|n>>4;let f=(15&n)<<2|c>>6,d=63&c;1===a?f=d=64:1===s&&(d=64),o+=r?64===f?`${u.charAt(l)}${u.charAt(h)}`:64===d?`${u.charAt(l)}${u.charAt(h)}${u.charAt(f)}`:`${u.charAt(l)}${u.charAt(h)}${u.charAt(f)}${u.charAt(d)}`:`${u.charAt(l)}${u.charAt(h)}${u.charAt(f)}${u.charAt(d)}`}return o}function b(e,t=!1,r=!1){const n=t?p:d;function i(e){for(let t=0;t<64;t++)if(n.charAt(t)===e)return t;return 64}function a(e){return 64===e?0:e}let s=0,o="";for(;s<e.length;){const t=i(e.charAt(s++)),r=s>=e.length?0:i(e.charAt(s++)),n=s>=e.length?0:i(e.charAt(s++)),u=s>=e.length?0:i(e.charAt(s++)),c=a(t)<<2|a(r)>>4,l=(15&a(r))<<4|a(n)>>2,h=(3&a(n))<<6|a(u);o+=String.fromCharCode(c),64!==n&&(o+=String.fromCharCode(l)),64!==u&&(o+=String.fromCharCode(h))}if(r){let e=-1;for(let t=o.length-1;t>=0;t--)if(0!==o.charCodeAt(t)){e=t;break}o=-1!==e?o.slice(0,e+1):""}return o}function v(e){let t="";const r=new Uint8Array(e);for(const e of r)t+=String.fromCharCode(e);return t}function y(e){const t=e.length,r=new ArrayBuffer(t),n=new Uint8Array(r);for(let r=0;r<t;r++)n[r]=e.charCodeAt(r);return r}const g=Math.log(2);function w(e){const t=Math.log(e)/g,r=Math.floor(t),n=Math.round(t);return r===n?r:n}function S(e,t){for(const r of t)delete e[r]}},66319:(e,t,r)=>{"use strict";var n=r(79112),i=r(52458),a=r(49048);function s(e,t){return t.encode?t.strict?n(e):encodeURIComponent(e):e}function o(e){return Array.isArray(e)?e.sort():"object"==typeof e?o(Object.keys(e)).sort((function(e,t){return Number(e)-Number(t)})).map((function(t){return e[t]})):e}function u(e){var t=e.indexOf("?");return-1===t?"":e.slice(t+1)}function c(e,t){var r=function(e){var t;switch(e.arrayFormat){case"index":return function(e,r,n){t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===n[e]&&(n[e]={}),n[e][t[1]]=r):n[e]=r};case"bracket":return function(e,r,n){t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0!==n[e]?n[e]=[].concat(n[e],r):n[e]=[r]:n[e]=r};default:return function(e,t,r){void 0!==r[e]?r[e]=[].concat(r[e],t):r[e]=t}}}(t=i({arrayFormat:"none"},t)),n=Object.create(null);return"string"!=typeof e?n:(e=e.trim().replace(/^[?#&]/,""))?(e.split("&").forEach((function(e){var t=e.replace(/\+/g," ").split("="),i=t.shift(),s=t.length>0?t.join("="):void 0;s=void 0===s?null:a(s),r(a(i),s,n)})),Object.keys(n).sort().reduce((function(e,t){var r=n[t];return Boolean(r)&&"object"==typeof r&&!Array.isArray(r)?e[t]=o(r):e[t]=r,e}),Object.create(null))):n}t.extract=u,t.parse=c,t.stringify=function(e,t){!1===(t=i({encode:!0,strict:!0,arrayFormat:"none"},t)).sort&&(t.sort=function(){});var r=function(e){switch(e.arrayFormat){case"index":return function(t,r,n){return null===r?[s(t,e),"[",n,"]"].join(""):[s(t,e),"[",s(n,e),"]=",s(r,e)].join("")};case"bracket":return function(t,r){return null===r?s(t,e):[s(t,e),"[]=",s(r,e)].join("")};default:return function(t,r){return null===r?s(t,e):[s(t,e),"=",s(r,e)].join("")}}}(t);return e?Object.keys(e).sort(t.sort).map((function(n){var i=e[n];if(void 0===i)return"";if(null===i)return s(n,t);if(Array.isArray(i)){var a=[];return i.slice().forEach((function(e){void 0!==e&&a.push(r(n,e,a.length))})),a.join("&")}return s(n,t)+"="+s(i,t)})).filter((function(e){return e.length>0})).join("&"):""},t.parseUrl=function(e,t){return{url:e.split("?")[0]||"",query:c(u(e),t)}}},24400:e=>{"use strict";function t(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,r,n,i){r=r||"&",n=n||"=";var a={};if("string"!=typeof e||0===e.length)return a;var s=/\+/g;e=e.split(r);var o=1e3;i&&"number"==typeof i.maxKeys&&(o=i.maxKeys);var u=e.length;o>0&&u>o&&(u=o);for(var c=0;c<u;++c){var l,h,f,d,p=e[c].replace(s,"%20"),m=p.indexOf(n);m>=0?(l=p.substr(0,m),h=p.substr(m+1)):(l=p,h=""),f=decodeURIComponent(l),d=decodeURIComponent(h),t(a,f)?Array.isArray(a[f])?a[f].push(d):a[f]=[a[f],d]:a[f]=d}return a}},7433:e=>{"use strict";var t=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,r,n,i){return r=r||"&",n=n||"=",null===e&&(e=void 0),"object"==typeof e?Object.keys(e).map((function(i){var a=encodeURIComponent(t(i))+n;return Array.isArray(e[i])?e[i].map((function(e){return a+encodeURIComponent(t(e))})).join(r):a+encodeURIComponent(t(e[i]))})).join(r):i?encodeURIComponent(t(i))+n+encodeURIComponent(t(e)):""}},3048:(e,t,r)=>{"use strict";t.decode=t.parse=r(24400),t.encode=t.stringify=r(7433)},52800:(e,t,r)=>{"use strict";r.d(t,{Z:()=>f});var n=r(11963);function i(e){for(var t,r=[];!(t=e.next()).done;)r.push(t.value);return r}var a=r(34425);var s=r(46861),o=r(32295),u=r(50622),c=r(18208);function l(e,t,r,n){var s=i(e),o=i(t);function u(e,t){return h(e,t,r.slice(),n.slice())}return!(0,a.Z)((function(e,t){return!(0,a.Z)(u,t,e)}),o,s)}function h(e,t,r,n){if((0,o.Z)(e,t))return!0;var i,a,f=(0,c.Z)(e);if(f!==(0,c.Z)(t))return!1;if(null==e||null==t)return!1;if("function"==typeof e["fantasy-land/equals"]||"function"==typeof t["fantasy-land/equals"])return"function"==typeof e["fantasy-land/equals"]&&e["fantasy-land/equals"](t)&&"function"==typeof t["fantasy-land/equals"]&&t["fantasy-land/equals"](e);if("function"==typeof e.equals||"function"==typeof t.equals)return"function"==typeof e.equals&&e.equals(t)&&"function"==typeof t.equals&&t.equals(e);switch(f){case"Arguments":case"Array":case"Object":if("function"==typeof e.constructor&&"Promise"===(i=e.constructor,null==(a=String(i).match(/^function (\w*)/))?"":a[1]))return e===t;break;case"Boolean":case"Number":case"String":if(typeof e!=typeof t||!(0,o.Z)(e.valueOf(),t.valueOf()))return!1;break;case"Date":if(!(0,o.Z)(e.valueOf(),t.valueOf()))return!1;break;case"Error":return e.name===t.name&&e.message===t.message;case"RegExp":if(e.source!==t.source||e.global!==t.global||e.ignoreCase!==t.ignoreCase||e.multiline!==t.multiline||e.sticky!==t.sticky||e.unicode!==t.unicode)return!1}for(var d=r.length-1;d>=0;){if(r[d]===e)return n[d]===t;d-=1}switch(f){case"Map":return e.size===t.size&&l(e.entries(),t.entries(),r.concat([e]),n.concat([t]));case"Set":return e.size===t.size&&l(e.values(),t.values(),r.concat([e]),n.concat([t]));case"Arguments":case"Array":case"Object":case"Boolean":case"Number":case"String":case"Date":case"Error":case"RegExp":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"ArrayBuffer":break;default:return!1}var p=(0,u.Z)(e);if(p.length!==(0,u.Z)(t).length)return!1;var m=r.concat([e]),b=n.concat([t]);for(d=p.length-1;d>=0;){var v=p[d];if(!(0,s.Z)(v,t)||!h(t[v],e[v],m,b))return!1;d-=1}return!0}const f=(0,n.Z)((function(e,t){return h(e,t,[],[])}))},16516:(e,t,r)=>{"use strict";r.r(t),r.d(t,{F:()=>n,T:()=>i,__:()=>a,add:()=>o,addIndex:()=>p,adjust:()=>b,all:()=>k,allPass:()=>q,always:()=>Z,and:()=>J,andThen:()=>_a,any:()=>X,anyPass:()=>Q,ap:()=>ee,aperture:()=>ie,append:()=>ae,apply:()=>se,applySpec:()=>le,applyTo:()=>he,ascend:()=>fe,assoc:()=>pe,assocPath:()=>ye,binary:()=>we,bind:()=>I,both:()=>ke,call:()=>Oe,chain:()=>Pe,clamp:()=>Te,clone:()=>De,comparator:()=>He,complement:()=>Re,compose:()=>We,composeK:()=>qe,composeP:()=>Ge,composeWith:()=>tt,concat:()=>vt,cond:()=>gt,construct:()=>St,constructN:()=>wt,contains:()=>_t,converge:()=>At,countBy:()=>Ot,curry:()=>Ee,curryN:()=>d,dec:()=>Ct,defaultTo:()=>Nt,descend:()=>xt,difference:()=>Tt,differenceWith:()=>Vt,dissoc:()=>Dt,dissocPath:()=>Lt,divide:()=>$t,drop:()=>Kt,dropLast:()=>Yt,dropLastWhile:()=>tr,dropRepeats:()=>sr,dropRepeatsWith:()=>ar,dropWhile:()=>cr,either:()=>hr,empty:()=>dr,endsWith:()=>mr,eqBy:()=>br,eqProps:()=>yr,equals:()=>rt.Z,evolve:()=>wr,filter:()=>dt,find:()=>Ar,findIndex:()=>Or,findLast:()=>xr,findLastIndex:()=>Tr,flatten:()=>jr,flip:()=>Vr,forEach:()=>Br,forEachObjIndexed:()=>Dr,fromPairs:()=>Hr,groupBy:()=>Mr,groupWith:()=>Rr,gt:()=>Lr,gte:()=>$r,has:()=>Kr,hasIn:()=>Wr,hasPath:()=>Ur,head:()=>Ye,identical:()=>Zr,identity:()=>Qe,ifElse:()=>Jr,inc:()=>Gr,includes:()=>Yr,indexBy:()=>Xr,indexOf:()=>Qr,init:()=>en,innerJoin:()=>tn,insert:()=>rn,insertAll:()=>nn,intersection:()=>un,intersperse:()=>cn,into:()=>mn,invert:()=>vn,invertObj:()=>gn,invoker:()=>wn,is:()=>Sn,isEmpty:()=>_n,isNil:()=>be,join:()=>An,juxt:()=>kn,keys:()=>M.Z,keysIn:()=>On,last:()=>ir,lastIndexOf:()=>Cn,length:()=>xn,lens:()=>Pn,lensIndex:()=>In,lensPath:()=>Tn,lensProp:()=>jn,lift:()=>Ae,liftN:()=>_e,lt:()=>Vn,lte:()=>Bn,map:()=>R,mapAccum:()=>Dn,mapAccumRight:()=>Hn,mapObjIndexed:()=>Mn,match:()=>Rn,mathMod:()=>Ln,max:()=>E,maxBy:()=>$n,mean:()=>Fn,median:()=>Kn,memoizeWith:()=>zn,merge:()=>Wn,mergeAll:()=>qn,mergeDeepLeft:()=>Gn,mergeDeepRight:()=>Yn,mergeDeepWith:()=>Xn,mergeDeepWithKey:()=>Jn,mergeLeft:()=>Qn,mergeRight:()=>ei,mergeWith:()=>ti,mergeWithKey:()=>Zn,min:()=>ri,minBy:()=>ni,modulo:()=>ii,move:()=>ai,multiply:()=>si,nAry:()=>ge,negate:()=>oi,none:()=>ui,not:()=>Me,nth:()=>$,nthArg:()=>ci,o:()=>li,objOf:()=>hn,of:()=>fi,omit:()=>pi,once:()=>mi,or:()=>lr,otherwise:()=>vi,over:()=>wi,pair:()=>Si,partial:()=>Ai,partialRight:()=>ki,partition:()=>Ei,path:()=>F,pathEq:()=>Oi,pathOr:()=>Ci,pathSatisfies:()=>Ni,paths:()=>U,pick:()=>xi,pickAll:()=>Pi,pickBy:()=>Ti,pipe:()=>Ke,pipeK:()=>ji,pipeP:()=>Je,pipeWith:()=>et,pluck:()=>z,prepend:()=>Vi,product:()=>Bi,project:()=>Hi,prop:()=>K,propEq:()=>Mi,propIs:()=>Li,propOr:()=>$i,propSatisfies:()=>Ui,props:()=>Fi,range:()=>Ki,reduce:()=>W,reduceBy:()=>Et,reduceRight:()=>zi,reduceWhile:()=>Wi,reduced:()=>qi,reject:()=>pt,remove:()=>Ht,repeat:()=>Ji,replace:()=>Gi,reverse:()=>ze,scan:()=>Yi,sequence:()=>Qi,set:()=>ta,slice:()=>Ue,sort:()=>na,sortBy:()=>ia,sortWith:()=>aa,split:()=>sa,splitAt:()=>oa,splitEvery:()=>ua,splitWhen:()=>ca,startsWith:()=>la,subtract:()=>ha,sum:()=>Un,symmetricDifference:()=>fa,symmetricDifferenceWith:()=>da,tail:()=>Fe,take:()=>qt,takeLast:()=>pr,takeLastWhile:()=>pa,takeWhile:()=>va,tap:()=>wa,test:()=>Sa,thunkify:()=>ls,times:()=>Zi,toLower:()=>Aa,toPairs:()=>Ea,toPairsIn:()=>Ca,toString:()=>bt,toUpper:()=>Na,transduce:()=>xa,transpose:()=>Pa,traverse:()=>Ta,trim:()=>Va,tryCatch:()=>Ba,type:()=>Ve.Z,unapply:()=>Da,unary:()=>Ha,uncurryN:()=>Ma,unfold:()=>La,union:()=>$a,unionWith:()=>Fa,uniq:()=>on,uniqBy:()=>sn,uniqWith:()=>Ua,unless:()=>Ka,unnest:()=>za,until:()=>qa,update:()=>Mt,useWith:()=>Di,values:()=>ue,valuesIn:()=>Ja,view:()=>Xa,when:()=>Qa,where:()=>ts,whereEq:()=>rs,without:()=>ns,xor:()=>is,xprod:()=>as,zip:()=>ss,zipObj:()=>us,zipWith:()=>cs});const n=function(){return!1};const i=function(){return!0},a={"@@functional/placeholder":!0};var s=r(11963);const o=(0,s.Z)((function(e,t){return Number(e)+Number(t)}));function u(e,t){var r;t=t||[];var n=(e=e||[]).length,i=t.length,a=[];for(r=0;r<n;)a[a.length]=e[r],r+=1;for(r=0;r<i;)a[a.length]=t[r],r+=1;return a}var c=r(94005);function l(e,t){switch(e){case 0:return function(){return t.apply(this,arguments)};case 1:return function(e){return t.apply(this,arguments)};case 2:return function(e,r){return t.apply(this,arguments)};case 3:return function(e,r,n){return t.apply(this,arguments)};case 4:return function(e,r,n,i){return t.apply(this,arguments)};case 5:return function(e,r,n,i,a){return t.apply(this,arguments)};case 6:return function(e,r,n,i,a,s){return t.apply(this,arguments)};case 7:return function(e,r,n,i,a,s,o){return t.apply(this,arguments)};case 8:return function(e,r,n,i,a,s,o,u){return t.apply(this,arguments)};case 9:return function(e,r,n,i,a,s,o,u,c){return t.apply(this,arguments)};case 10:return function(e,r,n,i,a,s,o,u,c,l){return t.apply(this,arguments)};default:throw new Error("First argument to _arity must be a non-negative integer no greater than ten")}}var h=r(2457);function f(e,t,r){return function(){for(var n=[],i=0,a=e,s=0;s<t.length||i<arguments.length;){var o;s<t.length&&(!(0,h.Z)(t[s])||i>=arguments.length)?o=t[s]:(o=arguments[i],i+=1),n[s]=o,(0,h.Z)(o)||(a-=1),s+=1}return a<=0?r.apply(this,n):l(a,f(e,n,r))}}const d=(0,s.Z)((function(e,t){return 1===e?(0,c.Z)(t):l(e,f(e,[],t))}));const p=(0,c.Z)((function(e){return d(e.length,(function(){var t=0,r=arguments[0],n=arguments[arguments.length-1],i=Array.prototype.slice.call(arguments,0);return i[0]=function(){var e=r.apply(this,u(arguments,[t,n]));return t+=1,e},e.apply(this,i)}))}));function m(e){return function t(r,n,i){switch(arguments.length){case 0:return t;case 1:return(0,h.Z)(r)?t:(0,s.Z)((function(t,n){return e(r,t,n)}));case 2:return(0,h.Z)(r)&&(0,h.Z)(n)?t:(0,h.Z)(r)?(0,s.Z)((function(t,r){return e(t,n,r)})):(0,h.Z)(n)?(0,s.Z)((function(t,n){return e(r,t,n)})):(0,c.Z)((function(t){return e(r,n,t)}));default:return(0,h.Z)(r)&&(0,h.Z)(n)&&(0,h.Z)(i)?t:(0,h.Z)(r)&&(0,h.Z)(n)?(0,s.Z)((function(t,r){return e(t,r,i)})):(0,h.Z)(r)&&(0,h.Z)(i)?(0,s.Z)((function(t,r){return e(t,n,r)})):(0,h.Z)(n)&&(0,h.Z)(i)?(0,s.Z)((function(t,n){return e(r,t,n)})):(0,h.Z)(r)?(0,c.Z)((function(t){return e(t,n,i)})):(0,h.Z)(n)?(0,c.Z)((function(t){return e(r,t,i)})):(0,h.Z)(i)?(0,c.Z)((function(t){return e(r,n,t)})):e(r,n,i)}}}const b=m((function(e,t,r){if(e>=r.length||e<-r.length)return r;var n=(e<0?r.length:0)+e,i=u(r);return i[n]=t(r[n]),i})),v=Array.isArray||function(e){return null!=e&&e.length>=0&&"[object Array]"===Object.prototype.toString.call(e)};function y(e){return null!=e&&"function"==typeof e["@@transducer/step"]}function g(e,t,r){return function(){if(0===arguments.length)return r();var n=Array.prototype.slice.call(arguments,0),i=n.pop();if(!v(i)){for(var a=0;a<e.length;){if("function"==typeof i[e[a]])return i[e[a]].apply(i,n);a+=1}if(y(i))return t.apply(null,n)(i)}return r.apply(this,arguments)}}function w(e){return e&&e["@@transducer/reduced"]?e:{"@@transducer/value":e,"@@transducer/reduced":!0}}const S={init:function(){return this.xf["@@transducer/init"]()},result:function(e){return this.xf["@@transducer/result"](e)}};var _=function(){function e(e,t){this.xf=t,this.f=e,this.all=!0}return e.prototype["@@transducer/init"]=S.init,e.prototype["@@transducer/result"]=function(e){return this.all&&(e=this.xf["@@transducer/step"](e,!0)),this.xf["@@transducer/result"](e)},e.prototype["@@transducer/step"]=function(e,t){return this.f(t)||(this.all=!1,e=w(this.xf["@@transducer/step"](e,!1))),e},e}();const A=(0,s.Z)((function(e,t){return new _(e,t)}));const k=(0,s.Z)(g(["all"],A,(function(e,t){for(var r=0;r<t.length;){if(!e(t[r]))return!1;r+=1}return!0})));const E=(0,s.Z)((function(e,t){return t>e?t:e}));function O(e,t){for(var r=0,n=t.length,i=Array(n);r<n;)i[r]=e(t[r]),r+=1;return i}function C(e){return"[object String]"===Object.prototype.toString.call(e)}const N=(0,c.Z)((function(e){return!!v(e)||!!e&&("object"==typeof e&&(!C(e)&&(1===e.nodeType?!!e.length:0===e.length||e.length>0&&(e.hasOwnProperty(0)&&e.hasOwnProperty(e.length-1)))))}));var x=function(){function e(e){this.f=e}return e.prototype["@@transducer/init"]=function(){throw new Error("init not implemented on XWrap")},e.prototype["@@transducer/result"]=function(e){return e},e.prototype["@@transducer/step"]=function(e,t){return this.f(e,t)},e}();function P(e){return new x(e)}const I=(0,s.Z)((function(e,t){return l(e.length,(function(){return e.apply(t,arguments)}))}));function T(e,t,r){for(var n=r.next();!n.done;){if((t=e["@@transducer/step"](t,n.value))&&t["@@transducer/reduced"]){t=t["@@transducer/value"];break}n=r.next()}return e["@@transducer/result"](t)}function j(e,t,r,n){return e["@@transducer/result"](r[n](I(e["@@transducer/step"],e),t))}var V="undefined"!=typeof Symbol?Symbol.iterator:"@@iterator";function B(e,t,r){if("function"==typeof e&&(e=P(e)),N(r))return function(e,t,r){for(var n=0,i=r.length;n<i;){if((t=e["@@transducer/step"](t,r[n]))&&t["@@transducer/reduced"]){t=t["@@transducer/value"];break}n+=1}return e["@@transducer/result"](t)}(e,t,r);if("function"==typeof r["fantasy-land/reduce"])return j(e,t,r,"fantasy-land/reduce");if(null!=r[V])return T(e,t,r[V]());if("function"==typeof r.next)return T(e,t,r);if("function"==typeof r.reduce)return j(e,t,r,"reduce");throw new TypeError("reduce: list must be array or iterable")}var D=function(){function e(e,t){this.xf=t,this.f=e}return e.prototype["@@transducer/init"]=S.init,e.prototype["@@transducer/result"]=S.result,e.prototype["@@transducer/step"]=function(e,t){return this.xf["@@transducer/step"](e,this.f(t))},e}();const H=(0,s.Z)((function(e,t){return new D(e,t)}));var M=r(50622);const R=(0,s.Z)(g(["fantasy-land/map","map"],H,(function(e,t){switch(Object.prototype.toString.call(t)){case"[object Function]":return d(t.length,(function(){return e.call(this,t.apply(this,arguments))}));case"[object Object]":return B((function(r,n){return r[n]=e(t[n]),r}),{},(0,M.Z)(t));default:return O(e,t)}}))),L=Number.isInteger||function(e){return e<<0===e};const $=(0,s.Z)((function(e,t){var r=e<0?t.length+e:e;return C(t)?t.charAt(r):t[r]}));const U=(0,s.Z)((function(e,t){return e.map((function(e){for(var r,n=t,i=0;i<e.length;){if(null==n)return;r=e[i],n=L(r)?$(r,n):n[r],i+=1}return n}))}));const F=(0,s.Z)((function(e,t){return U([e],t)[0]}));const K=(0,s.Z)((function(e,t){return F([e],t)}));const z=(0,s.Z)((function(e,t){return R(K(e),t)}));const W=m(B);const q=(0,c.Z)((function(e){return d(W(E,0,z("length",e)),(function(){for(var t=0,r=e.length;t<r;){if(!e[t].apply(this,arguments))return!1;t+=1}return!0}))}));const Z=(0,c.Z)((function(e){return function(){return e}}));const J=(0,s.Z)((function(e,t){return e&&t}));var G=function(){function e(e,t){this.xf=t,this.f=e,this.any=!1}return e.prototype["@@transducer/init"]=S.init,e.prototype["@@transducer/result"]=function(e){return this.any||(e=this.xf["@@transducer/step"](e,!1)),this.xf["@@transducer/result"](e)},e.prototype["@@transducer/step"]=function(e,t){return this.f(t)&&(this.any=!0,e=w(this.xf["@@transducer/step"](e,!0))),e},e}();const Y=(0,s.Z)((function(e,t){return new G(e,t)}));const X=(0,s.Z)(g(["any"],Y,(function(e,t){for(var r=0;r<t.length;){if(e(t[r]))return!0;r+=1}return!1})));const Q=(0,c.Z)((function(e){return d(W(E,0,z("length",e)),(function(){for(var t=0,r=e.length;t<r;){if(e[t].apply(this,arguments))return!0;t+=1}return!1}))}));const ee=(0,s.Z)((function(e,t){return"function"==typeof t["fantasy-land/ap"]?t["fantasy-land/ap"](e):"function"==typeof e.ap?e.ap(t):"function"==typeof e?function(r){return e(r)(t(r))}:B((function(e,r){return u(e,R(r,t))}),[],e)}));function te(e,t){for(var r=0,n=t.length-(e-1),i=new Array(n>=0?n:0);r<n;)i[r]=Array.prototype.slice.call(t,r,r+e),r+=1;return i}var re=function(){function e(e,t){this.xf=t,this.pos=0,this.full=!1,this.acc=new Array(e)}return e.prototype["@@transducer/init"]=S.init,e.prototype["@@transducer/result"]=function(e){return this.acc=null,this.xf["@@transducer/result"](e)},e.prototype["@@transducer/step"]=function(e,t){return this.store(t),this.full?this.xf["@@transducer/step"](e,this.getCopy()):e},e.prototype.store=function(e){this.acc[this.pos]=e,this.pos+=1,this.pos===this.acc.length&&(this.pos=0,this.full=!0)},e.prototype.getCopy=function(){return u(Array.prototype.slice.call(this.acc,this.pos),Array.prototype.slice.call(this.acc,0,this.pos))},e}();const ne=(0,s.Z)((function(e,t){return new re(e,t)}));const ie=(0,s.Z)(g([],ne,te));const ae=(0,s.Z)((function(e,t){return u(t,[e])}));const se=(0,s.Z)((function(e,t){return e.apply(this,t)}));var oe=(0,c.Z)((function(e){for(var t=(0,M.Z)(e),r=t.length,n=[],i=0;i<r;)n[i]=e[t[i]],i+=1;return n}));const ue=oe;function ce(e,t){return(0,M.Z)(t).reduce((function(r,n){return r[n]=e(t[n]),r}),{})}const le=(0,c.Z)((function e(t){return t=ce((function(t){return"function"==typeof t?t:e(t)}),t),d(W(E,0,z("length",ue(t))),(function(){var e=arguments;return ce((function(t){return se(t,e)}),t)}))}));const he=(0,s.Z)((function(e,t){return t(e)}));const fe=m((function(e,t,r){var n=e(t),i=e(r);return n<i?-1:n>i?1:0}));var de=m((function(e,t,r){var n={};for(var i in r)n[i]=r[i];return n[e]=t,n}));const pe=de;var me=r(46861);const be=(0,c.Z)((function(e){return null==e}));var ve=m((function e(t,r,n){if(0===t.length)return r;var i=t[0];if(t.length>1){var a=!be(n)&&(0,me.Z)(i,n)?n[i]:L(t[1])?[]:{};r=e(Array.prototype.slice.call(t,1),r,a)}if(L(i)&&v(n)){var s=[].concat(n);return s[i]=r,s}return pe(i,r,n)}));const ye=ve;const ge=(0,s.Z)((function(e,t){switch(e){case 0:return function(){return t.call(this)};case 1:return function(e){return t.call(this,e)};case 2:return function(e,r){return t.call(this,e,r)};case 3:return function(e,r,n){return t.call(this,e,r,n)};case 4:return function(e,r,n,i){return t.call(this,e,r,n,i)};case 5:return function(e,r,n,i,a){return t.call(this,e,r,n,i,a)};case 6:return function(e,r,n,i,a,s){return t.call(this,e,r,n,i,a,s)};case 7:return function(e,r,n,i,a,s,o){return t.call(this,e,r,n,i,a,s,o)};case 8:return function(e,r,n,i,a,s,o,u){return t.call(this,e,r,n,i,a,s,o,u)};case 9:return function(e,r,n,i,a,s,o,u,c){return t.call(this,e,r,n,i,a,s,o,u,c)};case 10:return function(e,r,n,i,a,s,o,u,c,l){return t.call(this,e,r,n,i,a,s,o,u,c,l)};default:throw new Error("First argument to nAry must be a non-negative integer no greater than ten")}}));const we=(0,c.Z)((function(e){return ge(2,e)}));function Se(e){var t=Object.prototype.toString.call(e);return"[object Function]"===t||"[object AsyncFunction]"===t||"[object GeneratorFunction]"===t||"[object AsyncGeneratorFunction]"===t}const _e=(0,s.Z)((function(e,t){var r=d(e,t);return d(e,(function(){return B(ee,R(r,arguments[0]),Array.prototype.slice.call(arguments,1))}))}));const Ae=(0,c.Z)((function(e){return _e(e.length,e)}));const ke=(0,s.Z)((function(e,t){return Se(e)?function(){return e.apply(this,arguments)&&t.apply(this,arguments)}:Ae(J)(e,t)}));const Ee=(0,c.Z)((function(e){return d(e.length,e)}));const Oe=Ee((function(e){return e.apply(this,Array.prototype.slice.call(arguments,1))}));function Ce(e){return function t(r){for(var n,i,a,s=[],o=0,u=r.length;o<u;){if(N(r[o]))for(a=0,i=(n=e?t(r[o]):r[o]).length;a<i;)s[s.length]=n[a],a+=1;else s[s.length]=r[o];o+=1}return s}}const Ne=function(e){var t=function(e){return{"@@transducer/init":S.init,"@@transducer/result":function(t){return e["@@transducer/result"](t)},"@@transducer/step":function(t,r){var n=e["@@transducer/step"](t,r);return n["@@transducer/reduced"]?{"@@transducer/value":n,"@@transducer/reduced":!0}:n}}}(e);return{"@@transducer/init":S.init,"@@transducer/result":function(e){return t["@@transducer/result"](e)},"@@transducer/step":function(e,r){return N(r)?B(t,e,r):B(t,e,[r])}}};const xe=(0,s.Z)((function(e,t){return R(e,Ne(t))}));const Pe=(0,s.Z)(g(["fantasy-land/chain","chain"],xe,(function(e,t){return"function"==typeof t?function(r){return e(t(r))(r)}:Ce(!1)(R(e,t))})));var Ie=m((function(e,t,r){if(e>t)throw new Error("min must not be greater than max in clamp(min, max, value)");return r<e?e:r>t?t:r}));const Te=Ie;function je(e){return new RegExp(e.source,(e.global?"g":"")+(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.sticky?"y":"")+(e.unicode?"u":""))}var Ve=r(18208);function Be(e,t,r,n){var i=function(i){for(var a=t.length,s=0;s<a;){if(e===t[s])return r[s];s+=1}for(var o in t[s+1]=e,r[s+1]=i,e)i[o]=n?Be(e[o],t,r,!0):e[o];return i};switch((0,Ve.Z)(e)){case"Object":return i({});case"Array":return i([]);case"Date":return new Date(e.valueOf());case"RegExp":return je(e);default:return e}}const De=(0,c.Z)((function(e){return null!=e&&"function"==typeof e.clone?e.clone():Be(e,[],[],!0)}));const He=(0,c.Z)((function(e){return function(t,r){return e(t,r)?-1:e(r,t)?1:0}}));const Me=(0,c.Z)((function(e){return!e}));const Re=Ae(Me);function Le(e,t){return function(){return t.call(this,e.apply(this,arguments))}}function $e(e,t){return function(){var r=arguments.length;if(0===r)return t();var n=arguments[r-1];return v(n)||"function"!=typeof n[e]?t.apply(this,arguments):n[e].apply(n,Array.prototype.slice.call(arguments,0,r-1))}}const Ue=m($e("slice",(function(e,t,r){return Array.prototype.slice.call(r,e,t)})));const Fe=(0,c.Z)($e("tail",Ue(1,1/0)));function Ke(){if(0===arguments.length)throw new Error("pipe requires at least one argument");return l(arguments[0].length,W(Le,arguments[0],Fe(arguments)))}const ze=(0,c.Z)((function(e){return C(e)?e.split("").reverse().join(""):Array.prototype.slice.call(e,0).reverse()}));function We(){if(0===arguments.length)throw new Error("compose requires at least one argument");return Ke.apply(this,ze(arguments))}function qe(){if(0===arguments.length)throw new Error("composeK requires at least one argument");var e=Array.prototype.slice.call(arguments),t=e.pop();return We(We.apply(this,R(Pe,e)),t)}function Ze(e,t){return function(){var r=this;return e.apply(r,arguments).then((function(e){return t.call(r,e)}))}}function Je(){if(0===arguments.length)throw new Error("pipeP requires at least one argument");return l(arguments[0].length,W(Ze,arguments[0],Fe(arguments)))}function Ge(){if(0===arguments.length)throw new Error("composeP requires at least one argument");return Je.apply(this,ze(arguments))}const Ye=$(0);function Xe(e){return e}const Qe=(0,c.Z)(Xe);const et=(0,s.Z)((function(e,t){if(t.length<=0)return Qe;var r=Ye(t),n=Fe(t);return l(r.length,(function(){return B((function(t,r){return e.call(this,r,t)}),r.apply(this,arguments),n)}))}));const tt=(0,s.Z)((function(e,t){return et.apply(this,[e,ze(t)])}));var rt=r(52800);function nt(e,t,r){var n,i;if("function"==typeof e.indexOf)switch(typeof t){case"number":if(0===t){for(n=1/t;r<e.length;){if(0===(i=e[r])&&1/i===n)return r;r+=1}return-1}if(t!=t){for(;r<e.length;){if("number"==typeof(i=e[r])&&i!=i)return r;r+=1}return-1}return e.indexOf(t,r);case"string":case"boolean":case"function":case"undefined":return e.indexOf(t,r);case"object":if(null===t)return e.indexOf(t,r)}for(;r<e.length;){if((0,rt.Z)(e[r],t))return r;r+=1}return-1}function it(e,t){return nt(t,e,0)>=0}function at(e){return'"'+e.replace(/\\/g,"\\\\").replace(/[\b]/g,"\\b").replace(/\f/g,"\\f").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\t/g,"\\t").replace(/\v/g,"\\v").replace(/\0/g,"\\0").replace(/"/g,'\\"')+'"'}var st=function(e){return(e<10?"0":"")+e};const ot="function"==typeof Date.prototype.toISOString?function(e){return e.toISOString()}:function(e){return e.getUTCFullYear()+"-"+st(e.getUTCMonth()+1)+"-"+st(e.getUTCDate())+"T"+st(e.getUTCHours())+":"+st(e.getUTCMinutes())+":"+st(e.getUTCSeconds())+"."+(e.getUTCMilliseconds()/1e3).toFixed(3).slice(2,5)+"Z"};function ut(e){return function(){return!e.apply(this,arguments)}}function ct(e,t){for(var r=0,n=t.length,i=[];r<n;)e(t[r])&&(i[i.length]=t[r]),r+=1;return i}function lt(e){return"[object Object]"===Object.prototype.toString.call(e)}var ht=function(){function e(e,t){this.xf=t,this.f=e}return e.prototype["@@transducer/init"]=S.init,e.prototype["@@transducer/result"]=S.result,e.prototype["@@transducer/step"]=function(e,t){return this.f(t)?this.xf["@@transducer/step"](e,t):e},e}();const ft=(0,s.Z)((function(e,t){return new ht(e,t)}));const dt=(0,s.Z)(g(["filter"],ft,(function(e,t){return lt(t)?B((function(r,n){return e(t[n])&&(r[n]=t[n]),r}),{},(0,M.Z)(t)):ct(e,t)})));const pt=(0,s.Z)((function(e,t){return dt(ut(e),t)}));function mt(e,t){var r=function(r){var n=t.concat([e]);return it(r,n)?"<Circular>":mt(r,n)},n=function(e,t){return O((function(t){return at(t)+": "+r(e[t])}),t.slice().sort())};switch(Object.prototype.toString.call(e)){case"[object Arguments]":return"(function() { return arguments; }("+O(r,e).join(", ")+"))";case"[object Array]":return"["+O(r,e).concat(n(e,pt((function(e){return/^\d+$/.test(e)}),(0,M.Z)(e)))).join(", ")+"]";case"[object Boolean]":return"object"==typeof e?"new Boolean("+r(e.valueOf())+")":e.toString();case"[object Date]":return"new Date("+(isNaN(e.valueOf())?r(NaN):at(ot(e)))+")";case"[object Null]":return"null";case"[object Number]":return"object"==typeof e?"new Number("+r(e.valueOf())+")":1/e==-1/0?"-0":e.toString(10);case"[object String]":return"object"==typeof e?"new String("+r(e.valueOf())+")":at(e);case"[object Undefined]":return"undefined";default:if("function"==typeof e.toString){var i=e.toString();if("[object Object]"!==i)return i}return"{"+n(e,(0,M.Z)(e)).join(", ")+"}"}}const bt=(0,c.Z)((function(e){return mt(e,[])}));const vt=(0,s.Z)((function(e,t){if(v(e)){if(v(t))return e.concat(t);throw new TypeError(bt(t)+" is not an array")}if(C(e)){if(C(t))return e+t;throw new TypeError(bt(t)+" is not a string")}if(null!=e&&Se(e["fantasy-land/concat"]))return e["fantasy-land/concat"](t);if(null!=e&&Se(e.concat))return e.concat(t);throw new TypeError(bt(e)+' does not have a method named "concat" or "fantasy-land/concat"')}));var yt=(0,c.Z)((function(e){var t=W(E,0,R((function(e){return e[0].length}),e));return l(t,(function(){for(var t=0;t<e.length;){if(e[t][0].apply(this,arguments))return e[t][1].apply(this,arguments);t+=1}}))}));const gt=yt;const wt=(0,s.Z)((function(e,t){if(e>10)throw new Error("Constructor with greater than ten arguments");return 0===e?function(){return new t}:Ee(ge(e,(function(e,r,n,i,a,s,o,u,c,l){switch(arguments.length){case 1:return new t(e);case 2:return new t(e,r);case 3:return new t(e,r,n);case 4:return new t(e,r,n,i);case 5:return new t(e,r,n,i,a);case 6:return new t(e,r,n,i,a,s);case 7:return new t(e,r,n,i,a,s,o);case 8:return new t(e,r,n,i,a,s,o,u);case 9:return new t(e,r,n,i,a,s,o,u,c);case 10:return new t(e,r,n,i,a,s,o,u,c,l)}})))}));const St=(0,c.Z)((function(e){return wt(e.length,e)}));const _t=(0,s.Z)(it);const At=(0,s.Z)((function(e,t){return d(W(E,0,z("length",t)),(function(){var r=arguments,n=this;return e.apply(n,O((function(e){return e.apply(n,r)}),t))}))}));var kt=function(){function e(e,t,r,n){this.valueFn=e,this.valueAcc=t,this.keyFn=r,this.xf=n,this.inputs={}}return e.prototype["@@transducer/init"]=S.init,e.prototype["@@transducer/result"]=function(e){var t;for(t in this.inputs)if((0,me.Z)(t,this.inputs)&&(e=this.xf["@@transducer/step"](e,this.inputs[t]))["@@transducer/reduced"]){e=e["@@transducer/value"];break}return this.inputs=null,this.xf["@@transducer/result"](e)},e.prototype["@@transducer/step"]=function(e,t){var r=this.keyFn(t);return this.inputs[r]=this.inputs[r]||[r,this.valueAcc],this.inputs[r][1]=this.valueFn(this.inputs[r][1],t),e},e}();const Et=f(4,[],g([],f(4,[],(function(e,t,r,n){return new kt(e,t,r,n)})),(function(e,t,r,n){return B((function(n,i){var a=r(i);return n[a]=e((0,me.Z)(a,n)?n[a]:Be(t,[],[],!1),i),n}),{},n)})));const Ot=Et((function(e,t){return e+1}),0);const Ct=o(-1);const Nt=(0,s.Z)((function(e,t){return null==t||t!=t?e:t}));const xt=m((function(e,t,r){var n=e(t),i=e(r);return n>i?-1:n<i?1:0}));function Pt(e,t,r){var n,i=typeof e;switch(i){case"string":case"number":return 0===e&&1/e==-1/0?!!r._items["-0"]||(t&&(r._items["-0"]=!0),!1):null!==r._nativeSet?t?(n=r._nativeSet.size,r._nativeSet.add(e),r._nativeSet.size===n):r._nativeSet.has(e):i in r._items?e in r._items[i]||(t&&(r._items[i][e]=!0),!1):(t&&(r._items[i]={},r._items[i][e]=!0),!1);case"boolean":if(i in r._items){var a=e?1:0;return!!r._items[i][a]||(t&&(r._items[i][a]=!0),!1)}return t&&(r._items[i]=e?[!1,!0]:[!0,!1]),!1;case"function":return null!==r._nativeSet?t?(n=r._nativeSet.size,r._nativeSet.add(e),r._nativeSet.size===n):r._nativeSet.has(e):i in r._items?!!it(e,r._items[i])||(t&&r._items[i].push(e),!1):(t&&(r._items[i]=[e]),!1);case"undefined":return!!r._items[i]||(t&&(r._items[i]=!0),!1);case"object":if(null===e)return!!r._items.null||(t&&(r._items.null=!0),!1);default:return(i=Object.prototype.toString.call(e))in r._items?!!it(e,r._items[i])||(t&&r._items[i].push(e),!1):(t&&(r._items[i]=[e]),!1)}}const It=function(){function e(){this._nativeSet="function"==typeof Set?new Set:null,this._items={}}return e.prototype.add=function(e){return!Pt(e,!0,this)},e.prototype.has=function(e){return Pt(e,!1,this)},e}();const Tt=(0,s.Z)((function(e,t){for(var r=[],n=0,i=e.length,a=t.length,s=new It,o=0;o<a;o+=1)s.add(t[o]);for(;n<i;)s.add(e[n])&&(r[r.length]=e[n]),n+=1;return r}));var jt=r(34425);const Vt=m((function(e,t,r){for(var n=[],i=0,a=t.length;i<a;)(0,jt.Z)(e,t[i],r)||(0,jt.Z)(e,t[i],n)||n.push(t[i]),i+=1;return n}));var Bt=(0,s.Z)((function(e,t){var r={};for(var n in t)r[n]=t[n];return delete r[e],r}));const Dt=Bt;const Ht=m((function(e,t,r){var n=Array.prototype.slice.call(r,0);return n.splice(e,t),n}));const Mt=m((function(e,t,r){return b(e,Z(t),r)}));var Rt=(0,s.Z)((function e(t,r){switch(t.length){case 0:return r;case 1:return L(t[0])&&v(r)?Ht(t[0],1,r):Dt(t[0],r);default:var n=t[0],i=Array.prototype.slice.call(t,1);return null==r[n]?r:L(n)&&v(r)?Mt(n,e(i,r[n]),r):pe(n,e(i,r[n]),r)}}));const Lt=Rt;const $t=(0,s.Z)((function(e,t){return e/t}));var Ut=function(){function e(e,t){this.xf=t,this.n=e}return e.prototype["@@transducer/init"]=S.init,e.prototype["@@transducer/result"]=S.result,e.prototype["@@transducer/step"]=function(e,t){return this.n>0?(this.n-=1,e):this.xf["@@transducer/step"](e,t)},e}();const Ft=(0,s.Z)((function(e,t){return new Ut(e,t)}));const Kt=(0,s.Z)(g(["drop"],Ft,(function(e,t){return Ue(Math.max(0,e),1/0,t)})));var zt=function(){function e(e,t){this.xf=t,this.n=e,this.i=0}return e.prototype["@@transducer/init"]=S.init,e.prototype["@@transducer/result"]=S.result,e.prototype["@@transducer/step"]=function(e,t){this.i+=1;var r=0===this.n?e:this.xf["@@transducer/step"](e,t);return this.n>=0&&this.i>=this.n?w(r):r},e}();const Wt=(0,s.Z)((function(e,t){return new zt(e,t)}));const qt=(0,s.Z)(g(["take"],Wt,(function(e,t){return Ue(0,e<0?1/0:e,t)})));function Zt(e,t){return qt(e<t.length?t.length-e:0,t)}var Jt=function(){function e(e,t){this.xf=t,this.pos=0,this.full=!1,this.acc=new Array(e)}return e.prototype["@@transducer/init"]=S.init,e.prototype["@@transducer/result"]=function(e){return this.acc=null,this.xf["@@transducer/result"](e)},e.prototype["@@transducer/step"]=function(e,t){return this.full&&(e=this.xf["@@transducer/step"](e,this.acc[this.pos])),this.store(t),e},e.prototype.store=function(e){this.acc[this.pos]=e,this.pos+=1,this.pos===this.acc.length&&(this.pos=0,this.full=!0)},e}();const Gt=(0,s.Z)((function(e,t){return new Jt(e,t)}));const Yt=(0,s.Z)(g([],Gt,Zt));function Xt(e,t){for(var r=t.length-1;r>=0&&e(t[r]);)r-=1;return Ue(0,r+1,t)}var Qt=function(){function e(e,t){this.f=e,this.retained=[],this.xf=t}return e.prototype["@@transducer/init"]=S.init,e.prototype["@@transducer/result"]=function(e){return this.retained=null,this.xf["@@transducer/result"](e)},e.prototype["@@transducer/step"]=function(e,t){return this.f(t)?this.retain(e,t):this.flush(e,t)},e.prototype.flush=function(e,t){return e=B(this.xf["@@transducer/step"],e,this.retained),this.retained=[],this.xf["@@transducer/step"](e,t)},e.prototype.retain=function(e,t){return this.retained.push(t),e},e}();const er=(0,s.Z)((function(e,t){return new Qt(e,t)}));const tr=(0,s.Z)(g([],er,Xt));var rr=function(){function e(e,t){this.xf=t,this.pred=e,this.lastValue=void 0,this.seenFirstValue=!1}return e.prototype["@@transducer/init"]=S.init,e.prototype["@@transducer/result"]=S.result,e.prototype["@@transducer/step"]=function(e,t){var r=!1;return this.seenFirstValue?this.pred(this.lastValue,t)&&(r=!0):this.seenFirstValue=!0,this.lastValue=t,r?e:this.xf["@@transducer/step"](e,t)},e}();const nr=(0,s.Z)((function(e,t){return new rr(e,t)}));const ir=$(-1);const ar=(0,s.Z)(g([],nr,(function(e,t){var r=[],n=1,i=t.length;if(0!==i)for(r[0]=t[0];n<i;)e(ir(r),t[n])||(r[r.length]=t[n]),n+=1;return r})));const sr=(0,c.Z)(g([],nr(rt.Z),ar(rt.Z)));var or=function(){function e(e,t){this.xf=t,this.f=e}return e.prototype["@@transducer/init"]=S.init,e.prototype["@@transducer/result"]=S.result,e.prototype["@@transducer/step"]=function(e,t){if(this.f){if(this.f(t))return e;this.f=null}return this.xf["@@transducer/step"](e,t)},e}();const ur=(0,s.Z)((function(e,t){return new or(e,t)}));const cr=(0,s.Z)(g(["dropWhile"],ur,(function(e,t){for(var r=0,n=t.length;r<n&&e(t[r]);)r+=1;return Ue(r,1/0,t)})));const lr=(0,s.Z)((function(e,t){return e||t}));const hr=(0,s.Z)((function(e,t){return Se(e)?function(){return e.apply(this,arguments)||t.apply(this,arguments)}:Ae(lr)(e,t)}));var fr=r(3405);const dr=(0,c.Z)((function(e){return null!=e&&"function"==typeof e["fantasy-land/empty"]?e["fantasy-land/empty"]():null!=e&&null!=e.constructor&&"function"==typeof e.constructor["fantasy-land/empty"]?e.constructor["fantasy-land/empty"]():null!=e&&"function"==typeof e.empty?e.empty():null!=e&&null!=e.constructor&&"function"==typeof e.constructor.empty?e.constructor.empty():v(e)?[]:C(e)?"":lt(e)?{}:(0,fr.Z)(e)?function(){return arguments}():void 0}));const pr=(0,s.Z)((function(e,t){return Kt(e>=0?t.length-e:0,t)}));const mr=(0,s.Z)((function(e,t){return(0,rt.Z)(pr(e.length,t),e)}));const br=m((function(e,t,r){return(0,rt.Z)(e(t),e(r))}));var vr=m((function(e,t,r){return(0,rt.Z)(t[e],r[e])}));const yr=vr;var gr=(0,s.Z)((function e(t,r){var n,i,a,s=r instanceof Array?[]:{};for(i in r)a=typeof(n=t[i]),s[i]="function"===a?n(r[i]):n&&"object"===a?e(n,r[i]):r[i];return s}));const wr=gr;var Sr=function(){function e(e,t){this.xf=t,this.f=e,this.found=!1}return e.prototype["@@transducer/init"]=S.init,e.prototype["@@transducer/result"]=function(e){return this.found||(e=this.xf["@@transducer/step"](e,void 0)),this.xf["@@transducer/result"](e)},e.prototype["@@transducer/step"]=function(e,t){return this.f(t)&&(this.found=!0,e=w(this.xf["@@transducer/step"](e,t))),e},e}();const _r=(0,s.Z)((function(e,t){return new Sr(e,t)}));const Ar=(0,s.Z)(g(["find"],_r,(function(e,t){for(var r=0,n=t.length;r<n;){if(e(t[r]))return t[r];r+=1}})));var kr=function(){function e(e,t){this.xf=t,this.f=e,this.idx=-1,this.found=!1}return e.prototype["@@transducer/init"]=S.init,e.prototype["@@transducer/result"]=function(e){return this.found||(e=this.xf["@@transducer/step"](e,-1)),this.xf["@@transducer/result"](e)},e.prototype["@@transducer/step"]=function(e,t){return this.idx+=1,this.f(t)&&(this.found=!0,e=w(this.xf["@@transducer/step"](e,this.idx))),e},e}();const Er=(0,s.Z)((function(e,t){return new kr(e,t)}));const Or=(0,s.Z)(g([],Er,(function(e,t){for(var r=0,n=t.length;r<n;){if(e(t[r]))return r;r+=1}return-1})));var Cr=function(){function e(e,t){this.xf=t,this.f=e}return e.prototype["@@transducer/init"]=S.init,e.prototype["@@transducer/result"]=function(e){return this.xf["@@transducer/result"](this.xf["@@transducer/step"](e,this.last))},e.prototype["@@transducer/step"]=function(e,t){return this.f(t)&&(this.last=t),e},e}();const Nr=(0,s.Z)((function(e,t){return new Cr(e,t)}));const xr=(0,s.Z)(g([],Nr,(function(e,t){for(var r=t.length-1;r>=0;){if(e(t[r]))return t[r];r-=1}})));var Pr=function(){function e(e,t){this.xf=t,this.f=e,this.idx=-1,this.lastIdx=-1}return e.prototype["@@transducer/init"]=S.init,e.prototype["@@transducer/result"]=function(e){return this.xf["@@transducer/result"](this.xf["@@transducer/step"](e,this.lastIdx))},e.prototype["@@transducer/step"]=function(e,t){return this.idx+=1,this.f(t)&&(this.lastIdx=this.idx),e},e}();const Ir=(0,s.Z)((function(e,t){return new Pr(e,t)}));const Tr=(0,s.Z)(g([],Ir,(function(e,t){for(var r=t.length-1;r>=0;){if(e(t[r]))return r;r-=1}return-1})));const jr=(0,c.Z)(Ce(!0));const Vr=(0,c.Z)((function(e){return d(e.length,(function(t,r){var n=Array.prototype.slice.call(arguments,0);return n[0]=r,n[1]=t,e.apply(this,n)}))}));const Br=(0,s.Z)($e("forEach",(function(e,t){for(var r=t.length,n=0;n<r;)e(t[n]),n+=1;return t})));const Dr=(0,s.Z)((function(e,t){for(var r=(0,M.Z)(t),n=0;n<r.length;){var i=r[n];e(t[i],i,t),n+=1}return t}));const Hr=(0,c.Z)((function(e){for(var t={},r=0;r<e.length;)t[e[r][0]]=e[r][1],r+=1;return t}));const Mr=(0,s.Z)($e("groupBy",Et((function(e,t){return null==e&&(e=[]),e.push(t),e}),null)));const Rr=(0,s.Z)((function(e,t){for(var r=[],n=0,i=t.length;n<i;){for(var a=n+1;a<i&&e(t[a-1],t[a]);)a+=1;r.push(t.slice(n,a)),n=a}return r}));const Lr=(0,s.Z)((function(e,t){return e>t}));const $r=(0,s.Z)((function(e,t){return e>=t}));const Ur=(0,s.Z)((function(e,t){if(0===e.length||be(t))return!1;for(var r=t,n=0;n<e.length;){if(be(r)||!(0,me.Z)(e[n],r))return!1;r=r[e[n]],n+=1}return!0}));var Fr=(0,s.Z)((function(e,t){return Ur([e],t)}));const Kr=Fr;var zr=(0,s.Z)((function(e,t){return e in t}));const Wr=zr;var qr=r(32295);const Zr=(0,s.Z)(qr.Z);const Jr=m((function(e,t,r){return d(Math.max(e.length,t.length,r.length),(function(){return e.apply(this,arguments)?t.apply(this,arguments):r.apply(this,arguments)}))}));const Gr=o(1);const Yr=(0,s.Z)(it);const Xr=Et((function(e,t){return t}),null);const Qr=(0,s.Z)((function(e,t){return"function"!=typeof t.indexOf||v(t)?nt(t,e,0):t.indexOf(e)}));const en=Ue(0,-1);const tn=m((function(e,t,r){return ct((function(t){return(0,jt.Z)(e,t,r)}),t)}));const rn=m((function(e,t,r){e=e<r.length&&e>=0?e:r.length;var n=Array.prototype.slice.call(r,0);return n.splice(e,0,t),n}));const nn=m((function(e,t,r){return e=e<r.length&&e>=0?e:r.length,[].concat(Array.prototype.slice.call(r,0,e),t,Array.prototype.slice.call(r,e))}));var an=(0,s.Z)((function(e,t){for(var r,n,i=new It,a=[],s=0;s<t.length;)r=e(n=t[s]),i.add(r)&&a.push(n),s+=1;return a}));const sn=an;const on=sn(Qe);const un=(0,s.Z)((function(e,t){var r,n;return e.length>t.length?(r=e,n=t):(r=t,n=e),on(ct(Vr(it)(r),n))}));const cn=(0,s.Z)($e("intersperse",(function(e,t){for(var r=[],n=0,i=t.length;n<i;)n===i-1?r.push(t[n]):r.push(t[n],e),n+=1;return r})));const ln="function"==typeof Object.assign?Object.assign:function(e){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),r=1,n=arguments.length;r<n;){var i=arguments[r];if(null!=i)for(var a in i)(0,me.Z)(a,i)&&(t[a]=i[a]);r+=1}return t};const hn=(0,s.Z)((function(e,t){var r={};return r[e]=t,r}));var fn={"@@transducer/init":Array,"@@transducer/step":function(e,t){return e.push(t),e},"@@transducer/result":Xe},dn={"@@transducer/init":String,"@@transducer/step":function(e,t){return e+t},"@@transducer/result":Xe},pn={"@@transducer/init":Object,"@@transducer/step":function(e,t){return ln(e,N(t)?hn(t[0],t[1]):t)},"@@transducer/result":Xe};const mn=m((function(e,t,r){return y(e)?B(t(e),e["@@transducer/init"](),r):B(t(function(e){if(y(e))return e;if(N(e))return fn;if("string"==typeof e)return dn;if("object"==typeof e)return pn;throw new Error("Cannot create transformer for "+e)}(e)),Be(e,[],[],!1),r)}));var bn=(0,c.Z)((function(e){for(var t=(0,M.Z)(e),r=t.length,n=0,i={};n<r;){var a=t[n],s=e[a],o=(0,me.Z)(s,i)?i[s]:i[s]=[];o[o.length]=a,n+=1}return i}));const vn=bn;var yn=(0,c.Z)((function(e){for(var t=(0,M.Z)(e),r=t.length,n=0,i={};n<r;){var a=t[n];i[e[a]]=a,n+=1}return i}));const gn=yn;const wn=(0,s.Z)((function(e,t){return d(e+1,(function(){var r=arguments[e];if(null!=r&&Se(r[t]))return r[t].apply(r,Array.prototype.slice.call(arguments,0,e));throw new TypeError(bt(r)+' does not have a method named "'+t+'"')}))}));const Sn=(0,s.Z)((function(e,t){return null!=t&&t.constructor===e||t instanceof e}));const _n=(0,c.Z)((function(e){return null!=e&&(0,rt.Z)(e,dr(e))}));const An=wn(1,"join");const kn=(0,c.Z)((function(e){return At((function(){return Array.prototype.slice.call(arguments,0)}),e)}));var En=(0,c.Z)((function(e){var t,r=[];for(t in e)r[r.length]=t;return r}));const On=En;const Cn=(0,s.Z)((function(e,t){if("function"!=typeof t.lastIndexOf||v(t)){for(var r=t.length-1;r>=0;){if((0,rt.Z)(t[r],e))return r;r-=1}return-1}return t.lastIndexOf(e)}));function Nn(e){return"[object Number]"===Object.prototype.toString.call(e)}const xn=(0,c.Z)((function(e){return null!=e&&Nn(e.length)?e.length:NaN}));const Pn=(0,s.Z)((function(e,t){return function(r){return function(n){return R((function(e){return t(e,n)}),r(e(n)))}}}));const In=(0,c.Z)((function(e){return Pn($(e),Mt(e))}));const Tn=(0,c.Z)((function(e){return Pn(F(e),ye(e))}));const jn=(0,c.Z)((function(e){return Pn(K(e),pe(e))}));const Vn=(0,s.Z)((function(e,t){return e<t}));const Bn=(0,s.Z)((function(e,t){return e<=t}));const Dn=m((function(e,t,r){for(var n=0,i=r.length,a=[],s=[t];n<i;)s=e(s[0],r[n]),a[n]=s[1],n+=1;return[s[0],a]}));const Hn=m((function(e,t,r){for(var n=r.length-1,i=[],a=[t];n>=0;)a=e(a[0],r[n]),i[n]=a[1],n-=1;return[a[0],i]}));const Mn=(0,s.Z)((function(e,t){return B((function(r,n){return r[n]=e(t[n],n,t),r}),{},(0,M.Z)(t))}));const Rn=(0,s.Z)((function(e,t){return t.match(e)||[]}));const Ln=(0,s.Z)((function(e,t){return L(e)?!L(t)||t<1?NaN:(e%t+t)%t:NaN}));const $n=m((function(e,t,r){return e(r)>e(t)?r:t}));const Un=W(o,0);const Fn=(0,c.Z)((function(e){return Un(e)/e.length}));const Kn=(0,c.Z)((function(e){var t=e.length;if(0===t)return NaN;var r=2-t%2,n=(t-r)/2;return Fn(Array.prototype.slice.call(e,0).sort((function(e,t){return e<t?-1:e>t?1:0})).slice(n,n+r))}));const zn=(0,s.Z)((function(e,t){var r={};return l(t.length,(function(){var n=e.apply(this,arguments);return(0,me.Z)(n,r)||(r[n]=t.apply(this,arguments)),r[n]}))}));const Wn=(0,s.Z)((function(e,t){return ln({},e,t)}));const qn=(0,c.Z)((function(e){return ln.apply(null,[{}].concat(e))}));const Zn=m((function(e,t,r){var n,i={};for(n in t)(0,me.Z)(n,t)&&(i[n]=(0,me.Z)(n,r)?e(n,t[n],r[n]):t[n]);for(n in r)(0,me.Z)(n,r)&&!(0,me.Z)(n,i)&&(i[n]=r[n]);return i}));const Jn=m((function e(t,r,n){return Zn((function(r,n,i){return lt(n)&&lt(i)?e(t,n,i):t(r,n,i)}),r,n)}));const Gn=(0,s.Z)((function(e,t){return Jn((function(e,t,r){return t}),e,t)}));const Yn=(0,s.Z)((function(e,t){return Jn((function(e,t,r){return r}),e,t)}));const Xn=m((function(e,t,r){return Jn((function(t,r,n){return e(r,n)}),t,r)}));const Qn=(0,s.Z)((function(e,t){return ln({},t,e)}));const ei=(0,s.Z)((function(e,t){return ln({},e,t)}));const ti=m((function(e,t,r){return Zn((function(t,r,n){return e(r,n)}),t,r)}));const ri=(0,s.Z)((function(e,t){return t<e?t:e}));const ni=m((function(e,t,r){return e(r)<e(t)?r:t}));const ii=(0,s.Z)((function(e,t){return e%t}));const ai=m((function(e,t,r){var n=r.length,i=r.slice(),a=e<0?n+e:e,s=t<0?n+t:t,o=i.splice(a,1);return a<0||a>=r.length||s<0||s>=r.length?r:[].concat(i.slice(0,s)).concat(o).concat(i.slice(s,r.length))}));const si=(0,s.Z)((function(e,t){return e*t}));const oi=(0,c.Z)((function(e){return-e}));const ui=(0,s.Z)((function(e,t){return k(ut(e),t)}));const ci=(0,c.Z)((function(e){return d(e<0?1:e+1,(function(){return $(e,arguments)}))}));const li=m((function(e,t,r){return e(t(r))}));function hi(e){return[e]}const fi=(0,c.Z)(hi);var di=(0,s.Z)((function(e,t){for(var r={},n={},i=0,a=e.length;i<a;)n[e[i]]=1,i+=1;for(var s in t)n.hasOwnProperty(s)||(r[s]=t[s]);return r}));const pi=di;const mi=(0,c.Z)((function(e){var t,r=!1;return l(e.length,(function(){return r?t:(r=!0,t=e.apply(this,arguments))}))}));function bi(e,t){if(null==t||!Se(t.then))throw new TypeError("`"+e+"` expected a Promise, received "+mt(t,[]))}const vi=(0,s.Z)((function(e,t){return bi("otherwise",t),t.then(null,e)}));var yi=function(e){return{value:e,map:function(t){return yi(t(e))}}},gi=m((function(e,t,r){return e((function(e){return yi(t(e))}))(r).value}));const wi=gi;const Si=(0,s.Z)((function(e,t){return[e,t]}));function _i(e){return(0,s.Z)((function(t,r){return l(Math.max(0,t.length-r.length),(function(){return t.apply(this,e(r,arguments))}))}))}const Ai=_i(u);const ki=_i(Vr(u));const Ei=kn([dt,pt]);const Oi=m((function(e,t,r){return(0,rt.Z)(F(e,r),t)}));const Ci=m((function(e,t,r){return Nt(e,F(t,r))}));const Ni=m((function(e,t,r){return e(F(t,r))}));const xi=(0,s.Z)((function(e,t){for(var r={},n=0;n<e.length;)e[n]in t&&(r[e[n]]=t[e[n]]),n+=1;return r}));const Pi=(0,s.Z)((function(e,t){for(var r={},n=0,i=e.length;n<i;){var a=e[n];r[a]=t[a],n+=1}return r}));var Ii=(0,s.Z)((function(e,t){var r={};for(var n in t)e(t[n],n,t)&&(r[n]=t[n]);return r}));const Ti=Ii;function ji(){if(0===arguments.length)throw new Error("pipeK requires at least one argument");return qe.apply(this,ze(arguments))}const Vi=(0,s.Z)((function(e,t){return u([e],t)}));const Bi=W(si,1);const Di=(0,s.Z)((function(e,t){return d(t.length,(function(){for(var r=[],n=0;n<t.length;)r.push(t[n].call(this,arguments[n])),n+=1;return e.apply(this,r.concat(Array.prototype.slice.call(arguments,t.length)))}))}));const Hi=Di(O,[Pi,Qe]);const Mi=m((function(e,t,r){return(0,rt.Z)(t,r[e])}));var Ri=m((function(e,t,r){return Sn(e,r[t])}));const Li=Ri;const $i=m((function(e,t,r){return Ci(e,[t],r)}));const Ui=m((function(e,t,r){return e(r[t])}));const Fi=(0,s.Z)((function(e,t){return e.map((function(e){return F([e],t)}))}));const Ki=(0,s.Z)((function(e,t){if(!Nn(e)||!Nn(t))throw new TypeError("Both arguments to range must be numbers");for(var r=[],n=e;n<t;)r.push(n),n+=1;return r}));const zi=m((function(e,t,r){for(var n=r.length-1;n>=0;)t=e(r[n],t),n-=1;return t}));const Wi=f(4,[],(function(e,t,r,n){return B((function(r,n){return e(r,n)?t(r,n):w(r)}),r,n)}));const qi=(0,c.Z)(w);const Zi=(0,s.Z)((function(e,t){var r,n=Number(t),i=0;if(n<0||isNaN(n))throw new RangeError("n must be a non-negative number");for(r=new Array(n);i<n;)r[i]=e(i),i+=1;return r}));const Ji=(0,s.Z)((function(e,t){return Zi(Z(e),t)}));const Gi=m((function(e,t,r){return r.replace(e,t)}));const Yi=m((function(e,t,r){for(var n=0,i=r.length,a=[t];n<i;)t=e(t,r[n]),a[n+1]=t,n+=1;return a}));var Xi=(0,s.Z)((function(e,t){return"function"==typeof t.sequence?t.sequence(e):zi((function(e,t){return ee(R(Vi,e),t)}),e([]),t)}));const Qi=Xi;var ea=m((function(e,t,r){return wi(e,Z(t),r)}));const ta=ea;var ra=(0,s.Z)((function(e,t){return Array.prototype.slice.call(t,0).sort(e)}));const na=ra;const ia=(0,s.Z)((function(e,t){return Array.prototype.slice.call(t,0).sort((function(t,r){var n=e(t),i=e(r);return n<i?-1:n>i?1:0}))}));const aa=(0,s.Z)((function(e,t){return Array.prototype.slice.call(t,0).sort((function(t,r){for(var n=0,i=0;0===n&&i<e.length;)n=e[i](t,r),i+=1;return n}))}));const sa=wn(1,"split");const oa=(0,s.Z)((function(e,t){return[Ue(0,e,t),Ue(e,xn(t),t)]}));const ua=(0,s.Z)((function(e,t){if(e<=0)throw new Error("First argument to splitEvery must be a positive integer");for(var r=[],n=0;n<t.length;)r.push(Ue(n,n+=e,t));return r}));const ca=(0,s.Z)((function(e,t){for(var r=0,n=t.length,i=[];r<n&&!e(t[r]);)i.push(t[r]),r+=1;return[i,Array.prototype.slice.call(t,r)]}));const la=(0,s.Z)((function(e,t){return(0,rt.Z)(qt(e.length,t),e)}));const ha=(0,s.Z)((function(e,t){return Number(e)-Number(t)}));const fa=(0,s.Z)((function(e,t){return vt(Tt(e,t),Tt(t,e))}));const da=m((function(e,t,r){return vt(Vt(e,t,r),Vt(e,r,t))}));const pa=(0,s.Z)((function(e,t){for(var r=t.length-1;r>=0&&e(t[r]);)r-=1;return Ue(r+1,1/0,t)}));var ma=function(){function e(e,t){this.xf=t,this.f=e}return e.prototype["@@transducer/init"]=S.init,e.prototype["@@transducer/result"]=S.result,e.prototype["@@transducer/step"]=function(e,t){return this.f(t)?this.xf["@@transducer/step"](e,t):w(e)},e}();const ba=(0,s.Z)((function(e,t){return new ma(e,t)}));const va=(0,s.Z)(g(["takeWhile"],ba,(function(e,t){for(var r=0,n=t.length;r<n&&e(t[r]);)r+=1;return Ue(0,r,t)})));var ya=function(){function e(e,t){this.xf=t,this.f=e}return e.prototype["@@transducer/init"]=S.init,e.prototype["@@transducer/result"]=S.result,e.prototype["@@transducer/step"]=function(e,t){return this.f(t),this.xf["@@transducer/step"](e,t)},e}();const ga=(0,s.Z)((function(e,t){return new ya(e,t)}));const wa=(0,s.Z)(g([],ga,(function(e,t){return e(t),t})));const Sa=(0,s.Z)((function(e,t){if(r=e,"[object RegExp]"!==Object.prototype.toString.call(r))throw new TypeError("test requires a value of type RegExp as its first argument; received "+bt(e));var r;return je(e).test(t)}));const _a=(0,s.Z)((function(e,t){return bi("andThen",t),t.then(e)}));const Aa=wn(0,"toLowerCase");var ka=(0,c.Z)((function(e){var t=[];for(var r in e)(0,me.Z)(r,e)&&(t[t.length]=[r,e[r]]);return t}));const Ea=ka;var Oa=(0,c.Z)((function(e){var t=[];for(var r in e)t[t.length]=[r,e[r]];return t}));const Ca=Oa;const Na=wn(0,"toUpperCase");const xa=d(4,(function(e,t,r,n){return B(e("function"==typeof t?P(t):t),r,n)}));const Pa=(0,c.Z)((function(e){for(var t=0,r=[];t<e.length;){for(var n=e[t],i=0;i<n.length;)void 0===r[i]&&(r[i]=[]),r[i].push(n[i]),i+=1;t+=1}return r}));var Ia=m((function(e,t,r){return"function"==typeof r["fantasy-land/traverse"]?r["fantasy-land/traverse"](t,e):Qi(e,R(t,r))}));const Ta=Ia;var ja="\t\n\v\f\r \u2028\u2029\ufeff";const Va="function"==typeof String.prototype.trim&&!ja.trim()&&"".trim()?(0,c.Z)((function(e){return e.trim()})):(0,c.Z)((function(e){var t=new RegExp("^["+ja+"]["+ja+"]*"),r=new RegExp("["+ja+"]["+ja+"]*$");return e.replace(t,"").replace(r,"")}));const Ba=(0,s.Z)((function(e,t){return l(e.length,(function(){try{return e.apply(this,arguments)}catch(e){return t.apply(this,u([e],arguments))}}))}));const Da=(0,c.Z)((function(e){return function(){return e(Array.prototype.slice.call(arguments,0))}}));const Ha=(0,c.Z)((function(e){return ge(1,e)}));const Ma=(0,s.Z)((function(e,t){return d(e,(function(){for(var r,n=1,i=t,a=0;n<=e&&"function"==typeof i;)r=n===e?arguments.length:a+i.length,i=i.apply(this,Array.prototype.slice.call(arguments,a,r)),n+=1,a=r;return i}))}));var Ra=(0,s.Z)((function(e,t){for(var r=e(t),n=[];r&&r.length;)n[n.length]=r[0],r=e(r[1]);return n}));const La=Ra;const $a=(0,s.Z)(We(on,u));const Ua=(0,s.Z)((function(e,t){for(var r,n=0,i=t.length,a=[];n<i;)r=t[n],(0,jt.Z)(e,r,a)||(a[a.length]=r),n+=1;return a}));const Fa=m((function(e,t,r){return Ua(e,u(t,r))}));const Ka=m((function(e,t,r){return e(r)?r:t(r)}));const za=Pe(Xe);var Wa=m((function(e,t,r){for(var n=r;!e(n);)n=t(n);return n}));const qa=Wa;var Za=(0,c.Z)((function(e){var t,r=[];for(t in e)r[r.length]=e[t];return r}));const Ja=Za;var Ga=function(e){return{value:e,"fantasy-land/map":function(){return this}}},Ya=(0,s.Z)((function(e,t){return e(Ga)(t).value}));const Xa=Ya;const Qa=m((function(e,t,r){return e(r)?t(r):r}));var es=(0,s.Z)((function(e,t){for(var r in e)if((0,me.Z)(r,e)&&!e[r](t[r]))return!1;return!0}));const ts=es;const rs=(0,s.Z)((function(e,t){return ts(R(rt.Z,e),t)}));const ns=(0,s.Z)((function(e,t){return pt(Vr(it)(e),t)}));const is=(0,s.Z)((function(e,t){return Boolean(!e^!t)}));const as=(0,s.Z)((function(e,t){for(var r,n=0,i=e.length,a=t.length,s=[];n<i;){for(r=0;r<a;)s[s.length]=[e[n],t[r]],r+=1;n+=1}return s}));const ss=(0,s.Z)((function(e,t){for(var r=[],n=0,i=Math.min(e.length,t.length);n<i;)r[n]=[e[n],t[n]],n+=1;return r}));var os=(0,s.Z)((function(e,t){for(var r=0,n=Math.min(e.length,t.length),i={};r<n;)i[e[r]]=t[r],r+=1;return i}));const us=os;const cs=m((function(e,t,r){for(var n=[],i=0,a=Math.min(t.length,r.length);i<a;)n[i]=e(t[i],r[i]),i+=1;return n}));const ls=(0,c.Z)((function(e){return d(e.length,(function(){var t=arguments;return function(){return e.apply(this,t)}}))}))},94005:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var n=r(2457);function i(e){return function t(r){return 0===arguments.length||(0,n.Z)(r)?t:e.apply(this,arguments)}}},11963:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var n=r(94005),i=r(2457);function a(e){return function t(r,a){switch(arguments.length){case 0:return t;case 1:return(0,i.Z)(r)?t:(0,n.Z)((function(t){return e(r,t)}));default:return(0,i.Z)(r)&&(0,i.Z)(a)?t:(0,i.Z)(r)?(0,n.Z)((function(t){return e(t,a)})):(0,i.Z)(a)?(0,n.Z)((function(t){return e(r,t)})):e(r,a)}}}},46861:(e,t,r)=>{"use strict";function n(e,t){return Object.prototype.hasOwnProperty.call(t,e)}r.d(t,{Z:()=>n})},34425:(e,t,r)=>{"use strict";function n(e,t,r){for(var n=0,i=r.length;n<i;){if(e(t,r[n]))return!0;n+=1}return!1}r.d(t,{Z:()=>n})},3405:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var n=r(46861),i=Object.prototype.toString;const a=function(){return"[object Arguments]"===i.call(arguments)?function(e){return"[object Arguments]"===i.call(e)}:function(e){return(0,n.Z)("callee",e)}}()},2457:(e,t,r)=>{"use strict";function n(e){return null!=e&&"object"==typeof e&&!0===e["@@functional/placeholder"]}r.d(t,{Z:()=>n})},32295:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});const n="function"==typeof Object.is?Object.is:function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}},50622:(e,t,r)=>{"use strict";r.d(t,{Z:()=>l});var n=r(94005),i=r(46861),a=r(3405),s=!{toString:null}.propertyIsEnumerable("toString"),o=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],u=function(){return arguments.propertyIsEnumerable("length")}(),c=function(e,t){for(var r=0;r<e.length;){if(e[r]===t)return!0;r+=1}return!1};const l="function"!=typeof Object.keys||u?(0,n.Z)((function(e){if(Object(e)!==e)return[];var t,r,n=[],l=u&&(0,a.Z)(e);for(t in e)!(0,i.Z)(t,e)||l&&"length"===t||(n[n.length]=t);if(s)for(r=o.length-1;r>=0;)t=o[r],(0,i.Z)(t,e)&&!c(n,t)&&(n[n.length]=t),r-=1;return n})):(0,n.Z)((function(e){return Object(e)!==e?[]:Object.keys(e)}))},18208:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});const n=(0,r(94005).Z)((function(e){return null===e?"Null":void 0===e?"Undefined":Object.prototype.toString.call(e).slice(8,-1)}))},30045:(e,t,r)=>{"use strict";function n(e){return null!=e&&"object"==typeof e&&!0===e["@@functional/placeholder"]}function i(e){return function t(r){return 0===arguments.length||n(r)?t:e.apply(this,arguments)}}function a(e){return function t(r,a){switch(arguments.length){case 0:return t;case 1:return n(r)?t:i((function(t){return e(r,t)}));default:return n(r)&&n(a)?t:n(r)?i((function(t){return e(t,a)})):n(a)?i((function(t){return e(r,t)})):e(r,a)}}}function s(e){for(var t,r=[];!(t=e.next()).done;)r.push(t.value);return r}function o(e,t,r){for(var n=0,i=r.length;n<i;){if(e(t,r[n]))return!0;n+=1}return!1}function u(e,t){return Object.prototype.hasOwnProperty.call(t,e)}r.d(t,{Z:()=>w});const c="function"==typeof Object.is?Object.is:function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t};var l=Object.prototype.toString;const h=function(){return"[object Arguments]"===l.call(arguments)?function(e){return"[object Arguments]"===l.call(e)}:function(e){return u("callee",e)}}();var f=!{toString:null}.propertyIsEnumerable("toString"),d=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],p=function(){return arguments.propertyIsEnumerable("length")}(),m=function(e,t){for(var r=0;r<e.length;){if(e[r]===t)return!0;r+=1}return!1};const b="function"!=typeof Object.keys||p?i((function(e){if(Object(e)!==e)return[];var t,r,n=[],i=p&&h(e);for(t in e)!u(t,e)||i&&"length"===t||(n[n.length]=t);if(f)for(r=d.length-1;r>=0;)u(t=d[r],e)&&!m(n,t)&&(n[n.length]=t),r-=1;return n})):i((function(e){return Object(e)!==e?[]:Object.keys(e)}));const v=i((function(e){return null===e?"Null":void 0===e?"Undefined":Object.prototype.toString.call(e).slice(8,-1)}));function y(e,t,r,n){var i=s(e);function a(e,t){return g(e,t,r.slice(),n.slice())}return!o((function(e,t){return!o(a,t,e)}),s(t),i)}function g(e,t,r,n){if(c(e,t))return!0;var i,a,s=v(e);if(s!==v(t))return!1;if(null==e||null==t)return!1;if("function"==typeof e["fantasy-land/equals"]||"function"==typeof t["fantasy-land/equals"])return"function"==typeof e["fantasy-land/equals"]&&e["fantasy-land/equals"](t)&&"function"==typeof t["fantasy-land/equals"]&&t["fantasy-land/equals"](e);if("function"==typeof e.equals||"function"==typeof t.equals)return"function"==typeof e.equals&&e.equals(t)&&"function"==typeof t.equals&&t.equals(e);switch(s){case"Arguments":case"Array":case"Object":if("function"==typeof e.constructor&&"Promise"===(i=e.constructor,null==(a=String(i).match(/^function (\w*)/))?"":a[1]))return e===t;break;case"Boolean":case"Number":case"String":if(typeof e!=typeof t||!c(e.valueOf(),t.valueOf()))return!1;break;case"Date":if(!c(e.valueOf(),t.valueOf()))return!1;break;case"Error":return e.name===t.name&&e.message===t.message;case"RegExp":if(e.source!==t.source||e.global!==t.global||e.ignoreCase!==t.ignoreCase||e.multiline!==t.multiline||e.sticky!==t.sticky||e.unicode!==t.unicode)return!1}for(var o=r.length-1;o>=0;){if(r[o]===e)return n[o]===t;o-=1}switch(s){case"Map":return e.size===t.size&&y(e.entries(),t.entries(),r.concat([e]),n.concat([t]));case"Set":return e.size===t.size&&y(e.values(),t.values(),r.concat([e]),n.concat([t]));case"Arguments":case"Array":case"Object":case"Boolean":case"Number":case"String":case"Date":case"Error":case"RegExp":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"ArrayBuffer":break;default:return!1}var l=b(e);if(l.length!==b(t).length)return!1;var h=r.concat([e]),f=n.concat([t]);for(o=l.length-1;o>=0;){var d=l[o];if(!u(d,t)||!g(t[d],e[d],h,f))return!1;o-=1}return!0}const w=a((function(e,t){return g(e,t,[],[])}))},98773:(e,t,r)=>{"use strict";var n=r(73656),i=65536,a=4294967295;var s=r(21607).Buffer,o=r.g.crypto||r.g.msCrypto;o&&o.getRandomValues?e.exports=function(e,t){if(e>a)throw new RangeError("requested too many random bytes");var r=s.allocUnsafe(e);if(e>0)if(e>i)for(var u=0;u<e;u+=i)o.getRandomValues(r.slice(u,u+i));else o.getRandomValues(r);if("function"==typeof t)return n.nextTick((function(){t(null,r)}));return r}:e.exports=function(){throw new Error("Secure random number generation is not supported by this browser.\nUse Chrome, Firefox or Internet Explorer 11")}},44587:(e,t,r)=>{"use strict";var n=r(73656);function i(){throw new Error("secure random number generation not supported by this browser\nuse chrome, FireFox or Internet Explorer 11")}var a=r(21607),s=r(98773),o=a.Buffer,u=a.kMaxLength,c=r.g.crypto||r.g.msCrypto,l=Math.pow(2,32)-1;function h(e,t){if("number"!=typeof e||e!=e)throw new TypeError("offset must be a number");if(e>l||e<0)throw new TypeError("offset must be a uint32");if(e>u||e>t)throw new RangeError("offset out of range")}function f(e,t,r){if("number"!=typeof e||e!=e)throw new TypeError("size must be a number");if(e>l||e<0)throw new TypeError("size must be a uint32");if(e+t>r||e>u)throw new RangeError("buffer too small")}function d(e,t,r,i){if(n.browser){var a=e.buffer,o=new Uint8Array(a,t,r);return c.getRandomValues(o),i?void n.nextTick((function(){i(null,e)})):e}if(!i)return s(r).copy(e,t),e;s(r,(function(r,n){if(r)return i(r);n.copy(e,t),i(null,e)}))}c&&c.getRandomValues||!n.browser?(t.randomFill=function(e,t,n,i){if(!(o.isBuffer(e)||e instanceof r.g.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if("function"==typeof t)i=t,t=0,n=e.length;else if("function"==typeof n)i=n,n=e.length-t;else if("function"!=typeof i)throw new TypeError('"cb" argument must be a function');return h(t,e.length),f(n,t,e.length),d(e,t,n,i)},t.randomFillSync=function(e,t,n){void 0===t&&(t=0);if(!(o.isBuffer(e)||e instanceof r.g.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');h(t,e.length),void 0===n&&(n=e.length-t);return f(n,t,e.length),d(e,t,n)}):(t.randomFill=i,t.randomFillSync=i)},2088:(e,t,r)=>{e.exports=r(29381)},29381:(e,t,r)=>{var n=r(73656);e.exports=u;var i=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t},a=r(71178);a.inherits=r(67483);var s=r(51582),o=r(29868);function u(e){if(!(this instanceof u))return new u(e);s.call(this,e),o.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",c)}function c(){this.allowHalfOpen||this._writableState.ended||n.nextTick(this.end.bind(this))}a.inherits(u,s),function(e,t){for(var r=0,n=e.length;r<n;r++)t(e[r],r)}(i(o.prototype),(function(e){u.prototype[e]||(u.prototype[e]=o.prototype[e])}))},9802:(e,t,r)=>{e.exports=a;var n=r(73096),i=r(71178);function a(e){if(!(this instanceof a))return new a(e);n.call(this,e)}i.inherits=r(67483),i.inherits(a,n),a.prototype._transform=function(e,t,r){r(null,e)}},51582:(e,t,r)=>{var n=r(73656);e.exports=h;var i=r(58967),a=r(15313).Buffer;h.ReadableState=l;var s=r(47324).EventEmitter;s.listenerCount||(s.listenerCount=function(e,t){return e.listeners(t).length});var o,u=r(96704),c=r(71178);function l(e,t){var n=(e=e||{}).highWaterMark;this.highWaterMark=n||0===n?n:16384,this.highWaterMark=~~this.highWaterMark,this.buffer=[],this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=!1,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.calledRead=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.objectMode=!!e.objectMode,this.defaultEncoding=e.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(o||(o=r(60319).s),this.decoder=new o(e.encoding),this.encoding=e.encoding)}function h(e){if(!(this instanceof h))return new h(e);this._readableState=new l(e,this),this.readable=!0,u.call(this)}function f(e,t,r,i,s){var o=function(e,t){var r=null;a.isBuffer(t)||"string"==typeof t||null==t||e.objectMode||(r=new TypeError("Invalid non-string/buffer chunk"));return r}(t,r);if(o)e.emit("error",o);else if(null==r)t.reading=!1,t.ended||function(e,t){if(t.decoder&&!t.ended){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,t.length>0?m(e):S(e)}(e,t);else if(t.objectMode||r&&r.length>0)if(t.ended&&!s){var u=new Error("stream.push() after EOF");e.emit("error",u)}else if(t.endEmitted&&s){u=new Error("stream.unshift() after end event");e.emit("error",u)}else!t.decoder||s||i||(r=t.decoder.write(r)),t.length+=t.objectMode?1:r.length,s?t.buffer.unshift(r):(t.reading=!1,t.buffer.push(r)),t.needReadable&&m(e),function(e,t){t.readingMore||(t.readingMore=!0,n.nextTick((function(){!function(e,t){var r=t.length;for(;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(e.read(0),r!==t.length);)r=t.length;t.readingMore=!1}(e,t)})))}(e,t);else s||(t.reading=!1);return function(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}(t)}c.inherits=r(67483),c.inherits(h,u),h.prototype.push=function(e,t){var r=this._readableState;return"string"!=typeof e||r.objectMode||(t=t||r.defaultEncoding)!==r.encoding&&(e=new a(e,t),t=""),f(this,r,e,t,!1)},h.prototype.unshift=function(e){return f(this,this._readableState,e,"",!0)},h.prototype.setEncoding=function(e){o||(o=r(60319).s),this._readableState.decoder=new o(e),this._readableState.encoding=e};var d=8388608;function p(e,t){return 0===t.length&&t.ended?0:t.objectMode?0===e?0:1:null===e||isNaN(e)?t.flowing&&t.buffer.length?t.buffer[0].length:t.length:e<=0?0:(e>t.highWaterMark&&(t.highWaterMark=function(e){if(e>=d)e=d;else{e--;for(var t=1;t<32;t<<=1)e|=e>>t;e++}return e}(e)),e>t.length?t.ended?t.length:(t.needReadable=!0,0):e)}function m(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,t.sync?n.nextTick((function(){b(e)})):b(e))}function b(e){e.emit("readable")}function v(e){var t,r=e._readableState;function n(e,n,i){!1===e.write(t)&&r.awaitDrain++}for(r.awaitDrain=0;r.pipesCount&&null!==(t=e.read());)if(1===r.pipesCount?n(r.pipes):_(r.pipes,n),e.emit("data",t),r.awaitDrain>0)return;if(0===r.pipesCount)return r.flowing=!1,void(s.listenerCount(e,"data")>0&&g(e));r.ranOut=!0}function y(){this._readableState.ranOut&&(this._readableState.ranOut=!1,v(this))}function g(e,t){if(e._readableState.flowing)throw new Error("Cannot switch to old mode now.");var r=t||!1,i=!1;e.readable=!0,e.pipe=u.prototype.pipe,e.on=e.addListener=u.prototype.on,e.on("readable",(function(){var t;for(i=!0;!r&&null!==(t=e.read());)e.emit("data",t);null===t&&(i=!1,e._readableState.needReadable=!0)})),e.pause=function(){r=!0,this.emit("pause")},e.resume=function(){r=!1,i?n.nextTick((function(){e.emit("readable")})):this.read(0),this.emit("resume")},e.emit("readable")}function w(e,t){var r,n=t.buffer,i=t.length,s=!!t.decoder,o=!!t.objectMode;if(0===n.length)return null;if(0===i)r=null;else if(o)r=n.shift();else if(!e||e>=i)r=s?n.join(""):a.concat(n,i),n.length=0;else{if(e<n[0].length)r=(h=n[0]).slice(0,e),n[0]=h.slice(e);else if(e===n[0].length)r=n.shift();else{r=s?"":new a(e);for(var u=0,c=0,l=n.length;c<l&&u<e;c++){var h=n[0],f=Math.min(e-u,h.length);s?r+=h.slice(0,f):h.copy(r,u,0,f),f<h.length?n[0]=h.slice(f):n.shift(),u+=f}}}return r}function S(e){var t=e._readableState;if(t.length>0)throw new Error("endReadable called on non-empty stream");!t.endEmitted&&t.calledRead&&(t.ended=!0,n.nextTick((function(){t.endEmitted||0!==t.length||(t.endEmitted=!0,e.readable=!1,e.emit("end"))})))}function _(e,t){for(var r=0,n=e.length;r<n;r++)t(e[r],r)}h.prototype.read=function(e){var t=this._readableState;t.calledRead=!0;var r,n=e;if(("number"!=typeof e||e>0)&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return m(this),null;if(0===(e=p(e,t))&&t.ended)return r=null,t.length>0&&t.decoder&&(r=w(e,t),t.length-=r.length),0===t.length&&S(this),r;var i=t.needReadable;return t.length-e<=t.highWaterMark&&(i=!0),(t.ended||t.reading)&&(i=!1),i&&(t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1),i&&!t.reading&&(e=p(n,t)),null===(r=e>0?w(e,t):null)&&(t.needReadable=!0,e=0),t.length-=e,0!==t.length||t.ended||(t.needReadable=!0),t.ended&&!t.endEmitted&&0===t.length&&S(this),r},h.prototype._read=function(e){this.emit("error",new Error("not implemented"))},h.prototype.pipe=function(e,t){var r=this,a=this._readableState;switch(a.pipesCount){case 0:a.pipes=e;break;case 1:a.pipes=[a.pipes,e];break;default:a.pipes.push(e)}a.pipesCount+=1;var o=(!t||!1!==t.end)&&e!==n.stdout&&e!==n.stderr?c:h;function u(e){e===r&&h()}function c(){e.end()}a.endEmitted?n.nextTick(o):r.once("end",o),e.on("unpipe",u);var l=function(e){return function(){var t=e._readableState;t.awaitDrain--,0===t.awaitDrain&&v(e)}}(r);function h(){e.removeListener("close",d),e.removeListener("finish",p),e.removeListener("drain",l),e.removeListener("error",f),e.removeListener("unpipe",u),r.removeListener("end",c),r.removeListener("end",h),e._writableState&&!e._writableState.needDrain||l()}function f(t){m(),e.removeListener("error",f),0===s.listenerCount(e,"error")&&e.emit("error",t)}function d(){e.removeListener("finish",p),m()}function p(){e.removeListener("close",d),m()}function m(){r.unpipe(e)}return e.on("drain",l),e._events&&e._events.error?i(e._events.error)?e._events.error.unshift(f):e._events.error=[f,e._events.error]:e.on("error",f),e.once("close",d),e.once("finish",p),e.emit("pipe",r),a.flowing||(this.on("readable",y),a.flowing=!0,n.nextTick((function(){v(r)}))),e},h.prototype.unpipe=function(e){var t=this._readableState;if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,this.removeListener("readable",y),t.flowing=!1,e&&e.emit("unpipe",this)),this;if(!e){var r=t.pipes,n=t.pipesCount;t.pipes=null,t.pipesCount=0,this.removeListener("readable",y),t.flowing=!1;for(var i=0;i<n;i++)r[i].emit("unpipe",this);return this}return-1===(i=function(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}(t.pipes,e))||(t.pipes.splice(i,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this)),this},h.prototype.on=function(e,t){var r=u.prototype.on.call(this,e,t);if("data"!==e||this._readableState.flowing||g(this),"readable"===e&&this.readable){var n=this._readableState;n.readableListening||(n.readableListening=!0,n.emittedReadable=!1,n.needReadable=!0,n.reading?n.length&&m(this):this.read(0))}return r},h.prototype.addListener=h.prototype.on,h.prototype.resume=function(){g(this),this.read(0),this.emit("resume")},h.prototype.pause=function(){g(this,!0),this.emit("pause")},h.prototype.wrap=function(e){var t=this._readableState,r=!1,n=this;for(var i in e.on("end",(function(){if(t.decoder&&!t.ended){var e=t.decoder.end();e&&e.length&&n.push(e)}n.push(null)})),e.on("data",(function(i){(t.decoder&&(i=t.decoder.write(i)),t.objectMode&&null==i)||(t.objectMode||i&&i.length)&&(n.push(i)||(r=!0,e.pause()))})),e)"function"==typeof e[i]&&void 0===this[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));return _(["error","close","destroy","pause","resume"],(function(t){e.on(t,n.emit.bind(n,t))})),n._read=function(t){r&&(r=!1,e.resume())},n},h._fromList=w},73096:(e,t,r)=>{e.exports=s;var n=r(29381),i=r(71178);function a(e,t){this.afterTransform=function(e,r){return function(e,t,r){var n=e._transformState;n.transforming=!1;var i=n.writecb;if(!i)return e.emit("error",new Error("no writecb in Transform class"));n.writechunk=null,n.writecb=null,null!=r&&e.push(r);i&&i(t);var a=e._readableState;a.reading=!1,(a.needReadable||a.length<a.highWaterMark)&&e._read(a.highWaterMark)}(t,e,r)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null}function s(e){if(!(this instanceof s))return new s(e);n.call(this,e);this._transformState=new a(e,this);var t=this;this._readableState.needReadable=!0,this._readableState.sync=!1,this.once("finish",(function(){"function"==typeof this._flush?this._flush((function(e){o(t,e)})):o(t)}))}function o(e,t){if(t)return e.emit("error",t);var r=e._writableState,n=(e._readableState,e._transformState);if(r.length)throw new Error("calling transform done when ws.length != 0");if(n.transforming)throw new Error("calling transform done when still transforming");return e.push(null)}i.inherits=r(67483),i.inherits(s,n),s.prototype.push=function(e,t){return this._transformState.needTransform=!1,n.prototype.push.call(this,e,t)},s.prototype._transform=function(e,t,r){throw new Error("not implemented")},s.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},s.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0}},29868:(e,t,r)=>{var n=r(73656);e.exports=c;var i=r(15313).Buffer;c.WritableState=u;var a=r(71178);a.inherits=r(67483);var s=r(96704);function o(e,t,r){this.chunk=e,this.encoding=t,this.callback=r}function u(e,t){var r=(e=e||{}).highWaterMark;this.highWaterMark=r||0===r?r:16384,this.objectMode=!!e.objectMode,this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var i=!1===e.decodeStrings;this.decodeStrings=!i,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var r=e._writableState,i=r.sync,a=r.writecb;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(r),t)!function(e,t,r,i,a){r?n.nextTick((function(){a(i)})):a(i);e._writableState.errorEmitted=!0,e.emit("error",i)}(e,0,i,t,a);else{var s=f(e,r);s||r.bufferProcessing||!r.buffer.length||function(e,t){t.bufferProcessing=!0;for(var r=0;r<t.buffer.length;r++){var n=t.buffer[r],i=n.chunk,a=n.encoding,s=n.callback;if(l(e,t,t.objectMode?1:i.length,i,a,s),t.writing){r++;break}}t.bufferProcessing=!1,r<t.buffer.length?t.buffer=t.buffer.slice(r):t.buffer.length=0}(e,r),i?n.nextTick((function(){h(e,r,s,a)})):h(e,r,s,a)}}(t,e)},this.writecb=null,this.writelen=0,this.buffer=[],this.errorEmitted=!1}function c(e){var t=r(29381);if(!(this instanceof c||this instanceof t))return new c(e);this._writableState=new u(e,this),this.writable=!0,s.call(this)}function l(e,t,r,n,i,a){t.writelen=r,t.writecb=a,t.writing=!0,t.sync=!0,e._write(n,i,t.onwrite),t.sync=!1}function h(e,t,r,n){r||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),n(),r&&d(e,t)}function f(e,t){return t.ending&&0===t.length&&!t.finished&&!t.writing}function d(e,t){var r=f(0,t);return r&&(t.finished=!0,e.emit("finish")),r}a.inherits(c,s),c.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe. Not readable."))},c.prototype.write=function(e,t,r){var a=this._writableState,s=!1;return"function"==typeof t&&(r=t,t=null),i.isBuffer(e)?t="buffer":t||(t=a.defaultEncoding),"function"!=typeof r&&(r=function(){}),a.ended?function(e,t,r){var i=new Error("write after end");e.emit("error",i),n.nextTick((function(){r(i)}))}(this,0,r):function(e,t,r,a){var s=!0;if(!i.isBuffer(r)&&"string"!=typeof r&&null!=r&&!t.objectMode){var o=new TypeError("Invalid non-string/buffer chunk");e.emit("error",o),n.nextTick((function(){a(o)})),s=!1}return s}(this,a,e,r)&&(s=function(e,t,r,n,a){r=function(e,t,r){e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=new i(t,r));return t}(t,r,n),i.isBuffer(r)&&(n="buffer");var s=t.objectMode?1:r.length;t.length+=s;var u=t.length<t.highWaterMark;u||(t.needDrain=!0);t.writing?t.buffer.push(new o(r,n,a)):l(e,t,s,r,n,a);return u}(this,a,e,t,r)),s},c.prototype._write=function(e,t,r){r(new Error("not implemented"))},c.prototype.end=function(e,t,r){var i=this._writableState;"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!=e&&this.write(e,t),i.ending||i.finished||function(e,t,r){t.ending=!0,d(e,t),r&&(t.finished?n.nextTick(r):e.once("finish",r));t.ended=!0}(this,i,r)}},79664:(e,t,r)=>{var n=r(73656),i=r(96704);(t=e.exports=r(51582)).Stream=i,t.Readable=t,t.Writable=r(29868),t.Duplex=r(29381),t.Transform=r(73096),t.PassThrough=r(9802),n.browser||"disable"!==n.env.READABLE_STREAM||(e.exports=r(96704))},82274:(e,t,r)=>{e.exports=r(29868)},99884:(e,t,r)=>{var n=r(73656);e.exports=u;var i=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t},a=r(71178);a.inherits=r(67483);var s=r(5570),o=r(34896);function u(e){if(!(this instanceof u))return new u(e);s.call(this,e),o.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",c)}function c(){this.allowHalfOpen||this._writableState.ended||n.nextTick(this.end.bind(this))}a.inherits(u,s),function(e,t){for(var r=0,n=e.length;r<n;r++)t(e[r],r)}(i(o.prototype),(function(e){u.prototype[e]||(u.prototype[e]=o.prototype[e])}))},4960:(e,t,r)=>{e.exports=a;var n=r(11291),i=r(71178);function a(e){if(!(this instanceof a))return new a(e);n.call(this,e)}i.inherits=r(67483),i.inherits(a,n),a.prototype._transform=function(e,t,r){r(null,e)}},5570:(e,t,r)=>{var n=r(73656);e.exports=f;var i=r(58967),a=r(15313).Buffer;f.ReadableState=h;var s=r(47324).EventEmitter;s.listenerCount||(s.listenerCount=function(e,t){return e.listeners(t).length});var o,u=r(96704),c=r(71178);c.inherits=r(67483);var l=r(25387);function h(e,t){var n=r(99884),i=(e=e||{}).highWaterMark,a=e.objectMode?16:16384;this.highWaterMark=i||0===i?i:a,this.highWaterMark=~~this.highWaterMark,this.buffer=[],this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.objectMode=!!e.objectMode,t instanceof n&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.defaultEncoding=e.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(o||(o=r(60319).s),this.decoder=new o(e.encoding),this.encoding=e.encoding)}function f(e){r(99884);if(!(this instanceof f))return new f(e);this._readableState=new h(e,this),this.readable=!0,u.call(this)}function d(e,t,r,i,a){var s=function(e,t){var r=null;c.isBuffer(t)||c.isString(t)||c.isNullOrUndefined(t)||e.objectMode||(r=new TypeError("Invalid non-string/buffer chunk"));return r}(t,r);if(s)e.emit("error",s);else if(c.isNullOrUndefined(r))t.reading=!1,t.ended||function(e,t){if(t.decoder&&!t.ended){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,b(e)}(e,t);else if(t.objectMode||r&&r.length>0)if(t.ended&&!a){var o=new Error("stream.push() after EOF");e.emit("error",o)}else if(t.endEmitted&&a){o=new Error("stream.unshift() after end event");e.emit("error",o)}else!t.decoder||a||i||(r=t.decoder.write(r)),a||(t.reading=!1),t.flowing&&0===t.length&&!t.sync?(e.emit("data",r),e.read(0)):(t.length+=t.objectMode?1:r.length,a?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&b(e)),function(e,t){t.readingMore||(t.readingMore=!0,n.nextTick((function(){!function(e,t){var r=t.length;for(;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(l("maybeReadMore read 0"),e.read(0),r!==t.length);)r=t.length;t.readingMore=!1}(e,t)})))}(e,t);else a||(t.reading=!1);return function(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}(t)}l=l&&l.debuglog?l.debuglog("stream"):function(){},c.inherits(f,u),f.prototype.push=function(e,t){var r=this._readableState;return c.isString(e)&&!r.objectMode&&(t=t||r.defaultEncoding)!==r.encoding&&(e=new a(e,t),t=""),d(this,r,e,t,!1)},f.prototype.unshift=function(e){return d(this,this._readableState,e,"",!0)},f.prototype.setEncoding=function(e){return o||(o=r(60319).s),this._readableState.decoder=new o(e),this._readableState.encoding=e,this};var p=8388608;function m(e,t){return 0===t.length&&t.ended?0:t.objectMode?0===e?0:1:isNaN(e)||c.isNull(e)?t.flowing&&t.buffer.length?t.buffer[0].length:t.length:e<=0?0:(e>t.highWaterMark&&(t.highWaterMark=function(e){if(e>=p)e=p;else{e--;for(var t=1;t<32;t<<=1)e|=e>>t;e++}return e}(e)),e>t.length?t.ended?t.length:(t.needReadable=!0,0):e)}function b(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(l("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?n.nextTick((function(){v(e)})):v(e))}function v(e){l("emit readable"),e.emit("readable"),y(e)}function y(e){var t=e._readableState;if(l("flow",t.flowing),t.flowing)do{var r=e.read()}while(null!==r&&t.flowing)}function g(e,t){var r,n=t.buffer,i=t.length,s=!!t.decoder,o=!!t.objectMode;if(0===n.length)return null;if(0===i)r=null;else if(o)r=n.shift();else if(!e||e>=i)r=s?n.join(""):a.concat(n,i),n.length=0;else{if(e<n[0].length)r=(h=n[0]).slice(0,e),n[0]=h.slice(e);else if(e===n[0].length)r=n.shift();else{r=s?"":new a(e);for(var u=0,c=0,l=n.length;c<l&&u<e;c++){var h=n[0],f=Math.min(e-u,h.length);s?r+=h.slice(0,f):h.copy(r,u,0,f),f<h.length?n[0]=h.slice(f):n.shift(),u+=f}}}return r}function w(e){var t=e._readableState;if(t.length>0)throw new Error("endReadable called on non-empty stream");t.endEmitted||(t.ended=!0,n.nextTick((function(){t.endEmitted||0!==t.length||(t.endEmitted=!0,e.readable=!1,e.emit("end"))})))}f.prototype.read=function(e){l("read",e);var t=this._readableState,r=e;if((!c.isNumber(e)||e>0)&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return l("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?w(this):b(this),null;if(0===(e=m(e,t))&&t.ended)return 0===t.length&&w(this),null;var n,i=t.needReadable;return l("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&l("length less than watermark",i=!0),(t.ended||t.reading)&&l("reading or ended",i=!1),i&&(l("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1),i&&!t.reading&&(e=m(r,t)),n=e>0?g(e,t):null,c.isNull(n)&&(t.needReadable=!0,e=0),t.length-=e,0!==t.length||t.ended||(t.needReadable=!0),r!==e&&t.ended&&0===t.length&&w(this),c.isNull(n)||this.emit("data",n),n},f.prototype._read=function(e){this.emit("error",new Error("not implemented"))},f.prototype.pipe=function(e,t){var r=this,a=this._readableState;switch(a.pipesCount){case 0:a.pipes=e;break;case 1:a.pipes=[a.pipes,e];break;default:a.pipes.push(e)}a.pipesCount+=1,l("pipe count=%d opts=%j",a.pipesCount,t);var o=(!t||!1!==t.end)&&e!==n.stdout&&e!==n.stderr?c:f;function u(e){l("onunpipe"),e===r&&f()}function c(){l("onend"),e.end()}a.endEmitted?n.nextTick(o):r.once("end",o),e.on("unpipe",u);var h=function(e){return function(){var t=e._readableState;l("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&s.listenerCount(e,"data")&&(t.flowing=!0,y(e))}}(r);function f(){l("cleanup"),e.removeListener("close",m),e.removeListener("finish",b),e.removeListener("drain",h),e.removeListener("error",p),e.removeListener("unpipe",u),r.removeListener("end",c),r.removeListener("end",f),r.removeListener("data",d),!a.awaitDrain||e._writableState&&!e._writableState.needDrain||h()}function d(t){l("ondata"),!1===e.write(t)&&(l("false write response, pause",r._readableState.awaitDrain),r._readableState.awaitDrain++,r.pause())}function p(t){l("onerror",t),v(),e.removeListener("error",p),0===s.listenerCount(e,"error")&&e.emit("error",t)}function m(){e.removeListener("finish",b),v()}function b(){l("onfinish"),e.removeListener("close",m),v()}function v(){l("unpipe"),r.unpipe(e)}return e.on("drain",h),r.on("data",d),e._events&&e._events.error?i(e._events.error)?e._events.error.unshift(p):e._events.error=[p,e._events.error]:e.on("error",p),e.once("close",m),e.once("finish",b),e.emit("pipe",r),a.flowing||(l("pipe resume"),r.resume()),e},f.prototype.unpipe=function(e){var t=this._readableState;if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this)),this;if(!e){var r=t.pipes,n=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var i=0;i<n;i++)r[i].emit("unpipe",this);return this}return-1===(i=function(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}(t.pipes,e))||(t.pipes.splice(i,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this)),this},f.prototype.on=function(e,t){var r=u.prototype.on.call(this,e,t);if("data"===e&&!1!==this._readableState.flowing&&this.resume(),"readable"===e&&this.readable){var i=this._readableState;if(!i.readableListening)if(i.readableListening=!0,i.emittedReadable=!1,i.needReadable=!0,i.reading)i.length&&b(this);else{var a=this;n.nextTick((function(){l("readable nexttick read 0"),a.read(0)}))}}return r},f.prototype.addListener=f.prototype.on,f.prototype.resume=function(){var e=this._readableState;return e.flowing||(l("resume"),e.flowing=!0,e.reading||(l("resume read 0"),this.read(0)),function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,n.nextTick((function(){!function(e,t){t.resumeScheduled=!1,e.emit("resume"),y(e),t.flowing&&!t.reading&&e.read(0)}(e,t)})))}(this,e)),this},f.prototype.pause=function(){return l("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(l("pause"),this._readableState.flowing=!1,this.emit("pause")),this},f.prototype.wrap=function(e){var t=this._readableState,r=!1,n=this;for(var i in e.on("end",(function(){if(l("wrapped end"),t.decoder&&!t.ended){var e=t.decoder.end();e&&e.length&&n.push(e)}n.push(null)})),e.on("data",(function(i){(l("wrapped data"),t.decoder&&(i=t.decoder.write(i)),i&&(t.objectMode||i.length))&&(n.push(i)||(r=!0,e.pause()))})),e)c.isFunction(e[i])&&c.isUndefined(this[i])&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));return function(e,t){for(var r=0,n=e.length;r<n;r++)t(e[r],r)}(["error","close","destroy","pause","resume"],(function(t){e.on(t,n.emit.bind(n,t))})),n._read=function(t){l("wrapped _read",t),r&&(r=!1,e.resume())},n},f._fromList=g},11291:(e,t,r)=>{e.exports=s;var n=r(99884),i=r(71178);function a(e,t){this.afterTransform=function(e,r){return function(e,t,r){var n=e._transformState;n.transforming=!1;var a=n.writecb;if(!a)return e.emit("error",new Error("no writecb in Transform class"));n.writechunk=null,n.writecb=null,i.isNullOrUndefined(r)||e.push(r);a&&a(t);var s=e._readableState;s.reading=!1,(s.needReadable||s.length<s.highWaterMark)&&e._read(s.highWaterMark)}(t,e,r)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null}function s(e){if(!(this instanceof s))return new s(e);n.call(this,e),this._transformState=new a(e,this);var t=this;this._readableState.needReadable=!0,this._readableState.sync=!1,this.once("prefinish",(function(){i.isFunction(this._flush)?this._flush((function(e){o(t,e)})):o(t)}))}function o(e,t){if(t)return e.emit("error",t);var r=e._writableState,n=e._transformState;if(r.length)throw new Error("calling transform done when ws.length != 0");if(n.transforming)throw new Error("calling transform done when still transforming");return e.push(null)}i.inherits=r(67483),i.inherits(s,n),s.prototype.push=function(e,t){return this._transformState.needTransform=!1,n.prototype.push.call(this,e,t)},s.prototype._transform=function(e,t,r){throw new Error("not implemented")},s.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},s.prototype._read=function(e){var t=this._transformState;i.isNull(t.writechunk)||!t.writecb||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))}},34896:(e,t,r)=>{var n=r(73656);e.exports=c;var i=r(15313).Buffer;c.WritableState=u;var a=r(71178);a.inherits=r(67483);var s=r(96704);function o(e,t,r){this.chunk=e,this.encoding=t,this.callback=r}function u(e,t){var i=r(99884),a=(e=e||{}).highWaterMark,s=e.objectMode?16:16384;this.highWaterMark=a||0===a?a:s,this.objectMode=!!e.objectMode,t instanceof i&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var o=!1===e.decodeStrings;this.decodeStrings=!o,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var r=e._writableState,i=r.sync,a=r.writecb;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(r),t)!function(e,t,r,i,a){r?n.nextTick((function(){t.pendingcb--,a(i)})):(t.pendingcb--,a(i));e._writableState.errorEmitted=!0,e.emit("error",i)}(e,r,i,t,a);else{var s=d(e,r);s||r.corked||r.bufferProcessing||!r.buffer.length||f(e,r),i?n.nextTick((function(){h(e,r,s,a)})):h(e,r,s,a)}}(t,e)},this.writecb=null,this.writelen=0,this.buffer=[],this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1}function c(e){var t=r(99884);if(!(this instanceof c||this instanceof t))return new c(e);this._writableState=new u(e,this),this.writable=!0,s.call(this)}function l(e,t,r,n,i,a,s){t.writelen=n,t.writecb=s,t.writing=!0,t.sync=!0,r?e._writev(i,t.onwrite):e._write(i,a,t.onwrite),t.sync=!1}function h(e,t,r,n){r||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,n(),m(e,t)}function f(e,t){if(t.bufferProcessing=!0,e._writev&&t.buffer.length>1){for(var r=[],n=0;n<t.buffer.length;n++)r.push(t.buffer[n].callback);t.pendingcb++,l(e,t,!0,t.length,t.buffer,"",(function(e){for(var n=0;n<r.length;n++)t.pendingcb--,r[n](e)})),t.buffer=[]}else{for(n=0;n<t.buffer.length;n++){var i=t.buffer[n],a=i.chunk,s=i.encoding,o=i.callback,u=t.objectMode?1:a.length;if(l(e,t,!1,u,a,s,o),t.writing){n++;break}}n<t.buffer.length?t.buffer=t.buffer.slice(n):t.buffer.length=0}t.bufferProcessing=!1}function d(e,t){return t.ending&&0===t.length&&!t.finished&&!t.writing}function p(e,t){t.prefinished||(t.prefinished=!0,e.emit("prefinish"))}function m(e,t){var r=d(0,t);return r&&(0===t.pendingcb?(p(e,t),t.finished=!0,e.emit("finish")):p(e,t)),r}a.inherits(c,s),c.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe. Not readable."))},c.prototype.write=function(e,t,r){var s=this._writableState,u=!1;return a.isFunction(t)&&(r=t,t=null),a.isBuffer(e)?t="buffer":t||(t=s.defaultEncoding),a.isFunction(r)||(r=function(){}),s.ended?function(e,t,r){var i=new Error("write after end");e.emit("error",i),n.nextTick((function(){r(i)}))}(this,0,r):function(e,t,r,i){var s=!0;if(!(a.isBuffer(r)||a.isString(r)||a.isNullOrUndefined(r)||t.objectMode)){var o=new TypeError("Invalid non-string/buffer chunk");e.emit("error",o),n.nextTick((function(){i(o)})),s=!1}return s}(this,s,e,r)&&(s.pendingcb++,u=function(e,t,r,n,s){r=function(e,t,r){!e.objectMode&&!1!==e.decodeStrings&&a.isString(t)&&(t=new i(t,r));return t}(t,r,n),a.isBuffer(r)&&(n="buffer");var u=t.objectMode?1:r.length;t.length+=u;var c=t.length<t.highWaterMark;c||(t.needDrain=!0);t.writing||t.corked?t.buffer.push(new o(r,n,s)):l(e,t,!1,u,r,n,s);return c}(this,s,e,t,r)),u},c.prototype.cork=function(){this._writableState.corked++},c.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.buffer.length||f(this,e))},c.prototype._write=function(e,t,r){r(new Error("not implemented"))},c.prototype._writev=null,c.prototype.end=function(e,t,r){var i=this._writableState;a.isFunction(e)?(r=e,e=null,t=null):a.isFunction(t)&&(r=t,t=null),a.isNullOrUndefined(e)||this.write(e,t),i.corked&&(i.corked=1,this.uncork()),i.ending||i.finished||function(e,t,r){t.ending=!0,m(e,t),r&&(t.finished?n.nextTick(r):e.once("finish",r));t.ended=!0}(this,i,r)}},62193:(e,t,r)=>{var n=r(73656);(t=e.exports=r(5570)).Stream=r(96704),t.Readable=t,t.Writable=r(34896),t.Duplex=r(99884),t.Transform=r(11291),t.PassThrough=r(4960),n.browser||"disable"!==n.env.READABLE_STREAM||(e.exports=r(96704))},5327:(e,t,r)=>{e.exports=r(34896)},77644:(e,t,r)=>{"use strict";var n=r(6646),i=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};e.exports=h;var a=Object.create(r(71178));a.inherits=r(67483);var s=r(19073),o=r(66487);a.inherits(h,s);for(var u=i(o.prototype),c=0;c<u.length;c++){var l=u[c];h.prototype[l]||(h.prototype[l]=o.prototype[l])}function h(e){if(!(this instanceof h))return new h(e);s.call(this,e),o.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",f)}function f(){this.allowHalfOpen||this._writableState.ended||n.nextTick(d,this)}function d(e){e.end()}Object.defineProperty(h.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(h.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),h.prototype._destroy=function(e,t){this.push(null),this.end(),n.nextTick(t,e)}},44969:(e,t,r)=>{"use strict";e.exports=a;var n=r(13542),i=Object.create(r(71178));function a(e){if(!(this instanceof a))return new a(e);n.call(this,e)}i.inherits=r(67483),i.inherits(a,n),a.prototype._transform=function(e,t,r){r(null,e)}},19073:(e,t,r)=>{"use strict";var n=r(73656),i=r(6646);e.exports=g;var a,s=r(23161);g.ReadableState=y;r(47324).EventEmitter;var o=function(e,t){return e.listeners(t).length},u=r(59309),c=r(23269).Buffer,l=r.g.Uint8Array||function(){};var h=Object.create(r(71178));h.inherits=r(67483);var f=r(48263),d=void 0;d=f&&f.debuglog?f.debuglog("stream"):function(){};var p,m=r(58740),b=r(66510);h.inherits(g,u);var v=["error","close","destroy","pause","resume"];function y(e,t){e=e||{};var n=t instanceof(a=a||r(77644));this.objectMode=!!e.objectMode,n&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var i=e.highWaterMark,s=e.readableHighWaterMark,o=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:n&&(s||0===s)?s:o,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new m,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(p||(p=r(36835).s),this.decoder=new p(e.encoding),this.encoding=e.encoding)}function g(e){if(a=a||r(77644),!(this instanceof g))return new g(e);this._readableState=new y(e,this),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),u.call(this)}function w(e,t,r,n,i){var a,s=e._readableState;null===t?(s.reading=!1,function(e,t){if(t.ended)return;if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,k(e)}(e,s)):(i||(a=function(e,t){var r;n=t,c.isBuffer(n)||n instanceof l||"string"==typeof t||void 0===t||e.objectMode||(r=new TypeError("Invalid non-string/buffer chunk"));var n;return r}(s,t)),a?e.emit("error",a):s.objectMode||t&&t.length>0?("string"==typeof t||s.objectMode||Object.getPrototypeOf(t)===c.prototype||(t=function(e){return c.from(e)}(t)),n?s.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):S(e,s,t,!0):s.ended?e.emit("error",new Error("stream.push() after EOF")):(s.reading=!1,s.decoder&&!r?(t=s.decoder.write(t),s.objectMode||0!==t.length?S(e,s,t,!1):O(e,s)):S(e,s,t,!1))):n||(s.reading=!1));return function(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}(s)}function S(e,t,r,n){t.flowing&&0===t.length&&!t.sync?(e.emit("data",r),e.read(0)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&k(e)),O(e,t)}Object.defineProperty(g.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),g.prototype.destroy=b.destroy,g.prototype._undestroy=b.undestroy,g.prototype._destroy=function(e,t){this.push(null),t(e)},g.prototype.push=function(e,t){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof e&&((t=t||n.defaultEncoding)!==n.encoding&&(e=c.from(e,t),t=""),r=!0),w(this,e,t,!1,r)},g.prototype.unshift=function(e){return w(this,e,null,!0,!1)},g.prototype.isPaused=function(){return!1===this._readableState.flowing},g.prototype.setEncoding=function(e){return p||(p=r(36835).s),this._readableState.decoder=new p(e),this._readableState.encoding=e,this};var _=8388608;function A(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=_?e=_:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function k(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(d("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?i.nextTick(E,e):E(e))}function E(e){d("emit readable"),e.emit("readable"),P(e)}function O(e,t){t.readingMore||(t.readingMore=!0,i.nextTick(C,e,t))}function C(e,t){for(var r=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(d("maybeReadMore read 0"),e.read(0),r!==t.length);)r=t.length;t.readingMore=!1}function N(e){d("readable nexttick read 0"),e.read(0)}function x(e,t){t.reading||(d("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),P(e),t.flowing&&!t.reading&&e.read(0)}function P(e){var t=e._readableState;for(d("flow",t.flowing);t.flowing&&null!==e.read(););}function I(e,t){return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):r=function(e,t,r){var n;e<t.head.data.length?(n=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):n=e===t.head.data.length?t.shift():r?function(e,t){var r=t.head,n=1,i=r.data;e-=i.length;for(;r=r.next;){var a=r.data,s=e>a.length?a.length:e;if(s===a.length?i+=a:i+=a.slice(0,e),0===(e-=s)){s===a.length?(++n,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=a.slice(s));break}++n}return t.length-=n,i}(e,t):function(e,t){var r=c.allocUnsafe(e),n=t.head,i=1;n.data.copy(r),e-=n.data.length;for(;n=n.next;){var a=n.data,s=e>a.length?a.length:e;if(a.copy(r,r.length-e,0,s),0===(e-=s)){s===a.length?(++i,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=a.slice(s));break}++i}return t.length-=i,r}(e,t);return n}(e,t.buffer,t.decoder),r);var r}function T(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,i.nextTick(j,t,e))}function j(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function V(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}g.prototype.read=function(e){d("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return d("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?T(this):k(this),null;if(0===(e=A(e,t))&&t.ended)return 0===t.length&&T(this),null;var n,i=t.needReadable;return d("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&d("length less than watermark",i=!0),t.ended||t.reading?d("reading or ended",i=!1):i&&(d("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=A(r,t))),null===(n=e>0?I(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&T(this)),null!==n&&this.emit("data",n),n},g.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},g.prototype.pipe=function(e,t){var r=this,a=this._readableState;switch(a.pipesCount){case 0:a.pipes=e;break;case 1:a.pipes=[a.pipes,e];break;default:a.pipes.push(e)}a.pipesCount+=1,d("pipe count=%d opts=%j",a.pipesCount,t);var u=(!t||!1!==t.end)&&e!==n.stdout&&e!==n.stderr?l:g;function c(t,n){d("onunpipe"),t===r&&n&&!1===n.hasUnpiped&&(n.hasUnpiped=!0,d("cleanup"),e.removeListener("close",v),e.removeListener("finish",y),e.removeListener("drain",h),e.removeListener("error",b),e.removeListener("unpipe",c),r.removeListener("end",l),r.removeListener("end",g),r.removeListener("data",m),f=!0,!a.awaitDrain||e._writableState&&!e._writableState.needDrain||h())}function l(){d("onend"),e.end()}a.endEmitted?i.nextTick(u):r.once("end",u),e.on("unpipe",c);var h=function(e){return function(){var t=e._readableState;d("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&o(e,"data")&&(t.flowing=!0,P(e))}}(r);e.on("drain",h);var f=!1;var p=!1;function m(t){d("ondata"),p=!1,!1!==e.write(t)||p||((1===a.pipesCount&&a.pipes===e||a.pipesCount>1&&-1!==V(a.pipes,e))&&!f&&(d("false write response, pause",r._readableState.awaitDrain),r._readableState.awaitDrain++,p=!0),r.pause())}function b(t){d("onerror",t),g(),e.removeListener("error",b),0===o(e,"error")&&e.emit("error",t)}function v(){e.removeListener("finish",y),g()}function y(){d("onfinish"),e.removeListener("close",v),g()}function g(){d("unpipe"),r.unpipe(e)}return r.on("data",m),function(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?s(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}(e,"error",b),e.once("close",v),e.once("finish",y),e.emit("pipe",r),a.flowing||(d("pipe resume"),r.resume()),e},g.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r)),this;if(!e){var n=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var a=0;a<i;a++)n[a].emit("unpipe",this,r);return this}var s=V(t.pipes,e);return-1===s||(t.pipes.splice(s,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r)),this},g.prototype.on=function(e,t){var r=u.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var n=this._readableState;n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.emittedReadable=!1,n.reading?n.length&&k(this):i.nextTick(N,this))}return r},g.prototype.addListener=g.prototype.on,g.prototype.resume=function(){var e=this._readableState;return e.flowing||(d("resume"),e.flowing=!0,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,i.nextTick(x,e,t))}(this,e)),this},g.prototype.pause=function(){return d("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(d("pause"),this._readableState.flowing=!1,this.emit("pause")),this},g.prototype.wrap=function(e){var t=this,r=this._readableState,n=!1;for(var i in e.on("end",(function(){if(d("wrapped end"),r.decoder&&!r.ended){var e=r.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(i){(d("wrapped data"),r.decoder&&(i=r.decoder.write(i)),r.objectMode&&null==i)||(r.objectMode||i&&i.length)&&(t.push(i)||(n=!0,e.pause()))})),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var a=0;a<v.length;a++)e.on(v[a],this.emit.bind(this,v[a]));return this._read=function(t){d("wrapped _read",t),n&&(n=!1,e.resume())},this},Object.defineProperty(g.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),g._fromList=I},13542:(e,t,r)=>{"use strict";e.exports=s;var n=r(77644),i=Object.create(r(71178));function a(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(!n)return this.emit("error",new Error("write callback called multiple times"));r.writechunk=null,r.writecb=null,null!=t&&this.push(t),n(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function s(e){if(!(this instanceof s))return new s(e);n.call(this,e),this._transformState={afterTransform:a.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",o)}function o(){var e=this;"function"==typeof this._flush?this._flush((function(t,r){u(e,t,r)})):u(this,null,null)}function u(e,t,r){if(t)return e.emit("error",t);if(null!=r&&e.push(r),e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}i.inherits=r(67483),i.inherits(s,n),s.prototype.push=function(e,t){return this._transformState.needTransform=!1,n.prototype.push.call(this,e,t)},s.prototype._transform=function(e,t,r){throw new Error("_transform() is not implemented")},s.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},s.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},s.prototype._destroy=function(e,t){var r=this;n.prototype._destroy.call(this,e,(function(e){t(e),r.emit("close")}))}},66487:(e,t,r)=>{"use strict";var n=r(73656),i=r(6646);function a(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,r){var n=e.entry;e.entry=null;for(;n;){var i=n.callback;t.pendingcb--,i(r),n=n.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}(t,e)}}e.exports=v;var s,o=!n.browser&&["v0.10","v0.9."].indexOf(n.version.slice(0,5))>-1?setImmediate:i.nextTick;v.WritableState=b;var u=Object.create(r(71178));u.inherits=r(67483);var c={deprecate:r(54012)},l=r(59309),h=r(23269).Buffer,f=r.g.Uint8Array||function(){};var d,p=r(66510);function m(){}function b(e,t){s=s||r(77644),e=e||{};var n=t instanceof s;this.objectMode=!!e.objectMode,n&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var u=e.highWaterMark,c=e.writableHighWaterMark,l=this.objectMode?16:16384;this.highWaterMark=u||0===u?u:n&&(c||0===c)?c:l,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var h=!1===e.decodeStrings;this.decodeStrings=!h,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var r=e._writableState,n=r.sync,a=r.writecb;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(r),t)!function(e,t,r,n,a){--t.pendingcb,r?(i.nextTick(a,n),i.nextTick(A,e,t),e._writableState.errorEmitted=!0,e.emit("error",n)):(a(n),e._writableState.errorEmitted=!0,e.emit("error",n),A(e,t))}(e,r,n,t,a);else{var s=S(r);s||r.corked||r.bufferProcessing||!r.bufferedRequest||w(e,r),n?o(g,e,r,s,a):g(e,r,s,a)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new a(this)}function v(e){if(s=s||r(77644),!(d.call(v,this)||this instanceof s))return new v(e);this._writableState=new b(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),l.call(this)}function y(e,t,r,n,i,a,s){t.writelen=n,t.writecb=s,t.writing=!0,t.sync=!0,r?e._writev(i,t.onwrite):e._write(i,a,t.onwrite),t.sync=!1}function g(e,t,r,n){r||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,n(),A(e,t)}function w(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=t.bufferedRequestCount,i=new Array(n),s=t.corkedRequestsFree;s.entry=r;for(var o=0,u=!0;r;)i[o]=r,r.isBuf||(u=!1),r=r.next,o+=1;i.allBuffers=u,y(e,t,!0,t.length,i,"",s.finish),t.pendingcb++,t.lastBufferedRequest=null,s.next?(t.corkedRequestsFree=s.next,s.next=null):t.corkedRequestsFree=new a(t),t.bufferedRequestCount=0}else{for(;r;){var c=r.chunk,l=r.encoding,h=r.callback;if(y(e,t,!1,t.objectMode?1:c.length,c,l,h),r=r.next,t.bufferedRequestCount--,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}function S(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function _(e,t){e._final((function(r){t.pendingcb--,r&&e.emit("error",r),t.prefinished=!0,e.emit("prefinish"),A(e,t)}))}function A(e,t){var r=S(t);return r&&(!function(e,t){t.prefinished||t.finalCalled||("function"==typeof e._final?(t.pendingcb++,t.finalCalled=!0,i.nextTick(_,e,t)):(t.prefinished=!0,e.emit("prefinish")))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),r}u.inherits(v,l),b.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(b.prototype,"buffer",{get:c.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(d=Function.prototype[Symbol.hasInstance],Object.defineProperty(v,Symbol.hasInstance,{value:function(e){return!!d.call(this,e)||this===v&&(e&&e._writableState instanceof b)}})):d=function(e){return e instanceof this},v.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},v.prototype.write=function(e,t,r){var n,a=this._writableState,s=!1,o=!a.objectMode&&(n=e,h.isBuffer(n)||n instanceof f);return o&&!h.isBuffer(e)&&(e=function(e){return h.from(e)}(e)),"function"==typeof t&&(r=t,t=null),o?t="buffer":t||(t=a.defaultEncoding),"function"!=typeof r&&(r=m),a.ended?function(e,t){var r=new Error("write after end");e.emit("error",r),i.nextTick(t,r)}(this,r):(o||function(e,t,r,n){var a=!0,s=!1;return null===r?s=new TypeError("May not write null values to stream"):"string"==typeof r||void 0===r||t.objectMode||(s=new TypeError("Invalid non-string/buffer chunk")),s&&(e.emit("error",s),i.nextTick(n,s),a=!1),a}(this,a,e,r))&&(a.pendingcb++,s=function(e,t,r,n,i,a){if(!r){var s=function(e,t,r){e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=h.from(t,r));return t}(t,n,i);n!==s&&(r=!0,i="buffer",n=s)}var o=t.objectMode?1:n.length;t.length+=o;var u=t.length<t.highWaterMark;u||(t.needDrain=!0);if(t.writing||t.corked){var c=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:a,next:null},c?c.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else y(e,t,!1,o,n,i,a);return u}(this,a,o,e,t,r)),s},v.prototype.cork=function(){this._writableState.corked++},v.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||w(this,e))},v.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(v.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),v.prototype._write=function(e,t,r){r(new Error("_write() is not implemented"))},v.prototype._writev=null,v.prototype.end=function(e,t,r){var n=this._writableState;"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!=e&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),n.ending||n.finished||function(e,t,r){t.ending=!0,A(e,t),r&&(t.finished?i.nextTick(r):e.once("finish",r));t.ended=!0,e.writable=!1}(this,n,r)},Object.defineProperty(v.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),v.prototype.destroy=p.destroy,v.prototype._undestroy=p.undestroy,v.prototype._destroy=function(e,t){this.end(),t(e)}},58740:(e,t,r)=>{"use strict";var n=r(23269).Buffer,i=r(46332);e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},e.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},e.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r},e.prototype.concat=function(e){if(0===this.length)return n.alloc(0);if(1===this.length)return this.head.data;for(var t,r,i,a=n.allocUnsafe(e>>>0),s=this.head,o=0;s;)t=s.data,r=a,i=o,t.copy(r,i),o+=s.data.length,s=s.next;return a},e}(),i&&i.inspect&&i.inspect.custom&&(e.exports.prototype[i.inspect.custom]=function(){var e=i.inspect({length:this.length});return this.constructor.name+" "+e})},66510:(e,t,r)=>{"use strict";var n=r(6646);function i(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var r=this,a=this._readableState&&this._readableState.destroyed,s=this._writableState&&this._writableState.destroyed;return a||s?(t?t(e):!e||this._writableState&&this._writableState.errorEmitted||n.nextTick(i,this,e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!t&&e?(n.nextTick(i,r,e),r._writableState&&(r._writableState.errorEmitted=!0)):t&&t(e)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},59309:(e,t,r)=>{e.exports=r(47324).EventEmitter},30376:(e,t,r)=>{(t=e.exports=r(19073)).Stream=t,t.Readable=t,t.Writable=r(66487),t.Duplex=r(77644),t.Transform=r(13542),t.PassThrough=r(44969)},66593:e=>{"use strict";var t={};function r(e,r,n){n||(n=Error);var i=function(e){var t,n;function i(t,n,i){return e.call(this,function(e,t,n){return"string"==typeof r?r:r(e,t,n)}(t,n,i))||this}return n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,i}(n);i.prototype.name=n.name,i.prototype.code=e,t[e]=i}function n(e,t){if(Array.isArray(e)){var r=e.length;return e=e.map((function(e){return String(e)})),r>2?"one of ".concat(t," ").concat(e.slice(0,r-1).join(", "),", or ")+e[r-1]:2===r?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}return"of ".concat(t," ").concat(String(e))}r("ERR_INVALID_OPT_VALUE",(function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'}),TypeError),r("ERR_INVALID_ARG_TYPE",(function(e,t,r){var i,a,s,o;if("string"==typeof t&&(a="not ",t.substr(!s||s<0?0:+s,a.length)===a)?(i="must not be",t=t.replace(/^not /,"")):i="must be",function(e,t,r){return(void 0===r||r>e.length)&&(r=e.length),e.substring(r-t.length,r)===t}(e," argument"))o="The ".concat(e," ").concat(i," ").concat(n(t,"type"));else{var u=function(e,t,r){return"number"!=typeof r&&(r=0),!(r+t.length>e.length)&&-1!==e.indexOf(t,r)}(e,".")?"property":"argument";o='The "'.concat(e,'" ').concat(u," ").concat(i," ").concat(n(t,"type"))}return o+=". Received type ".concat(typeof r)}),TypeError),r("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),r("ERR_METHOD_NOT_IMPLEMENTED",(function(e){return"The "+e+" method is not implemented"})),r("ERR_STREAM_PREMATURE_CLOSE","Premature close"),r("ERR_STREAM_DESTROYED",(function(e){return"Cannot call "+e+" after a stream was destroyed"})),r("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),r("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),r("ERR_STREAM_WRITE_AFTER_END","write after end"),r("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),r("ERR_UNKNOWN_ENCODING",(function(e){return"Unknown encoding: "+e}),TypeError),r("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),e.exports.q=t},56009:(e,t,r)=>{"use strict";var n=r(73656),i=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};e.exports=l;var a=r(46285),s=r(42352);r(67483)(l,a);for(var o=i(s.prototype),u=0;u<o.length;u++){var c=o[u];l.prototype[c]||(l.prototype[c]=s.prototype[c])}function l(e){if(!(this instanceof l))return new l(e);a.call(this,e),s.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",h)))}function h(){this._writableState.ended||n.nextTick(f,this)}function f(e){e.end()}Object.defineProperty(l.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(l.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(l.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(l.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}})},68339:(e,t,r)=>{"use strict";e.exports=i;var n=r(90016);function i(e){if(!(this instanceof i))return new i(e);n.call(this,e)}r(67483)(i,n),i.prototype._transform=function(e,t,r){r(null,e)}},46285:(e,t,r)=>{"use strict";var n,i=r(73656);e.exports=E,E.ReadableState=k;r(47324).EventEmitter;var a=function(e,t){return e.listeners(t).length},s=r(57915),o=r(15313).Buffer,u=r.g.Uint8Array||function(){};var c,l=r(43350);c=l&&l.debuglog?l.debuglog("stream"):function(){};var h,f,d,p=r(63047),m=r(13742),b=r(56871).getHighWaterMark,v=r(66593).q,y=v.ERR_INVALID_ARG_TYPE,g=v.ERR_STREAM_PUSH_AFTER_EOF,w=v.ERR_METHOD_NOT_IMPLEMENTED,S=v.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;r(67483)(E,s);var _=m.errorOrDestroy,A=["error","close","destroy","pause","resume"];function k(e,t,i){n=n||r(56009),e=e||{},"boolean"!=typeof i&&(i=t instanceof n),this.objectMode=!!e.objectMode,i&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=b(this,e,"readableHighWaterMark",i),this.buffer=new p,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(h||(h=r(23457).s),this.decoder=new h(e.encoding),this.encoding=e.encoding)}function E(e){if(n=n||r(56009),!(this instanceof E))return new E(e);var t=this instanceof n;this._readableState=new k(e,this,t),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),s.call(this)}function O(e,t,r,n,i){c("readableAddChunk",t);var a,s=e._readableState;if(null===t)s.reading=!1,function(e,t){if(c("onEofChunk"),t.ended)return;if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,t.sync?P(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,I(e)))}(e,s);else if(i||(a=function(e,t){var r;n=t,o.isBuffer(n)||n instanceof u||"string"==typeof t||void 0===t||e.objectMode||(r=new y("chunk",["string","Buffer","Uint8Array"],t));var n;return r}(s,t)),a)_(e,a);else if(s.objectMode||t&&t.length>0)if("string"==typeof t||s.objectMode||Object.getPrototypeOf(t)===o.prototype||(t=function(e){return o.from(e)}(t)),n)s.endEmitted?_(e,new S):C(e,s,t,!0);else if(s.ended)_(e,new g);else{if(s.destroyed)return!1;s.reading=!1,s.decoder&&!r?(t=s.decoder.write(t),s.objectMode||0!==t.length?C(e,s,t,!1):T(e,s)):C(e,s,t,!1)}else n||(s.reading=!1,T(e,s));return!s.ended&&(s.length<s.highWaterMark||0===s.length)}function C(e,t,r,n){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",r)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&P(e)),T(e,t)}Object.defineProperty(E.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),E.prototype.destroy=m.destroy,E.prototype._undestroy=m.undestroy,E.prototype._destroy=function(e,t){t(e)},E.prototype.push=function(e,t){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof e&&((t=t||n.defaultEncoding)!==n.encoding&&(e=o.from(e,t),t=""),r=!0),O(this,e,t,!1,r)},E.prototype.unshift=function(e){return O(this,e,null,!0,!1)},E.prototype.isPaused=function(){return!1===this._readableState.flowing},E.prototype.setEncoding=function(e){h||(h=r(23457).s);var t=new h(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;for(var n=this._readableState.buffer.head,i="";null!==n;)i+=t.write(n.data),n=n.next;return this._readableState.buffer.clear(),""!==i&&this._readableState.buffer.push(i),this._readableState.length=i.length,this};var N=1073741824;function x(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=N?e=N:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function P(e){var t=e._readableState;c("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(c("emitReadable",t.flowing),t.emittedReadable=!0,i.nextTick(I,e))}function I(e){var t=e._readableState;c("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||!t.length&&!t.ended||(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,H(e)}function T(e,t){t.readingMore||(t.readingMore=!0,i.nextTick(j,e,t))}function j(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var r=t.length;if(c("maybeReadMore read 0"),e.read(0),r===t.length)break}t.readingMore=!1}function V(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function B(e){c("readable nexttick read 0"),e.read(0)}function D(e,t){c("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),H(e),t.flowing&&!t.reading&&e.read(0)}function H(e){var t=e._readableState;for(c("flow",t.flowing);t.flowing&&null!==e.read(););}function M(e,t){return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):r=t.buffer.consume(e,t.decoder),r);var r}function R(e){var t=e._readableState;c("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,i.nextTick(L,t,e))}function L(e,t){if(c("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var r=t._writableState;(!r||r.autoDestroy&&r.finished)&&t.destroy()}}function $(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}E.prototype.read=function(e){c("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return c("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?R(this):P(this),null;if(0===(e=x(e,t))&&t.ended)return 0===t.length&&R(this),null;var n,i=t.needReadable;return c("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&c("length less than watermark",i=!0),t.ended||t.reading?c("reading or ended",i=!1):i&&(c("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=x(r,t))),null===(n=e>0?M(e,t):null)?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&R(this)),null!==n&&this.emit("data",n),n},E.prototype._read=function(e){_(this,new w("_read()"))},E.prototype.pipe=function(e,t){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=e;break;case 1:n.pipes=[n.pipes,e];break;default:n.pipes.push(e)}n.pipesCount+=1,c("pipe count=%d opts=%j",n.pipesCount,t);var s=(!t||!1!==t.end)&&e!==i.stdout&&e!==i.stderr?u:b;function o(t,i){c("onunpipe"),t===r&&i&&!1===i.hasUnpiped&&(i.hasUnpiped=!0,c("cleanup"),e.removeListener("close",p),e.removeListener("finish",m),e.removeListener("drain",l),e.removeListener("error",d),e.removeListener("unpipe",o),r.removeListener("end",u),r.removeListener("end",b),r.removeListener("data",f),h=!0,!n.awaitDrain||e._writableState&&!e._writableState.needDrain||l())}function u(){c("onend"),e.end()}n.endEmitted?i.nextTick(s):r.once("end",s),e.on("unpipe",o);var l=function(e){return function(){var t=e._readableState;c("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&a(e,"data")&&(t.flowing=!0,H(e))}}(r);e.on("drain",l);var h=!1;function f(t){c("ondata");var i=e.write(t);c("dest.write",i),!1===i&&((1===n.pipesCount&&n.pipes===e||n.pipesCount>1&&-1!==$(n.pipes,e))&&!h&&(c("false write response, pause",n.awaitDrain),n.awaitDrain++),r.pause())}function d(t){c("onerror",t),b(),e.removeListener("error",d),0===a(e,"error")&&_(e,t)}function p(){e.removeListener("finish",m),b()}function m(){c("onfinish"),e.removeListener("close",p),b()}function b(){c("unpipe"),r.unpipe(e)}return r.on("data",f),function(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}(e,"error",d),e.once("close",p),e.once("finish",m),e.emit("pipe",r),n.flowing||(c("pipe resume"),r.resume()),e},E.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r)),this;if(!e){var n=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var a=0;a<i;a++)n[a].emit("unpipe",this,{hasUnpiped:!1});return this}var s=$(t.pipes,e);return-1===s||(t.pipes.splice(s,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r)),this},E.prototype.on=function(e,t){var r=s.prototype.on.call(this,e,t),n=this._readableState;return"data"===e?(n.readableListening=this.listenerCount("readable")>0,!1!==n.flowing&&this.resume()):"readable"===e&&(n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,c("on readable",n.length,n.reading),n.length?P(this):n.reading||i.nextTick(B,this))),r},E.prototype.addListener=E.prototype.on,E.prototype.removeListener=function(e,t){var r=s.prototype.removeListener.call(this,e,t);return"readable"===e&&i.nextTick(V,this),r},E.prototype.removeAllListeners=function(e){var t=s.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||i.nextTick(V,this),t},E.prototype.resume=function(){var e=this._readableState;return e.flowing||(c("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,i.nextTick(D,e,t))}(this,e)),e.paused=!1,this},E.prototype.pause=function(){return c("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(c("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},E.prototype.wrap=function(e){var t=this,r=this._readableState,n=!1;for(var i in e.on("end",(function(){if(c("wrapped end"),r.decoder&&!r.ended){var e=r.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(i){(c("wrapped data"),r.decoder&&(i=r.decoder.write(i)),r.objectMode&&null==i)||(r.objectMode||i&&i.length)&&(t.push(i)||(n=!0,e.pause()))})),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var a=0;a<A.length;a++)e.on(A[a],this.emit.bind(this,A[a]));return this._read=function(t){c("wrapped _read",t),n&&(n=!1,e.resume())},this},"function"==typeof Symbol&&(E.prototype[Symbol.asyncIterator]=function(){return void 0===f&&(f=r(55321)),f(this)}),Object.defineProperty(E.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(E.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(E.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),E._fromList=M,Object.defineProperty(E.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(E.from=function(e,t){return void 0===d&&(d=r(92267)),d(E,e,t)})},90016:(e,t,r)=>{"use strict";e.exports=l;var n=r(66593).q,i=n.ERR_METHOD_NOT_IMPLEMENTED,a=n.ERR_MULTIPLE_CALLBACK,s=n.ERR_TRANSFORM_ALREADY_TRANSFORMING,o=n.ERR_TRANSFORM_WITH_LENGTH_0,u=r(56009);function c(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(null===n)return this.emit("error",new a);r.writechunk=null,r.writecb=null,null!=t&&this.push(t),n(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function l(e){if(!(this instanceof l))return new l(e);u.call(this,e),this._transformState={afterTransform:c.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",h)}function h(){var e=this;"function"!=typeof this._flush||this._readableState.destroyed?f(this,null,null):this._flush((function(t,r){f(e,t,r)}))}function f(e,t,r){if(t)return e.emit("error",t);if(null!=r&&e.push(r),e._writableState.length)throw new o;if(e._transformState.transforming)throw new s;return e.push(null)}r(67483)(l,u),l.prototype.push=function(e,t){return this._transformState.needTransform=!1,u.prototype.push.call(this,e,t)},l.prototype._transform=function(e,t,r){r(new i("_transform()"))},l.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},l.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},l.prototype._destroy=function(e,t){u.prototype._destroy.call(this,e,(function(e){t(e)}))}},42352:(e,t,r)=>{"use strict";var n,i=r(73656);function a(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,r){var n=e.entry;e.entry=null;for(;n;){var i=n.callback;t.pendingcb--,i(r),n=n.next}t.corkedRequestsFree.next=e}(t,e)}}e.exports=E,E.WritableState=k;var s={deprecate:r(54012)},o=r(57915),u=r(15313).Buffer,c=r.g.Uint8Array||function(){};var l,h=r(13742),f=r(56871).getHighWaterMark,d=r(66593).q,p=d.ERR_INVALID_ARG_TYPE,m=d.ERR_METHOD_NOT_IMPLEMENTED,b=d.ERR_MULTIPLE_CALLBACK,v=d.ERR_STREAM_CANNOT_PIPE,y=d.ERR_STREAM_DESTROYED,g=d.ERR_STREAM_NULL_VALUES,w=d.ERR_STREAM_WRITE_AFTER_END,S=d.ERR_UNKNOWN_ENCODING,_=h.errorOrDestroy;function A(){}function k(e,t,s){n=n||r(56009),e=e||{},"boolean"!=typeof s&&(s=t instanceof n),this.objectMode=!!e.objectMode,s&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=f(this,e,"writableHighWaterMark",s),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var o=!1===e.decodeStrings;this.decodeStrings=!o,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var r=e._writableState,n=r.sync,a=r.writecb;if("function"!=typeof a)throw new b;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(r),t)!function(e,t,r,n,a){--t.pendingcb,r?(i.nextTick(a,n),i.nextTick(I,e,t),e._writableState.errorEmitted=!0,_(e,n)):(a(n),e._writableState.errorEmitted=!0,_(e,n),I(e,t))}(e,r,n,t,a);else{var s=x(r)||e.destroyed;s||r.corked||r.bufferProcessing||!r.bufferedRequest||N(e,r),n?i.nextTick(C,e,r,s,a):C(e,r,s,a)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new a(this)}function E(e){var t=this instanceof(n=n||r(56009));if(!t&&!l.call(E,this))return new E(e);this._writableState=new k(e,this,t),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),o.call(this)}function O(e,t,r,n,i,a,s){t.writelen=n,t.writecb=s,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new y("write")):r?e._writev(i,t.onwrite):e._write(i,a,t.onwrite),t.sync=!1}function C(e,t,r,n){r||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,n(),I(e,t)}function N(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=t.bufferedRequestCount,i=new Array(n),s=t.corkedRequestsFree;s.entry=r;for(var o=0,u=!0;r;)i[o]=r,r.isBuf||(u=!1),r=r.next,o+=1;i.allBuffers=u,O(e,t,!0,t.length,i,"",s.finish),t.pendingcb++,t.lastBufferedRequest=null,s.next?(t.corkedRequestsFree=s.next,s.next=null):t.corkedRequestsFree=new a(t),t.bufferedRequestCount=0}else{for(;r;){var c=r.chunk,l=r.encoding,h=r.callback;if(O(e,t,!1,t.objectMode?1:c.length,c,l,h),r=r.next,t.bufferedRequestCount--,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}function x(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function P(e,t){e._final((function(r){t.pendingcb--,r&&_(e,r),t.prefinished=!0,e.emit("prefinish"),I(e,t)}))}function I(e,t){var r=x(t);if(r&&(function(e,t){t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,i.nextTick(P,e,t)))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var n=e._readableState;(!n||n.autoDestroy&&n.endEmitted)&&e.destroy()}return r}r(67483)(E,o),k.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(k.prototype,"buffer",{get:s.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(l=Function.prototype[Symbol.hasInstance],Object.defineProperty(E,Symbol.hasInstance,{value:function(e){return!!l.call(this,e)||this===E&&(e&&e._writableState instanceof k)}})):l=function(e){return e instanceof this},E.prototype.pipe=function(){_(this,new v)},E.prototype.write=function(e,t,r){var n,a=this._writableState,s=!1,o=!a.objectMode&&(n=e,u.isBuffer(n)||n instanceof c);return o&&!u.isBuffer(e)&&(e=function(e){return u.from(e)}(e)),"function"==typeof t&&(r=t,t=null),o?t="buffer":t||(t=a.defaultEncoding),"function"!=typeof r&&(r=A),a.ending?function(e,t){var r=new w;_(e,r),i.nextTick(t,r)}(this,r):(o||function(e,t,r,n){var a;return null===r?a=new g:"string"==typeof r||t.objectMode||(a=new p("chunk",["string","Buffer"],r)),!a||(_(e,a),i.nextTick(n,a),!1)}(this,a,e,r))&&(a.pendingcb++,s=function(e,t,r,n,i,a){if(!r){var s=function(e,t,r){e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=u.from(t,r));return t}(t,n,i);n!==s&&(r=!0,i="buffer",n=s)}var o=t.objectMode?1:n.length;t.length+=o;var c=t.length<t.highWaterMark;c||(t.needDrain=!0);if(t.writing||t.corked){var l=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:a,next:null},l?l.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else O(e,t,!1,o,n,i,a);return c}(this,a,o,e,t,r)),s},E.prototype.cork=function(){this._writableState.corked++},E.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||N(this,e))},E.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new S(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(E.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(E.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),E.prototype._write=function(e,t,r){r(new m("_write()"))},E.prototype._writev=null,E.prototype.end=function(e,t,r){var n=this._writableState;return"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!=e&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),n.ending||function(e,t,r){t.ending=!0,I(e,t),r&&(t.finished?i.nextTick(r):e.once("finish",r));t.ended=!0,e.writable=!1}(this,n,r),this},Object.defineProperty(E.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(E.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),E.prototype.destroy=h.destroy,E.prototype._undestroy=h.undestroy,E.prototype._destroy=function(e,t){t(e)}},55321:(e,t,r)=>{"use strict";var n,i=r(73656);function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var s=r(63640),o=Symbol("lastResolve"),u=Symbol("lastReject"),c=Symbol("error"),l=Symbol("ended"),h=Symbol("lastPromise"),f=Symbol("handlePromise"),d=Symbol("stream");function p(e,t){return{value:e,done:t}}function m(e){var t=e[o];if(null!==t){var r=e[d].read();null!==r&&(e[h]=null,e[o]=null,e[u]=null,t(p(r,!1)))}}function b(e){i.nextTick(m,e)}var v=Object.getPrototypeOf((function(){})),y=Object.setPrototypeOf((a(n={get stream(){return this[d]},next:function(){var e=this,t=this[c];if(null!==t)return Promise.reject(t);if(this[l])return Promise.resolve(p(void 0,!0));if(this[d].destroyed)return new Promise((function(t,r){i.nextTick((function(){e[c]?r(e[c]):t(p(void 0,!0))}))}));var r,n=this[h];if(n)r=new Promise(function(e,t){return function(r,n){e.then((function(){t[l]?r(p(void 0,!0)):t[f](r,n)}),n)}}(n,this));else{var a=this[d].read();if(null!==a)return Promise.resolve(p(a,!1));r=new Promise(this[f])}return this[h]=r,r}},Symbol.asyncIterator,(function(){return this})),a(n,"return",(function(){var e=this;return new Promise((function(t,r){e[d].destroy(null,(function(e){e?r(e):t(p(void 0,!0))}))}))})),n),v);e.exports=function(e){var t,r=Object.create(y,(a(t={},d,{value:e,writable:!0}),a(t,o,{value:null,writable:!0}),a(t,u,{value:null,writable:!0}),a(t,c,{value:null,writable:!0}),a(t,l,{value:e._readableState.endEmitted,writable:!0}),a(t,f,{value:function(e,t){var n=r[d].read();n?(r[h]=null,r[o]=null,r[u]=null,e(p(n,!1))):(r[o]=e,r[u]=t)},writable:!0}),t));return r[h]=null,s(e,(function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=r[u];return null!==t&&(r[h]=null,r[o]=null,r[u]=null,t(e)),void(r[c]=e)}var n=r[o];null!==n&&(r[h]=null,r[o]=null,r[u]=null,n(p(void 0,!0))),r[l]=!0})),e.on("readable",b.bind(null,r)),r}},63047:(e,t,r)=>{"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var s=r(15313).Buffer,o=r(1973).inspect,u=o&&o.custom||"inspect";e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}var t,r,c;return t=e,r=[{key:"push",value:function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:"unshift",value:function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:"shift",value:function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r}},{key:"concat",value:function(e){if(0===this.length)return s.alloc(0);for(var t,r,n,i=s.allocUnsafe(e>>>0),a=this.head,o=0;a;)t=a.data,r=i,n=o,s.prototype.copy.call(t,r,n),o+=a.data.length,a=a.next;return i}},{key:"consume",value:function(e,t){var r;return e<this.head.data.length?(r=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):r=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),r}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var t=this.head,r=1,n=t.data;for(e-=n.length;t=t.next;){var i=t.data,a=e>i.length?i.length:e;if(a===i.length?n+=i:n+=i.slice(0,e),0==(e-=a)){a===i.length?(++r,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t,t.data=i.slice(a));break}++r}return this.length-=r,n}},{key:"_getBuffer",value:function(e){var t=s.allocUnsafe(e),r=this.head,n=1;for(r.data.copy(t),e-=r.data.length;r=r.next;){var i=r.data,a=e>i.length?i.length:e;if(i.copy(t,t.length-e,0,a),0==(e-=a)){a===i.length?(++n,r.next?this.head=r.next:this.head=this.tail=null):(this.head=r,r.data=i.slice(a));break}++n}return this.length-=n,t}},{key:u,value:function(e,t){return o(this,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},t,{depth:0,customInspect:!1}))}}],r&&a(t.prototype,r),c&&a(t,c),e}()},13742:(e,t,r)=>{"use strict";var n=r(73656);function i(e,t){s(e,t),a(e)}function a(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function s(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var r=this,o=this._readableState&&this._readableState.destroyed,u=this._writableState&&this._writableState.destroyed;return o||u?(t?t(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,n.nextTick(s,this,e)):n.nextTick(s,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!t&&e?r._writableState?r._writableState.errorEmitted?n.nextTick(a,r):(r._writableState.errorEmitted=!0,n.nextTick(i,r,e)):n.nextTick(i,r,e):t?(n.nextTick(a,r),t(e)):n.nextTick(a,r)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(e,t){var r=e._readableState,n=e._writableState;r&&r.autoDestroy||n&&n.autoDestroy?e.destroy(t):e.emit("error",t)}}},63640:(e,t,r)=>{"use strict";var n=r(66593).q.ERR_STREAM_PREMATURE_CLOSE;function i(){}e.exports=function e(t,r,a){if("function"==typeof r)return e(t,null,r);r||(r={}),a=function(e){var t=!1;return function(){if(!t){t=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];e.apply(this,n)}}}(a||i);var s=r.readable||!1!==r.readable&&t.readable,o=r.writable||!1!==r.writable&&t.writable,u=function(){t.writable||l()},c=t._writableState&&t._writableState.finished,l=function(){o=!1,c=!0,s||a.call(t)},h=t._readableState&&t._readableState.endEmitted,f=function(){s=!1,h=!0,o||a.call(t)},d=function(e){a.call(t,e)},p=function(){var e;return s&&!h?(t._readableState&&t._readableState.ended||(e=new n),a.call(t,e)):o&&!c?(t._writableState&&t._writableState.ended||(e=new n),a.call(t,e)):void 0},m=function(){t.req.on("finish",l)};return!function(e){return e.setHeader&&"function"==typeof e.abort}(t)?o&&!t._writableState&&(t.on("end",u),t.on("close",u)):(t.on("complete",l),t.on("abort",p),t.req?m():t.on("request",m)),t.on("end",f),t.on("finish",l),!1!==r.error&&t.on("error",d),t.on("close",p),function(){t.removeListener("complete",l),t.removeListener("abort",p),t.removeListener("request",m),t.req&&t.req.removeListener("finish",l),t.removeListener("end",u),t.removeListener("close",u),t.removeListener("finish",l),t.removeListener("end",f),t.removeListener("error",d),t.removeListener("close",p)}}},92267:e=>{e.exports=function(){throw new Error("Readable.from is not available in the browser")}},58995:(e,t,r)=>{"use strict";var n;var i=r(66593).q,a=i.ERR_MISSING_ARGS,s=i.ERR_STREAM_DESTROYED;function o(e){if(e)throw e}function u(e){e()}function c(e,t){return e.pipe(t)}e.exports=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var l,h=function(e){return e.length?"function"!=typeof e[e.length-1]?o:e.pop():o}(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new a("streams");var f=t.map((function(e,i){var a=i<t.length-1;return function(e,t,i,a){a=function(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}(a);var o=!1;e.on("close",(function(){o=!0})),void 0===n&&(n=r(63640)),n(e,{readable:t,writable:i},(function(e){if(e)return a(e);o=!0,a()}));var u=!1;return function(t){if(!o&&!u)return u=!0,function(e){return e.setHeader&&"function"==typeof e.abort}(e)?e.abort():"function"==typeof e.destroy?e.destroy():void a(t||new s("pipe"))}}(e,a,i>0,(function(e){l||(l=e),e&&f.forEach(u),a||(f.forEach(u),h(l))}))}));return t.reduce(c)}},56871:(e,t,r)=>{"use strict";var n=r(66593).q.ERR_INVALID_OPT_VALUE;e.exports={getHighWaterMark:function(e,t,r,i){var a=function(e,t,r){return null!=e.highWaterMark?e.highWaterMark:t?e[r]:null}(t,i,r);if(null!=a){if(!isFinite(a)||Math.floor(a)!==a||a<0)throw new n(i?r:"highWaterMark",a);return Math.floor(a)}return e.objectMode?16:16384}}},57915:(e,t,r)=>{e.exports=r(47324).EventEmitter},13114:(e,t,r)=>{(t=e.exports=r(46285)).Stream=t,t.Readable=t,t.Writable=r(42352),t.Duplex=r(56009),t.Transform=r(90016),t.PassThrough=r(68339),t.finished=r(63640),t.pipeline=r(58995)},84801:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.createFilter=d,t.createWhitelistFilter=function(e,t,r){return d(e,t,r,"whitelist")},t.createBlacklistFilter=function(e,t,r){return d(e,t,r,"blacklist")},t.persistFilter=m;var i=r(44602),a=f(r(56325)),s=f(r(49345)),o=f(r(72291)),u=f(r(86328)),c=f(r(38582)),l=f(r(56358)),h=f(r(80022));function f(e){return e&&e.__esModule?e:{default:e}}function d(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"whitelist";return(0,i.createTransform)((function(e,r){return t?m(e,t,n):e}),(function(e,t){return r?m(e,r,n):e}),{whitelist:[e]})}function p(e,t){var r=e.path,n=e.filterFunction,i=void 0===n?function(){return!0}:n,s=(0,a.default)(t,r,t);return s instanceof Array?s.filter(i):(0,u.default)(s,i)}function m(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"whitelist",i={};return"string"==typeof t&&(t=[t]),"whitelist"===r?t.forEach((function(t){if("object"!==(void 0===t?"undefined":n(t))||t instanceof Array){var r=(0,a.default)(e,t);void 0!==r&&(0,s.default)(i,t,r)}else{var o=p(t,e);(0,c.default)(o)||(0,s.default)(i,t.path,o)}})):"blacklist"===r?(i=(0,h.default)(e),t.forEach((function(t){if("object"!==(void 0===t?"undefined":n(t))||t instanceof Array){void 0!==(0,a.default)(e,t)&&(0,o.default)(i,t)}else{var r=p(t,e);(0,c.default)(r)?i=r:r instanceof Array?(0,s.default)(i,t.path,(0,a.default)(i,t.path,i).filter((function(e){return!1}))):(0,l.default)(r,(function(e,r){(0,o.default)(i,t.path+"["+r+"]")}))}}))):i=e,i}t.default=d},44602:(e,t,r)=>{"use strict";r.r(t),r.d(t,{DEFAULT_VERSION:()=>l,FLUSH:()=>i,KEY_PREFIX:()=>n,PAUSE:()=>s,PERSIST:()=>o,PURGE:()=>u,REGISTER:()=>c,REHYDRATE:()=>a,createMigrate:()=>$,createPersistoid:()=>m,createTransform:()=>U,getStoredState:()=>v,persistCombineReducers:()=>j,persistReducer:()=>O,persistStore:()=>L,purgeStoredState:()=>g});var n="persist:",i="persist/FLUSH",a="persist/REHYDRATE",s="persist/PAUSE",o="persist/PERSIST",u="persist/PURGE",c="persist/REGISTER",l=-1;function h(e){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h(e)}function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function d(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p(e,t,r,n){n.debug;var i=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(r,!0).forEach((function(t){d(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},r);return e&&"object"===h(e)&&Object.keys(e).forEach((function(n){"_persist"!==n&&t[n]===r[n]&&(i[n]=e[n])})),i}function m(e){var t,r=e.blacklist||null,i=e.whitelist||null,a=e.transforms||[],s=e.throttle||0,o="".concat(void 0!==e.keyPrefix?e.keyPrefix:n).concat(e.key),u=e.storage;t=!1===e.serialize?function(e){return e}:"function"==typeof e.serialize?e.serialize:b;var c=e.writeFailHandler||null,l={},h={},f=[],d=null,p=null;function m(){if(0===f.length)return d&&clearInterval(d),void(d=null);var e=f.shift(),r=a.reduce((function(t,r){return r.in(t,e,l)}),l[e]);if(void 0!==r)try{h[e]=t(r)}catch(e){console.error("redux-persist/createPersistoid: error serializing state",e)}else delete h[e];0===f.length&&(Object.keys(h).forEach((function(e){void 0===l[e]&&delete h[e]})),p=u.setItem(o,t(h)).catch(y))}function v(e){return(!i||-1!==i.indexOf(e)||"_persist"===e)&&(!r||-1===r.indexOf(e))}function y(e){c&&c(e)}return{update:function(e){Object.keys(e).forEach((function(t){v(t)&&l[t]!==e[t]&&-1===f.indexOf(t)&&f.push(t)})),Object.keys(l).forEach((function(t){void 0===e[t]&&v(t)&&-1===f.indexOf(t)&&void 0!==l[t]&&f.push(t)})),null===d&&(d=setInterval(m,s)),l=e},flush:function(){for(;0!==f.length;)m();return p||Promise.resolve()}}}function b(e){return JSON.stringify(e)}function v(e){var t,r=e.transforms||[],i="".concat(void 0!==e.keyPrefix?e.keyPrefix:n).concat(e.key),a=e.storage;e.debug;return t=!1===e.deserialize?function(e){return e}:"function"==typeof e.deserialize?e.deserialize:y,a.getItem(i).then((function(e){if(e)try{var n={},i=t(e);return Object.keys(i).forEach((function(e){n[e]=r.reduceRight((function(t,r){return r.out(t,e,i)}),t(i[e]))})),n}catch(e){throw e}}))}function y(e){return JSON.parse(e)}function g(e){var t=e.storage,r="".concat(void 0!==e.keyPrefix?e.keyPrefix:n).concat(e.key);return t.removeItem(r,w)}function w(e){0}function S(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?S(r,!0).forEach((function(t){A(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function A(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function k(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var E=5e3;function O(e,t){var r=void 0!==e.version?e.version:l,n=(e.debug,void 0===e.stateReconciler?p:e.stateReconciler),c=e.getStoredState||v,h=void 0!==e.timeout?e.timeout:E,f=null,d=!1,b=!0,y=function(e){return e._persist.rehydrated&&f&&!b&&f.update(e),e};return function(l,p){var v=l||{},w=v._persist,S=k(v,["_persist"]);if(p.type===o){var A=!1,E=function(t,r){A||(p.rehydrate(e.key,t,r),A=!0)};if(h&&setTimeout((function(){!A&&E(void 0,new Error('redux-persist: persist timed out for persist key "'.concat(e.key,'"')))}),h),b=!1,f||(f=m(e)),w)return _({},t(S,p),{_persist:w});if("function"!=typeof p.rehydrate||"function"!=typeof p.register)throw new Error("redux-persist: either rehydrate or register is not a function on the PERSIST action. This can happen if the action is being replayed. This is an unexplored use case, please open an issue and we will figure out a resolution.");return p.register(e.key),c(e).then((function(t){(e.migrate||function(e,t){return Promise.resolve(e)})(t,r).then((function(e){E(e)}),(function(e){E(void 0,e)}))}),(function(e){E(void 0,e)})),_({},t(S,p),{_persist:{version:r,rehydrated:!1}})}if(p.type===u)return d=!0,p.result(g(e)),_({},t(S,p),{_persist:w});if(p.type===i)return p.result(f&&f.flush()),_({},t(S,p),{_persist:w});if(p.type===s)b=!0;else if(p.type===a){if(d)return _({},S,{_persist:_({},w,{rehydrated:!0})});if(p.key===e.key){var O=t(S,p),C=p.payload,N=_({},!1!==n&&void 0!==C?n(C,l,O,e):O,{_persist:_({},w,{rehydrated:!0})});return y(N)}}if(!w)return t(l,p);var x=t(S,p);return x===S?l:y(_({},x,{_persist:w}))}}var C=r(82422);function N(e){return N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},N(e)}function x(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function P(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?x(r,!0).forEach((function(t){I(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function I(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function T(e,t,r,n){n.debug;var i=P({},r);return e&&"object"===N(e)&&Object.keys(e).forEach((function(n){var a;"_persist"!==n&&(t[n]===r[n]&&(null===(a=r[n])||Array.isArray(a)||"object"!==N(a)?i[n]=e[n]:i[n]=P({},i[n],{},e[n])))})),i}function j(e,t){return e.stateReconciler=void 0===e.stateReconciler?T:e.stateReconciler,O(e,(0,C.combineReducers)(t))}function V(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function B(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function D(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?B(r,!0).forEach((function(t){H(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):B(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function H(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var M={registry:[],bootstrapped:!1},R=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case c:return D({},e,{registry:[].concat(V(e.registry),[t.key])});case a:var r=e.registry.indexOf(t.key),n=V(e.registry);return n.splice(r,1),D({},e,{registry:n,bootstrapped:0===n.length});default:return e}};function L(e,t,r){var n=r||!1,l=(0,C.createStore)(R,M,t&&t.enhancer?t.enhancer:void 0),h=function(e){l.dispatch({type:c,key:e})},f=function(t,r,i){var s={type:a,payload:r,err:i,key:t};e.dispatch(s),l.dispatch(s),n&&d.getState().bootstrapped&&(n(),n=!1)},d=D({},l,{purge:function(){var t=[];return e.dispatch({type:u,result:function(e){t.push(e)}}),Promise.all(t)},flush:function(){var t=[];return e.dispatch({type:i,result:function(e){t.push(e)}}),Promise.all(t)},pause:function(){e.dispatch({type:s})},persist:function(){e.dispatch({type:o,register:h,rehydrate:f})}});return t&&t.manualPersist||d.persist(),d}function $(e,t){(t||{}).debug;return function(t,r){if(!t)return Promise.resolve(void 0);var n=t._persist&&void 0!==t._persist.version?t._persist.version:l;if(n===r)return Promise.resolve(t);if(n>r)return Promise.resolve(t);var i=Object.keys(e).map((function(e){return parseInt(e)})).filter((function(e){return r>=e&&e>n})).sort((function(e,t){return e-t}));try{var a=i.reduce((function(t,r){return e[r](t)}),t);return Promise.resolve(a)}catch(e){return Promise.reject(e)}}}function U(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.whitelist||null,i=r.blacklist||null;function a(e){return!(!n||-1!==n.indexOf(e))||!(!i||-1===i.indexOf(e))}return{in:function(t,r,n){return!a(r)&&e?e(t,r,n):t},out:function(e,r,n){return!a(r)&&t?t(e,r,n):e}}}},82422:(e,t,r)=>{"use strict";r.r(t),r.d(t,{__DO_NOT_USE__ActionTypes:()=>o,applyMiddleware:()=>p,bindActionCreators:()=>f,combineReducers:()=>l,compose:()=>d,createStore:()=>c});var n=r(83176);function i(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var a="function"==typeof Symbol&&Symbol.observable||"@@observable",s=function(){return Math.random().toString(36).substring(7).split("").join(".")},o={INIT:"@@redux/INIT"+s(),REPLACE:"@@redux/REPLACE"+s(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+s()}};function u(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function c(e,t,r){var n;if("function"==typeof t&&"function"==typeof r||"function"==typeof r&&"function"==typeof arguments[3])throw new Error(i(0));if("function"==typeof t&&void 0===r&&(r=t,t=void 0),void 0!==r){if("function"!=typeof r)throw new Error(i(1));return r(c)(e,t)}if("function"!=typeof e)throw new Error(i(2));var s=e,l=t,h=[],f=h,d=!1;function p(){f===h&&(f=h.slice())}function m(){if(d)throw new Error(i(3));return l}function b(e){if("function"!=typeof e)throw new Error(i(4));if(d)throw new Error(i(5));var t=!0;return p(),f.push(e),function(){if(t){if(d)throw new Error(i(6));t=!1,p();var r=f.indexOf(e);f.splice(r,1),h=null}}}function v(e){if(!u(e))throw new Error(i(7));if(void 0===e.type)throw new Error(i(8));if(d)throw new Error(i(9));try{d=!0,l=s(l,e)}finally{d=!1}for(var t=h=f,r=0;r<t.length;r++){(0,t[r])()}return e}return v({type:o.INIT}),(n={dispatch:v,subscribe:b,getState:m,replaceReducer:function(e){if("function"!=typeof e)throw new Error(i(10));s=e,v({type:o.REPLACE})}})[a]=function(){var e,t=b;return(e={subscribe:function(e){if("object"!=typeof e||null===e)throw new Error(i(11));function r(){e.next&&e.next(m())}return r(),{unsubscribe:t(r)}}})[a]=function(){return this},e},n}function l(e){for(var t=Object.keys(e),r={},n=0;n<t.length;n++){var a=t[n];0,"function"==typeof e[a]&&(r[a]=e[a])}var s,u=Object.keys(r);try{!function(e){Object.keys(e).forEach((function(t){var r=e[t];if(void 0===r(void 0,{type:o.INIT}))throw new Error(i(12));if(void 0===r(void 0,{type:o.PROBE_UNKNOWN_ACTION()}))throw new Error(i(13))}))}(r)}catch(e){s=e}return function(e,t){if(void 0===e&&(e={}),s)throw s;for(var n=!1,a={},o=0;o<u.length;o++){var c=u[o],l=r[c],h=e[c],f=l(h,t);if(void 0===f){t&&t.type;throw new Error(i(14))}a[c]=f,n=n||f!==h}return(n=n||u.length!==Object.keys(e).length)?a:e}}function h(e,t){return function(){return t(e.apply(this,arguments))}}function f(e,t){if("function"==typeof e)return h(e,t);if("object"!=typeof e||null===e)throw new Error(i(16));var r={};for(var n in e){var a=e[n];"function"==typeof a&&(r[n]=h(a,t))}return r}function d(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function p(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e){return function(){var r=e.apply(void 0,arguments),a=function(){throw new Error(i(15))},s={getState:r.getState,dispatch:function(){return a.apply(void 0,arguments)}},o=t.map((function(e){return e(s)}));return a=d.apply(void 0,o)(r.dispatch),(0,n.Z)((0,n.Z)({},r),{},{dispatch:a})}}}},60171:(e,t,r)=>{var n,i=r(73656);!function(e){!function(t){var n="object"==typeof r.g?r.g:"object"==typeof self?self:"object"==typeof this?this:Function("return this;")(),a=s(e);function s(e,t){return function(r,n){"function"!=typeof e[r]&&Object.defineProperty(e,r,{configurable:!0,writable:!0,value:n}),t&&t(r,n)}}void 0===n.Reflect?n.Reflect=e:a=s(n.Reflect,a),function(e){var t=Object.prototype.hasOwnProperty,r="function"==typeof Symbol,n=r&&void 0!==Symbol.toPrimitive?Symbol.toPrimitive:"@@toPrimitive",a=r&&void 0!==Symbol.iterator?Symbol.iterator:"@@iterator",s="function"==typeof Object.create,o={__proto__:[]}instanceof Array,u=!s&&!o,c={create:s?function(){return ie(Object.create(null))}:o?function(){return ie({__proto__:null})}:function(){return ie({})},has:u?function(e,r){return t.call(e,r)}:function(e,t){return t in e},get:u?function(e,r){return t.call(e,r)?e[r]:void 0}:function(e,t){return e[t]}},l=Object.getPrototypeOf(Function),h="object"==typeof i&&i.env&&"true"===i.env.REFLECT_METADATA_USE_MAP_POLYFILL,f=h||"function"!=typeof Map||"function"!=typeof Map.prototype.entries?te():Map,d=h||"function"!=typeof Set||"function"!=typeof Set.prototype.entries?re():Set,p=new(h||"function"!=typeof WeakMap?ne():WeakMap);function m(e,t,r,n){if(D(r)){if(!z(e))throw new TypeError;if(!q(t))throw new TypeError;return E(e,t)}if(!z(e))throw new TypeError;if(!R(t))throw new TypeError;if(!R(n)&&!D(n)&&!H(n))throw new TypeError;return H(n)&&(n=void 0),O(e,t,r=K(r),n)}function b(e,t){function r(r,n){if(!R(r))throw new TypeError;if(!D(n)&&!Z(n))throw new TypeError;T(e,t,r,n)}return r}function v(e,t,r,n){if(!R(r))throw new TypeError;return D(n)||(n=K(n)),T(e,t,r,n)}function y(e,t,r){if(!R(t))throw new TypeError;return D(r)||(r=K(r)),N(e,t,r)}function g(e,t,r){if(!R(t))throw new TypeError;return D(r)||(r=K(r)),x(e,t,r)}function w(e,t,r){if(!R(t))throw new TypeError;return D(r)||(r=K(r)),P(e,t,r)}function S(e,t,r){if(!R(t))throw new TypeError;return D(r)||(r=K(r)),I(e,t,r)}function _(e,t){if(!R(e))throw new TypeError;return D(t)||(t=K(t)),j(e,t)}function A(e,t){if(!R(e))throw new TypeError;return D(t)||(t=K(t)),V(e,t)}function k(e,t,r){if(!R(t))throw new TypeError;D(r)||(r=K(r));var n=C(t,r,!1);if(D(n))return!1;if(!n.delete(e))return!1;if(n.size>0)return!0;var i=p.get(t);return i.delete(r),i.size>0||p.delete(t),!0}function E(e,t){for(var r=e.length-1;r>=0;--r){var n=(0,e[r])(t);if(!D(n)&&!H(n)){if(!q(n))throw new TypeError;t=n}}return t}function O(e,t,r,n){for(var i=e.length-1;i>=0;--i){var a=(0,e[i])(t,r,n);if(!D(a)&&!H(a)){if(!R(a))throw new TypeError;n=a}}return n}function C(e,t,r){var n=p.get(e);if(D(n)){if(!r)return;n=new f,p.set(e,n)}var i=n.get(t);if(D(i)){if(!r)return;i=new f,n.set(t,i)}return i}function N(e,t,r){if(x(e,t,r))return!0;var n=ee(t);return!H(n)&&N(e,n,r)}function x(e,t,r){var n=C(t,r,!1);return!D(n)&&U(n.has(e))}function P(e,t,r){if(x(e,t,r))return I(e,t,r);var n=ee(t);return H(n)?void 0:P(e,n,r)}function I(e,t,r){var n=C(t,r,!1);if(!D(n))return n.get(e)}function T(e,t,r,n){C(r,n,!0).set(e,t)}function j(e,t){var r=V(e,t),n=ee(e);if(null===n)return r;var i=j(n,t);if(i.length<=0)return r;if(r.length<=0)return i;for(var a=new d,s=[],o=0,u=r;o<u.length;o++){var c=u[o];a.has(c)||(a.add(c),s.push(c))}for(var l=0,h=i;l<h.length;l++){c=h[l];a.has(c)||(a.add(c),s.push(c))}return s}function V(e,t){var r=[],n=C(e,t,!1);if(D(n))return r;for(var i=G(n.keys()),a=0;;){var s=X(i);if(!s)return r.length=a,r;var o=Y(s);try{r[a]=o}catch(e){try{Q(i)}finally{throw e}}a++}}function B(e){if(null===e)return 1;switch(typeof e){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return null===e?1:6;default:return 6}}function D(e){return void 0===e}function H(e){return null===e}function M(e){return"symbol"==typeof e}function R(e){return"object"==typeof e?null!==e:"function"==typeof e}function L(e,t){switch(B(e)){case 0:case 1:case 2:case 3:case 4:case 5:return e}var r=3===t?"string":5===t?"number":"default",i=J(e,n);if(void 0!==i){var a=i.call(e,r);if(R(a))throw new TypeError;return a}return $(e,"default"===r?"number":r)}function $(e,t){if("string"===t){var r=e.toString;if(W(r))if(!R(i=r.call(e)))return i;if(W(n=e.valueOf))if(!R(i=n.call(e)))return i}else{var n;if(W(n=e.valueOf))if(!R(i=n.call(e)))return i;var i,a=e.toString;if(W(a))if(!R(i=a.call(e)))return i}throw new TypeError}function U(e){return!!e}function F(e){return""+e}function K(e){var t=L(e,3);return M(t)?t:F(t)}function z(e){return Array.isArray?Array.isArray(e):e instanceof Object?e instanceof Array:"[object Array]"===Object.prototype.toString.call(e)}function W(e){return"function"==typeof e}function q(e){return"function"==typeof e}function Z(e){switch(B(e)){case 3:case 4:return!0;default:return!1}}function J(e,t){var r=e[t];if(null!=r){if(!W(r))throw new TypeError;return r}}function G(e){var t=J(e,a);if(!W(t))throw new TypeError;var r=t.call(e);if(!R(r))throw new TypeError;return r}function Y(e){return e.value}function X(e){var t=e.next();return!t.done&&t}function Q(e){var t=e.return;t&&t.call(e)}function ee(e){var t=Object.getPrototypeOf(e);if("function"!=typeof e||e===l)return t;if(t!==l)return t;var r=e.prototype,n=r&&Object.getPrototypeOf(r);if(null==n||n===Object.prototype)return t;var i=n.constructor;return"function"!=typeof i||i===e?t:i}function te(){var e={},t=[],r=function(){function e(e,t,r){this._index=0,this._keys=e,this._values=t,this._selector=r}return e.prototype["@@iterator"]=function(){return this},e.prototype[a]=function(){return this},e.prototype.next=function(){var e=this._index;if(e>=0&&e<this._keys.length){var r=this._selector(this._keys[e],this._values[e]);return e+1>=this._keys.length?(this._index=-1,this._keys=t,this._values=t):this._index++,{value:r,done:!1}}return{value:void 0,done:!0}},e.prototype.throw=function(e){throw this._index>=0&&(this._index=-1,this._keys=t,this._values=t),e},e.prototype.return=function(e){return this._index>=0&&(this._index=-1,this._keys=t,this._values=t),{value:e,done:!0}},e}();return function(){function t(){this._keys=[],this._values=[],this._cacheKey=e,this._cacheIndex=-2}return Object.defineProperty(t.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),t.prototype.has=function(e){return this._find(e,!1)>=0},t.prototype.get=function(e){var t=this._find(e,!1);return t>=0?this._values[t]:void 0},t.prototype.set=function(e,t){var r=this._find(e,!0);return this._values[r]=t,this},t.prototype.delete=function(t){var r=this._find(t,!1);if(r>=0){for(var n=this._keys.length,i=r+1;i<n;i++)this._keys[i-1]=this._keys[i],this._values[i-1]=this._values[i];return this._keys.length--,this._values.length--,t===this._cacheKey&&(this._cacheKey=e,this._cacheIndex=-2),!0}return!1},t.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=e,this._cacheIndex=-2},t.prototype.keys=function(){return new r(this._keys,this._values,n)},t.prototype.values=function(){return new r(this._keys,this._values,i)},t.prototype.entries=function(){return new r(this._keys,this._values,s)},t.prototype["@@iterator"]=function(){return this.entries()},t.prototype[a]=function(){return this.entries()},t.prototype._find=function(e,t){return this._cacheKey!==e&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=e)),this._cacheIndex<0&&t&&(this._cacheIndex=this._keys.length,this._keys.push(e),this._values.push(void 0)),this._cacheIndex},t}();function n(e,t){return e}function i(e,t){return t}function s(e,t){return[e,t]}}function re(){return function(){function e(){this._map=new f}return Object.defineProperty(e.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),e.prototype.has=function(e){return this._map.has(e)},e.prototype.add=function(e){return this._map.set(e,e),this},e.prototype.delete=function(e){return this._map.delete(e)},e.prototype.clear=function(){this._map.clear()},e.prototype.keys=function(){return this._map.keys()},e.prototype.values=function(){return this._map.values()},e.prototype.entries=function(){return this._map.entries()},e.prototype["@@iterator"]=function(){return this.keys()},e.prototype[a]=function(){return this.keys()},e}()}function ne(){var e=16,r=c.create(),n=i();return function(){function e(){this._key=i()}return e.prototype.has=function(e){var t=a(e,!1);return void 0!==t&&c.has(t,this._key)},e.prototype.get=function(e){var t=a(e,!1);return void 0!==t?c.get(t,this._key):void 0},e.prototype.set=function(e,t){return a(e,!0)[this._key]=t,this},e.prototype.delete=function(e){var t=a(e,!1);return void 0!==t&&delete t[this._key]},e.prototype.clear=function(){this._key=i()},e}();function i(){var e;do{e="@@WeakMap@@"+u()}while(c.has(r,e));return r[e]=!0,e}function a(e,r){if(!t.call(e,n)){if(!r)return;Object.defineProperty(e,n,{value:c.create()})}return e[n]}function s(e,t){for(var r=0;r<t;++r)e[r]=255*Math.random()|0;return e}function o(e){return"function"==typeof Uint8Array?"undefined"!=typeof crypto?crypto.getRandomValues(new Uint8Array(e)):"undefined"!=typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(e)):s(new Uint8Array(e),e):s(new Array(e),e)}function u(){var t=o(e);t[6]=79&t[6]|64,t[8]=191&t[8]|128;for(var r="",n=0;n<e;++n){var i=t[n];4!==n&&6!==n&&8!==n||(r+="-"),i<16&&(r+="0"),r+=i.toString(16).toLowerCase()}return r}}function ie(e){return e.__=void 0,delete e.__,e}e("decorate",m),e("metadata",b),e("defineMetadata",v),e("hasMetadata",y),e("hasOwnMetadata",g),e("getMetadata",w),e("getOwnMetadata",S),e("getMetadataKeys",_),e("getOwnMetadataKeys",A),e("deleteMetadata",k)}(a)}()}(n||(n={}))},32034:(e,t,r)=>{"use strict";function n(e,t){return e===t}function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n,r=null,i=null;return function(){return function(e,t,r){if(null===t||null===r||t.length!==r.length)return!1;for(var n=t.length,i=0;i<n;i++)if(!e(t[i],r[i]))return!1;return!0}(t,r,arguments)||(i=e.apply(null,arguments)),r=arguments,i}}function a(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return function(){for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];var a=0,s=n.pop(),o=function(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every((function(e){return"function"==typeof e}))){var r=t.map((function(e){return typeof e})).join(", ");throw new Error("Selector creators expect all input-selectors to be functions, instead received the following types: ["+r+"]")}return t}(n),u=e.apply(void 0,[function(){return a++,s.apply(null,arguments)}].concat(r)),c=e((function(){for(var e=[],t=o.length,r=0;r<t;r++)e.push(o[r].apply(null,arguments));return u.apply(null,e)}));return c.resultFunc=s,c.dependencies=o,c.recomputations=function(){return a},c.resetRecomputations=function(){return a=0},c}}r.r(t),r.d(t,{createSelector:()=>s,createSelectorCreator:()=>a,createStructuredSelector:()=>o,defaultMemoize:()=>i});var s=a(i);function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s;if("object"!=typeof e)throw new Error("createStructuredSelector expects first argument to be an object where each property is a selector, instead received a "+typeof e);var r=Object.keys(e);return t(r.map((function(t){return e[t]})),(function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t,n){return e[r[n]]=t,e}),{})}))}},22016:(e,t,r)=>{"use strict";var n=r(15313).Buffer,i=r(67483),a=r(62585),s=new Array(16),o=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],u=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],c=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],l=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],h=[0,1518500249,1859775393,2400959708,2840853838],f=[1352829926,1548603684,1836072691,2053994217,0];function d(){a.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function p(e,t){return e<<t|e>>>32-t}function m(e,t,r,n,i,a,s,o){return p(e+(t^r^n)+a+s|0,o)+i|0}function b(e,t,r,n,i,a,s,o){return p(e+(t&r|~t&n)+a+s|0,o)+i|0}function v(e,t,r,n,i,a,s,o){return p(e+((t|~r)^n)+a+s|0,o)+i|0}function y(e,t,r,n,i,a,s,o){return p(e+(t&n|r&~n)+a+s|0,o)+i|0}function g(e,t,r,n,i,a,s,o){return p(e+(t^(r|~n))+a+s|0,o)+i|0}i(d,a),d.prototype._update=function(){for(var e=s,t=0;t<16;++t)e[t]=this._block.readInt32LE(4*t);for(var r=0|this._a,n=0|this._b,i=0|this._c,a=0|this._d,d=0|this._e,w=0|this._a,S=0|this._b,_=0|this._c,A=0|this._d,k=0|this._e,E=0;E<80;E+=1){var O,C;E<16?(O=m(r,n,i,a,d,e[o[E]],h[0],c[E]),C=g(w,S,_,A,k,e[u[E]],f[0],l[E])):E<32?(O=b(r,n,i,a,d,e[o[E]],h[1],c[E]),C=y(w,S,_,A,k,e[u[E]],f[1],l[E])):E<48?(O=v(r,n,i,a,d,e[o[E]],h[2],c[E]),C=v(w,S,_,A,k,e[u[E]],f[2],l[E])):E<64?(O=y(r,n,i,a,d,e[o[E]],h[3],c[E]),C=b(w,S,_,A,k,e[u[E]],f[3],l[E])):(O=g(r,n,i,a,d,e[o[E]],h[4],c[E]),C=m(w,S,_,A,k,e[u[E]],f[4],l[E])),r=d,d=a,a=p(i,10),i=n,n=O,w=k,k=A,A=p(_,10),_=S,S=C}var N=this._b+i+A|0;this._b=this._c+a+k|0,this._c=this._d+d+w|0,this._d=this._e+r+S|0,this._e=this._a+n+_|0,this._a=N},d.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var e=n.alloc?n.alloc(20):new n(20);return e.writeInt32LE(this._a,0),e.writeInt32LE(this._b,4),e.writeInt32LE(this._c,8),e.writeInt32LE(this._d,12),e.writeInt32LE(this._e,16),e},e.exports=d},18948:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),t.interval=t.iif=t.generate=t.fromEventPattern=t.fromEvent=t.from=t.forkJoin=t.empty=t.defer=t.connectable=t.concat=t.combineLatest=t.bindNodeCallback=t.bindCallback=t.UnsubscriptionError=t.TimeoutError=t.SequenceError=t.ObjectUnsubscribedError=t.NotFoundError=t.EmptyError=t.ArgumentOutOfRangeError=t.firstValueFrom=t.lastValueFrom=t.isObservable=t.identity=t.noop=t.pipe=t.NotificationKind=t.Notification=t.Subscriber=t.Subscription=t.Scheduler=t.VirtualAction=t.VirtualTimeScheduler=t.animationFrameScheduler=t.animationFrame=t.queueScheduler=t.queue=t.asyncScheduler=t.async=t.asapScheduler=t.asap=t.AsyncSubject=t.ReplaySubject=t.BehaviorSubject=t.Subject=t.animationFrames=t.observable=t.ConnectableObservable=t.Observable=void 0,t.filter=t.expand=t.exhaustMap=t.exhaustAll=t.exhaust=t.every=t.endWith=t.elementAt=t.distinctUntilKeyChanged=t.distinctUntilChanged=t.distinct=t.dematerialize=t.delayWhen=t.delay=t.defaultIfEmpty=t.debounceTime=t.debounce=t.count=t.connect=t.concatWith=t.concatMapTo=t.concatMap=t.concatAll=t.combineLatestWith=t.combineLatestAll=t.combineAll=t.catchError=t.bufferWhen=t.bufferToggle=t.bufferTime=t.bufferCount=t.buffer=t.auditTime=t.audit=t.config=t.NEVER=t.EMPTY=t.scheduled=t.zip=t.using=t.timer=t.throwError=t.range=t.race=t.partition=t.pairs=t.onErrorResumeNext=t.of=t.never=t.merge=void 0,t.switchMapTo=t.switchMap=t.switchAll=t.subscribeOn=t.startWith=t.skipWhile=t.skipUntil=t.skipLast=t.skip=t.single=t.shareReplay=t.share=t.sequenceEqual=t.scan=t.sampleTime=t.sample=t.refCount=t.retryWhen=t.retry=t.repeatWhen=t.repeat=t.reduce=t.raceWith=t.publishReplay=t.publishLast=t.publishBehavior=t.publish=t.pluck=t.pairwise=t.observeOn=t.multicast=t.min=t.mergeWith=t.mergeScan=t.mergeMapTo=t.mergeMap=t.flatMap=t.mergeAll=t.max=t.materialize=t.mapTo=t.map=t.last=t.isEmpty=t.ignoreElements=t.groupBy=t.first=t.findIndex=t.find=t.finalize=void 0,t.zipWith=t.zipAll=t.withLatestFrom=t.windowWhen=t.windowToggle=t.windowTime=t.windowCount=t.window=t.toArray=t.timestamp=t.timeoutWith=t.timeout=t.timeInterval=t.throwIfEmpty=t.throttleTime=t.throttle=t.tap=t.takeWhile=t.takeUntil=t.takeLast=t.take=t.switchScan=void 0;var a=r(57690);Object.defineProperty(t,"Observable",{enumerable:!0,get:function(){return a.Observable}});var s=r(43579);Object.defineProperty(t,"ConnectableObservable",{enumerable:!0,get:function(){return s.ConnectableObservable}});var o=r(59776);Object.defineProperty(t,"observable",{enumerable:!0,get:function(){return o.observable}});var u=r(37160);Object.defineProperty(t,"animationFrames",{enumerable:!0,get:function(){return u.animationFrames}});var c=r(24420);Object.defineProperty(t,"Subject",{enumerable:!0,get:function(){return c.Subject}});var l=r(62145);Object.defineProperty(t,"BehaviorSubject",{enumerable:!0,get:function(){return l.BehaviorSubject}});var h=r(68291);Object.defineProperty(t,"ReplaySubject",{enumerable:!0,get:function(){return h.ReplaySubject}});var f=r(49937);Object.defineProperty(t,"AsyncSubject",{enumerable:!0,get:function(){return f.AsyncSubject}});var d=r(7287);Object.defineProperty(t,"asap",{enumerable:!0,get:function(){return d.asap}}),Object.defineProperty(t,"asapScheduler",{enumerable:!0,get:function(){return d.asapScheduler}});var p=r(75677);Object.defineProperty(t,"async",{enumerable:!0,get:function(){return p.async}}),Object.defineProperty(t,"asyncScheduler",{enumerable:!0,get:function(){return p.asyncScheduler}});var m=r(20178);Object.defineProperty(t,"queue",{enumerable:!0,get:function(){return m.queue}}),Object.defineProperty(t,"queueScheduler",{enumerable:!0,get:function(){return m.queueScheduler}});var b=r(19892);Object.defineProperty(t,"animationFrame",{enumerable:!0,get:function(){return b.animationFrame}}),Object.defineProperty(t,"animationFrameScheduler",{enumerable:!0,get:function(){return b.animationFrameScheduler}});var v=r(63457);Object.defineProperty(t,"VirtualTimeScheduler",{enumerable:!0,get:function(){return v.VirtualTimeScheduler}}),Object.defineProperty(t,"VirtualAction",{enumerable:!0,get:function(){return v.VirtualAction}});var y=r(60197);Object.defineProperty(t,"Scheduler",{enumerable:!0,get:function(){return y.Scheduler}});var g=r(28283);Object.defineProperty(t,"Subscription",{enumerable:!0,get:function(){return g.Subscription}});var w=r(12876);Object.defineProperty(t,"Subscriber",{enumerable:!0,get:function(){return w.Subscriber}});var S=r(63957);Object.defineProperty(t,"Notification",{enumerable:!0,get:function(){return S.Notification}}),Object.defineProperty(t,"NotificationKind",{enumerable:!0,get:function(){return S.NotificationKind}});var _=r(30917);Object.defineProperty(t,"pipe",{enumerable:!0,get:function(){return _.pipe}});var A=r(33287);Object.defineProperty(t,"noop",{enumerable:!0,get:function(){return A.noop}});var k=r(10401);Object.defineProperty(t,"identity",{enumerable:!0,get:function(){return k.identity}});var E=r(65107);Object.defineProperty(t,"isObservable",{enumerable:!0,get:function(){return E.isObservable}});var O=r(39019);Object.defineProperty(t,"lastValueFrom",{enumerable:!0,get:function(){return O.lastValueFrom}});var C=r(57336);Object.defineProperty(t,"firstValueFrom",{enumerable:!0,get:function(){return C.firstValueFrom}});var N=r(63022);Object.defineProperty(t,"ArgumentOutOfRangeError",{enumerable:!0,get:function(){return N.ArgumentOutOfRangeError}});var x=r(93826);Object.defineProperty(t,"EmptyError",{enumerable:!0,get:function(){return x.EmptyError}});var P=r(68454);Object.defineProperty(t,"NotFoundError",{enumerable:!0,get:function(){return P.NotFoundError}});var I=r(8270);Object.defineProperty(t,"ObjectUnsubscribedError",{enumerable:!0,get:function(){return I.ObjectUnsubscribedError}});var T=r(13735);Object.defineProperty(t,"SequenceError",{enumerable:!0,get:function(){return T.SequenceError}});var j=r(69071);Object.defineProperty(t,"TimeoutError",{enumerable:!0,get:function(){return j.TimeoutError}});var V=r(44095);Object.defineProperty(t,"UnsubscriptionError",{enumerable:!0,get:function(){return V.UnsubscriptionError}});var B=r(48804);Object.defineProperty(t,"bindCallback",{enumerable:!0,get:function(){return B.bindCallback}});var D=r(89025);Object.defineProperty(t,"bindNodeCallback",{enumerable:!0,get:function(){return D.bindNodeCallback}});var H=r(71791);Object.defineProperty(t,"combineLatest",{enumerable:!0,get:function(){return H.combineLatest}});var M=r(83271);Object.defineProperty(t,"concat",{enumerable:!0,get:function(){return M.concat}});var R=r(78482);Object.defineProperty(t,"connectable",{enumerable:!0,get:function(){return R.connectable}});var L=r(89871);Object.defineProperty(t,"defer",{enumerable:!0,get:function(){return L.defer}});var $=r(59591);Object.defineProperty(t,"empty",{enumerable:!0,get:function(){return $.empty}});var U=r(26223);Object.defineProperty(t,"forkJoin",{enumerable:!0,get:function(){return U.forkJoin}});var F=r(95047);Object.defineProperty(t,"from",{enumerable:!0,get:function(){return F.from}});var K=r(39601);Object.defineProperty(t,"fromEvent",{enumerable:!0,get:function(){return K.fromEvent}});var z=r(49314);Object.defineProperty(t,"fromEventPattern",{enumerable:!0,get:function(){return z.fromEventPattern}});var W=r(56219);Object.defineProperty(t,"generate",{enumerable:!0,get:function(){return W.generate}});var q=r(50288);Object.defineProperty(t,"iif",{enumerable:!0,get:function(){return q.iif}});var Z=r(93920);Object.defineProperty(t,"interval",{enumerable:!0,get:function(){return Z.interval}});var J=r(19569);Object.defineProperty(t,"merge",{enumerable:!0,get:function(){return J.merge}});var G=r(11326);Object.defineProperty(t,"never",{enumerable:!0,get:function(){return G.never}});var Y=r(73498);Object.defineProperty(t,"of",{enumerable:!0,get:function(){return Y.of}});var X=r(64581);Object.defineProperty(t,"onErrorResumeNext",{enumerable:!0,get:function(){return X.onErrorResumeNext}});var Q=r(56691);Object.defineProperty(t,"pairs",{enumerable:!0,get:function(){return Q.pairs}});var ee=r(51239);Object.defineProperty(t,"partition",{enumerable:!0,get:function(){return ee.partition}});var te=r(98479);Object.defineProperty(t,"race",{enumerable:!0,get:function(){return te.race}});var re=r(43816);Object.defineProperty(t,"range",{enumerable:!0,get:function(){return re.range}});var ne=r(1105);Object.defineProperty(t,"throwError",{enumerable:!0,get:function(){return ne.throwError}});var ie=r(36924);Object.defineProperty(t,"timer",{enumerable:!0,get:function(){return ie.timer}});var ae=r(97753);Object.defineProperty(t,"using",{enumerable:!0,get:function(){return ae.using}});var se=r(12104);Object.defineProperty(t,"zip",{enumerable:!0,get:function(){return se.zip}});var oe=r(12392);Object.defineProperty(t,"scheduled",{enumerable:!0,get:function(){return oe.scheduled}});var ue=r(59591);Object.defineProperty(t,"EMPTY",{enumerable:!0,get:function(){return ue.EMPTY}});var ce=r(11326);Object.defineProperty(t,"NEVER",{enumerable:!0,get:function(){return ce.NEVER}}),i(r(10093),t);var le=r(21716);Object.defineProperty(t,"config",{enumerable:!0,get:function(){return le.config}});var he=r(10985);Object.defineProperty(t,"audit",{enumerable:!0,get:function(){return he.audit}});var fe=r(41245);Object.defineProperty(t,"auditTime",{enumerable:!0,get:function(){return fe.auditTime}});var de=r(46487);Object.defineProperty(t,"buffer",{enumerable:!0,get:function(){return de.buffer}});var pe=r(5477);Object.defineProperty(t,"bufferCount",{enumerable:!0,get:function(){return pe.bufferCount}});var me=r(18941);Object.defineProperty(t,"bufferTime",{enumerable:!0,get:function(){return me.bufferTime}});var be=r(70757);Object.defineProperty(t,"bufferToggle",{enumerable:!0,get:function(){return be.bufferToggle}});var ve=r(29861);Object.defineProperty(t,"bufferWhen",{enumerable:!0,get:function(){return ve.bufferWhen}});var ye=r(11350);Object.defineProperty(t,"catchError",{enumerable:!0,get:function(){return ye.catchError}});var ge=r(17457);Object.defineProperty(t,"combineAll",{enumerable:!0,get:function(){return ge.combineAll}});var we=r(52668);Object.defineProperty(t,"combineLatestAll",{enumerable:!0,get:function(){return we.combineLatestAll}});var Se=r(44917);Object.defineProperty(t,"combineLatestWith",{enumerable:!0,get:function(){return Se.combineLatestWith}});var _e=r(46330);Object.defineProperty(t,"concatAll",{enumerable:!0,get:function(){return _e.concatAll}});var Ae=r(97096);Object.defineProperty(t,"concatMap",{enumerable:!0,get:function(){return Ae.concatMap}});var ke=r(14398);Object.defineProperty(t,"concatMapTo",{enumerable:!0,get:function(){return ke.concatMapTo}});var Ee=r(34857);Object.defineProperty(t,"concatWith",{enumerable:!0,get:function(){return Ee.concatWith}});var Oe=r(8891);Object.defineProperty(t,"connect",{enumerable:!0,get:function(){return Oe.connect}});var Ce=r(17705);Object.defineProperty(t,"count",{enumerable:!0,get:function(){return Ce.count}});var Ne=r(41468);Object.defineProperty(t,"debounce",{enumerable:!0,get:function(){return Ne.debounce}});var xe=r(79915);Object.defineProperty(t,"debounceTime",{enumerable:!0,get:function(){return xe.debounceTime}});var Pe=r(43058);Object.defineProperty(t,"defaultIfEmpty",{enumerable:!0,get:function(){return Pe.defaultIfEmpty}});var Ie=r(437);Object.defineProperty(t,"delay",{enumerable:!0,get:function(){return Ie.delay}});var Te=r(11816);Object.defineProperty(t,"delayWhen",{enumerable:!0,get:function(){return Te.delayWhen}});var je=r(91593);Object.defineProperty(t,"dematerialize",{enumerable:!0,get:function(){return je.dematerialize}});var Ve=r(16801);Object.defineProperty(t,"distinct",{enumerable:!0,get:function(){return Ve.distinct}});var Be=r(55610);Object.defineProperty(t,"distinctUntilChanged",{enumerable:!0,get:function(){return Be.distinctUntilChanged}});var De=r(66896);Object.defineProperty(t,"distinctUntilKeyChanged",{enumerable:!0,get:function(){return De.distinctUntilKeyChanged}});var He=r(33703);Object.defineProperty(t,"elementAt",{enumerable:!0,get:function(){return He.elementAt}});var Me=r(8806);Object.defineProperty(t,"endWith",{enumerable:!0,get:function(){return Me.endWith}});var Re=r(79770);Object.defineProperty(t,"every",{enumerable:!0,get:function(){return Re.every}});var Le=r(46910);Object.defineProperty(t,"exhaust",{enumerable:!0,get:function(){return Le.exhaust}});var $e=r(19597);Object.defineProperty(t,"exhaustAll",{enumerable:!0,get:function(){return $e.exhaustAll}});var Ue=r(93546);Object.defineProperty(t,"exhaustMap",{enumerable:!0,get:function(){return Ue.exhaustMap}});var Fe=r(45038);Object.defineProperty(t,"expand",{enumerable:!0,get:function(){return Fe.expand}});var Ke=r(3544);Object.defineProperty(t,"filter",{enumerable:!0,get:function(){return Ke.filter}});var ze=r(86822);Object.defineProperty(t,"finalize",{enumerable:!0,get:function(){return ze.finalize}});var We=r(75885);Object.defineProperty(t,"find",{enumerable:!0,get:function(){return We.find}});var qe=r(2037);Object.defineProperty(t,"findIndex",{enumerable:!0,get:function(){return qe.findIndex}});var Ze=r(61440);Object.defineProperty(t,"first",{enumerable:!0,get:function(){return Ze.first}});var Je=r(71621);Object.defineProperty(t,"groupBy",{enumerable:!0,get:function(){return Je.groupBy}});var Ge=r(75280);Object.defineProperty(t,"ignoreElements",{enumerable:!0,get:function(){return Ge.ignoreElements}});var Ye=r(54008);Object.defineProperty(t,"isEmpty",{enumerable:!0,get:function(){return Ye.isEmpty}});var Xe=r(11857);Object.defineProperty(t,"last",{enumerable:!0,get:function(){return Xe.last}});var Qe=r(55614);Object.defineProperty(t,"map",{enumerable:!0,get:function(){return Qe.map}});var et=r(57386);Object.defineProperty(t,"mapTo",{enumerable:!0,get:function(){return et.mapTo}});var tt=r(83030);Object.defineProperty(t,"materialize",{enumerable:!0,get:function(){return tt.materialize}});var rt=r(21289);Object.defineProperty(t,"max",{enumerable:!0,get:function(){return rt.max}});var nt=r(13081);Object.defineProperty(t,"mergeAll",{enumerable:!0,get:function(){return nt.mergeAll}});var it=r(24884);Object.defineProperty(t,"flatMap",{enumerable:!0,get:function(){return it.flatMap}});var at=r(20431);Object.defineProperty(t,"mergeMap",{enumerable:!0,get:function(){return at.mergeMap}});var st=r(94464);Object.defineProperty(t,"mergeMapTo",{enumerable:!0,get:function(){return st.mergeMapTo}});var ot=r(64583);Object.defineProperty(t,"mergeScan",{enumerable:!0,get:function(){return ot.mergeScan}});var ut=r(55780);Object.defineProperty(t,"mergeWith",{enumerable:!0,get:function(){return ut.mergeWith}});var ct=r(97934);Object.defineProperty(t,"min",{enumerable:!0,get:function(){return ct.min}});var lt=r(22406);Object.defineProperty(t,"multicast",{enumerable:!0,get:function(){return lt.multicast}});var ht=r(9827);Object.defineProperty(t,"observeOn",{enumerable:!0,get:function(){return ht.observeOn}});var ft=r(37428);Object.defineProperty(t,"pairwise",{enumerable:!0,get:function(){return ft.pairwise}});var dt=r(82974);Object.defineProperty(t,"pluck",{enumerable:!0,get:function(){return dt.pluck}});var pt=r(7714);Object.defineProperty(t,"publish",{enumerable:!0,get:function(){return pt.publish}});var mt=r(93657);Object.defineProperty(t,"publishBehavior",{enumerable:!0,get:function(){return mt.publishBehavior}});var bt=r(63216);Object.defineProperty(t,"publishLast",{enumerable:!0,get:function(){return bt.publishLast}});var vt=r(63473);Object.defineProperty(t,"publishReplay",{enumerable:!0,get:function(){return vt.publishReplay}});var yt=r(51698);Object.defineProperty(t,"raceWith",{enumerable:!0,get:function(){return yt.raceWith}});var gt=r(19220);Object.defineProperty(t,"reduce",{enumerable:!0,get:function(){return gt.reduce}});var wt=r(61711);Object.defineProperty(t,"repeat",{enumerable:!0,get:function(){return wt.repeat}});var St=r(28079);Object.defineProperty(t,"repeatWhen",{enumerable:!0,get:function(){return St.repeatWhen}});var _t=r(88174);Object.defineProperty(t,"retry",{enumerable:!0,get:function(){return _t.retry}});var At=r(1372);Object.defineProperty(t,"retryWhen",{enumerable:!0,get:function(){return At.retryWhen}});var kt=r(71808);Object.defineProperty(t,"refCount",{enumerable:!0,get:function(){return kt.refCount}});var Et=r(37117);Object.defineProperty(t,"sample",{enumerable:!0,get:function(){return Et.sample}});var Ot=r(91637);Object.defineProperty(t,"sampleTime",{enumerable:!0,get:function(){return Ot.sampleTime}});var Ct=r(58608);Object.defineProperty(t,"scan",{enumerable:!0,get:function(){return Ct.scan}});var Nt=r(890);Object.defineProperty(t,"sequenceEqual",{enumerable:!0,get:function(){return Nt.sequenceEqual}});var xt=r(74467);Object.defineProperty(t,"share",{enumerable:!0,get:function(){return xt.share}});var Pt=r(69824);Object.defineProperty(t,"shareReplay",{enumerable:!0,get:function(){return Pt.shareReplay}});var It=r(32920);Object.defineProperty(t,"single",{enumerable:!0,get:function(){return It.single}});var Tt=r(55790);Object.defineProperty(t,"skip",{enumerable:!0,get:function(){return Tt.skip}});var jt=r(62081);Object.defineProperty(t,"skipLast",{enumerable:!0,get:function(){return jt.skipLast}});var Vt=r(66104);Object.defineProperty(t,"skipUntil",{enumerable:!0,get:function(){return Vt.skipUntil}});var Bt=r(57309);Object.defineProperty(t,"skipWhile",{enumerable:!0,get:function(){return Bt.skipWhile}});var Dt=r(89587);Object.defineProperty(t,"startWith",{enumerable:!0,get:function(){return Dt.startWith}});var Ht=r(21860);Object.defineProperty(t,"subscribeOn",{enumerable:!0,get:function(){return Ht.subscribeOn}});var Mt=r(79398);Object.defineProperty(t,"switchAll",{enumerable:!0,get:function(){return Mt.switchAll}});var Rt=r(44097);Object.defineProperty(t,"switchMap",{enumerable:!0,get:function(){return Rt.switchMap}});var Lt=r(9694);Object.defineProperty(t,"switchMapTo",{enumerable:!0,get:function(){return Lt.switchMapTo}});var $t=r(88818);Object.defineProperty(t,"switchScan",{enumerable:!0,get:function(){return $t.switchScan}});var Ut=r(59154);Object.defineProperty(t,"take",{enumerable:!0,get:function(){return Ut.take}});var Ft=r(49842);Object.defineProperty(t,"takeLast",{enumerable:!0,get:function(){return Ft.takeLast}});var Kt=r(68341);Object.defineProperty(t,"takeUntil",{enumerable:!0,get:function(){return Kt.takeUntil}});var zt=r(20555);Object.defineProperty(t,"takeWhile",{enumerable:!0,get:function(){return zt.takeWhile}});var Wt=r(83073);Object.defineProperty(t,"tap",{enumerable:!0,get:function(){return Wt.tap}});var qt=r(20016);Object.defineProperty(t,"throttle",{enumerable:!0,get:function(){return qt.throttle}});var Zt=r(64386);Object.defineProperty(t,"throttleTime",{enumerable:!0,get:function(){return Zt.throttleTime}});var Jt=r(73527);Object.defineProperty(t,"throwIfEmpty",{enumerable:!0,get:function(){return Jt.throwIfEmpty}});var Gt=r(23345);Object.defineProperty(t,"timeInterval",{enumerable:!0,get:function(){return Gt.timeInterval}});var Yt=r(69071);Object.defineProperty(t,"timeout",{enumerable:!0,get:function(){return Yt.timeout}});var Xt=r(36901);Object.defineProperty(t,"timeoutWith",{enumerable:!0,get:function(){return Xt.timeoutWith}});var Qt=r(76246);Object.defineProperty(t,"timestamp",{enumerable:!0,get:function(){return Qt.timestamp}});var er=r(83436);Object.defineProperty(t,"toArray",{enumerable:!0,get:function(){return er.toArray}});var tr=r(56300);Object.defineProperty(t,"window",{enumerable:!0,get:function(){return tr.window}});var rr=r(54587);Object.defineProperty(t,"windowCount",{enumerable:!0,get:function(){return rr.windowCount}});var nr=r(80074);Object.defineProperty(t,"windowTime",{enumerable:!0,get:function(){return nr.windowTime}});var ir=r(77947);Object.defineProperty(t,"windowToggle",{enumerable:!0,get:function(){return ir.windowToggle}});var ar=r(11039);Object.defineProperty(t,"windowWhen",{enumerable:!0,get:function(){return ar.windowWhen}});var sr=r(46596);Object.defineProperty(t,"withLatestFrom",{enumerable:!0,get:function(){return sr.withLatestFrom}});var or=r(57521);Object.defineProperty(t,"zipAll",{enumerable:!0,get:function(){return or.zipAll}});var ur=r(49625);Object.defineProperty(t,"zipWith",{enumerable:!0,get:function(){return ur.zipWith}})},49937:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.AsyncSubject=void 0;var a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._value=null,t._hasValue=!1,t._isComplete=!1,t}return i(t,e),t.prototype._checkFinalizedStatuses=function(e){var t=this,r=t.hasError,n=t._hasValue,i=t._value,a=t.thrownError,s=t.isStopped,o=t._isComplete;r?e.error(a):(s||o)&&(n&&e.next(i),e.complete())},t.prototype.next=function(e){this.isStopped||(this._value=e,this._hasValue=!0)},t.prototype.complete=function(){var t=this,r=t._hasValue,n=t._value;t._isComplete||(this._isComplete=!0,r&&e.prototype.next.call(this,n),e.prototype.complete.call(this))},t}(r(24420).Subject);t.AsyncSubject=a},62145:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.BehaviorSubject=void 0;var a=function(e){function t(t){var r=e.call(this)||this;return r._value=t,r}return i(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),t.prototype._subscribe=function(t){var r=e.prototype._subscribe.call(this,t);return!r.closed&&t.next(this._value),r},t.prototype.getValue=function(){var e=this,t=e.hasError,r=e.thrownError,n=e._value;if(t)throw r;return this._throwIfClosed(),n},t.prototype.next=function(t){e.prototype.next.call(this,this._value=t)},t}(r(24420).Subject);t.BehaviorSubject=a},63957:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.observeNotification=t.Notification=t.NotificationKind=void 0;var n=r(59591),i=r(73498),a=r(1105),s=r(67290);!function(e){e.NEXT="N",e.ERROR="E",e.COMPLETE="C"}(t.NotificationKind||(t.NotificationKind={}));var o=function(){function e(e,t,r){this.kind=e,this.value=t,this.error=r,this.hasValue="N"===e}return e.prototype.observe=function(e){return u(this,e)},e.prototype.do=function(e,t,r){var n=this,i=n.kind,a=n.value,s=n.error;return"N"===i?null==e?void 0:e(a):"E"===i?null==t?void 0:t(s):null==r?void 0:r()},e.prototype.accept=function(e,t,r){var n;return s.isFunction(null===(n=e)||void 0===n?void 0:n.next)?this.observe(e):this.do(e,t,r)},e.prototype.toObservable=function(){var e=this,t=e.kind,r=e.value,s=e.error,o="N"===t?i.of(r):"E"===t?a.throwError((function(){return s})):"C"===t?n.EMPTY:0;if(!o)throw new TypeError("Unexpected notification kind "+t);return o},e.createNext=function(t){return new e("N",t)},e.createError=function(t){return new e("E",void 0,t)},e.createComplete=function(){return e.completeNotification},e.completeNotification=new e("C"),e}();function u(e,t){var r,n,i,a=e,s=a.kind,o=a.value,u=a.error;if("string"!=typeof s)throw new TypeError('Invalid notification, missing "kind"');"N"===s?null===(r=t.next)||void 0===r||r.call(t,o):"E"===s?null===(n=t.error)||void 0===n||n.call(t,u):null===(i=t.complete)||void 0===i||i.call(t)}t.Notification=o,t.observeNotification=u},54392:(e,t)=>{"use strict";function r(e,t,r){return{kind:e,value:t,error:r}}Object.defineProperty(t,"__esModule",{value:!0}),t.createNotification=t.nextNotification=t.errorNotification=t.COMPLETE_NOTIFICATION=void 0,t.COMPLETE_NOTIFICATION=r("C",void 0,void 0),t.errorNotification=function(e){return r("E",void 0,e)},t.nextNotification=function(e){return r("N",e,void 0)},t.createNotification=r},57690:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Observable=void 0;var n=r(12876),i=r(28283),a=r(59776),s=r(30917),o=r(21716),u=r(67290),c=r(10299),l=function(){function e(e){e&&(this._subscribe=e)}return e.prototype.lift=function(t){var r=new e;return r.source=this,r.operator=t,r},e.prototype.subscribe=function(e,t,r){var a,s=this,o=(a=e)&&a instanceof n.Subscriber||function(e){return e&&u.isFunction(e.next)&&u.isFunction(e.error)&&u.isFunction(e.complete)}(a)&&i.isSubscription(a)?e:new n.SafeSubscriber(e,t,r);return c.errorContext((function(){var e=s,t=e.operator,r=e.source;o.add(t?t.call(o,r):r?s._subscribe(o):s._trySubscribe(o))})),o},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){e.error(t)}},e.prototype.forEach=function(e,t){var r=this;return new(t=h(t))((function(t,i){var a=new n.SafeSubscriber({next:function(t){try{e(t)}catch(e){i(e),a.unsubscribe()}},error:i,complete:t});r.subscribe(a)}))},e.prototype._subscribe=function(e){var t;return null===(t=this.source)||void 0===t?void 0:t.subscribe(e)},e.prototype[a.observable]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return s.pipeFromArray(e)(this)},e.prototype.toPromise=function(e){var t=this;return new(e=h(e))((function(e,r){var n;t.subscribe((function(e){return n=e}),(function(e){return r(e)}),(function(){return e(n)}))}))},e.create=function(t){return new e(t)},e}();function h(e){var t;return null!==(t=null!=e?e:o.config.Promise)&&void 0!==t?t:Promise}t.Observable=l},68291:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.ReplaySubject=void 0;var a=r(24420),s=r(3019),o=function(e){function t(t,r,n){void 0===t&&(t=1/0),void 0===r&&(r=1/0),void 0===n&&(n=s.dateTimestampProvider);var i=e.call(this)||this;return i._bufferSize=t,i._windowTime=r,i._timestampProvider=n,i._buffer=[],i._infiniteTimeWindow=!0,i._infiniteTimeWindow=r===1/0,i._bufferSize=Math.max(1,t),i._windowTime=Math.max(1,r),i}return i(t,e),t.prototype.next=function(t){var r=this,n=r.isStopped,i=r._buffer,a=r._infiniteTimeWindow,s=r._timestampProvider,o=r._windowTime;n||(i.push(t),!a&&i.push(s.now()+o)),this._trimBuffer(),e.prototype.next.call(this,t)},t.prototype._subscribe=function(e){this._throwIfClosed(),this._trimBuffer();for(var t=this._innerSubscribe(e),r=this._infiniteTimeWindow,n=this._buffer.slice(),i=0;i<n.length&&!e.closed;i+=r?1:2)e.next(n[i]);return this._checkFinalizedStatuses(e),t},t.prototype._trimBuffer=function(){var e=this,t=e._bufferSize,r=e._timestampProvider,n=e._buffer,i=e._infiniteTimeWindow,a=(i?1:2)*t;if(t<1/0&&a<n.length&&n.splice(0,n.length-a),!i){for(var s=r.now(),o=0,u=1;u<n.length&&n[u]<=s;u+=2)o=u;o&&n.splice(0,o+1)}},t}(a.Subject);t.ReplaySubject=o},60197:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Scheduler=void 0;var n=r(3019),i=function(){function e(t,r){void 0===r&&(r=e.now),this.schedulerActionCtor=t,this.now=r}return e.prototype.schedule=function(e,t,r){return void 0===t&&(t=0),new this.schedulerActionCtor(this,e).schedule(r,t)},e.now=n.dateTimestampProvider.now,e}();t.Scheduler=i},24420:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.AnonymousSubject=t.Subject=void 0;var s=r(57690),o=r(28283),u=r(8270),c=r(52406),l=r(10299),h=function(e){function t(){var t=e.call(this)||this;return t.closed=!1,t.currentObservers=null,t.observers=[],t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return i(t,e),t.prototype.lift=function(e){var t=new f(this,this);return t.operator=e,t},t.prototype._throwIfClosed=function(){if(this.closed)throw new u.ObjectUnsubscribedError},t.prototype.next=function(e){var t=this;l.errorContext((function(){var r,n;if(t._throwIfClosed(),!t.isStopped){t.currentObservers||(t.currentObservers=Array.from(t.observers));try{for(var i=a(t.currentObservers),s=i.next();!s.done;s=i.next()){s.value.next(e)}}catch(e){r={error:e}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}}}))},t.prototype.error=function(e){var t=this;l.errorContext((function(){if(t._throwIfClosed(),!t.isStopped){t.hasError=t.isStopped=!0,t.thrownError=e;for(var r=t.observers;r.length;)r.shift().error(e)}}))},t.prototype.complete=function(){var e=this;l.errorContext((function(){if(e._throwIfClosed(),!e.isStopped){e.isStopped=!0;for(var t=e.observers;t.length;)t.shift().complete()}}))},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(t){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)},t.prototype._innerSubscribe=function(e){var t=this,r=this,n=r.hasError,i=r.isStopped,a=r.observers;return n||i?o.EMPTY_SUBSCRIPTION:(this.currentObservers=null,a.push(e),new o.Subscription((function(){t.currentObservers=null,c.arrRemove(a,e)})))},t.prototype._checkFinalizedStatuses=function(e){var t=this,r=t.hasError,n=t.thrownError,i=t.isStopped;r?e.error(n):i&&e.complete()},t.prototype.asObservable=function(){var e=new s.Observable;return e.source=this,e},t.create=function(e,t){return new f(e,t)},t}(s.Observable);t.Subject=h;var f=function(e){function t(t,r){var n=e.call(this)||this;return n.destination=t,n.source=r,n}return i(t,e),t.prototype.next=function(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,e)},t.prototype.error=function(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,e)},t.prototype.complete=function(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)},t.prototype._subscribe=function(e){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==r?r:o.EMPTY_SUBSCRIPTION},t}(h);t.AnonymousSubject=f},12876:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.EMPTY_OBSERVER=t.SafeSubscriber=t.Subscriber=void 0;var a=r(67290),s=r(28283),o=r(21716),u=r(82662),c=r(33287),l=r(54392),h=r(22187),f=r(10299),d=function(e){function r(r){var n=e.call(this)||this;return n.isStopped=!1,r?(n.destination=r,s.isSubscription(r)&&r.add(n)):n.destination=t.EMPTY_OBSERVER,n}return i(r,e),r.create=function(e,t,r){return new v(e,t,r)},r.prototype.next=function(e){this.isStopped?g(l.nextNotification(e),this):this._next(e)},r.prototype.error=function(e){this.isStopped?g(l.errorNotification(e),this):(this.isStopped=!0,this._error(e))},r.prototype.complete=function(){this.isStopped?g(l.COMPLETE_NOTIFICATION,this):(this.isStopped=!0,this._complete())},r.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},r.prototype._next=function(e){this.destination.next(e)},r.prototype._error=function(e){try{this.destination.error(e)}finally{this.unsubscribe()}},r.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},r}(s.Subscription);t.Subscriber=d;var p=Function.prototype.bind;function m(e,t){return p.call(e,t)}var b=function(){function e(e){this.partialObserver=e}return e.prototype.next=function(e){var t=this.partialObserver;if(t.next)try{t.next(e)}catch(e){y(e)}},e.prototype.error=function(e){var t=this.partialObserver;if(t.error)try{t.error(e)}catch(e){y(e)}else y(e)},e.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(e){y(e)}},e}(),v=function(e){function t(t,r,n){var i,s,u=e.call(this)||this;a.isFunction(t)||!t?i={next:null!=t?t:void 0,error:null!=r?r:void 0,complete:null!=n?n:void 0}:u&&o.config.useDeprecatedNextContext?((s=Object.create(t)).unsubscribe=function(){return u.unsubscribe()},i={next:t.next&&m(t.next,s),error:t.error&&m(t.error,s),complete:t.complete&&m(t.complete,s)}):i=t;return u.destination=new b(i),u}return i(t,e),t}(d);function y(e){o.config.useDeprecatedSynchronousErrorHandling?f.captureError(e):u.reportUnhandledError(e)}function g(e,t){var r=o.config.onStoppedNotification;r&&h.timeoutProvider.setTimeout((function(){return r(e,t)}))}t.SafeSubscriber=v,t.EMPTY_OBSERVER={closed:!0,next:c.noop,error:function(e){throw e},complete:c.noop}},28283:function(e,t,r){"use strict";var n=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},i=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,a=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)s.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(i)throw i.error}}return s},a=this&&this.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.isSubscription=t.EMPTY_SUBSCRIPTION=t.Subscription=void 0;var s=r(67290),o=r(44095),u=r(52406),c=function(){function e(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}var t;return e.prototype.unsubscribe=function(){var e,t,r,u,c;if(!this.closed){this.closed=!0;var h=this._parentage;if(h)if(this._parentage=null,Array.isArray(h))try{for(var f=n(h),d=f.next();!d.done;d=f.next()){d.value.remove(this)}}catch(t){e={error:t}}finally{try{d&&!d.done&&(t=f.return)&&t.call(f)}finally{if(e)throw e.error}}else h.remove(this);var p=this.initialTeardown;if(s.isFunction(p))try{p()}catch(e){c=e instanceof o.UnsubscriptionError?e.errors:[e]}var m=this._finalizers;if(m){this._finalizers=null;try{for(var b=n(m),v=b.next();!v.done;v=b.next()){var y=v.value;try{l(y)}catch(e){c=null!=c?c:[],e instanceof o.UnsubscriptionError?c=a(a([],i(c)),i(e.errors)):c.push(e)}}}catch(e){r={error:e}}finally{try{v&&!v.done&&(u=b.return)&&u.call(b)}finally{if(r)throw r.error}}}if(c)throw new o.UnsubscriptionError(c)}},e.prototype.add=function(t){var r;if(t&&t!==this)if(this.closed)l(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(r=this._finalizers)&&void 0!==r?r:[]).push(t)}},e.prototype._hasParent=function(e){var t=this._parentage;return t===e||Array.isArray(t)&&t.includes(e)},e.prototype._addParent=function(e){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e},e.prototype._removeParent=function(e){var t=this._parentage;t===e?this._parentage=null:Array.isArray(t)&&u.arrRemove(t,e)},e.prototype.remove=function(t){var r=this._finalizers;r&&u.arrRemove(r,t),t instanceof e&&t._removeParent(this)},e.EMPTY=((t=new e).closed=!0,t),e}();function l(e){s.isFunction(e)?e():e.unsubscribe()}t.Subscription=c,t.EMPTY_SUBSCRIPTION=c.EMPTY,t.isSubscription=function(e){return e instanceof c||e&&"closed"in e&&s.isFunction(e.remove)&&s.isFunction(e.add)&&s.isFunction(e.unsubscribe)}},21716:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.config=void 0,t.config={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},57336:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.firstValueFrom=void 0;var n=r(93826),i=r(12876);t.firstValueFrom=function(e,t){var r="object"==typeof t;return new Promise((function(a,s){var o=new i.SafeSubscriber({next:function(e){a(e),o.unsubscribe()},error:s,complete:function(){r?a(t.defaultValue):s(new n.EmptyError)}});e.subscribe(o)}))}},39019:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lastValueFrom=void 0;var n=r(93826);t.lastValueFrom=function(e,t){var r="object"==typeof t;return new Promise((function(i,a){var s,o=!1;e.subscribe({next:function(e){s=e,o=!0},error:a,complete:function(){o?i(s):r?i(t.defaultValue):a(new n.EmptyError)}})}))}},43579:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.ConnectableObservable=void 0;var a=r(57690),s=r(28283),o=r(71808),u=r(81697),c=r(73555),l=function(e){function t(t,r){var n=e.call(this)||this;return n.source=t,n.subjectFactory=r,n._subject=null,n._refCount=0,n._connection=null,c.hasLift(t)&&(n.lift=t.lift),n}return i(t,e),t.prototype._subscribe=function(e){return this.getSubject().subscribe(e)},t.prototype.getSubject=function(){var e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject},t.prototype._teardown=function(){this._refCount=0;var e=this._connection;this._subject=this._connection=null,null==e||e.unsubscribe()},t.prototype.connect=function(){var e=this,t=this._connection;if(!t){t=this._connection=new s.Subscription;var r=this.getSubject();t.add(this.source.subscribe(u.createOperatorSubscriber(r,void 0,(function(){e._teardown(),r.complete()}),(function(t){e._teardown(),r.error(t)}),(function(){return e._teardown()})))),t.closed&&(this._connection=null,t=s.Subscription.EMPTY)}return t},t.prototype.refCount=function(){return o.refCount()(this)},t}(a.Observable);t.ConnectableObservable=l},48804:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bindCallback=void 0;var n=r(94193);t.bindCallback=function(e,t,r){return n.bindCallbackInternals(!1,e,t,r)}},94193:function(e,t,r){"use strict";var n=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,a=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)s.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(i)throw i.error}}return s},i=this&&this.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.bindCallbackInternals=void 0;var a=r(97729),s=r(57690),o=r(21860),u=r(87798),c=r(9827),l=r(49937);t.bindCallbackInternals=function e(t,r,h,f){if(h){if(!a.isScheduler(h))return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return e(t,r,f).apply(this,n).pipe(u.mapOneOrManyArgs(h))};f=h}return f?function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return e(t,r).apply(this,n).pipe(o.subscribeOn(f),c.observeOn(f))}:function(){for(var e=this,a=[],o=0;o<arguments.length;o++)a[o]=arguments[o];var u=new l.AsyncSubject,c=!0;return new s.Observable((function(s){var o=u.subscribe(s);if(c){c=!1;var l=!1,h=!1;r.apply(e,i(i([],n(a)),[function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];if(t){var n=e.shift();if(null!=n)return void u.error(n)}u.next(1<e.length?e:e[0]),h=!0,l&&u.complete()}])),h&&u.complete(),l=!0}return o}))}}},89025:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bindNodeCallback=void 0;var n=r(94193);t.bindNodeCallback=function(e,t,r){return n.bindCallbackInternals(!0,e,t,r)}},71791:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.combineLatestInit=t.combineLatest=void 0;var n=r(57690),i=r(98200),a=r(95047),s=r(10401),o=r(87798),u=r(79947),c=r(17245),l=r(81697),h=r(6389);function f(e,t,r){return void 0===r&&(r=s.identity),function(n){d(t,(function(){for(var i=e.length,s=new Array(i),o=i,u=i,c=function(i){d(t,(function(){var c=a.from(e[i],t),h=!1;c.subscribe(l.createOperatorSubscriber(n,(function(e){s[i]=e,h||(h=!0,u--),u||n.next(r(s.slice()))}),(function(){--o||n.complete()})))}),n)},h=0;h<i;h++)c(h)}),n)}}function d(e,t,r){e?h.executeSchedule(r,e,t):t()}t.combineLatest=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=u.popScheduler(e),l=u.popResultSelector(e),h=i.argsArgArrayOrObject(e),d=h.args,p=h.keys;if(0===d.length)return a.from([],r);var m=new n.Observable(f(d,r,p?function(e){return c.createObject(p,e)}:s.identity));return l?m.pipe(o.mapOneOrManyArgs(l)):m},t.combineLatestInit=f},83271:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.concat=void 0;var n=r(46330),i=r(79947),a=r(95047);t.concat=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return n.concatAll()(a.from(e,i.popScheduler(e)))}},78482:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.connectable=void 0;var n=r(24420),i=r(57690),a=r(89871),s={connector:function(){return new n.Subject},resetOnDisconnect:!0};t.connectable=function(e,t){void 0===t&&(t=s);var r=null,n=t.connector,o=t.resetOnDisconnect,u=void 0===o||o,c=n(),l=new i.Observable((function(e){return c.subscribe(e)}));return l.connect=function(){return r&&!r.closed||(r=a.defer((function(){return e})).subscribe(c),u&&r.add((function(){return c=n()}))),r},l}},89871:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defer=void 0;var n=r(57690),i=r(99521);t.defer=function(e){return new n.Observable((function(t){i.innerFrom(e()).subscribe(t)}))}},37160:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.animationFrames=void 0;var n=r(57690),i=r(28283),a=r(51697),s=r(33384);function o(e){var t=s.animationFrameProvider.schedule;return new n.Observable((function(r){var n=new i.Subscription,s=e||a.performanceTimestampProvider,o=s.now(),u=function(i){var a=s.now();r.next({timestamp:e?a:i,elapsed:a-o}),r.closed||n.add(t(u))};return n.add(t(u)),n}))}t.animationFrames=function(e){return e?o(e):u};var u=o()},59591:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.empty=t.EMPTY=void 0;var n=r(57690);t.EMPTY=new n.Observable((function(e){return e.complete()})),t.empty=function(e){return e?function(e){return new n.Observable((function(t){return e.schedule((function(){return t.complete()}))}))}(e):t.EMPTY}},26223:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.forkJoin=void 0;var n=r(57690),i=r(98200),a=r(99521),s=r(79947),o=r(81697),u=r(87798),c=r(17245);t.forkJoin=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=s.popResultSelector(e),l=i.argsArgArrayOrObject(e),h=l.args,f=l.keys,d=new n.Observable((function(e){var t=h.length;if(t)for(var r=new Array(t),n=t,i=t,s=function(t){var s=!1;a.innerFrom(h[t]).subscribe(o.createOperatorSubscriber(e,(function(e){s||(s=!0,i--),r[t]=e}),(function(){return n--}),void 0,(function(){n&&s||(i||e.next(f?c.createObject(f,r):r),e.complete())})))},u=0;u<t;u++)s(u);else e.complete()}));return r?d.pipe(u.mapOneOrManyArgs(r)):d}},95047:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.from=void 0;var n=r(12392),i=r(99521);t.from=function(e,t){return t?n.scheduled(e,t):i.innerFrom(e)}},39601:function(e,t,r){"use strict";var n=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,a=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)s.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(i)throw i.error}}return s};Object.defineProperty(t,"__esModule",{value:!0}),t.fromEvent=void 0;var i=r(99521),a=r(57690),s=r(20431),o=r(32201),u=r(67290),c=r(87798),l=["addListener","removeListener"],h=["addEventListener","removeEventListener"],f=["on","off"];function d(e,t){return function(r){return function(n){return e[r](t,n)}}}t.fromEvent=function e(t,r,p,m){if(u.isFunction(p)&&(m=p,p=void 0),m)return e(t,r,p).pipe(c.mapOneOrManyArgs(m));var b=n(function(e){return u.isFunction(e.addEventListener)&&u.isFunction(e.removeEventListener)}(t)?h.map((function(e){return function(n){return t[e](r,n,p)}})):function(e){return u.isFunction(e.addListener)&&u.isFunction(e.removeListener)}(t)?l.map(d(t,r)):function(e){return u.isFunction(e.on)&&u.isFunction(e.off)}(t)?f.map(d(t,r)):[],2),v=b[0],y=b[1];if(!v&&o.isArrayLike(t))return s.mergeMap((function(t){return e(t,r,p)}))(i.innerFrom(t));if(!v)throw new TypeError("Invalid event target");return new a.Observable((function(e){var t=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return e.next(1<t.length?t:t[0])};return v(t),function(){return y(t)}}))}},49314:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fromEventPattern=void 0;var n=r(57690),i=r(67290),a=r(87798);t.fromEventPattern=function e(t,r,s){return s?e(t,r).pipe(a.mapOneOrManyArgs(s)):new n.Observable((function(e){var n=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return e.next(1===t.length?t[0]:t)},a=t(n);return i.isFunction(r)?function(){return r(n,a)}:void 0}))}},42681:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fromSubscribable=void 0;var n=r(57690);t.fromSubscribable=function(e){return new n.Observable((function(t){return e.subscribe(t)}))}},56219:function(e,t,r){"use strict";var n=this&&this.__generator||function(e,t){var r,n,i,a,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function o(a){return function(o){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(i=2&a[0]?n.return:a[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,a[1])).done)return i;switch(n=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,n=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){s.label=a[1];break}if(6===a[0]&&s.label<i[1]){s.label=i[1],i=a;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(a);break}i[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],n=0}finally{r=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,o])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.generate=void 0;var i=r(10401),a=r(97729),s=r(89871),o=r(81440);t.generate=function(e,t,r,u,c){var l,h,f,d;function p(){var e;return n(this,(function(n){switch(n.label){case 0:e=d,n.label=1;case 1:return t&&!t(e)?[3,4]:[4,f(e)];case 2:n.sent(),n.label=3;case 3:return e=r(e),[3,1];case 4:return[2]}}))}return 1===arguments.length?(d=(l=e).initialState,t=l.condition,r=l.iterate,h=l.resultSelector,f=void 0===h?i.identity:h,c=l.scheduler):(d=e,!u||a.isScheduler(u)?(f=i.identity,c=u):f=u),s.defer(c?function(){return o.scheduleIterable(p(),c)}:p)}},50288:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.iif=void 0;var n=r(89871);t.iif=function(e,t,r){return n.defer((function(){return e()?t:r}))}},99521:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function s(e){try{u(n.next(e))}catch(e){a(e)}}function o(e){try{u(n.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,o)}u((n=n.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var r,n,i,a,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function o(a){return function(o){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(i=2&a[0]?n.return:a[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,a[1])).done)return i;switch(n=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,n=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){s.label=a[1];break}if(6===a[0]&&s.label<i[1]){s.label=i[1],i=a;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(a);break}i[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],n=0}finally{r=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,o])}}},a=this&&this.__asyncValues||function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e="function"==typeof s?s(e):e[Symbol.iterator](),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(r){t[r]=e[r]&&function(t){return new Promise((function(n,i){(function(e,t,r,n){Promise.resolve(n).then((function(t){e({value:t,done:r})}),t)})(n,i,(t=e[r](t)).done,t.value)}))}}},s=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.fromReadableStreamLike=t.fromAsyncIterable=t.fromIterable=t.fromPromise=t.fromArrayLike=t.fromInteropObservable=t.innerFrom=void 0;var o=r(32201),u=r(42246),c=r(57690),l=r(32024),h=r(38172),f=r(32149),d=r(98958),p=r(22841),m=r(67290),b=r(82662),v=r(59776);function y(e){return new c.Observable((function(t){var r=e[v.observable]();if(m.isFunction(r.subscribe))return r.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")}))}function g(e){return new c.Observable((function(t){for(var r=0;r<e.length&&!t.closed;r++)t.next(e[r]);t.complete()}))}function w(e){return new c.Observable((function(t){e.then((function(e){t.closed||(t.next(e),t.complete())}),(function(e){return t.error(e)})).then(null,b.reportUnhandledError)}))}function S(e){return new c.Observable((function(t){var r,n;try{for(var i=s(e),a=i.next();!a.done;a=i.next()){var o=a.value;if(t.next(o),t.closed)return}}catch(e){r={error:e}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}t.complete()}))}function _(e){return new c.Observable((function(t){(function(e,t){var r,s,o,u;return n(this,void 0,void 0,(function(){var n,c;return i(this,(function(i){switch(i.label){case 0:i.trys.push([0,5,6,11]),r=a(e),i.label=1;case 1:return[4,r.next()];case 2:if((s=i.sent()).done)return[3,4];if(n=s.value,t.next(n),t.closed)return[2];i.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return c=i.sent(),o={error:c},[3,11];case 6:return i.trys.push([6,,9,10]),s&&!s.done&&(u=r.return)?[4,u.call(r)]:[3,8];case 7:i.sent(),i.label=8;case 8:return[3,10];case 9:if(o)throw o.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}}))}))})(e,t).catch((function(e){return t.error(e)}))}))}function A(e){return _(p.readableStreamLikeToAsyncGenerator(e))}t.innerFrom=function(e){if(e instanceof c.Observable)return e;if(null!=e){if(l.isInteropObservable(e))return y(e);if(o.isArrayLike(e))return g(e);if(u.isPromise(e))return w(e);if(h.isAsyncIterable(e))return _(e);if(d.isIterable(e))return S(e);if(p.isReadableStreamLike(e))return A(e)}throw f.createInvalidObservableTypeError(e)},t.fromInteropObservable=y,t.fromArrayLike=g,t.fromPromise=w,t.fromIterable=S,t.fromAsyncIterable=_,t.fromReadableStreamLike=A},93920:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.interval=void 0;var n=r(75677),i=r(36924);t.interval=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=n.asyncScheduler),e<0&&(e=0),i.timer(e,e,t)}},19569:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.merge=void 0;var n=r(13081),i=r(99521),a=r(59591),s=r(79947),o=r(95047);t.merge=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=s.popScheduler(e),u=s.popNumber(e,1/0),c=e;return c.length?1===c.length?i.innerFrom(c[0]):n.mergeAll(u)(o.from(c,r)):a.EMPTY}},11326:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.never=t.NEVER=void 0;var n=r(57690),i=r(33287);t.NEVER=new n.Observable(i.noop),t.never=function(){return t.NEVER}},73498:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.of=void 0;var n=r(79947),i=r(95047);t.of=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=n.popScheduler(e);return i.from(e,r)}},64581:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.onErrorResumeNext=void 0;var n=r(59591),i=r(23962),a=r(11554);t.onErrorResumeNext=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return i.onErrorResumeNext(a.argsOrArgArray(e))(n.EMPTY)}},56691:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.pairs=void 0;var n=r(95047);t.pairs=function(e,t){return n.from(Object.entries(e),t)}},51239:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.partition=void 0;var n=r(26608),i=r(3544),a=r(99521);t.partition=function(e,t,r){return[i.filter(t,r)(a.innerFrom(e)),i.filter(n.not(t,r))(a.innerFrom(e))]}},98479:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.raceInit=t.race=void 0;var n=r(57690),i=r(99521),a=r(11554),s=r(81697);function o(e){return function(t){for(var r=[],n=function(n){r.push(i.innerFrom(e[n]).subscribe(s.createOperatorSubscriber(t,(function(e){if(r){for(var i=0;i<r.length;i++)i!==n&&r[i].unsubscribe();r=null}t.next(e)}))))},a=0;r&&!t.closed&&a<e.length;a++)n(a)}}t.race=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 1===(e=a.argsOrArgArray(e)).length?i.innerFrom(e[0]):new n.Observable(o(e))},t.raceInit=o},43816:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.range=void 0;var n=r(57690),i=r(59591);t.range=function(e,t,r){if(null==t&&(t=e,e=0),t<=0)return i.EMPTY;var a=t+e;return new n.Observable(r?function(t){var n=e;return r.schedule((function(){n<a?(t.next(n++),this.schedule()):t.complete()}))}:function(t){for(var r=e;r<a&&!t.closed;)t.next(r++);t.complete()})}},1105:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.throwError=void 0;var n=r(57690),i=r(67290);t.throwError=function(e,t){var r=i.isFunction(e)?e:function(){return e},a=function(e){return e.error(r())};return new n.Observable(t?function(e){return t.schedule(a,0,e)}:a)}},36924:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.timer=void 0;var n=r(57690),i=r(75677),a=r(97729),s=r(8144);t.timer=function(e,t,r){void 0===e&&(e=0),void 0===r&&(r=i.async);var o=-1;return null!=t&&(a.isScheduler(t)?r=t:o=t),new n.Observable((function(t){var n=s.isValidDate(e)?+e-r.now():e;n<0&&(n=0);var i=0;return r.schedule((function(){t.closed||(t.next(i++),0<=o?this.schedule(void 0,o):t.complete())}),n)}))}},97753:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.using=void 0;var n=r(57690),i=r(99521),a=r(59591);t.using=function(e,t){return new n.Observable((function(r){var n=e(),s=t(n);return(s?i.innerFrom(s):a.EMPTY).subscribe(r),function(){n&&n.unsubscribe()}}))}},12104:function(e,t,r){"use strict";var n=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,a=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)s.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(i)throw i.error}}return s},i=this&&this.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.zip=void 0;var a=r(57690),s=r(99521),o=r(11554),u=r(59591),c=r(81697),l=r(79947);t.zip=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=l.popResultSelector(e),h=o.argsOrArgArray(e);return h.length?new a.Observable((function(e){var t=h.map((function(){return[]})),a=h.map((function(){return!1}));e.add((function(){t=a=null}));for(var o=function(o){s.innerFrom(h[o]).subscribe(c.createOperatorSubscriber(e,(function(s){if(t[o].push(s),t.every((function(e){return e.length}))){var u=t.map((function(e){return e.shift()}));e.next(r?r.apply(void 0,i([],n(u))):u),t.some((function(e,t){return!e.length&&a[t]}))&&e.complete()}}),(function(){a[o]=!0,!t[o].length&&e.complete()})))},u=0;!e.closed&&u<h.length;u++)o(u);return function(){t=a=null}})):u.EMPTY}},81697:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.OperatorSubscriber=t.createOperatorSubscriber=void 0;var a=r(12876);t.createOperatorSubscriber=function(e,t,r,n,i){return new s(e,t,r,n,i)};var s=function(e){function t(t,r,n,i,a,s){var o=e.call(this,t)||this;return o.onFinalize=a,o.shouldUnsubscribe=s,o._next=r?function(e){try{r(e)}catch(e){t.error(e)}}:e.prototype._next,o._error=i?function(e){try{i(e)}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._error,o._complete=n?function(){try{n()}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._complete,o}return i(t,e),t.prototype.unsubscribe=function(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var r=this.closed;e.prototype.unsubscribe.call(this),!r&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}},t}(a.Subscriber);t.OperatorSubscriber=s},10985:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.audit=void 0;var n=r(73555),i=r(99521),a=r(81697);t.audit=function(e){return n.operate((function(t,r){var n=!1,s=null,o=null,u=!1,c=function(){if(null==o||o.unsubscribe(),o=null,n){n=!1;var e=s;s=null,r.next(e)}u&&r.complete()},l=function(){o=null,u&&r.complete()};t.subscribe(a.createOperatorSubscriber(r,(function(t){n=!0,s=t,o||i.innerFrom(e(t)).subscribe(o=a.createOperatorSubscriber(r,c,l))}),(function(){u=!0,(!n||!o||o.closed)&&r.complete()})))}))}},41245:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.auditTime=void 0;var n=r(75677),i=r(10985),a=r(36924);t.auditTime=function(e,t){return void 0===t&&(t=n.asyncScheduler),i.audit((function(){return a.timer(e,t)}))}},46487:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.buffer=void 0;var n=r(73555),i=r(33287),a=r(81697);t.buffer=function(e){return n.operate((function(t,r){var n=[];return t.subscribe(a.createOperatorSubscriber(r,(function(e){return n.push(e)}),(function(){r.next(n),r.complete()}))),e.subscribe(a.createOperatorSubscriber(r,(function(){var e=n;n=[],r.next(e)}),i.noop)),function(){n=null}}))}},5477:function(e,t,r){"use strict";var n=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.bufferCount=void 0;var i=r(73555),a=r(81697),s=r(52406);t.bufferCount=function(e,t){return void 0===t&&(t=null),t=null!=t?t:e,i.operate((function(r,i){var o=[],u=0;r.subscribe(a.createOperatorSubscriber(i,(function(r){var a,c,l,h,f=null;u++%t==0&&o.push([]);try{for(var d=n(o),p=d.next();!p.done;p=d.next()){(v=p.value).push(r),e<=v.length&&(f=null!=f?f:[]).push(v)}}catch(e){a={error:e}}finally{try{p&&!p.done&&(c=d.return)&&c.call(d)}finally{if(a)throw a.error}}if(f)try{for(var m=n(f),b=m.next();!b.done;b=m.next()){var v=b.value;s.arrRemove(o,v),i.next(v)}}catch(e){l={error:e}}finally{try{b&&!b.done&&(h=m.return)&&h.call(m)}finally{if(l)throw l.error}}}),(function(){var e,t;try{for(var r=n(o),a=r.next();!a.done;a=r.next()){var s=a.value;i.next(s)}}catch(t){e={error:t}}finally{try{a&&!a.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}i.complete()}),void 0,(function(){o=null})))}))}},18941:function(e,t,r){"use strict";var n=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.bufferTime=void 0;var i=r(28283),a=r(73555),s=r(81697),o=r(52406),u=r(75677),c=r(79947),l=r(6389);t.bufferTime=function(e){for(var t,r,h=[],f=1;f<arguments.length;f++)h[f-1]=arguments[f];var d=null!==(t=c.popScheduler(h))&&void 0!==t?t:u.asyncScheduler,p=null!==(r=h[0])&&void 0!==r?r:null,m=h[1]||1/0;return a.operate((function(t,r){var a=[],u=!1,c=function(e){var t=e.buffer;e.subs.unsubscribe(),o.arrRemove(a,e),r.next(t),u&&h()},h=function(){if(a){var t=new i.Subscription;r.add(t);var n={buffer:[],subs:t};a.push(n),l.executeSchedule(t,d,(function(){return c(n)}),e)}};null!==p&&p>=0?l.executeSchedule(r,d,h,p,!0):u=!0,h();var f=s.createOperatorSubscriber(r,(function(e){var t,r,i=a.slice();try{for(var s=n(i),o=s.next();!o.done;o=s.next()){var u=o.value,l=u.buffer;l.push(e),m<=l.length&&c(u)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(r=s.return)&&r.call(s)}finally{if(t)throw t.error}}}),(function(){for(;null==a?void 0:a.length;)r.next(a.shift().buffer);null==f||f.unsubscribe(),r.complete(),r.unsubscribe()}),void 0,(function(){return a=null}));t.subscribe(f)}))}},70757:function(e,t,r){"use strict";var n=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.bufferToggle=void 0;var i=r(28283),a=r(73555),s=r(99521),o=r(81697),u=r(33287),c=r(52406);t.bufferToggle=function(e,t){return a.operate((function(r,a){var l=[];s.innerFrom(e).subscribe(o.createOperatorSubscriber(a,(function(e){var r=[];l.push(r);var n=new i.Subscription;n.add(s.innerFrom(t(e)).subscribe(o.createOperatorSubscriber(a,(function(){c.arrRemove(l,r),a.next(r),n.unsubscribe()}),u.noop)))}),u.noop)),r.subscribe(o.createOperatorSubscriber(a,(function(e){var t,r;try{for(var i=n(l),a=i.next();!a.done;a=i.next()){a.value.push(e)}}catch(e){t={error:e}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}}),(function(){for(;l.length>0;)a.next(l.shift());a.complete()})))}))}},29861:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bufferWhen=void 0;var n=r(73555),i=r(33287),a=r(81697),s=r(99521);t.bufferWhen=function(e){return n.operate((function(t,r){var n=null,o=null,u=function(){null==o||o.unsubscribe();var t=n;n=[],t&&r.next(t),s.innerFrom(e()).subscribe(o=a.createOperatorSubscriber(r,u,i.noop))};u(),t.subscribe(a.createOperatorSubscriber(r,(function(e){return null==n?void 0:n.push(e)}),(function(){n&&r.next(n),r.complete()}),void 0,(function(){return n=o=null})))}))}},11350:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.catchError=void 0;var n=r(99521),i=r(81697),a=r(73555);t.catchError=function e(t){return a.operate((function(r,a){var s,o=null,u=!1;o=r.subscribe(i.createOperatorSubscriber(a,void 0,void 0,(function(i){s=n.innerFrom(t(i,e(t)(r))),o?(o.unsubscribe(),o=null,s.subscribe(a)):u=!0}))),u&&(o.unsubscribe(),o=null,s.subscribe(a))}))}},17457:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.combineAll=void 0;var n=r(52668);t.combineAll=n.combineLatestAll},62186:function(e,t,r){"use strict";var n=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,a=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)s.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(i)throw i.error}}return s},i=this&&this.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.combineLatest=void 0;var a=r(71791),s=r(73555),o=r(11554),u=r(87798),c=r(30917),l=r(79947);t.combineLatest=function e(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var h=l.popResultSelector(t);return h?c.pipe(e.apply(void 0,i([],n(t))),u.mapOneOrManyArgs(h)):s.operate((function(e,r){a.combineLatestInit(i([e],n(o.argsOrArgArray(t))))(r)}))}},52668:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.combineLatestAll=void 0;var n=r(71791),i=r(63344);t.combineLatestAll=function(e){return i.joinAllInternals(n.combineLatest,e)}},44917:function(e,t,r){"use strict";var n=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,a=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)s.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(i)throw i.error}}return s},i=this&&this.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.combineLatestWith=void 0;var a=r(62186);t.combineLatestWith=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return a.combineLatest.apply(void 0,i([],n(e)))}},70510:function(e,t,r){"use strict";var n=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,a=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)s.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(i)throw i.error}}return s},i=this&&this.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.concat=void 0;var a=r(73555),s=r(46330),o=r(79947),u=r(95047);t.concat=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=o.popScheduler(e);return a.operate((function(t,a){s.concatAll()(u.from(i([t],n(e)),r)).subscribe(a)}))}},46330:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.concatAll=void 0;var n=r(13081);t.concatAll=function(){return n.mergeAll(1)}},97096:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.concatMap=void 0;var n=r(20431),i=r(67290);t.concatMap=function(e,t){return i.isFunction(t)?n.mergeMap(e,t,1):n.mergeMap(e,1)}},14398:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.concatMapTo=void 0;var n=r(97096),i=r(67290);t.concatMapTo=function(e,t){return i.isFunction(t)?n.concatMap((function(){return e}),t):n.concatMap((function(){return e}))}},34857:function(e,t,r){"use strict";var n=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,a=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)s.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(i)throw i.error}}return s},i=this&&this.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.concatWith=void 0;var a=r(70510);t.concatWith=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return a.concat.apply(void 0,i([],n(e)))}},8891:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.connect=void 0;var n=r(24420),i=r(95047),a=r(73555),s=r(42681),o={connector:function(){return new n.Subject}};t.connect=function(e,t){void 0===t&&(t=o);var r=t.connector;return a.operate((function(t,n){var a=r();i.from(e(s.fromSubscribable(a))).subscribe(n),n.add(t.subscribe(a))}))}},17705:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.count=void 0;var n=r(19220);t.count=function(e){return n.reduce((function(t,r,n){return!e||e(r,n)?t+1:t}),0)}},41468:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.debounce=void 0;var n=r(73555),i=r(33287),a=r(81697),s=r(99521);t.debounce=function(e){return n.operate((function(t,r){var n=!1,o=null,u=null,c=function(){if(null==u||u.unsubscribe(),u=null,n){n=!1;var e=o;o=null,r.next(e)}};t.subscribe(a.createOperatorSubscriber(r,(function(t){null==u||u.unsubscribe(),n=!0,o=t,u=a.createOperatorSubscriber(r,c,i.noop),s.innerFrom(e(t)).subscribe(u)}),(function(){c(),r.complete()}),void 0,(function(){o=u=null})))}))}},79915:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.debounceTime=void 0;var n=r(75677),i=r(73555),a=r(81697);t.debounceTime=function(e,t){return void 0===t&&(t=n.asyncScheduler),i.operate((function(r,n){var i=null,s=null,o=null,u=function(){if(i){i.unsubscribe(),i=null;var e=s;s=null,n.next(e)}};function c(){var r=o+e,a=t.now();if(a<r)return i=this.schedule(void 0,r-a),void n.add(i);u()}r.subscribe(a.createOperatorSubscriber(n,(function(r){s=r,o=t.now(),i||(i=t.schedule(c,e),n.add(i))}),(function(){u(),n.complete()}),void 0,(function(){s=i=null})))}))}},43058:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultIfEmpty=void 0;var n=r(73555),i=r(81697);t.defaultIfEmpty=function(e){return n.operate((function(t,r){var n=!1;t.subscribe(i.createOperatorSubscriber(r,(function(e){n=!0,r.next(e)}),(function(){n||r.next(e),r.complete()})))}))}},437:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.delay=void 0;var n=r(75677),i=r(11816),a=r(36924);t.delay=function(e,t){void 0===t&&(t=n.asyncScheduler);var r=a.timer(e,t);return i.delayWhen((function(){return r}))}},11816:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.delayWhen=void 0;var n=r(83271),i=r(59154),a=r(75280),s=r(57386),o=r(20431);t.delayWhen=function e(t,r){return r?function(s){return n.concat(r.pipe(i.take(1),a.ignoreElements()),s.pipe(e(t)))}:o.mergeMap((function(e,r){return t(e,r).pipe(i.take(1),s.mapTo(e))}))}},91593:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dematerialize=void 0;var n=r(63957),i=r(73555),a=r(81697);t.dematerialize=function(){return i.operate((function(e,t){e.subscribe(a.createOperatorSubscriber(t,(function(e){return n.observeNotification(e,t)})))}))}},16801:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.distinct=void 0;var n=r(73555),i=r(81697),a=r(33287);t.distinct=function(e,t){return n.operate((function(r,n){var s=new Set;r.subscribe(i.createOperatorSubscriber(n,(function(t){var r=e?e(t):t;s.has(r)||(s.add(r),n.next(t))}))),null==t||t.subscribe(i.createOperatorSubscriber(n,(function(){return s.clear()}),a.noop))}))}},55610:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.distinctUntilChanged=void 0;var n=r(10401),i=r(73555),a=r(81697);function s(e,t){return e===t}t.distinctUntilChanged=function(e,t){return void 0===t&&(t=n.identity),e=null!=e?e:s,i.operate((function(r,n){var i,s=!0;r.subscribe(a.createOperatorSubscriber(n,(function(r){var a=t(r);!s&&e(i,a)||(s=!1,i=a,n.next(r))})))}))}},66896:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.distinctUntilKeyChanged=void 0;var n=r(55610);t.distinctUntilKeyChanged=function(e,t){return n.distinctUntilChanged((function(r,n){return t?t(r[e],n[e]):r[e]===n[e]}))}},33703:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.elementAt=void 0;var n=r(63022),i=r(3544),a=r(73527),s=r(43058),o=r(59154);t.elementAt=function(e,t){if(e<0)throw new n.ArgumentOutOfRangeError;var r=arguments.length>=2;return function(u){return u.pipe(i.filter((function(t,r){return r===e})),o.take(1),r?s.defaultIfEmpty(t):a.throwIfEmpty((function(){return new n.ArgumentOutOfRangeError})))}}},8806:function(e,t,r){"use strict";var n=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,a=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)s.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(i)throw i.error}}return s},i=this&&this.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.endWith=void 0;var a=r(83271),s=r(73498);t.endWith=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return a.concat(t,s.of.apply(void 0,i([],n(e))))}}},79770:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.every=void 0;var n=r(73555),i=r(81697);t.every=function(e,t){return n.operate((function(r,n){var a=0;r.subscribe(i.createOperatorSubscriber(n,(function(i){e.call(t,i,a++,r)||(n.next(!1),n.complete())}),(function(){n.next(!0),n.complete()})))}))}},46910:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.exhaust=void 0;var n=r(19597);t.exhaust=n.exhaustAll},19597:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.exhaustAll=void 0;var n=r(73555),i=r(99521),a=r(81697);t.exhaustAll=function(){return n.operate((function(e,t){var r=!1,n=null;e.subscribe(a.createOperatorSubscriber(t,(function(e){n||(n=i.innerFrom(e).subscribe(a.createOperatorSubscriber(t,void 0,(function(){n=null,r&&t.complete()}))))}),(function(){r=!0,!n&&t.complete()})))}))}},93546:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.exhaustMap=void 0;var n=r(55614),i=r(99521),a=r(73555),s=r(81697);t.exhaustMap=function e(t,r){return r?function(a){return a.pipe(e((function(e,a){return i.innerFrom(t(e,a)).pipe(n.map((function(t,n){return r(e,t,a,n)})))})))}:a.operate((function(e,r){var n=0,a=null,o=!1;e.subscribe(s.createOperatorSubscriber(r,(function(e){a||(a=s.createOperatorSubscriber(r,void 0,(function(){a=null,o&&r.complete()})),i.innerFrom(t(e,n++)).subscribe(a))}),(function(){o=!0,!a&&r.complete()})))}))}},45038:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.expand=void 0;var n=r(73555),i=r(74361);t.expand=function(e,t,r){return void 0===t&&(t=1/0),t=(t||0)<1?1/0:t,n.operate((function(n,a){return i.mergeInternals(n,a,e,t,void 0,!0,r)}))}},3544:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.filter=void 0;var n=r(73555),i=r(81697);t.filter=function(e,t){return n.operate((function(r,n){var a=0;r.subscribe(i.createOperatorSubscriber(n,(function(r){return e.call(t,r,a++)&&n.next(r)})))}))}},86822:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.finalize=void 0;var n=r(73555);t.finalize=function(e){return n.operate((function(t,r){try{t.subscribe(r)}finally{r.add(e)}}))}},75885:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createFind=t.find=void 0;var n=r(73555),i=r(81697);function a(e,t,r){var n="index"===r;return function(r,a){var s=0;r.subscribe(i.createOperatorSubscriber(a,(function(i){var o=s++;e.call(t,i,o,r)&&(a.next(n?o:i),a.complete())}),(function(){a.next(n?-1:void 0),a.complete()})))}}t.find=function(e,t){return n.operate(a(e,t,"value"))},t.createFind=a},2037:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.findIndex=void 0;var n=r(73555),i=r(75885);t.findIndex=function(e,t){return n.operate(i.createFind(e,t,"index"))}},61440:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.first=void 0;var n=r(93826),i=r(3544),a=r(59154),s=r(43058),o=r(73527),u=r(10401);t.first=function(e,t){var r=arguments.length>=2;return function(c){return c.pipe(e?i.filter((function(t,r){return e(t,r,c)})):u.identity,a.take(1),r?s.defaultIfEmpty(t):o.throwIfEmpty((function(){return new n.EmptyError})))}}},24884:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.flatMap=void 0;var n=r(20431);t.flatMap=n.mergeMap},71621:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.groupBy=void 0;var n=r(57690),i=r(99521),a=r(24420),s=r(73555),o=r(81697);t.groupBy=function(e,t,r,u){return s.operate((function(s,c){var l;t&&"function"!=typeof t?(r=t.duration,l=t.element,u=t.connector):l=t;var h=new Map,f=function(e){h.forEach(e),e(c)},d=function(e){return f((function(t){return t.error(e)}))},p=0,m=!1,b=new o.OperatorSubscriber(c,(function(t){try{var s=e(t),f=h.get(s);if(!f){h.set(s,f=u?u():new a.Subject);var v=(g=s,w=f,(S=new n.Observable((function(e){p++;var t=w.subscribe(e);return function(){t.unsubscribe(),0==--p&&m&&b.unsubscribe()}}))).key=g,S);if(c.next(v),r){var y=o.createOperatorSubscriber(f,(function(){f.complete(),null==y||y.unsubscribe()}),void 0,void 0,(function(){return h.delete(s)}));b.add(i.innerFrom(r(v)).subscribe(y))}}f.next(l?l(t):t)}catch(e){d(e)}var g,w,S}),(function(){return f((function(e){return e.complete()}))}),d,(function(){return h.clear()}),(function(){return m=!0,0===p}));s.subscribe(b)}))}},75280:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ignoreElements=void 0;var n=r(73555),i=r(81697),a=r(33287);t.ignoreElements=function(){return n.operate((function(e,t){e.subscribe(i.createOperatorSubscriber(t,a.noop))}))}},54008:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isEmpty=void 0;var n=r(73555),i=r(81697);t.isEmpty=function(){return n.operate((function(e,t){e.subscribe(i.createOperatorSubscriber(t,(function(){t.next(!1),t.complete()}),(function(){t.next(!0),t.complete()})))}))}},63344:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.joinAllInternals=void 0;var n=r(10401),i=r(87798),a=r(30917),s=r(20431),o=r(83436);t.joinAllInternals=function(e,t){return a.pipe(o.toArray(),s.mergeMap((function(t){return e(t)})),t?i.mapOneOrManyArgs(t):n.identity)}},11857:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.last=void 0;var n=r(93826),i=r(3544),a=r(49842),s=r(73527),o=r(43058),u=r(10401);t.last=function(e,t){var r=arguments.length>=2;return function(c){return c.pipe(e?i.filter((function(t,r){return e(t,r,c)})):u.identity,a.takeLast(1),r?o.defaultIfEmpty(t):s.throwIfEmpty((function(){return new n.EmptyError})))}}},55614:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.map=void 0;var n=r(73555),i=r(81697);t.map=function(e,t){return n.operate((function(r,n){var a=0;r.subscribe(i.createOperatorSubscriber(n,(function(r){n.next(e.call(t,r,a++))})))}))}},57386:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mapTo=void 0;var n=r(55614);t.mapTo=function(e){return n.map((function(){return e}))}},83030:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.materialize=void 0;var n=r(63957),i=r(73555),a=r(81697);t.materialize=function(){return i.operate((function(e,t){e.subscribe(a.createOperatorSubscriber(t,(function(e){t.next(n.Notification.createNext(e))}),(function(){t.next(n.Notification.createComplete()),t.complete()}),(function(e){t.next(n.Notification.createError(e)),t.complete()})))}))}},21289:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.max=void 0;var n=r(19220),i=r(67290);t.max=function(e){return n.reduce(i.isFunction(e)?function(t,r){return e(t,r)>0?t:r}:function(e,t){return e>t?e:t})}},77161:function(e,t,r){"use strict";var n=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,a=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)s.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(i)throw i.error}}return s},i=this&&this.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.merge=void 0;var a=r(73555),s=r(11554),o=r(13081),u=r(79947),c=r(95047);t.merge=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=u.popScheduler(e),l=u.popNumber(e,1/0);return e=s.argsOrArgArray(e),a.operate((function(t,a){o.mergeAll(l)(c.from(i([t],n(e)),r)).subscribe(a)}))}},13081:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mergeAll=void 0;var n=r(20431),i=r(10401);t.mergeAll=function(e){return void 0===e&&(e=1/0),n.mergeMap(i.identity,e)}},74361:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mergeInternals=void 0;var n=r(99521),i=r(6389),a=r(81697);t.mergeInternals=function(e,t,r,s,o,u,c,l){var h=[],f=0,d=0,p=!1,m=function(){!p||h.length||f||t.complete()},b=function(e){return f<s?v(e):h.push(e)},v=function(e){u&&t.next(e),f++;var l=!1;n.innerFrom(r(e,d++)).subscribe(a.createOperatorSubscriber(t,(function(e){null==o||o(e),u?b(e):t.next(e)}),(function(){l=!0}),void 0,(function(){if(l)try{f--;for(var e=function(){var e=h.shift();c?i.executeSchedule(t,c,(function(){return v(e)})):v(e)};h.length&&f<s;)e();m()}catch(e){t.error(e)}})))};return e.subscribe(a.createOperatorSubscriber(t,b,(function(){p=!0,m()}))),function(){null==l||l()}}},20431:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mergeMap=void 0;var n=r(55614),i=r(99521),a=r(73555),s=r(74361),o=r(67290);t.mergeMap=function e(t,r,u){return void 0===u&&(u=1/0),o.isFunction(r)?e((function(e,a){return n.map((function(t,n){return r(e,t,a,n)}))(i.innerFrom(t(e,a)))}),u):("number"==typeof r&&(u=r),a.operate((function(e,r){return s.mergeInternals(e,r,t,u)})))}},94464:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mergeMapTo=void 0;var n=r(20431),i=r(67290);t.mergeMapTo=function(e,t,r){return void 0===r&&(r=1/0),i.isFunction(t)?n.mergeMap((function(){return e}),t,r):("number"==typeof t&&(r=t),n.mergeMap((function(){return e}),r))}},64583:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mergeScan=void 0;var n=r(73555),i=r(74361);t.mergeScan=function(e,t,r){return void 0===r&&(r=1/0),n.operate((function(n,a){var s=t;return i.mergeInternals(n,a,(function(t,r){return e(s,t,r)}),r,(function(e){s=e}),!1,void 0,(function(){return s=null}))}))}},55780:function(e,t,r){"use strict";var n=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,a=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)s.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(i)throw i.error}}return s},i=this&&this.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.mergeWith=void 0;var a=r(77161);t.mergeWith=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return a.merge.apply(void 0,i([],n(e)))}},97934:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.min=void 0;var n=r(19220),i=r(67290);t.min=function(e){return n.reduce(i.isFunction(e)?function(t,r){return e(t,r)<0?t:r}:function(e,t){return e<t?e:t})}},22406:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.multicast=void 0;var n=r(43579),i=r(67290),a=r(8891);t.multicast=function(e,t){var r=i.isFunction(e)?e:function(){return e};return i.isFunction(t)?a.connect(t,{connector:r}):function(e){return new n.ConnectableObservable(e,r)}}},9827:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.observeOn=void 0;var n=r(6389),i=r(73555),a=r(81697);t.observeOn=function(e,t){return void 0===t&&(t=0),i.operate((function(r,i){r.subscribe(a.createOperatorSubscriber(i,(function(r){return n.executeSchedule(i,e,(function(){return i.next(r)}),t)}),(function(){return n.executeSchedule(i,e,(function(){return i.complete()}),t)}),(function(r){return n.executeSchedule(i,e,(function(){return i.error(r)}),t)})))}))}},23962:function(e,t,r){"use strict";var n=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,a=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)s.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(i)throw i.error}}return s},i=this&&this.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.onErrorResumeNext=void 0;var a=r(73555),s=r(99521),o=r(11554),u=r(81697),c=r(33287);t.onErrorResumeNext=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=o.argsOrArgArray(e);return a.operate((function(e,t){var a=i([e],n(r)),o=function(){if(!t.closed)if(a.length>0){var e=void 0;try{e=s.innerFrom(a.shift())}catch(e){return void o()}var r=u.createOperatorSubscriber(t,void 0,c.noop,c.noop);e.subscribe(r),r.add(o)}else t.complete()};o()}))}},37428:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.pairwise=void 0;var n=r(73555),i=r(81697);t.pairwise=function(){return n.operate((function(e,t){var r,n=!1;e.subscribe(i.createOperatorSubscriber(t,(function(e){var i=r;r=e,n&&t.next([i,e]),n=!0})))}))}},15014:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.partition=void 0;var n=r(26608),i=r(3544);t.partition=function(e,t){return function(r){return[i.filter(e,t)(r),i.filter(n.not(e,t))(r)]}}},82974:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.pluck=void 0;var n=r(55614);t.pluck=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=e.length;if(0===r)throw new Error("list of properties cannot be empty.");return n.map((function(t){for(var n=t,i=0;i<r;i++){var a=null==n?void 0:n[e[i]];if(void 0===a)return;n=a}return n}))}},7714:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.publish=void 0;var n=r(24420),i=r(22406),a=r(8891);t.publish=function(e){return e?function(t){return a.connect(e)(t)}:function(e){return i.multicast(new n.Subject)(e)}}},93657:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.publishBehavior=void 0;var n=r(62145),i=r(43579);t.publishBehavior=function(e){return function(t){var r=new n.BehaviorSubject(e);return new i.ConnectableObservable(t,(function(){return r}))}}},63216:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.publishLast=void 0;var n=r(49937),i=r(43579);t.publishLast=function(){return function(e){var t=new n.AsyncSubject;return new i.ConnectableObservable(e,(function(){return t}))}}},63473:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.publishReplay=void 0;var n=r(68291),i=r(22406),a=r(67290);t.publishReplay=function(e,t,r,s){r&&!a.isFunction(r)&&(s=r);var o=a.isFunction(r)?r:void 0;return function(r){return i.multicast(new n.ReplaySubject(e,t,s),o)(r)}}},99931:function(e,t,r){"use strict";var n=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,a=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)s.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(i)throw i.error}}return s},i=this&&this.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.race=void 0;var a=r(11554),s=r(51698);t.race=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return s.raceWith.apply(void 0,i([],n(a.argsOrArgArray(e))))}},51698:function(e,t,r){"use strict";var n=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,a=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)s.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(i)throw i.error}}return s},i=this&&this.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.raceWith=void 0;var a=r(98479),s=r(73555),o=r(10401);t.raceWith=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.length?s.operate((function(t,r){a.raceInit(i([t],n(e)))(r)})):o.identity}},19220:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.reduce=void 0;var n=r(63278),i=r(73555);t.reduce=function(e,t){return i.operate(n.scanInternals(e,t,arguments.length>=2,!1,!0))}},71808:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.refCount=void 0;var n=r(73555),i=r(81697);t.refCount=function(){return n.operate((function(e,t){var r=null;e._refCount++;var n=i.createOperatorSubscriber(t,void 0,void 0,void 0,(function(){if(!e||e._refCount<=0||0<--e._refCount)r=null;else{var n=e._connection,i=r;r=null,!n||i&&n!==i||n.unsubscribe(),t.unsubscribe()}}));e.subscribe(n),n.closed||(r=e.connect())}))}},61711:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.repeat=void 0;var n=r(59591),i=r(73555),a=r(81697),s=r(99521),o=r(36924);t.repeat=function(e){var t,r,u=1/0;return null!=e&&("object"==typeof e?(t=e.count,u=void 0===t?1/0:t,r=e.delay):u=e),u<=0?function(){return n.EMPTY}:i.operate((function(e,t){var n,i=0,c=function(){if(null==n||n.unsubscribe(),n=null,null!=r){var e="number"==typeof r?o.timer(r):s.innerFrom(r(i)),u=a.createOperatorSubscriber(t,(function(){u.unsubscribe(),l()}));e.subscribe(u)}else l()},l=function(){var r=!1;n=e.subscribe(a.createOperatorSubscriber(t,void 0,(function(){++i<u?n?c():r=!0:t.complete()}))),r&&c()};l()}))}},28079:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.repeatWhen=void 0;var n=r(24420),i=r(73555),a=r(81697);t.repeatWhen=function(e){return i.operate((function(t,r){var i,s,o=!1,u=!1,c=!1,l=function(){return c&&u&&(r.complete(),!0)},h=function(){c=!1,i=t.subscribe(a.createOperatorSubscriber(r,void 0,(function(){c=!0,!l()&&(s||(s=new n.Subject,e(s).subscribe(a.createOperatorSubscriber(r,(function(){i?h():o=!0}),(function(){u=!0,l()})))),s).next()}))),o&&(i.unsubscribe(),i=null,o=!1,h())};h()}))}},88174:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.retry=void 0;var n=r(73555),i=r(81697),a=r(10401),s=r(36924),o=r(99521);t.retry=function(e){var t;void 0===e&&(e=1/0);var r=(t=e&&"object"==typeof e?e:{count:e}).count,u=void 0===r?1/0:r,c=t.delay,l=t.resetOnSuccess,h=void 0!==l&&l;return u<=0?a.identity:n.operate((function(e,t){var r,n=0,a=function(){var l=!1;r=e.subscribe(i.createOperatorSubscriber(t,(function(e){h&&(n=0),t.next(e)}),void 0,(function(e){if(n++<u){var h=function(){r?(r.unsubscribe(),r=null,a()):l=!0};if(null!=c){var f="number"==typeof c?s.timer(c):o.innerFrom(c(e,n)),d=i.createOperatorSubscriber(t,(function(){d.unsubscribe(),h()}),(function(){t.complete()}));f.subscribe(d)}else h()}else t.error(e)}))),l&&(r.unsubscribe(),r=null,a())};a()}))}},1372:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.retryWhen=void 0;var n=r(24420),i=r(73555),a=r(81697);t.retryWhen=function(e){return i.operate((function(t,r){var i,s,o=!1,u=function(){i=t.subscribe(a.createOperatorSubscriber(r,void 0,void 0,(function(t){s||(s=new n.Subject,e(s).subscribe(a.createOperatorSubscriber(r,(function(){return i?u():o=!0})))),s&&s.next(t)}))),o&&(i.unsubscribe(),i=null,o=!1,u())};u()}))}},37117:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sample=void 0;var n=r(73555),i=r(33287),a=r(81697);t.sample=function(e){return n.operate((function(t,r){var n=!1,s=null;t.subscribe(a.createOperatorSubscriber(r,(function(e){n=!0,s=e}))),e.subscribe(a.createOperatorSubscriber(r,(function(){if(n){n=!1;var e=s;s=null,r.next(e)}}),i.noop))}))}},91637:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sampleTime=void 0;var n=r(75677),i=r(37117),a=r(93920);t.sampleTime=function(e,t){return void 0===t&&(t=n.asyncScheduler),i.sample(a.interval(e,t))}},58608:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.scan=void 0;var n=r(73555),i=r(63278);t.scan=function(e,t){return n.operate(i.scanInternals(e,t,arguments.length>=2,!0))}},63278:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.scanInternals=void 0;var n=r(81697);t.scanInternals=function(e,t,r,i,a){return function(s,o){var u=r,c=t,l=0;s.subscribe(n.createOperatorSubscriber(o,(function(t){var r=l++;c=u?e(c,t,r):(u=!0,t),i&&o.next(c)}),a&&function(){u&&o.next(c),o.complete()}))}}},890:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sequenceEqual=void 0;var n=r(73555),i=r(81697);t.sequenceEqual=function(e,t){return void 0===t&&(t=function(e,t){return e===t}),n.operate((function(r,n){var a={buffer:[],complete:!1},s={buffer:[],complete:!1},o=function(e){n.next(e),n.complete()},u=function(e,r){var a=i.createOperatorSubscriber(n,(function(n){var i=r.buffer,a=r.complete;0===i.length?a?o(!1):e.buffer.push(n):!t(n,i.shift())&&o(!1)}),(function(){e.complete=!0;var t=r.complete,n=r.buffer;t&&o(0===n.length),null==a||a.unsubscribe()}));return a};r.subscribe(u(a,s)),e.subscribe(u(s,a))}))}},74467:function(e,t,r){"use strict";var n=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,a=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)s.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(i)throw i.error}}return s},i=this&&this.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.share=void 0;var a=r(95047),s=r(59154),o=r(24420),u=r(12876),c=r(73555);function l(e,t){for(var r=[],a=2;a<arguments.length;a++)r[a-2]=arguments[a];return!0===t?(e(),null):!1===t?null:t.apply(void 0,i([],n(r))).pipe(s.take(1)).subscribe((function(){return e()}))}t.share=function(e){void 0===e&&(e={});var t=e.connector,r=void 0===t?function(){return new o.Subject}:t,n=e.resetOnError,i=void 0===n||n,s=e.resetOnComplete,h=void 0===s||s,f=e.resetOnRefCountZero,d=void 0===f||f;return function(e){var t=null,n=null,s=null,o=0,f=!1,p=!1,m=function(){null==n||n.unsubscribe(),n=null},b=function(){m(),t=s=null,f=p=!1},v=function(){var e=t;b(),null==e||e.unsubscribe()};return c.operate((function(e,c){o++,p||f||m();var y=s=null!=s?s:r();c.add((function(){0!==--o||p||f||(n=l(v,d))})),y.subscribe(c),t||(t=new u.SafeSubscriber({next:function(e){return y.next(e)},error:function(e){p=!0,m(),n=l(b,i,e),y.error(e)},complete:function(){f=!0,m(),n=l(b,h),y.complete()}}),a.from(e).subscribe(t))}))(e)}}},69824:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.shareReplay=void 0;var n=r(68291),i=r(74467);t.shareReplay=function(e,t,r){var a,s,o,u,c=!1;return e&&"object"==typeof e?(a=e.bufferSize,u=void 0===a?1/0:a,s=e.windowTime,t=void 0===s?1/0:s,c=void 0!==(o=e.refCount)&&o,r=e.scheduler):u=null!=e?e:1/0,i.share({connector:function(){return new n.ReplaySubject(u,t,r)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:c})}},32920:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.single=void 0;var n=r(93826),i=r(13735),a=r(68454),s=r(73555),o=r(81697);t.single=function(e){return s.operate((function(t,r){var s,u=!1,c=!1,l=0;t.subscribe(o.createOperatorSubscriber(r,(function(n){c=!0,e&&!e(n,l++,t)||(u&&r.error(new i.SequenceError("Too many matching values")),u=!0,s=n)}),(function(){u?(r.next(s),r.complete()):r.error(c?new a.NotFoundError("No matching values"):new n.EmptyError)})))}))}},55790:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.skip=void 0;var n=r(3544);t.skip=function(e){return n.filter((function(t,r){return e<=r}))}},62081:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.skipLast=void 0;var n=r(10401),i=r(73555),a=r(81697);t.skipLast=function(e){return e<=0?n.identity:i.operate((function(t,r){var n=new Array(e),i=0;return t.subscribe(a.createOperatorSubscriber(r,(function(t){var a=i++;if(a<e)n[a]=t;else{var s=a%e,o=n[s];n[s]=t,r.next(o)}}))),function(){n=null}}))}},66104:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.skipUntil=void 0;var n=r(73555),i=r(81697),a=r(99521),s=r(33287);t.skipUntil=function(e){return n.operate((function(t,r){var n=!1,o=i.createOperatorSubscriber(r,(function(){null==o||o.unsubscribe(),n=!0}),s.noop);a.innerFrom(e).subscribe(o),t.subscribe(i.createOperatorSubscriber(r,(function(e){return n&&r.next(e)})))}))}},57309:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.skipWhile=void 0;var n=r(73555),i=r(81697);t.skipWhile=function(e){return n.operate((function(t,r){var n=!1,a=0;t.subscribe(i.createOperatorSubscriber(r,(function(t){return(n||(n=!e(t,a++)))&&r.next(t)})))}))}},89587:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.startWith=void 0;var n=r(83271),i=r(79947),a=r(73555);t.startWith=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=i.popScheduler(e);return a.operate((function(t,i){(r?n.concat(e,t,r):n.concat(e,t)).subscribe(i)}))}},21860:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.subscribeOn=void 0;var n=r(73555);t.subscribeOn=function(e,t){return void 0===t&&(t=0),n.operate((function(r,n){n.add(e.schedule((function(){return r.subscribe(n)}),t))}))}},79398:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.switchAll=void 0;var n=r(44097),i=r(10401);t.switchAll=function(){return n.switchMap(i.identity)}},44097:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.switchMap=void 0;var n=r(99521),i=r(73555),a=r(81697);t.switchMap=function(e,t){return i.operate((function(r,i){var s=null,o=0,u=!1,c=function(){return u&&!s&&i.complete()};r.subscribe(a.createOperatorSubscriber(i,(function(r){null==s||s.unsubscribe();var u=0,l=o++;n.innerFrom(e(r,l)).subscribe(s=a.createOperatorSubscriber(i,(function(e){return i.next(t?t(r,e,l,u++):e)}),(function(){s=null,c()})))}),(function(){u=!0,c()})))}))}},9694:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.switchMapTo=void 0;var n=r(44097),i=r(67290);t.switchMapTo=function(e,t){return i.isFunction(t)?n.switchMap((function(){return e}),t):n.switchMap((function(){return e}))}},88818:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.switchScan=void 0;var n=r(44097),i=r(73555);t.switchScan=function(e,t){return i.operate((function(r,i){var a=t;return n.switchMap((function(t,r){return e(a,t,r)}),(function(e,t){return a=t,t}))(r).subscribe(i),function(){a=null}}))}},59154:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.take=void 0;var n=r(59591),i=r(73555),a=r(81697);t.take=function(e){return e<=0?function(){return n.EMPTY}:i.operate((function(t,r){var n=0;t.subscribe(a.createOperatorSubscriber(r,(function(t){++n<=e&&(r.next(t),e<=n&&r.complete())})))}))}},49842:function(e,t,r){"use strict";var n=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.takeLast=void 0;var i=r(59591),a=r(73555),s=r(81697);t.takeLast=function(e){return e<=0?function(){return i.EMPTY}:a.operate((function(t,r){var i=[];t.subscribe(s.createOperatorSubscriber(r,(function(t){i.push(t),e<i.length&&i.shift()}),(function(){var e,t;try{for(var a=n(i),s=a.next();!s.done;s=a.next()){var o=s.value;r.next(o)}}catch(t){e={error:t}}finally{try{s&&!s.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}r.complete()}),void 0,(function(){i=null})))}))}},68341:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.takeUntil=void 0;var n=r(73555),i=r(81697),a=r(99521),s=r(33287);t.takeUntil=function(e){return n.operate((function(t,r){a.innerFrom(e).subscribe(i.createOperatorSubscriber(r,(function(){return r.complete()}),s.noop)),!r.closed&&t.subscribe(r)}))}},20555:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.takeWhile=void 0;var n=r(73555),i=r(81697);t.takeWhile=function(e,t){return void 0===t&&(t=!1),n.operate((function(r,n){var a=0;r.subscribe(i.createOperatorSubscriber(n,(function(r){var i=e(r,a++);(i||t)&&n.next(r),!i&&n.complete()})))}))}},83073:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tap=void 0;var n=r(67290),i=r(73555),a=r(81697),s=r(10401);t.tap=function(e,t,r){var o=n.isFunction(e)||t||r?{next:e,error:t,complete:r}:e;return o?i.operate((function(e,t){var r;null===(r=o.subscribe)||void 0===r||r.call(o);var n=!0;e.subscribe(a.createOperatorSubscriber(t,(function(e){var r;null===(r=o.next)||void 0===r||r.call(o,e),t.next(e)}),(function(){var e;n=!1,null===(e=o.complete)||void 0===e||e.call(o),t.complete()}),(function(e){var r;n=!1,null===(r=o.error)||void 0===r||r.call(o,e),t.error(e)}),(function(){var e,t;n&&(null===(e=o.unsubscribe)||void 0===e||e.call(o)),null===(t=o.finalize)||void 0===t||t.call(o)})))})):s.identity}},20016:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.throttle=t.defaultThrottleConfig=void 0;var n=r(73555),i=r(81697),a=r(99521);t.defaultThrottleConfig={leading:!0,trailing:!1},t.throttle=function(e,r){return void 0===r&&(r=t.defaultThrottleConfig),n.operate((function(t,n){var s=r.leading,o=r.trailing,u=!1,c=null,l=null,h=!1,f=function(){null==l||l.unsubscribe(),l=null,o&&(m(),h&&n.complete())},d=function(){l=null,h&&n.complete()},p=function(t){return l=a.innerFrom(e(t)).subscribe(i.createOperatorSubscriber(n,f,d))},m=function(){if(u){u=!1;var e=c;c=null,n.next(e),!h&&p(e)}};t.subscribe(i.createOperatorSubscriber(n,(function(e){u=!0,c=e,(!l||l.closed)&&(s?m():p(e))}),(function(){h=!0,(!(o&&u&&l)||l.closed)&&n.complete()})))}))}},64386:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.throttleTime=void 0;var n=r(75677),i=r(20016),a=r(36924);t.throttleTime=function(e,t,r){void 0===t&&(t=n.asyncScheduler),void 0===r&&(r=i.defaultThrottleConfig);var s=a.timer(e,t);return i.throttle((function(){return s}),r)}},73527:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.throwIfEmpty=void 0;var n=r(93826),i=r(73555),a=r(81697);function s(){return new n.EmptyError}t.throwIfEmpty=function(e){return void 0===e&&(e=s),i.operate((function(t,r){var n=!1;t.subscribe(a.createOperatorSubscriber(r,(function(e){n=!0,r.next(e)}),(function(){return n?r.complete():r.error(e())})))}))}},23345:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TimeInterval=t.timeInterval=void 0;var n=r(75677),i=r(73555),a=r(81697);t.timeInterval=function(e){return void 0===e&&(e=n.asyncScheduler),i.operate((function(t,r){var n=e.now();t.subscribe(a.createOperatorSubscriber(r,(function(t){var i=e.now(),a=i-n;n=i,r.next(new s(t,a))})))}))};var s=function(e,t){this.value=e,this.interval=t};t.TimeInterval=s},69071:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.timeout=t.TimeoutError=void 0;var n=r(75677),i=r(8144),a=r(73555),s=r(99521),o=r(18066),u=r(81697),c=r(6389);function l(e){throw new t.TimeoutError(e)}t.TimeoutError=o.createErrorClass((function(e){return function(t){void 0===t&&(t=null),e(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=t}})),t.timeout=function(e,t){var r=i.isValidDate(e)?{first:e}:"number"==typeof e?{each:e}:e,o=r.first,h=r.each,f=r.with,d=void 0===f?l:f,p=r.scheduler,m=void 0===p?null!=t?t:n.asyncScheduler:p,b=r.meta,v=void 0===b?null:b;if(null==o&&null==h)throw new TypeError("No timeout provided.");return a.operate((function(e,t){var r,n,i=null,a=0,l=function(e){n=c.executeSchedule(t,m,(function(){try{r.unsubscribe(),s.innerFrom(d({meta:v,lastValue:i,seen:a})).subscribe(t)}catch(e){t.error(e)}}),e)};r=e.subscribe(u.createOperatorSubscriber(t,(function(e){null==n||n.unsubscribe(),a++,t.next(i=e),h>0&&l(h)}),void 0,void 0,(function(){(null==n?void 0:n.closed)||null==n||n.unsubscribe(),i=null}))),!a&&l(null!=o?"number"==typeof o?o:+o-m.now():h)}))}},36901:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.timeoutWith=void 0;var n=r(75677),i=r(8144),a=r(69071);t.timeoutWith=function(e,t,r){var s,o,u;if(r=null!=r?r:n.async,i.isValidDate(e)?s=e:"number"==typeof e&&(o=e),!t)throw new TypeError("No observable provided to switch to");if(u=function(){return t},null==s&&null==o)throw new TypeError("No timeout provided.");return a.timeout({first:s,each:o,scheduler:r,with:u})}},76246:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.timestamp=void 0;var n=r(3019),i=r(55614);t.timestamp=function(e){return void 0===e&&(e=n.dateTimestampProvider),i.map((function(t){return{value:t,timestamp:e.now()}}))}},83436:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toArray=void 0;var n=r(19220),i=r(73555),a=function(e,t){return e.push(t),e};t.toArray=function(){return i.operate((function(e,t){n.reduce(a,[])(e).subscribe(t)}))}},56300:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.window=void 0;var n=r(24420),i=r(73555),a=r(81697),s=r(33287);t.window=function(e){return i.operate((function(t,r){var i=new n.Subject;r.next(i.asObservable());var o=function(e){i.error(e),r.error(e)};return t.subscribe(a.createOperatorSubscriber(r,(function(e){return null==i?void 0:i.next(e)}),(function(){i.complete(),r.complete()}),o)),e.subscribe(a.createOperatorSubscriber(r,(function(){i.complete(),r.next(i=new n.Subject)}),s.noop,o)),function(){null==i||i.unsubscribe(),i=null}}))}},54587:function(e,t,r){"use strict";var n=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.windowCount=void 0;var i=r(24420),a=r(73555),s=r(81697);t.windowCount=function(e,t){void 0===t&&(t=0);var r=t>0?t:e;return a.operate((function(t,a){var o=[new i.Subject],u=0;a.next(o[0].asObservable()),t.subscribe(s.createOperatorSubscriber(a,(function(t){var s,c;try{for(var l=n(o),h=l.next();!h.done;h=l.next()){h.value.next(t)}}catch(e){s={error:e}}finally{try{h&&!h.done&&(c=l.return)&&c.call(l)}finally{if(s)throw s.error}}var f=u-e+1;if(f>=0&&f%r==0&&o.shift().complete(),++u%r==0){var d=new i.Subject;o.push(d),a.next(d.asObservable())}}),(function(){for(;o.length>0;)o.shift().complete();a.complete()}),(function(e){for(;o.length>0;)o.shift().error(e);a.error(e)}),(function(){null,o=null})))}))}},80074:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.windowTime=void 0;var n=r(24420),i=r(75677),a=r(28283),s=r(73555),o=r(81697),u=r(52406),c=r(79947),l=r(6389);t.windowTime=function(e){for(var t,r,h=[],f=1;f<arguments.length;f++)h[f-1]=arguments[f];var d=null!==(t=c.popScheduler(h))&&void 0!==t?t:i.asyncScheduler,p=null!==(r=h[0])&&void 0!==r?r:null,m=h[1]||1/0;return s.operate((function(t,r){var i=[],s=!1,c=function(e){var t=e.window,r=e.subs;t.complete(),r.unsubscribe(),u.arrRemove(i,e),s&&h()},h=function(){if(i){var t=new a.Subscription;r.add(t);var s=new n.Subject,o={window:s,subs:t,seen:0};i.push(o),r.next(s.asObservable()),l.executeSchedule(t,d,(function(){return c(o)}),e)}};null!==p&&p>=0?l.executeSchedule(r,d,h,p,!0):s=!0,h();var f=function(e){return i.slice().forEach(e)},b=function(e){f((function(t){var r=t.window;return e(r)})),e(r),r.unsubscribe()};return t.subscribe(o.createOperatorSubscriber(r,(function(e){f((function(t){t.window.next(e),m<=++t.seen&&c(t)}))}),(function(){return b((function(e){return e.complete()}))}),(function(e){return b((function(t){return t.error(e)}))}))),function(){i=null}}))}},77947:function(e,t,r){"use strict";var n=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.windowToggle=void 0;var i=r(24420),a=r(28283),s=r(73555),o=r(99521),u=r(81697),c=r(33287),l=r(52406);t.windowToggle=function(e,t){return s.operate((function(r,s){var h=[],f=function(e){for(;0<h.length;)h.shift().error(e);s.error(e)};o.innerFrom(e).subscribe(u.createOperatorSubscriber(s,(function(e){var r=new i.Subject;h.push(r);var n,d=new a.Subscription;try{n=o.innerFrom(t(e))}catch(e){return void f(e)}s.next(r.asObservable()),d.add(n.subscribe(u.createOperatorSubscriber(s,(function(){l.arrRemove(h,r),r.complete(),d.unsubscribe()}),c.noop,f)))}),c.noop)),r.subscribe(u.createOperatorSubscriber(s,(function(e){var t,r,i=h.slice();try{for(var a=n(i),s=a.next();!s.done;s=a.next()){s.value.next(e)}}catch(e){t={error:e}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(t)throw t.error}}}),(function(){for(;0<h.length;)h.shift().complete();s.complete()}),f,(function(){for(;0<h.length;)h.shift().unsubscribe()})))}))}},11039:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.windowWhen=void 0;var n=r(24420),i=r(73555),a=r(81697),s=r(99521);t.windowWhen=function(e){return i.operate((function(t,r){var i,o,u=function(e){i.error(e),r.error(e)},c=function(){var t;null==o||o.unsubscribe(),null==i||i.complete(),i=new n.Subject,r.next(i.asObservable());try{t=s.innerFrom(e())}catch(e){return void u(e)}t.subscribe(o=a.createOperatorSubscriber(r,c,c,u))};c(),t.subscribe(a.createOperatorSubscriber(r,(function(e){return i.next(e)}),(function(){i.complete(),r.complete()}),u,(function(){null==o||o.unsubscribe(),i=null})))}))}},46596:function(e,t,r){"use strict";var n=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,a=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)s.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(i)throw i.error}}return s},i=this&&this.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.withLatestFrom=void 0;var a=r(73555),s=r(81697),o=r(99521),u=r(10401),c=r(33287),l=r(79947);t.withLatestFrom=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=l.popResultSelector(e);return a.operate((function(t,a){for(var l=e.length,h=new Array(l),f=e.map((function(){return!1})),d=!1,p=function(t){o.innerFrom(e[t]).subscribe(s.createOperatorSubscriber(a,(function(e){h[t]=e,d||f[t]||(f[t]=!0,(d=f.every(u.identity))&&(f=null))}),c.noop))},m=0;m<l;m++)p(m);t.subscribe(s.createOperatorSubscriber(a,(function(e){if(d){var t=i([e],n(h));a.next(r?r.apply(void 0,i([],n(t))):t)}})))}))}},16540:function(e,t,r){"use strict";var n=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,a=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)s.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(i)throw i.error}}return s},i=this&&this.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.zip=void 0;var a=r(12104),s=r(73555);t.zip=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return s.operate((function(t,r){a.zip.apply(void 0,i([t],n(e))).subscribe(r)}))}},57521:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.zipAll=void 0;var n=r(12104),i=r(63344);t.zipAll=function(e){return i.joinAllInternals(n.zip,e)}},49625:function(e,t,r){"use strict";var n=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,a=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)s.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(i)throw i.error}}return s},i=this&&this.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.zipWith=void 0;var a=r(16540);t.zipWith=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return a.zip.apply(void 0,i([],n(e)))}},13979:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.scheduleArray=void 0;var n=r(57690);t.scheduleArray=function(e,t){return new n.Observable((function(r){var n=0;return t.schedule((function(){n===e.length?r.complete():(r.next(e[n++]),r.closed||this.schedule())}))}))}},80242:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.scheduleAsyncIterable=void 0;var n=r(57690),i=r(6389);t.scheduleAsyncIterable=function(e,t){if(!e)throw new Error("Iterable cannot be null");return new n.Observable((function(r){i.executeSchedule(r,t,(function(){var n=e[Symbol.asyncIterator]();i.executeSchedule(r,t,(function(){n.next().then((function(e){e.done?r.complete():r.next(e.value)}))}),0,!0)}))}))}},81440:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.scheduleIterable=void 0;var n=r(57690),i=r(37123),a=r(67290),s=r(6389);t.scheduleIterable=function(e,t){return new n.Observable((function(r){var n;return s.executeSchedule(r,t,(function(){n=e[i.iterator](),s.executeSchedule(r,t,(function(){var e,t,i;try{t=(e=n.next()).value,i=e.done}catch(e){return void r.error(e)}i?r.complete():r.next(t)}),0,!0)})),function(){return a.isFunction(null==n?void 0:n.return)&&n.return()}}))}},16306:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.scheduleObservable=void 0;var n=r(99521),i=r(9827),a=r(21860);t.scheduleObservable=function(e,t){return n.innerFrom(e).pipe(a.subscribeOn(t),i.observeOn(t))}},2805:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.schedulePromise=void 0;var n=r(99521),i=r(9827),a=r(21860);t.schedulePromise=function(e,t){return n.innerFrom(e).pipe(a.subscribeOn(t),i.observeOn(t))}},11064:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.scheduleReadableStreamLike=void 0;var n=r(80242),i=r(22841);t.scheduleReadableStreamLike=function(e,t){return n.scheduleAsyncIterable(i.readableStreamLikeToAsyncGenerator(e),t)}},12392:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.scheduled=void 0;var n=r(16306),i=r(2805),a=r(13979),s=r(81440),o=r(80242),u=r(32024),c=r(42246),l=r(32201),h=r(98958),f=r(38172),d=r(32149),p=r(22841),m=r(11064);t.scheduled=function(e,t){if(null!=e){if(u.isInteropObservable(e))return n.scheduleObservable(e,t);if(l.isArrayLike(e))return a.scheduleArray(e,t);if(c.isPromise(e))return i.schedulePromise(e,t);if(f.isAsyncIterable(e))return o.scheduleAsyncIterable(e,t);if(h.isIterable(e))return s.scheduleIterable(e,t);if(p.isReadableStreamLike(e))return m.scheduleReadableStreamLike(e,t)}throw d.createInvalidObservableTypeError(e)}},58192:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.Action=void 0;var a=function(e){function t(t,r){return e.call(this)||this}return i(t,e),t.prototype.schedule=function(e,t){return void 0===t&&(t=0),this},t}(r(28283).Subscription);t.Action=a},403:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.AnimationFrameAction=void 0;var a=r(98763),s=r(33384),o=function(e){function t(t,r){var n=e.call(this,t,r)||this;return n.scheduler=t,n.work=r,n}return i(t,e),t.prototype.requestAsyncId=function(t,r,n){return void 0===n&&(n=0),null!==n&&n>0?e.prototype.requestAsyncId.call(this,t,r,n):(t.actions.push(this),t._scheduled||(t._scheduled=s.animationFrameProvider.requestAnimationFrame((function(){return t.flush(void 0)}))))},t.prototype.recycleAsyncId=function(t,r,n){if(void 0===n&&(n=0),null!=n&&n>0||null==n&&this.delay>0)return e.prototype.recycleAsyncId.call(this,t,r,n);t.actions.some((function(e){return e.id===r}))||(s.animationFrameProvider.cancelAnimationFrame(r),t._scheduled=void 0)},t}(a.AsyncAction);t.AnimationFrameAction=o},47391:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.AnimationFrameScheduler=void 0;var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.flush=function(e){this._active=!0;var t=this._scheduled;this._scheduled=void 0;var r,n=this.actions;e=e||n.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=n[0])&&e.id===t&&n.shift());if(this._active=!1,r){for(;(e=n[0])&&e.id===t&&n.shift();)e.unsubscribe();throw r}},t}(r(60461).AsyncScheduler);t.AnimationFrameScheduler=a},20403:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.AsapAction=void 0;var a=r(98763),s=r(82151),o=function(e){function t(t,r){var n=e.call(this,t,r)||this;return n.scheduler=t,n.work=r,n}return i(t,e),t.prototype.requestAsyncId=function(t,r,n){return void 0===n&&(n=0),null!==n&&n>0?e.prototype.requestAsyncId.call(this,t,r,n):(t.actions.push(this),t._scheduled||(t._scheduled=s.immediateProvider.setImmediate(t.flush.bind(t,void 0))))},t.prototype.recycleAsyncId=function(t,r,n){if(void 0===n&&(n=0),null!=n&&n>0||null==n&&this.delay>0)return e.prototype.recycleAsyncId.call(this,t,r,n);t.actions.some((function(e){return e.id===r}))||(s.immediateProvider.clearImmediate(r),t._scheduled=void 0)},t}(a.AsyncAction);t.AsapAction=o},69343:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.AsapScheduler=void 0;var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.flush=function(e){this._active=!0;var t=this._scheduled;this._scheduled=void 0;var r,n=this.actions;e=e||n.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=n[0])&&e.id===t&&n.shift());if(this._active=!1,r){for(;(e=n[0])&&e.id===t&&n.shift();)e.unsubscribe();throw r}},t}(r(60461).AsyncScheduler);t.AsapScheduler=a},98763:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.AsyncAction=void 0;var a=r(58192),s=r(59118),o=r(52406),u=function(e){function t(t,r){var n=e.call(this,t,r)||this;return n.scheduler=t,n.work=r,n.pending=!1,n}return i(t,e),t.prototype.schedule=function(e,t){if(void 0===t&&(t=0),this.closed)return this;this.state=e;var r=this.id,n=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(n,r,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(n,this.id,t),this},t.prototype.requestAsyncId=function(e,t,r){return void 0===r&&(r=0),s.intervalProvider.setInterval(e.flush.bind(e,this),r)},t.prototype.recycleAsyncId=function(e,t,r){if(void 0===r&&(r=0),null!=r&&this.delay===r&&!1===this.pending)return t;s.intervalProvider.clearInterval(t)},t.prototype.execute=function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(e,t){var r,n=!1;try{this.work(e)}catch(e){n=!0,r=e||new Error("Scheduled action threw falsy error")}if(n)return this.unsubscribe(),r},t.prototype.unsubscribe=function(){if(!this.closed){var t=this.id,r=this.scheduler,n=r.actions;this.work=this.state=this.scheduler=null,this.pending=!1,o.arrRemove(n,this),null!=t&&(this.id=this.recycleAsyncId(r,t,null)),this.delay=null,e.prototype.unsubscribe.call(this)}},t}(a.Action);t.AsyncAction=u},60461:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.AsyncScheduler=void 0;var a=r(60197),s=function(e){function t(t,r){void 0===r&&(r=a.Scheduler.now);var n=e.call(this,t,r)||this;return n.actions=[],n._active=!1,n._scheduled=void 0,n}return i(t,e),t.prototype.flush=function(e){var t=this.actions;if(this._active)t.push(e);else{var r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}},t}(a.Scheduler);t.AsyncScheduler=s},56053:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.QueueAction=void 0;var a=function(e){function t(t,r){var n=e.call(this,t,r)||this;return n.scheduler=t,n.work=r,n}return i(t,e),t.prototype.schedule=function(t,r){return void 0===r&&(r=0),r>0?e.prototype.schedule.call(this,t,r):(this.delay=r,this.state=t,this.scheduler.flush(this),this)},t.prototype.execute=function(t,r){return r>0||this.closed?e.prototype.execute.call(this,t,r):this._execute(t,r)},t.prototype.requestAsyncId=function(t,r,n){return void 0===n&&(n=0),null!=n&&n>0||null==n&&this.delay>0?e.prototype.requestAsyncId.call(this,t,r,n):t.flush(this)},t}(r(98763).AsyncAction);t.QueueAction=a},82602:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.QueueScheduler=void 0;var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t}(r(60461).AsyncScheduler);t.QueueScheduler=a},63457:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.VirtualAction=t.VirtualTimeScheduler=void 0;var a=r(98763),s=r(28283),o=function(e){function t(t,r){void 0===t&&(t=u),void 0===r&&(r=1/0);var n=e.call(this,t,(function(){return n.frame}))||this;return n.maxFrames=r,n.frame=0,n.index=-1,n}return i(t,e),t.prototype.flush=function(){for(var e,t,r=this.actions,n=this.maxFrames;(t=r[0])&&t.delay<=n&&(r.shift(),this.frame=t.delay,!(e=t.execute(t.state,t.delay))););if(e){for(;t=r.shift();)t.unsubscribe();throw e}},t.frameTimeFactor=10,t}(r(60461).AsyncScheduler);t.VirtualTimeScheduler=o;var u=function(e){function t(t,r,n){void 0===n&&(n=t.index+=1);var i=e.call(this,t,r)||this;return i.scheduler=t,i.work=r,i.index=n,i.active=!0,i.index=t.index=n,i}return i(t,e),t.prototype.schedule=function(r,n){if(void 0===n&&(n=0),Number.isFinite(n)){if(!this.id)return e.prototype.schedule.call(this,r,n);this.active=!1;var i=new t(this.scheduler,this.work);return this.add(i),i.schedule(r,n)}return s.Subscription.EMPTY},t.prototype.requestAsyncId=function(e,r,n){void 0===n&&(n=0),this.delay=e.frame+n;var i=e.actions;return i.push(this),i.sort(t.sortActions),!0},t.prototype.recycleAsyncId=function(e,t,r){void 0===r&&(r=0)},t.prototype._execute=function(t,r){if(!0===this.active)return e.prototype._execute.call(this,t,r)},t.sortActions=function(e,t){return e.delay===t.delay?e.index===t.index?0:e.index>t.index?1:-1:e.delay>t.delay?1:-1},t}(a.AsyncAction);t.VirtualAction=u},19892:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.animationFrame=t.animationFrameScheduler=void 0;var n=r(403),i=r(47391);t.animationFrameScheduler=new i.AnimationFrameScheduler(n.AnimationFrameAction),t.animationFrame=t.animationFrameScheduler},33384:function(e,t,r){"use strict";var n=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,a=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)s.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(i)throw i.error}}return s},i=this&&this.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.animationFrameProvider=void 0;var a=r(28283);t.animationFrameProvider={schedule:function(e){var r=requestAnimationFrame,n=cancelAnimationFrame,i=t.animationFrameProvider.delegate;i&&(r=i.requestAnimationFrame,n=i.cancelAnimationFrame);var s=r((function(t){n=void 0,e(t)}));return new a.Subscription((function(){return null==n?void 0:n(s)}))},requestAnimationFrame:function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var a=t.animationFrameProvider.delegate;return((null==a?void 0:a.requestAnimationFrame)||requestAnimationFrame).apply(void 0,i([],n(e)))},cancelAnimationFrame:function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var a=t.animationFrameProvider.delegate;return((null==a?void 0:a.cancelAnimationFrame)||cancelAnimationFrame).apply(void 0,i([],n(e)))},delegate:void 0}},7287:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.asap=t.asapScheduler=void 0;var n=r(20403),i=r(69343);t.asapScheduler=new i.AsapScheduler(n.AsapAction),t.asap=t.asapScheduler},75677:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.async=t.asyncScheduler=void 0;var n=r(98763),i=r(60461);t.asyncScheduler=new i.AsyncScheduler(n.AsyncAction),t.async=t.asyncScheduler},3019:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dateTimestampProvider=void 0,t.dateTimestampProvider={now:function(){return(t.dateTimestampProvider.delegate||Date).now()},delegate:void 0}},82151:function(e,t,r){"use strict";var n=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,a=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)s.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(i)throw i.error}}return s},i=this&&this.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.immediateProvider=void 0;var a=r(96776),s=a.Immediate.setImmediate,o=a.Immediate.clearImmediate;t.immediateProvider={setImmediate:function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var a=t.immediateProvider.delegate;return((null==a?void 0:a.setImmediate)||s).apply(void 0,i([],n(e)))},clearImmediate:function(e){var r=t.immediateProvider.delegate;return((null==r?void 0:r.clearImmediate)||o)(e)},delegate:void 0}},59118:function(e,t){"use strict";var r=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,a=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)s.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(i)throw i.error}}return s},n=this&&this.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.intervalProvider=void 0,t.intervalProvider={setInterval:function(e,i){for(var a=[],s=2;s<arguments.length;s++)a[s-2]=arguments[s];var o=t.intervalProvider.delegate;return(null==o?void 0:o.setInterval)?o.setInterval.apply(o,n([e,i],r(a))):setInterval.apply(void 0,n([e,i],r(a)))},clearInterval:function(e){var r=t.intervalProvider.delegate;return((null==r?void 0:r.clearInterval)||clearInterval)(e)},delegate:void 0}},51697:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.performanceTimestampProvider=void 0,t.performanceTimestampProvider={now:function(){return(t.performanceTimestampProvider.delegate||performance).now()},delegate:void 0}},20178:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.queue=t.queueScheduler=void 0;var n=r(56053),i=r(82602);t.queueScheduler=new i.QueueScheduler(n.QueueAction),t.queue=t.queueScheduler},22187:function(e,t){"use strict";var r=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,a=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)s.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(i)throw i.error}}return s},n=this&&this.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.timeoutProvider=void 0,t.timeoutProvider={setTimeout:function(e,i){for(var a=[],s=2;s<arguments.length;s++)a[s-2]=arguments[s];var o=t.timeoutProvider.delegate;return(null==o?void 0:o.setTimeout)?o.setTimeout.apply(o,n([e,i],r(a))):setTimeout.apply(void 0,n([e,i],r(a)))},clearTimeout:function(e){var r=t.timeoutProvider.delegate;return((null==r?void 0:r.clearTimeout)||clearTimeout)(e)},delegate:void 0}},37123:(e,t)=>{"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}Object.defineProperty(t,"__esModule",{value:!0}),t.iterator=t.getSymbolIterator=void 0,t.getSymbolIterator=r,t.iterator=r()},59776:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.observable=void 0,t.observable="function"==typeof Symbol&&Symbol.observable||"@@observable"},10093:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},63022:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ArgumentOutOfRangeError=void 0;var n=r(18066);t.ArgumentOutOfRangeError=n.createErrorClass((function(e){return function(){e(this),this.name="ArgumentOutOfRangeError",this.message="argument out of range"}}))},93826:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EmptyError=void 0;var n=r(18066);t.EmptyError=n.createErrorClass((function(e){return function(){e(this),this.name="EmptyError",this.message="no elements in sequence"}}))},96776:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TestTools=t.Immediate=void 0;var r,n=1,i={};function a(e){return e in i&&(delete i[e],!0)}t.Immediate={setImmediate:function(e){var t=n++;return i[t]=!0,r||(r=Promise.resolve()),r.then((function(){return a(t)&&e()})),t},clearImmediate:function(e){a(e)}},t.TestTools={pending:function(){return Object.keys(i).length}}},68454:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NotFoundError=void 0;var n=r(18066);t.NotFoundError=n.createErrorClass((function(e){return function(t){e(this),this.name="NotFoundError",this.message=t}}))},8270:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ObjectUnsubscribedError=void 0;var n=r(18066);t.ObjectUnsubscribedError=n.createErrorClass((function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}))},13735:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SequenceError=void 0;var n=r(18066);t.SequenceError=n.createErrorClass((function(e){return function(t){e(this),this.name="SequenceError",this.message=t}}))},44095:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UnsubscriptionError=void 0;var n=r(18066);t.UnsubscriptionError=n.createErrorClass((function(e){return function(t){e(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map((function(e,t){return t+1+") "+e.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t}}))},79947:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.popNumber=t.popScheduler=t.popResultSelector=void 0;var n=r(67290),i=r(97729);function a(e){return e[e.length-1]}t.popResultSelector=function(e){return n.isFunction(a(e))?e.pop():void 0},t.popScheduler=function(e){return i.isScheduler(a(e))?e.pop():void 0},t.popNumber=function(e,t){return"number"==typeof a(e)?e.pop():t}},98200:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.argsArgArrayOrObject=void 0;var r=Array.isArray,n=Object.getPrototypeOf,i=Object.prototype,a=Object.keys;t.argsArgArrayOrObject=function(e){if(1===e.length){var t=e[0];if(r(t))return{args:t,keys:null};if((o=t)&&"object"==typeof o&&n(o)===i){var s=a(t);return{args:s.map((function(e){return t[e]})),keys:s}}}var o;return{args:e,keys:null}}},11554:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.argsOrArgArray=void 0;var r=Array.isArray;t.argsOrArgArray=function(e){return 1===e.length&&r(e[0])?e[0]:e}},52406:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.arrRemove=void 0,t.arrRemove=function(e,t){if(e){var r=e.indexOf(t);0<=r&&e.splice(r,1)}}},18066:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createErrorClass=void 0,t.createErrorClass=function(e){var t=e((function(e){Error.call(e),e.stack=(new Error).stack}));return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}},17245:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createObject=void 0,t.createObject=function(e,t){return e.reduce((function(e,r,n){return e[r]=t[n],e}),{})}},10299:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.captureError=t.errorContext=void 0;var n=r(21716),i=null;t.errorContext=function(e){if(n.config.useDeprecatedSynchronousErrorHandling){var t=!i;if(t&&(i={errorThrown:!1,error:null}),e(),t){var r=i,a=r.errorThrown,s=r.error;if(i=null,a)throw s}}else e()},t.captureError=function(e){n.config.useDeprecatedSynchronousErrorHandling&&i&&(i.errorThrown=!0,i.error=e)}},6389:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.executeSchedule=void 0,t.executeSchedule=function(e,t,r,n,i){void 0===n&&(n=0),void 0===i&&(i=!1);var a=t.schedule((function(){r(),i?e.add(this.schedule(null,n)):this.unsubscribe()}),n);if(e.add(a),!i)return a}},10401:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.identity=void 0,t.identity=function(e){return e}},32201:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isArrayLike=void 0,t.isArrayLike=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e}},38172:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isAsyncIterable=void 0;var n=r(67290);t.isAsyncIterable=function(e){return Symbol.asyncIterator&&n.isFunction(null==e?void 0:e[Symbol.asyncIterator])}},8144:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isValidDate=void 0,t.isValidDate=function(e){return e instanceof Date&&!isNaN(e)}},67290:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isFunction=void 0,t.isFunction=function(e){return"function"==typeof e}},32024:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isInteropObservable=void 0;var n=r(59776),i=r(67290);t.isInteropObservable=function(e){return i.isFunction(e[n.observable])}},98958:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isIterable=void 0;var n=r(37123),i=r(67290);t.isIterable=function(e){return i.isFunction(null==e?void 0:e[n.iterator])}},65107:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isObservable=void 0;var n=r(57690),i=r(67290);t.isObservable=function(e){return!!e&&(e instanceof n.Observable||i.isFunction(e.lift)&&i.isFunction(e.subscribe))}},42246:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isPromise=void 0;var n=r(67290);t.isPromise=function(e){return n.isFunction(null==e?void 0:e.then)}},22841:function(e,t,r){"use strict";var n=this&&this.__generator||function(e,t){var r,n,i,a,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function o(a){return function(o){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(i=2&a[0]?n.return:a[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,a[1])).done)return i;switch(n=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,n=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){s.label=a[1];break}if(6===a[0]&&s.label<i[1]){s.label=i[1],i=a;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(a);break}i[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],n=0}finally{r=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,o])}}},i=this&&this.__await||function(e){return this instanceof i?(this.v=e,this):new i(e)},a=this&&this.__asyncGenerator||function(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,a=r.apply(e,t||[]),s=[];return n={},o("next"),o("throw"),o("return"),n[Symbol.asyncIterator]=function(){return this},n;function o(e){a[e]&&(n[e]=function(t){return new Promise((function(r,n){s.push([e,t,r,n])>1||u(e,t)}))})}function u(e,t){try{(r=a[e](t)).value instanceof i?Promise.resolve(r.value.v).then(c,l):h(s[0][2],r)}catch(e){h(s[0][3],e)}var r}function c(e){u("next",e)}function l(e){u("throw",e)}function h(e,t){e(t),s.shift(),s.length&&u(s[0][0],s[0][1])}};Object.defineProperty(t,"__esModule",{value:!0}),t.isReadableStreamLike=t.readableStreamLikeToAsyncGenerator=void 0;var s=r(67290);t.readableStreamLikeToAsyncGenerator=function(e){return a(this,arguments,(function(){var t,r,a;return n(this,(function(n){switch(n.label){case 0:t=e.getReader(),n.label=1;case 1:n.trys.push([1,,9,10]),n.label=2;case 2:return[4,i(t.read())];case 3:return r=n.sent(),a=r.value,r.done?[4,i(void 0)]:[3,5];case 4:return[2,n.sent()];case 5:return[4,i(a)];case 6:return[4,n.sent()];case 7:return n.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}}))}))},t.isReadableStreamLike=function(e){return s.isFunction(null==e?void 0:e.getReader)}},97729:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isScheduler=void 0;var n=r(67290);t.isScheduler=function(e){return e&&n.isFunction(e.schedule)}},73555:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.operate=t.hasLift=void 0;var n=r(67290);function i(e){return n.isFunction(null==e?void 0:e.lift)}t.hasLift=i,t.operate=function(e){return function(t){if(i(t))return t.lift((function(t){try{return e(t,this)}catch(e){this.error(e)}}));throw new TypeError("Unable to lift unknown Observable type")}}},87798:function(e,t,r){"use strict";var n=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,a=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)s.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(i)throw i.error}}return s},i=this&&this.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.mapOneOrManyArgs=void 0;var a=r(55614),s=Array.isArray;t.mapOneOrManyArgs=function(e){return a.map((function(t){return function(e,t){return s(t)?e.apply(void 0,i([],n(t))):e(t)}(e,t)}))}},33287:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.noop=void 0,t.noop=function(){}},26608:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.not=void 0,t.not=function(e,t){return function(r,n){return!e.call(t,r,n)}}},30917:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.pipeFromArray=t.pipe=void 0;var n=r(10401);function i(e){return 0===e.length?n.identity:1===e.length?e[0]:function(t){return e.reduce((function(e,t){return t(e)}),t)}}t.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return i(e)},t.pipeFromArray=i},82662:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.reportUnhandledError=void 0;var n=r(21716),i=r(22187);t.reportUnhandledError=function(e){i.timeoutProvider.setTimeout((function(){var t=n.config.onUnhandledError;if(!t)throw e;t(e)}))}},32149:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createInvalidObservableTypeError=void 0,t.createInvalidObservableTypeError=function(e){return new TypeError("You provided "+(null!==e&&"object"==typeof e?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}},3343:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mergeAll=t.merge=t.max=t.materialize=t.mapTo=t.map=t.last=t.isEmpty=t.ignoreElements=t.groupBy=t.first=t.findIndex=t.find=t.finalize=t.filter=t.expand=t.exhaustMap=t.exhaustAll=t.exhaust=t.every=t.endWith=t.elementAt=t.distinctUntilKeyChanged=t.distinctUntilChanged=t.distinct=t.dematerialize=t.delayWhen=t.delay=t.defaultIfEmpty=t.debounceTime=t.debounce=t.count=t.connect=t.concatWith=t.concatMapTo=t.concatMap=t.concatAll=t.concat=t.combineLatestWith=t.combineLatest=t.combineLatestAll=t.combineAll=t.catchError=t.bufferWhen=t.bufferToggle=t.bufferTime=t.bufferCount=t.buffer=t.auditTime=t.audit=void 0,t.timeInterval=t.throwIfEmpty=t.throttleTime=t.throttle=t.tap=t.takeWhile=t.takeUntil=t.takeLast=t.take=t.switchScan=t.switchMapTo=t.switchMap=t.switchAll=t.subscribeOn=t.startWith=t.skipWhile=t.skipUntil=t.skipLast=t.skip=t.single=t.shareReplay=t.share=t.sequenceEqual=t.scan=t.sampleTime=t.sample=t.refCount=t.retryWhen=t.retry=t.repeatWhen=t.repeat=t.reduce=t.raceWith=t.race=t.publishReplay=t.publishLast=t.publishBehavior=t.publish=t.pluck=t.partition=t.pairwise=t.onErrorResumeNext=t.observeOn=t.multicast=t.min=t.mergeWith=t.mergeScan=t.mergeMapTo=t.mergeMap=t.flatMap=void 0,t.zipWith=t.zipAll=t.zip=t.withLatestFrom=t.windowWhen=t.windowToggle=t.windowTime=t.windowCount=t.window=t.toArray=t.timestamp=t.timeoutWith=t.timeout=void 0;var n=r(10985);Object.defineProperty(t,"audit",{enumerable:!0,get:function(){return n.audit}});var i=r(41245);Object.defineProperty(t,"auditTime",{enumerable:!0,get:function(){return i.auditTime}});var a=r(46487);Object.defineProperty(t,"buffer",{enumerable:!0,get:function(){return a.buffer}});var s=r(5477);Object.defineProperty(t,"bufferCount",{enumerable:!0,get:function(){return s.bufferCount}});var o=r(18941);Object.defineProperty(t,"bufferTime",{enumerable:!0,get:function(){return o.bufferTime}});var u=r(70757);Object.defineProperty(t,"bufferToggle",{enumerable:!0,get:function(){return u.bufferToggle}});var c=r(29861);Object.defineProperty(t,"bufferWhen",{enumerable:!0,get:function(){return c.bufferWhen}});var l=r(11350);Object.defineProperty(t,"catchError",{enumerable:!0,get:function(){return l.catchError}});var h=r(17457);Object.defineProperty(t,"combineAll",{enumerable:!0,get:function(){return h.combineAll}});var f=r(52668);Object.defineProperty(t,"combineLatestAll",{enumerable:!0,get:function(){return f.combineLatestAll}});var d=r(62186);Object.defineProperty(t,"combineLatest",{enumerable:!0,get:function(){return d.combineLatest}});var p=r(44917);Object.defineProperty(t,"combineLatestWith",{enumerable:!0,get:function(){return p.combineLatestWith}});var m=r(70510);Object.defineProperty(t,"concat",{enumerable:!0,get:function(){return m.concat}});var b=r(46330);Object.defineProperty(t,"concatAll",{enumerable:!0,get:function(){return b.concatAll}});var v=r(97096);Object.defineProperty(t,"concatMap",{enumerable:!0,get:function(){return v.concatMap}});var y=r(14398);Object.defineProperty(t,"concatMapTo",{enumerable:!0,get:function(){return y.concatMapTo}});var g=r(34857);Object.defineProperty(t,"concatWith",{enumerable:!0,get:function(){return g.concatWith}});var w=r(8891);Object.defineProperty(t,"connect",{enumerable:!0,get:function(){return w.connect}});var S=r(17705);Object.defineProperty(t,"count",{enumerable:!0,get:function(){return S.count}});var _=r(41468);Object.defineProperty(t,"debounce",{enumerable:!0,get:function(){return _.debounce}});var A=r(79915);Object.defineProperty(t,"debounceTime",{enumerable:!0,get:function(){return A.debounceTime}});var k=r(43058);Object.defineProperty(t,"defaultIfEmpty",{enumerable:!0,get:function(){return k.defaultIfEmpty}});var E=r(437);Object.defineProperty(t,"delay",{enumerable:!0,get:function(){return E.delay}});var O=r(11816);Object.defineProperty(t,"delayWhen",{enumerable:!0,get:function(){return O.delayWhen}});var C=r(91593);Object.defineProperty(t,"dematerialize",{enumerable:!0,get:function(){return C.dematerialize}});var N=r(16801);Object.defineProperty(t,"distinct",{enumerable:!0,get:function(){return N.distinct}});var x=r(55610);Object.defineProperty(t,"distinctUntilChanged",{enumerable:!0,get:function(){return x.distinctUntilChanged}});var P=r(66896);Object.defineProperty(t,"distinctUntilKeyChanged",{enumerable:!0,get:function(){return P.distinctUntilKeyChanged}});var I=r(33703);Object.defineProperty(t,"elementAt",{enumerable:!0,get:function(){return I.elementAt}});var T=r(8806);Object.defineProperty(t,"endWith",{enumerable:!0,get:function(){return T.endWith}});var j=r(79770);Object.defineProperty(t,"every",{enumerable:!0,get:function(){return j.every}});var V=r(46910);Object.defineProperty(t,"exhaust",{enumerable:!0,get:function(){return V.exhaust}});var B=r(19597);Object.defineProperty(t,"exhaustAll",{enumerable:!0,get:function(){return B.exhaustAll}});var D=r(93546);Object.defineProperty(t,"exhaustMap",{enumerable:!0,get:function(){return D.exhaustMap}});var H=r(45038);Object.defineProperty(t,"expand",{enumerable:!0,get:function(){return H.expand}});var M=r(3544);Object.defineProperty(t,"filter",{enumerable:!0,get:function(){return M.filter}});var R=r(86822);Object.defineProperty(t,"finalize",{enumerable:!0,get:function(){return R.finalize}});var L=r(75885);Object.defineProperty(t,"find",{enumerable:!0,get:function(){return L.find}});var $=r(2037);Object.defineProperty(t,"findIndex",{enumerable:!0,get:function(){return $.findIndex}});var U=r(61440);Object.defineProperty(t,"first",{enumerable:!0,get:function(){return U.first}});var F=r(71621);Object.defineProperty(t,"groupBy",{enumerable:!0,get:function(){return F.groupBy}});var K=r(75280);Object.defineProperty(t,"ignoreElements",{enumerable:!0,get:function(){return K.ignoreElements}});var z=r(54008);Object.defineProperty(t,"isEmpty",{enumerable:!0,get:function(){return z.isEmpty}});var W=r(11857);Object.defineProperty(t,"last",{enumerable:!0,get:function(){return W.last}});var q=r(55614);Object.defineProperty(t,"map",{enumerable:!0,get:function(){return q.map}});var Z=r(57386);Object.defineProperty(t,"mapTo",{enumerable:!0,get:function(){return Z.mapTo}});var J=r(83030);Object.defineProperty(t,"materialize",{enumerable:!0,get:function(){return J.materialize}});var G=r(21289);Object.defineProperty(t,"max",{enumerable:!0,get:function(){return G.max}});var Y=r(77161);Object.defineProperty(t,"merge",{enumerable:!0,get:function(){return Y.merge}});var X=r(13081);Object.defineProperty(t,"mergeAll",{enumerable:!0,get:function(){return X.mergeAll}});var Q=r(24884);Object.defineProperty(t,"flatMap",{enumerable:!0,get:function(){return Q.flatMap}});var ee=r(20431);Object.defineProperty(t,"mergeMap",{enumerable:!0,get:function(){return ee.mergeMap}});var te=r(94464);Object.defineProperty(t,"mergeMapTo",{enumerable:!0,get:function(){return te.mergeMapTo}});var re=r(64583);Object.defineProperty(t,"mergeScan",{enumerable:!0,get:function(){return re.mergeScan}});var ne=r(55780);Object.defineProperty(t,"mergeWith",{enumerable:!0,get:function(){return ne.mergeWith}});var ie=r(97934);Object.defineProperty(t,"min",{enumerable:!0,get:function(){return ie.min}});var ae=r(22406);Object.defineProperty(t,"multicast",{enumerable:!0,get:function(){return ae.multicast}});var se=r(9827);Object.defineProperty(t,"observeOn",{enumerable:!0,get:function(){return se.observeOn}});var oe=r(23962);Object.defineProperty(t,"onErrorResumeNext",{enumerable:!0,get:function(){return oe.onErrorResumeNext}});var ue=r(37428);Object.defineProperty(t,"pairwise",{enumerable:!0,get:function(){return ue.pairwise}});var ce=r(15014);Object.defineProperty(t,"partition",{enumerable:!0,get:function(){return ce.partition}});var le=r(82974);Object.defineProperty(t,"pluck",{enumerable:!0,get:function(){return le.pluck}});var he=r(7714);Object.defineProperty(t,"publish",{enumerable:!0,get:function(){return he.publish}});var fe=r(93657);Object.defineProperty(t,"publishBehavior",{enumerable:!0,get:function(){return fe.publishBehavior}});var de=r(63216);Object.defineProperty(t,"publishLast",{enumerable:!0,get:function(){return de.publishLast}});var pe=r(63473);Object.defineProperty(t,"publishReplay",{enumerable:!0,get:function(){return pe.publishReplay}});var me=r(99931);Object.defineProperty(t,"race",{enumerable:!0,get:function(){return me.race}});var be=r(51698);Object.defineProperty(t,"raceWith",{enumerable:!0,get:function(){return be.raceWith}});var ve=r(19220);Object.defineProperty(t,"reduce",{enumerable:!0,get:function(){return ve.reduce}});var ye=r(61711);Object.defineProperty(t,"repeat",{enumerable:!0,get:function(){return ye.repeat}});var ge=r(28079);Object.defineProperty(t,"repeatWhen",{enumerable:!0,get:function(){return ge.repeatWhen}});var we=r(88174);Object.defineProperty(t,"retry",{enumerable:!0,get:function(){return we.retry}});var Se=r(1372);Object.defineProperty(t,"retryWhen",{enumerable:!0,get:function(){return Se.retryWhen}});var _e=r(71808);Object.defineProperty(t,"refCount",{enumerable:!0,get:function(){return _e.refCount}});var Ae=r(37117);Object.defineProperty(t,"sample",{enumerable:!0,get:function(){return Ae.sample}});var ke=r(91637);Object.defineProperty(t,"sampleTime",{enumerable:!0,get:function(){return ke.sampleTime}});var Ee=r(58608);Object.defineProperty(t,"scan",{enumerable:!0,get:function(){return Ee.scan}});var Oe=r(890);Object.defineProperty(t,"sequenceEqual",{enumerable:!0,get:function(){return Oe.sequenceEqual}});var Ce=r(74467);Object.defineProperty(t,"share",{enumerable:!0,get:function(){return Ce.share}});var Ne=r(69824);Object.defineProperty(t,"shareReplay",{enumerable:!0,get:function(){return Ne.shareReplay}});var xe=r(32920);Object.defineProperty(t,"single",{enumerable:!0,get:function(){return xe.single}});var Pe=r(55790);Object.defineProperty(t,"skip",{enumerable:!0,get:function(){return Pe.skip}});var Ie=r(62081);Object.defineProperty(t,"skipLast",{enumerable:!0,get:function(){return Ie.skipLast}});var Te=r(66104);Object.defineProperty(t,"skipUntil",{enumerable:!0,get:function(){return Te.skipUntil}});var je=r(57309);Object.defineProperty(t,"skipWhile",{enumerable:!0,get:function(){return je.skipWhile}});var Ve=r(89587);Object.defineProperty(t,"startWith",{enumerable:!0,get:function(){return Ve.startWith}});var Be=r(21860);Object.defineProperty(t,"subscribeOn",{enumerable:!0,get:function(){return Be.subscribeOn}});var De=r(79398);Object.defineProperty(t,"switchAll",{enumerable:!0,get:function(){return De.switchAll}});var He=r(44097);Object.defineProperty(t,"switchMap",{enumerable:!0,get:function(){return He.switchMap}});var Me=r(9694);Object.defineProperty(t,"switchMapTo",{enumerable:!0,get:function(){return Me.switchMapTo}});var Re=r(88818);Object.defineProperty(t,"switchScan",{enumerable:!0,get:function(){return Re.switchScan}});var Le=r(59154);Object.defineProperty(t,"take",{enumerable:!0,get:function(){return Le.take}});var $e=r(49842);Object.defineProperty(t,"takeLast",{enumerable:!0,get:function(){return $e.takeLast}});var Ue=r(68341);Object.defineProperty(t,"takeUntil",{enumerable:!0,get:function(){return Ue.takeUntil}});var Fe=r(20555);Object.defineProperty(t,"takeWhile",{enumerable:!0,get:function(){return Fe.takeWhile}});var Ke=r(83073);Object.defineProperty(t,"tap",{enumerable:!0,get:function(){return Ke.tap}});var ze=r(20016);Object.defineProperty(t,"throttle",{enumerable:!0,get:function(){return ze.throttle}});var We=r(64386);Object.defineProperty(t,"throttleTime",{enumerable:!0,get:function(){return We.throttleTime}});var qe=r(73527);Object.defineProperty(t,"throwIfEmpty",{enumerable:!0,get:function(){return qe.throwIfEmpty}});var Ze=r(23345);Object.defineProperty(t,"timeInterval",{enumerable:!0,get:function(){return Ze.timeInterval}});var Je=r(69071);Object.defineProperty(t,"timeout",{enumerable:!0,get:function(){return Je.timeout}});var Ge=r(36901);Object.defineProperty(t,"timeoutWith",{enumerable:!0,get:function(){return Ge.timeoutWith}});var Ye=r(76246);Object.defineProperty(t,"timestamp",{enumerable:!0,get:function(){return Ye.timestamp}});var Xe=r(83436);Object.defineProperty(t,"toArray",{enumerable:!0,get:function(){return Xe.toArray}});var Qe=r(56300);Object.defineProperty(t,"window",{enumerable:!0,get:function(){return Qe.window}});var et=r(54587);Object.defineProperty(t,"windowCount",{enumerable:!0,get:function(){return et.windowCount}});var tt=r(80074);Object.defineProperty(t,"windowTime",{enumerable:!0,get:function(){return tt.windowTime}});var rt=r(77947);Object.defineProperty(t,"windowToggle",{enumerable:!0,get:function(){return rt.windowToggle}});var nt=r(11039);Object.defineProperty(t,"windowWhen",{enumerable:!0,get:function(){return nt.windowWhen}});var it=r(46596);Object.defineProperty(t,"withLatestFrom",{enumerable:!0,get:function(){return it.withLatestFrom}});var at=r(16540);Object.defineProperty(t,"zip",{enumerable:!0,get:function(){return at.zip}});var st=r(57521);Object.defineProperty(t,"zipAll",{enumerable:!0,get:function(){return st.zipAll}});var ot=r(49625);Object.defineProperty(t,"zipWith",{enumerable:!0,get:function(){return ot.zipWith}})},24966:(e,t,r)=>{"use strict";r.d(t,{X:()=>i});var n=r(88802),i=function(e){function t(t){var r=e.call(this)||this;return r._value=t,r}return(0,n.__extends)(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),t.prototype._subscribe=function(t){var r=e.prototype._subscribe.call(this,t);return!r.closed&&t.next(this._value),r},t.prototype.getValue=function(){var e=this,t=e.hasError,r=e.thrownError,n=e._value;if(t)throw r;return this._throwIfClosed(),n},t.prototype.next=function(t){e.prototype.next.call(this,this._value=t)},t}(r(98187).x)},58376:(e,t,r)=>{"use strict";r.d(t,{y:()=>l});var n=r(6179),i=r(97805),a=r(63129),s=r(84587),o=r(41430),u=r(40923),c=r(75591),l=function(){function e(e){e&&(this._subscribe=e)}return e.prototype.lift=function(t){var r=new e;return r.source=this,r.operator=t,r},e.prototype.subscribe=function(e,t,r){var a,s=this,o=(a=e)&&a instanceof n.Lv||function(e){return e&&(0,u.m)(e.next)&&(0,u.m)(e.error)&&(0,u.m)(e.complete)}(a)&&(0,i.Nn)(a)?e:new n.Hp(e,t,r);return(0,c.x)((function(){var e=s,t=e.operator,r=e.source;o.add(t?t.call(o,r):r?s._subscribe(o):s._trySubscribe(o))})),o},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){e.error(t)}},e.prototype.forEach=function(e,t){var r=this;return new(t=h(t))((function(t,i){var a=new n.Hp({next:function(t){try{e(t)}catch(e){i(e),a.unsubscribe()}},error:i,complete:t});r.subscribe(a)}))},e.prototype._subscribe=function(e){var t;return null===(t=this.source)||void 0===t?void 0:t.subscribe(e)},e.prototype[a.L]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(0,s.U)(e)(this)},e.prototype.toPromise=function(e){var t=this;return new(e=h(e))((function(e,r){var n;t.subscribe((function(e){return n=e}),(function(e){return r(e)}),(function(){return e(n)}))}))},e.create=function(t){return new e(t)},e}();function h(e){var t;return null!==(t=null!=e?e:o.v.Promise)&&void 0!==t?t:Promise}},7537:(e,t,r)=>{"use strict";r.d(t,{t:()=>s});var n=r(88802),i=r(98187),a=r(83901),s=function(e){function t(t,r,n){void 0===t&&(t=1/0),void 0===r&&(r=1/0),void 0===n&&(n=a.l);var i=e.call(this)||this;return i._bufferSize=t,i._windowTime=r,i._timestampProvider=n,i._buffer=[],i._infiniteTimeWindow=!0,i._infiniteTimeWindow=r===1/0,i._bufferSize=Math.max(1,t),i._windowTime=Math.max(1,r),i}return(0,n.__extends)(t,e),t.prototype.next=function(t){var r=this,n=r.isStopped,i=r._buffer,a=r._infiniteTimeWindow,s=r._timestampProvider,o=r._windowTime;n||(i.push(t),!a&&i.push(s.now()+o)),this._trimBuffer(),e.prototype.next.call(this,t)},t.prototype._subscribe=function(e){this._throwIfClosed(),this._trimBuffer();for(var t=this._innerSubscribe(e),r=this._infiniteTimeWindow,n=this._buffer.slice(),i=0;i<n.length&&!e.closed;i+=r?1:2)e.next(n[i]);return this._checkFinalizedStatuses(e),t},t.prototype._trimBuffer=function(){var e=this,t=e._bufferSize,r=e._timestampProvider,n=e._buffer,i=e._infiniteTimeWindow,a=(i?1:2)*t;if(t<1/0&&a<n.length&&n.splice(0,n.length-a),!i){for(var s=r.now(),o=0,u=1;u<n.length&&n[u]<=s;u+=2)o=u;o&&n.splice(0,o+1)}},t}(i.x)},98187:(e,t,r)=>{"use strict";r.d(t,{x:()=>c});var n=r(88802),i=r(58376),a=r(97805),s=(0,r(62276).d)((function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}})),o=r(37024),u=r(75591),c=function(e){function t(){var t=e.call(this)||this;return t.closed=!1,t.currentObservers=null,t.observers=[],t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return(0,n.__extends)(t,e),t.prototype.lift=function(e){var t=new l(this,this);return t.operator=e,t},t.prototype._throwIfClosed=function(){if(this.closed)throw new s},t.prototype.next=function(e){var t=this;(0,u.x)((function(){var r,i;if(t._throwIfClosed(),!t.isStopped){t.currentObservers||(t.currentObservers=Array.from(t.observers));try{for(var a=(0,n.__values)(t.currentObservers),s=a.next();!s.done;s=a.next()){s.value.next(e)}}catch(e){r={error:e}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}}}))},t.prototype.error=function(e){var t=this;(0,u.x)((function(){if(t._throwIfClosed(),!t.isStopped){t.hasError=t.isStopped=!0,t.thrownError=e;for(var r=t.observers;r.length;)r.shift().error(e)}}))},t.prototype.complete=function(){var e=this;(0,u.x)((function(){if(e._throwIfClosed(),!e.isStopped){e.isStopped=!0;for(var t=e.observers;t.length;)t.shift().complete()}}))},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(t){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)},t.prototype._innerSubscribe=function(e){var t=this,r=this,n=r.hasError,i=r.isStopped,s=r.observers;return n||i?a.Lc:(this.currentObservers=null,s.push(e),new a.w0((function(){t.currentObservers=null,(0,o.P)(s,e)})))},t.prototype._checkFinalizedStatuses=function(e){var t=this,r=t.hasError,n=t.thrownError,i=t.isStopped;r?e.error(n):i&&e.complete()},t.prototype.asObservable=function(){var e=new i.y;return e.source=this,e},t.create=function(e,t){return new l(e,t)},t}(i.y),l=function(e){function t(t,r){var n=e.call(this)||this;return n.destination=t,n.source=r,n}return(0,n.__extends)(t,e),t.prototype.next=function(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,e)},t.prototype.error=function(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,e)},t.prototype.complete=function(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)},t.prototype._subscribe=function(e){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==r?r:a.Lc},t}(c)},6179:(e,t,r)=>{"use strict";r.d(t,{Hp:()=>v,Lv:()=>d});var n=r(88802),i=r(40923),a=r(97805),s=r(41430),o=r(69391),u=r(48381),c=l("C",void 0,void 0);function l(e,t,r){return{kind:e,value:t,error:r}}var h=r(31823),f=r(75591),d=function(e){function t(t){var r=e.call(this)||this;return r.isStopped=!1,t?(r.destination=t,(0,a.Nn)(t)&&t.add(r)):r.destination=w,r}return(0,n.__extends)(t,e),t.create=function(e,t,r){return new v(e,t,r)},t.prototype.next=function(e){this.isStopped?g(function(e){return l("N",e,void 0)}(e),this):this._next(e)},t.prototype.error=function(e){this.isStopped?g(l("E",void 0,e),this):(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped?g(c,this):(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){try{this.destination.error(e)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(a.w0),p=Function.prototype.bind;function m(e,t){return p.call(e,t)}var b=function(){function e(e){this.partialObserver=e}return e.prototype.next=function(e){var t=this.partialObserver;if(t.next)try{t.next(e)}catch(e){y(e)}},e.prototype.error=function(e){var t=this.partialObserver;if(t.error)try{t.error(e)}catch(e){y(e)}else y(e)},e.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(e){y(e)}},e}(),v=function(e){function t(t,r,n){var a,o,u=e.call(this)||this;(0,i.m)(t)||!t?a={next:null!=t?t:void 0,error:null!=r?r:void 0,complete:null!=n?n:void 0}:u&&s.v.useDeprecatedNextContext?((o=Object.create(t)).unsubscribe=function(){return u.unsubscribe()},a={next:t.next&&m(t.next,o),error:t.error&&m(t.error,o),complete:t.complete&&m(t.complete,o)}):a=t;return u.destination=new b(a),u}return(0,n.__extends)(t,e),t}(d);function y(e){s.v.useDeprecatedSynchronousErrorHandling?(0,f.O)(e):(0,o.h)(e)}function g(e,t){var r=s.v.onStoppedNotification;r&&h.z.setTimeout((function(){return r(e,t)}))}var w={closed:!0,next:u.Z,error:function(e){throw e},complete:u.Z}},97805:(e,t,r)=>{"use strict";r.d(t,{Lc:()=>u,w0:()=>o,Nn:()=>c});var n=r(88802),i=r(40923),a=(0,r(62276).d)((function(e){return function(t){e(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map((function(e,t){return t+1+") "+e.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t}})),s=r(37024),o=function(){function e(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}var t;return e.prototype.unsubscribe=function(){var e,t,r,s,o;if(!this.closed){this.closed=!0;var u=this._parentage;if(u)if(this._parentage=null,Array.isArray(u))try{for(var c=(0,n.__values)(u),h=c.next();!h.done;h=c.next()){h.value.remove(this)}}catch(t){e={error:t}}finally{try{h&&!h.done&&(t=c.return)&&t.call(c)}finally{if(e)throw e.error}}else u.remove(this);var f=this.initialTeardown;if((0,i.m)(f))try{f()}catch(e){o=e instanceof a?e.errors:[e]}var d=this._finalizers;if(d){this._finalizers=null;try{for(var p=(0,n.__values)(d),m=p.next();!m.done;m=p.next()){var b=m.value;try{l(b)}catch(e){o=null!=o?o:[],e instanceof a?o=(0,n.__spreadArray)((0,n.__spreadArray)([],(0,n.__read)(o)),(0,n.__read)(e.errors)):o.push(e)}}}catch(e){r={error:e}}finally{try{m&&!m.done&&(s=p.return)&&s.call(p)}finally{if(r)throw r.error}}}if(o)throw new a(o)}},e.prototype.add=function(t){var r;if(t&&t!==this)if(this.closed)l(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(r=this._finalizers)&&void 0!==r?r:[]).push(t)}},e.prototype._hasParent=function(e){var t=this._parentage;return t===e||Array.isArray(t)&&t.includes(e)},e.prototype._addParent=function(e){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e},e.prototype._removeParent=function(e){var t=this._parentage;t===e?this._parentage=null:Array.isArray(t)&&(0,s.P)(t,e)},e.prototype.remove=function(t){var r=this._finalizers;r&&(0,s.P)(r,t),t instanceof e&&t._removeParent(this)},e.EMPTY=((t=new e).closed=!0,t),e}(),u=o.EMPTY;function c(e){return e instanceof o||e&&"closed"in e&&(0,i.m)(e.remove)&&(0,i.m)(e.add)&&(0,i.m)(e.unsubscribe)}function l(e){(0,i.m)(e)?e():e.unsubscribe()}},41430:(e,t,r)=>{"use strict";r.d(t,{v:()=>n});var n={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},60399:(e,t,r)=>{"use strict";r.d(t,{z:()=>a});var n=r(9203),i=r(6179);function a(e,t){var r="object"==typeof t;return new Promise((function(a,s){var o=new i.Hp({next:function(e){a(e),o.unsubscribe()},error:s,complete:function(){r?a(t.defaultValue):s(new n.K)}});e.subscribe(o)}))}},2049:(e,t,r)=>{"use strict";r.d(t,{n:()=>i});var n=r(9203);function i(e,t){var r="object"==typeof t;return new Promise((function(i,a){var s,o=!1;e.subscribe({next:function(e){s=e,o=!0},error:a,complete:function(){o?i(s):r?i(t.defaultValue):a(new n.K)}})}))}},85390:(e,t,r)=>{"use strict";r.d(t,{a:()=>f,l:()=>d});var n=r(58376),i=r(20114),a=r(162),s=r(41182),o=r(63883),u=r(4598),c=r(6431),l=r(92877),h=r(42706);function f(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=(0,u.yG)(e),l=(0,u.jO)(e),h=(0,i.D)(e),f=h.args,p=h.keys;if(0===f.length)return(0,a.D)([],r);var m=new n.y(d(f,r,p?function(e){return(0,c.n)(p,e)}:s.y));return l?m.pipe((0,o.Z)(l)):m}function d(e,t,r){return void 0===r&&(r=s.y),function(n){p(t,(function(){for(var i=e.length,s=new Array(i),o=i,u=i,c=function(i){p(t,(function(){var c=(0,a.D)(e[i],t),h=!1;c.subscribe((0,l.x)(n,(function(e){s[i]=e,h||(h=!0,u--),u||n.next(r(s.slice()))}),(function(){--o||n.complete()})))}),n)},h=0;h<i;h++)c(h)}),n)}}function p(e,t,r){e?(0,h.f)(r,e,t):t()}},25859:(e,t,r)=>{"use strict";r.d(t,{P:()=>a});var n=r(58376),i=r(66111);function a(e){return new n.y((function(t){(0,i.Xf)(e()).subscribe(t)}))}},51992:(e,t,r)=>{"use strict";r.d(t,{U:()=>o});var n=r(88802),i=r(92877),a=r(58376),s=r(66111);function o(e,t){void 0===t&&(t={});var r=t.selector,o=(0,n.__rest)(t,["selector"]);return new a.y((function(t){var a=new AbortController,u=a.signal,c=!0,l=o.signal;if(l)if(l.aborted)a.abort();else{var h=function(){u.aborted||a.abort()};l.addEventListener("abort",h),t.add((function(){return l.removeEventListener("abort",h)}))}var f=(0,n.__assign)((0,n.__assign)({},o),{signal:u}),d=function(e){c=!1,t.error(e)};return fetch(e,f).then((function(e){r?(0,s.Xf)(r(e)).subscribe((0,i.x)(t,void 0,(function(){c=!1,t.complete()}),d)):(c=!1,t.next(e),t.complete())})).catch(d),function(){c&&a.abort()}}))}},17350:(e,t,r)=>{"use strict";r.d(t,{E:()=>n});var n=new(r(58376).y)((function(e){return e.complete()}))},91501:(e,t,r)=>{"use strict";r.d(t,{D:()=>l});var n=r(58376),i=r(20114),a=r(66111),s=r(4598),o=r(92877),u=r(63883),c=r(6431);function l(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=(0,s.jO)(e),l=(0,i.D)(e),h=l.args,f=l.keys,d=new n.y((function(e){var t=h.length;if(t)for(var r=new Array(t),n=t,i=t,s=function(t){var s=!1;(0,a.Xf)(h[t]).subscribe((0,o.x)(e,(function(e){s||(s=!0,i--),r[t]=e}),(function(){return n--}),void 0,(function(){n&&s||(i||e.next(f?(0,c.n)(f,r):r),e.complete())})))},u=0;u<t;u++)s(u);else e.complete()}));return r?d.pipe((0,u.Z)(r)):d}},162:(e,t,r)=>{"use strict";r.d(t,{D:()=>S});var n=r(66111),i=r(42706),a=r(56460),s=r(92877);function o(e,t){return void 0===t&&(t=0),(0,a.e)((function(r,n){r.subscribe((0,s.x)(n,(function(r){return(0,i.f)(n,e,(function(){return n.next(r)}),t)}),(function(){return(0,i.f)(n,e,(function(){return n.complete()}),t)}),(function(r){return(0,i.f)(n,e,(function(){return n.error(r)}),t)})))}))}function u(e,t){return void 0===t&&(t=0),(0,a.e)((function(r,n){n.add(e.schedule((function(){return r.subscribe(n)}),t))}))}var c=r(58376);var l=r(95124),h=r(40923);function f(e,t){if(!e)throw new Error("Iterable cannot be null");return new c.y((function(r){(0,i.f)(r,t,(function(){var n=e[Symbol.asyncIterator]();(0,i.f)(r,t,(function(){n.next().then((function(e){e.done?r.complete():r.next(e.value)}))}),0,!0)}))}))}var d=r(14180),p=r(74672),m=r(69499),b=r(33687),v=r(44199),y=r(18606),g=r(52089);function w(e,t){if(null!=e){if((0,d.c)(e))return function(e,t){return(0,n.Xf)(e).pipe(u(t),o(t))}(e,t);if((0,m.z)(e))return function(e,t){return new c.y((function(r){var n=0;return t.schedule((function(){n===e.length?r.complete():(r.next(e[n++]),r.closed||this.schedule())}))}))}(e,t);if((0,p.t)(e))return function(e,t){return(0,n.Xf)(e).pipe(u(t),o(t))}(e,t);if((0,v.D)(e))return f(e,t);if((0,b.T)(e))return function(e,t){return new c.y((function(r){var n;return(0,i.f)(r,t,(function(){n=e[l.h](),(0,i.f)(r,t,(function(){var e,t,i;try{t=(e=n.next()).value,i=e.done}catch(e){return void r.error(e)}i?r.complete():r.next(t)}),0,!0)})),function(){return(0,h.m)(null==n?void 0:n.return)&&n.return()}}))}(e,t);if((0,g.L)(e))return function(e,t){return f((0,g.Q)(e),t)}(e,t)}throw(0,y.z)(e)}function S(e,t){return t?w(e,t):(0,n.Xf)(e)}},66111:(e,t,r)=>{"use strict";r.d(t,{Xf:()=>m});var n=r(88802),i=r(69499),a=r(74672),s=r(58376),o=r(14180),u=r(44199),c=r(18606),l=r(33687),h=r(52089),f=r(40923),d=r(69391),p=r(63129);function m(e){if(e instanceof s.y)return e;if(null!=e){if((0,o.c)(e))return y=e,new s.y((function(e){var t=y[p.L]();if((0,f.m)(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")}));if((0,i.z)(e))return v=e,new s.y((function(e){for(var t=0;t<v.length&&!e.closed;t++)e.next(v[t]);e.complete()}));if((0,a.t)(e))return m=e,new s.y((function(e){m.then((function(t){e.closed||(e.next(t),e.complete())}),(function(t){return e.error(t)})).then(null,d.h)}));if((0,u.D)(e))return b(e);if((0,l.T)(e))return r=e,new s.y((function(e){var t,i;try{for(var a=(0,n.__values)(r),s=a.next();!s.done;s=a.next()){var o=s.value;if(e.next(o),e.closed)return}}catch(e){t={error:e}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(t)throw t.error}}e.complete()}));if((0,h.L)(e))return t=e,b((0,h.Q)(t))}var t,r,m,v,y;throw(0,c.z)(e)}function b(e){return new s.y((function(t){(function(e,t){var r,i,a,s;return(0,n.__awaiter)(this,void 0,void 0,(function(){var o,u;return(0,n.__generator)(this,(function(c){switch(c.label){case 0:c.trys.push([0,5,6,11]),r=(0,n.__asyncValues)(e),c.label=1;case 1:return[4,r.next()];case 2:if((i=c.sent()).done)return[3,4];if(o=i.value,t.next(o),t.closed)return[2];c.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return u=c.sent(),a={error:u},[3,11];case 6:return c.trys.push([6,,9,10]),i&&!i.done&&(s=r.return)?[4,s.call(r)]:[3,8];case 7:c.sent(),c.label=8;case 8:return[3,10];case 9:if(a)throw a.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}}))}))})(e,t).catch((function(e){return t.error(e)}))}))}},47968:(e,t,r)=>{"use strict";r.d(t,{C:()=>a});var n=r(58376),i=r(48381),a=new n.y(i.Z)},69885:(e,t,r)=>{"use strict";r.d(t,{of:()=>a});var n=r(4598),i=r(162);function a(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=(0,n.yG)(e);return(0,i.D)(e,r)}},93192:(e,t,r)=>{"use strict";r.d(t,{S:()=>o});var n=r(58376),i=r(66111),a=r(20198),s=r(92877);function o(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 1===(e=(0,a.k)(e)).length?(0,i.Xf)(e[0]):new n.y(function(e){return function(t){for(var r=[],n=function(n){r.push((0,i.Xf)(e[n]).subscribe((0,s.x)(t,(function(e){if(r){for(var i=0;i<r.length;i++)i!==n&&r[i].unsubscribe();r=null}t.next(e)}))))},a=0;r&&!t.closed&&a<e.length;a++)n(a)}}(e))}},90171:(e,t,r)=>{"use strict";r.d(t,{H:()=>o});var n=r(58376),i=r(91495),a=r(67890),s=r(86146);function o(e,t,r){void 0===e&&(e=0),void 0===r&&(r=i.P);var o=-1;return null!=t&&((0,a.K)(t)?r=t:o=t),new n.y((function(t){var n=(0,s.q)(e)?+e-r.now():e;n<0&&(n=0);var i=0;return r.schedule((function(){t.closed||(t.next(i++),0<=o?this.schedule(void 0,o):t.complete())}),n)}))}},92877:(e,t,r)=>{"use strict";r.d(t,{x:()=>i});var n=r(88802);function i(e,t,r,n,i){return new a(e,t,r,n,i)}var a=function(e){function t(t,r,n,i,a,s){var o=e.call(this,t)||this;return o.onFinalize=a,o.shouldUnsubscribe=s,o._next=r?function(e){try{r(e)}catch(e){t.error(e)}}:e.prototype._next,o._error=i?function(e){try{i(e)}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._error,o._complete=n?function(){try{n()}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._complete,o}return(0,n.__extends)(t,e),t.prototype.unsubscribe=function(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var r=this.closed;e.prototype.unsubscribe.call(this),!r&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}},t}(r(6179).Lv)},37182:(e,t,r)=>{"use strict";r.d(t,{K:()=>s});var n=r(66111),i=r(92877),a=r(56460);function s(e){return(0,a.e)((function(t,r){var a,o=null,u=!1;o=t.subscribe((0,i.x)(r,void 0,void 0,(function(i){a=(0,n.Xf)(e(i,s(e)(t))),o?(o.unsubscribe(),o=null,a.subscribe(r)):u=!0}))),u&&(o.unsubscribe(),o=null,a.subscribe(r))}))}},61076:(e,t,r)=>{"use strict";r.d(t,{V:()=>h});var n=r(88802),i=r(85390),a=r(56460),s=r(20198),o=r(63883),u=r(84587),c=r(4598);function l(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=(0,c.jO)(e);return r?(0,u.z)(l.apply(void 0,(0,n.__spreadArray)([],(0,n.__read)(e))),(0,o.Z)(r)):(0,a.e)((function(t,r){(0,i.l)((0,n.__spreadArray)([t],(0,n.__read)((0,s.k)(e))))(r)}))}function h(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return l.apply(void 0,(0,n.__spreadArray)([],(0,n.__read)(e)))}},34987:(e,t,r)=>{"use strict";r.d(t,{b:()=>a});var n=r(6220),i=r(40923);function a(e,t){return(0,i.m)(t)?(0,n.z)(e,t,1):(0,n.z)(e,1)}},52273:(e,t,r)=>{"use strict";r.d(t,{b:()=>s});var n=r(91495),i=r(56460),a=r(92877);function s(e,t){return void 0===t&&(t=n.z),(0,i.e)((function(r,n){var i=null,s=null,o=null,u=function(){if(i){i.unsubscribe(),i=null;var e=s;s=null,n.next(e)}};function c(){var r=o+e,a=t.now();if(a<r)return i=this.schedule(void 0,r-a),void n.add(i);u()}r.subscribe((0,a.x)(n,(function(r){s=r,o=t.now(),i||(i=t.schedule(c,e),n.add(i))}),(function(){u(),n.complete()}),void 0,(function(){s=i=null})))}))}},6136:(e,t,r)=>{"use strict";r.d(t,{x:()=>s});var n=r(41182),i=r(56460),a=r(92877);function s(e,t){return void 0===t&&(t=n.y),e=null!=e?e:o,(0,i.e)((function(r,n){var i,s=!0;r.subscribe((0,a.x)(n,(function(r){var a=t(r);!s&&e(i,a)||(s=!1,i=a,n.next(r))})))}))}function o(e,t){return e===t}},59891:(e,t,r)=>{"use strict";r.d(t,{l:()=>c});var n=r(88802),i=r(74081);var a=r(4598),s=r(162);function o(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(0,i.J)(1)((0,s.D)(e,(0,a.yG)(e)))}var u=r(69885);function c(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return o(t,u.of.apply(void 0,(0,n.__spreadArray)([],(0,n.__read)(e))))}}},42946:(e,t,r)=>{"use strict";r.d(t,{z:()=>o});var n=r(87065),i=r(66111),a=r(56460),s=r(92877);function o(e,t){return t?function(r){return r.pipe(o((function(r,a){return(0,i.Xf)(e(r,a)).pipe((0,n.U)((function(e,n){return t(r,e,a,n)})))})))}:(0,a.e)((function(t,r){var n=0,a=null,o=!1;t.subscribe((0,s.x)(r,(function(t){a||(a=(0,s.x)(r,void 0,(function(){a=null,o&&r.complete()})),(0,i.Xf)(e(t,n++)).subscribe(a))}),(function(){o=!0,!a&&r.complete()})))}))}},30523:(e,t,r)=>{"use strict";r.d(t,{h:()=>a});var n=r(56460),i=r(92877);function a(e,t){return(0,n.e)((function(r,n){var a=0;r.subscribe((0,i.x)(n,(function(r){return e.call(t,r,a++)&&n.next(r)})))}))}},87065:(e,t,r)=>{"use strict";r.d(t,{U:()=>a});var n=r(56460),i=r(92877);function a(e,t){return(0,n.e)((function(r,n){var a=0;r.subscribe((0,i.x)(n,(function(r){n.next(e.call(t,r,a++))})))}))}},74081:(e,t,r)=>{"use strict";r.d(t,{J:()=>a});var n=r(6220),i=r(41182);function a(e){return void 0===e&&(e=1/0),(0,n.z)(i.y,e)}},6220:(e,t,r)=>{"use strict";r.d(t,{z:()=>c});var n=r(87065),i=r(66111),a=r(56460),s=r(42706),o=r(92877);var u=r(40923);function c(e,t,r){return void 0===r&&(r=1/0),(0,u.m)(t)?c((function(r,a){return(0,n.U)((function(e,n){return t(r,e,a,n)}))((0,i.Xf)(e(r,a)))}),r):("number"==typeof t&&(r=t),(0,a.e)((function(t,n){return function(e,t,r,n,a,u,c,l){var h=[],f=0,d=0,p=!1,m=function(){!p||h.length||f||t.complete()},b=function(e){return f<n?v(e):h.push(e)},v=function(e){u&&t.next(e),f++;var l=!1;(0,i.Xf)(r(e,d++)).subscribe((0,o.x)(t,(function(e){null==a||a(e),u?b(e):t.next(e)}),(function(){l=!0}),void 0,(function(){if(l)try{f--;for(var e=function(){var e=h.shift();c?(0,s.f)(t,c,(function(){return v(e)})):v(e)};h.length&&f<n;)e();m()}catch(e){t.error(e)}})))};return e.subscribe((0,o.x)(t,b,(function(){p=!0,m()}))),function(){null==l||l()}}(t,n,e,r)})))}},14888:(e,t,r)=>{"use strict";r.d(t,{X:()=>u});var n=r(56460),i=r(92877),a=r(41182),s=r(90171),o=r(66111);function u(e){var t;void 0===e&&(e=1/0);var r=(t=e&&"object"==typeof e?e:{count:e}).count,u=void 0===r?1/0:r,c=t.delay,l=t.resetOnSuccess,h=void 0!==l&&l;return u<=0?a.y:(0,n.e)((function(e,t){var r,n=0,a=function(){var l=!1;r=e.subscribe((0,i.x)(t,(function(e){h&&(n=0),t.next(e)}),void 0,(function(e){if(n++<u){var h=function(){r?(r.unsubscribe(),r=null,a()):l=!0};if(null!=c){var f="number"==typeof c?(0,s.H)(c):(0,o.Xf)(c(e,n)),d=(0,i.x)(t,(function(){d.unsubscribe(),h()}),(function(){t.complete()}));f.subscribe(d)}else h()}else t.error(e)}))),l&&(r.unsubscribe(),r=null,a())};a()}))}},7074:(e,t,r)=>{"use strict";r.d(t,{B:()=>c});var n=r(88802),i=r(162),a=r(16433),s=r(98187),o=r(6179),u=r(56460);function c(e){void 0===e&&(e={});var t=e.connector,r=void 0===t?function(){return new s.x}:t,n=e.resetOnError,a=void 0===n||n,c=e.resetOnComplete,h=void 0===c||c,f=e.resetOnRefCountZero,d=void 0===f||f;return function(e){var t=null,n=null,s=null,c=0,f=!1,p=!1,m=function(){null==n||n.unsubscribe(),n=null},b=function(){m(),t=s=null,f=p=!1},v=function(){var e=t;b(),null==e||e.unsubscribe()};return(0,u.e)((function(e,u){c++,p||f||m();var y=s=null!=s?s:r();u.add((function(){0!==--c||p||f||(n=l(v,d))})),y.subscribe(u),t||(t=new o.Hp({next:function(e){return y.next(e)},error:function(e){p=!0,m(),n=l(b,a,e),y.error(e)},complete:function(){f=!0,m(),n=l(b,h),y.complete()}}),(0,i.D)(e).subscribe(t))}))(e)}}function l(e,t){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];return!0===t?(e(),null):!1===t?null:t.apply(void 0,(0,n.__spreadArray)([],(0,n.__read)(r))).pipe((0,a.q)(1)).subscribe((function(){return e()}))}},97280:(e,t,r)=>{"use strict";r.d(t,{d:()=>a});var n=r(7537),i=r(7074);function a(e,t,r){var a,s,o,u,c=!1;return e&&"object"==typeof e?(a=e.bufferSize,u=void 0===a?1/0:a,s=e.windowTime,t=void 0===s?1/0:s,c=void 0!==(o=e.refCount)&&o,r=e.scheduler):u=null!=e?e:1/0,(0,i.B)({connector:function(){return new n.t(u,t,r)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:c})}},43978:(e,t,r)=>{"use strict";r.d(t,{w:()=>s});var n=r(66111),i=r(56460),a=r(92877);function s(e,t){return(0,i.e)((function(r,i){var s=null,o=0,u=!1,c=function(){return u&&!s&&i.complete()};r.subscribe((0,a.x)(i,(function(r){null==s||s.unsubscribe();var u=0,l=o++;(0,n.Xf)(e(r,l)).subscribe(s=(0,a.x)(i,(function(e){return i.next(t?t(r,e,l,u++):e)}),(function(){s=null,c()})))}),(function(){u=!0,c()})))}))}},16433:(e,t,r)=>{"use strict";r.d(t,{q:()=>s});var n=r(17350),i=r(56460),a=r(92877);function s(e){return e<=0?function(){return n.E}:(0,i.e)((function(t,r){var n=0;t.subscribe((0,a.x)(r,(function(t){++n<=e&&(r.next(t),e<=n&&r.complete())})))}))}},15023:(e,t,r)=>{"use strict";r.d(t,{o:()=>a});var n=r(56460),i=r(92877);function a(e,t){return void 0===t&&(t=!1),(0,n.e)((function(r,n){var a=0;r.subscribe((0,i.x)(n,(function(r){var i=e(r,a++);(i||t)&&n.next(r),!i&&n.complete()})))}))}},82567:(e,t,r)=>{"use strict";r.d(t,{b:()=>o});var n=r(40923),i=r(56460),a=r(92877),s=r(41182);function o(e,t,r){var o=(0,n.m)(e)||t||r?{next:e,error:t,complete:r}:e;return o?(0,i.e)((function(e,t){var r;null===(r=o.subscribe)||void 0===r||r.call(o);var n=!0;e.subscribe((0,a.x)(t,(function(e){var r;null===(r=o.next)||void 0===r||r.call(o,e),t.next(e)}),(function(){var e;n=!1,null===(e=o.complete)||void 0===e||e.call(o),t.complete()}),(function(e){var r;n=!1,null===(r=o.error)||void 0===r||r.call(o,e),t.error(e)}),(function(){var e,t;n&&(null===(e=o.unsubscribe)||void 0===e||e.call(o)),null===(t=o.finalize)||void 0===t||t.call(o)})))})):s.y}},89618:(e,t,r)=>{"use strict";r.d(t,{V:()=>h});var n=r(91495),i=r(86146),a=r(56460),s=r(66111),o=r(62276),u=r(92877),c=r(42706),l=(0,o.d)((function(e){return function(t){void 0===t&&(t=null),e(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=t}}));function h(e,t){var r=(0,i.q)(e)?{first:e}:"number"==typeof e?{each:e}:e,o=r.first,l=r.each,h=r.with,d=void 0===h?f:h,p=r.scheduler,m=void 0===p?null!=t?t:n.z:p,b=r.meta,v=void 0===b?null:b;if(null==o&&null==l)throw new TypeError("No timeout provided.");return(0,a.e)((function(e,t){var r,n,i=null,a=0,h=function(e){n=(0,c.f)(t,m,(function(){try{r.unsubscribe(),(0,s.Xf)(d({meta:v,lastValue:i,seen:a})).subscribe(t)}catch(e){t.error(e)}}),e)};r=e.subscribe((0,u.x)(t,(function(e){null==n||n.unsubscribe(),a++,t.next(i=e),l>0&&h(l)}),void 0,void 0,(function(){(null==n?void 0:n.closed)||null==n||n.unsubscribe(),i=null}))),!a&&h(null!=o?"number"==typeof o?o:+o-m.now():l)}))}function f(e){throw new l(e)}},91495:(e,t,r)=>{"use strict";r.d(t,{P:()=>h,z:()=>l});var n=r(88802),i=function(e){function t(t,r){return e.call(this)||this}return(0,n.__extends)(t,e),t.prototype.schedule=function(e,t){return void 0===t&&(t=0),this},t}(r(97805).w0),a={setInterval:function(e,t){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];var s=a.delegate;return(null==s?void 0:s.setInterval)?s.setInterval.apply(s,(0,n.__spreadArray)([e,t],(0,n.__read)(r))):setInterval.apply(void 0,(0,n.__spreadArray)([e,t],(0,n.__read)(r)))},clearInterval:function(e){var t=a.delegate;return((null==t?void 0:t.clearInterval)||clearInterval)(e)},delegate:void 0},s=r(37024),o=function(e){function t(t,r){var n=e.call(this,t,r)||this;return n.scheduler=t,n.work=r,n.pending=!1,n}return(0,n.__extends)(t,e),t.prototype.schedule=function(e,t){if(void 0===t&&(t=0),this.closed)return this;this.state=e;var r=this.id,n=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(n,r,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(n,this.id,t),this},t.prototype.requestAsyncId=function(e,t,r){return void 0===r&&(r=0),a.setInterval(e.flush.bind(e,this),r)},t.prototype.recycleAsyncId=function(e,t,r){if(void 0===r&&(r=0),null!=r&&this.delay===r&&!1===this.pending)return t;a.clearInterval(t)},t.prototype.execute=function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(e,t){var r,n=!1;try{this.work(e)}catch(e){n=!0,r=e||new Error("Scheduled action threw falsy error")}if(n)return this.unsubscribe(),r},t.prototype.unsubscribe=function(){if(!this.closed){var t=this.id,r=this.scheduler,n=r.actions;this.work=this.state=this.scheduler=null,this.pending=!1,(0,s.P)(n,this),null!=t&&(this.id=this.recycleAsyncId(r,t,null)),this.delay=null,e.prototype.unsubscribe.call(this)}},t}(i),u=r(83901),c=function(){function e(t,r){void 0===r&&(r=e.now),this.schedulerActionCtor=t,this.now=r}return e.prototype.schedule=function(e,t,r){return void 0===t&&(t=0),new this.schedulerActionCtor(this,e).schedule(r,t)},e.now=u.l.now,e}(),l=new(function(e){function t(t,r){void 0===r&&(r=c.now);var n=e.call(this,t,r)||this;return n.actions=[],n._active=!1,n._scheduled=void 0,n}return(0,n.__extends)(t,e),t.prototype.flush=function(e){var t=this.actions;if(this._active)t.push(e);else{var r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}},t}(c))(o),h=l},83901:(e,t,r)=>{"use strict";r.d(t,{l:()=>n});var n={now:function(){return(n.delegate||Date).now()},delegate:void 0}},31823:(e,t,r)=>{"use strict";r.d(t,{z:()=>i});var n=r(88802),i={setTimeout:function(e,t){for(var r=[],a=2;a<arguments.length;a++)r[a-2]=arguments[a];var s=i.delegate;return(null==s?void 0:s.setTimeout)?s.setTimeout.apply(s,(0,n.__spreadArray)([e,t],(0,n.__read)(r))):setTimeout.apply(void 0,(0,n.__spreadArray)([e,t],(0,n.__read)(r)))},clearTimeout:function(e){var t=i.delegate;return((null==t?void 0:t.clearTimeout)||clearTimeout)(e)},delegate:void 0}},95124:(e,t,r)=>{"use strict";r.d(t,{h:()=>n});var n="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},63129:(e,t,r)=>{"use strict";r.d(t,{L:()=>n});var n="function"==typeof Symbol&&Symbol.observable||"@@observable"},9203:(e,t,r)=>{"use strict";r.d(t,{K:()=>n});var n=(0,r(62276).d)((function(e){return function(){e(this),this.name="EmptyError",this.message="no elements in sequence"}}))},4598:(e,t,r)=>{"use strict";r.d(t,{jO:()=>s,yG:()=>o});var n=r(40923),i=r(67890);function a(e){return e[e.length-1]}function s(e){return(0,n.m)(a(e))?e.pop():void 0}function o(e){return(0,i.K)(a(e))?e.pop():void 0}},20114:(e,t,r)=>{"use strict";r.d(t,{D:()=>o});var n=Array.isArray,i=Object.getPrototypeOf,a=Object.prototype,s=Object.keys;function o(e){if(1===e.length){var t=e[0];if(n(t))return{args:t,keys:null};if((o=t)&&"object"==typeof o&&i(o)===a){var r=s(t);return{args:r.map((function(e){return t[e]})),keys:r}}}var o;return{args:e,keys:null}}},20198:(e,t,r)=>{"use strict";r.d(t,{k:()=>i});var n=Array.isArray;function i(e){return 1===e.length&&n(e[0])?e[0]:e}},37024:(e,t,r)=>{"use strict";function n(e,t){if(e){var r=e.indexOf(t);0<=r&&e.splice(r,1)}}r.d(t,{P:()=>n})},62276:(e,t,r)=>{"use strict";function n(e){var t=e((function(e){Error.call(e),e.stack=(new Error).stack}));return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}r.d(t,{d:()=>n})},6431:(e,t,r)=>{"use strict";function n(e,t){return e.reduce((function(e,r,n){return e[r]=t[n],e}),{})}r.d(t,{n:()=>n})},75591:(e,t,r)=>{"use strict";r.d(t,{O:()=>s,x:()=>a});var n=r(41430),i=null;function a(e){if(n.v.useDeprecatedSynchronousErrorHandling){var t=!i;if(t&&(i={errorThrown:!1,error:null}),e(),t){var r=i,a=r.errorThrown,s=r.error;if(i=null,a)throw s}}else e()}function s(e){n.v.useDeprecatedSynchronousErrorHandling&&i&&(i.errorThrown=!0,i.error=e)}},42706:(e,t,r)=>{"use strict";function n(e,t,r,n,i){void 0===n&&(n=0),void 0===i&&(i=!1);var a=t.schedule((function(){r(),i?e.add(this.schedule(null,n)):this.unsubscribe()}),n);if(e.add(a),!i)return a}r.d(t,{f:()=>n})},41182:(e,t,r)=>{"use strict";function n(e){return e}r.d(t,{y:()=>n})},69499:(e,t,r)=>{"use strict";r.d(t,{z:()=>n});var n=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e}},44199:(e,t,r)=>{"use strict";r.d(t,{D:()=>i});var n=r(40923);function i(e){return Symbol.asyncIterator&&(0,n.m)(null==e?void 0:e[Symbol.asyncIterator])}},86146:(e,t,r)=>{"use strict";function n(e){return e instanceof Date&&!isNaN(e)}r.d(t,{q:()=>n})},40923:(e,t,r)=>{"use strict";function n(e){return"function"==typeof e}r.d(t,{m:()=>n})},14180:(e,t,r)=>{"use strict";r.d(t,{c:()=>a});var n=r(63129),i=r(40923);function a(e){return(0,i.m)(e[n.L])}},33687:(e,t,r)=>{"use strict";r.d(t,{T:()=>a});var n=r(95124),i=r(40923);function a(e){return(0,i.m)(null==e?void 0:e[n.h])}},27149:(e,t,r)=>{"use strict";r.d(t,{b:()=>a});var n=r(58376),i=r(40923);function a(e){return!!e&&(e instanceof n.y||(0,i.m)(e.lift)&&(0,i.m)(e.subscribe))}},74672:(e,t,r)=>{"use strict";r.d(t,{t:()=>i});var n=r(40923);function i(e){return(0,n.m)(null==e?void 0:e.then)}},52089:(e,t,r)=>{"use strict";r.d(t,{L:()=>s,Q:()=>a});var n=r(88802),i=r(40923);function a(e){return(0,n.__asyncGenerator)(this,arguments,(function(){var t,r,i;return(0,n.__generator)(this,(function(a){switch(a.label){case 0:t=e.getReader(),a.label=1;case 1:a.trys.push([1,,9,10]),a.label=2;case 2:return[4,(0,n.__await)(t.read())];case 3:return r=a.sent(),i=r.value,r.done?[4,(0,n.__await)(void 0)]:[3,5];case 4:return[2,a.sent()];case 5:return[4,(0,n.__await)(i)];case 6:return[4,a.sent()];case 7:return a.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}}))}))}function s(e){return(0,i.m)(null==e?void 0:e.getReader)}},67890:(e,t,r)=>{"use strict";r.d(t,{K:()=>i});var n=r(40923);function i(e){return e&&(0,n.m)(e.schedule)}},56460:(e,t,r)=>{"use strict";r.d(t,{e:()=>i});var n=r(40923);function i(e){return function(t){if(function(e){return(0,n.m)(null==e?void 0:e.lift)}(t))return t.lift((function(t){try{return e(t,this)}catch(e){this.error(e)}}));throw new TypeError("Unable to lift unknown Observable type")}}},63883:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var n=r(88802),i=r(87065),a=Array.isArray;function s(e){return(0,i.U)((function(t){return function(e,t){return a(t)?e.apply(void 0,(0,n.__spreadArray)([],(0,n.__read)(t))):e(t)}(e,t)}))}},48381:(e,t,r)=>{"use strict";function n(){}r.d(t,{Z:()=>n})},84587:(e,t,r)=>{"use strict";r.d(t,{U:()=>a,z:()=>i});var n=r(41182);function i(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return a(e)}function a(e){return 0===e.length?n.y:1===e.length?e[0]:function(t){return e.reduce((function(e,t){return t(e)}),t)}}},69391:(e,t,r)=>{"use strict";r.d(t,{h:()=>a});var n=r(41430),i=r(31823);function a(e){i.z.setTimeout((function(){var t=n.v.onUnhandledError;if(!t)throw e;t(e)}))}},18606:(e,t,r)=>{"use strict";function n(e){return new TypeError("You provided "+(null!==e&&"object"==typeof e?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}r.d(t,{z:()=>n})},23269:(e,t,r)=>{var n=r(15313),i=n.Buffer;function a(e,t){for(var r in e)t[r]=e[r]}function s(e,t,r){return i(e,t,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=n:(a(n,t),t.Buffer=s),a(i,s),s.from=function(e,t,r){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,r)},s.alloc=function(e,t,r){if("number"!=typeof e)throw new TypeError("Argument must be a number");var n=i(e);return void 0!==t?"string"==typeof r?n.fill(t,r):n.fill(t):n.fill(0),n},s.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},s.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return n.SlowBuffer(e)}},21607:(e,t,r)=>{var n=r(15313),i=n.Buffer;function a(e,t){for(var r in e)t[r]=e[r]}function s(e,t,r){return i(e,t,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=n:(a(n,t),t.Buffer=s),s.prototype=Object.create(i.prototype),a(i,s),s.from=function(e,t,r){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,r)},s.alloc=function(e,t,r){if("number"!=typeof e)throw new TypeError("Argument must be a number");var n=i(e);return void 0!==t?"string"==typeof r?n.fill(t,r):n.fill(t):n.fill(0),n},s.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},s.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return n.SlowBuffer(e)}},19855:(e,t,r)=>{"use strict";var n,i=r(73656),a=r(15313),s=a.Buffer,o={};for(n in a)a.hasOwnProperty(n)&&"SlowBuffer"!==n&&"Buffer"!==n&&(o[n]=a[n]);var u=o.Buffer={};for(n in s)s.hasOwnProperty(n)&&"allocUnsafe"!==n&&"allocUnsafeSlow"!==n&&(u[n]=s[n]);if(o.Buffer.prototype=s.prototype,u.from&&u.from!==Uint8Array.from||(u.from=function(e,t,r){if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type '+typeof e);if(e&&void 0===e.length)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);return s(e,t,r)}),u.alloc||(u.alloc=function(e,t,r){if("number"!=typeof e)throw new TypeError('The "size" argument must be of type number. Received type '+typeof e);if(e<0||e>=2*(1<<30))throw new RangeError('The value "'+e+'" is invalid for option "size"');var n=s(e);return t&&0!==t.length?"string"==typeof r?n.fill(t,r):n.fill(t):n.fill(0),n}),!o.kStringMaxLength)try{o.kStringMaxLength=i.binding("buffer").kStringMaxLength}catch(e){}o.constants||(o.constants={MAX_LENGTH:o.kMaxLength},o.kStringMaxLength&&(o.constants.MAX_STRING_LENGTH=o.kStringMaxLength)),e.exports=o},61465:(e,t,r)=>{var n=r(15313).Buffer;!function(e){e.parser=function(e,t){return new a(e,t)},e.SAXParser=a,e.SAXStream=o,e.createStream=function(e,t){return new o(e,t)},e.MAX_BUFFER_LENGTH=65536;var t,i=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];function a(t,r){if(!(this instanceof a))return new a(t,r);var n=this;!function(e){for(var t=0,r=i.length;t<r;t++)e[i[t]]=""}(n),n.q=n.c="",n.bufferCheckPosition=e.MAX_BUFFER_LENGTH,n.opt=r||{},n.opt.lowercase=n.opt.lowercase||n.opt.lowercasetags,n.looseCase=n.opt.lowercase?"toLowerCase":"toUpperCase",n.tags=[],n.closed=n.closedRoot=n.sawRoot=!1,n.tag=n.error=null,n.strict=!!t,n.noscript=!(!t&&!n.opt.noscript),n.state=E.BEGIN,n.strictEntities=n.opt.strictEntities,n.ENTITIES=n.strictEntities?Object.create(e.XML_ENTITIES):Object.create(e.ENTITIES),n.attribList=[],n.opt.xmlns&&(n.ns=Object.create(f)),n.trackPosition=!1!==n.opt.position,n.trackPosition&&(n.position=n.line=n.column=0),C(n,"onready")}e.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"],Object.create||(Object.create=function(e){function t(){}return t.prototype=e,new t}),Object.keys||(Object.keys=function(e){var t=[];for(var r in e)e.hasOwnProperty(r)&&t.push(r);return t}),a.prototype={end:function(){T(this)},write:function(t){var r=this;if(this.error)throw this.error;if(r.closed)return I(r,"Cannot write after close. Assign an onready handler.");if(null===t)return T(r);"object"==typeof t&&(t=t.toString());var n=0,a="";for(;a=$(t,n++),r.c=a,a;)switch(r.trackPosition&&(r.position++,"\n"===a?(r.line++,r.column=0):r.column++),r.state){case E.BEGIN:if(r.state=E.BEGIN_WHITESPACE,"\ufeff"===a)continue;L(r,a);continue;case E.BEGIN_WHITESPACE:L(r,a);continue;case E.TEXT:if(r.sawRoot&&!r.closedRoot){for(var s=n-1;a&&"<"!==a&&"&"!==a;)(a=$(t,n++))&&r.trackPosition&&(r.position++,"\n"===a?(r.line++,r.column=0):r.column++);r.textNode+=t.substring(s,n-1)}"<"!==a||r.sawRoot&&r.closedRoot&&!r.strict?(v(a)||r.sawRoot&&!r.closedRoot||j(r,"Text data outside of root node."),"&"===a?r.state=E.TEXT_ENTITY:r.textNode+=a):(r.state=E.OPEN_WAKA,r.startTagPosition=r.position);continue;case E.SCRIPT:"<"===a?r.state=E.SCRIPT_ENDING:r.script+=a;continue;case E.SCRIPT_ENDING:"/"===a?r.state=E.CLOSE_TAG:(r.script+="<"+a,r.state=E.SCRIPT);continue;case E.OPEN_WAKA:if("!"===a)r.state=E.SGML_DECL,r.sgmlDecl="";else if(v(a));else if(w(d,a))r.state=E.OPEN_TAG,r.tagName=a;else if("/"===a)r.state=E.CLOSE_TAG,r.tagName="";else if("?"===a)r.state=E.PROC_INST,r.procInstName=r.procInstBody="";else{if(j(r,"Unencoded <"),r.startTagPosition+1<r.position){var o=r.position-r.startTagPosition;a=new Array(o).join(" ")+a}r.textNode+="<"+a,r.state=E.TEXT}continue;case E.SGML_DECL:(r.sgmlDecl+a).toUpperCase()===u?(N(r,"onopencdata"),r.state=E.CDATA,r.sgmlDecl="",r.cdata=""):r.sgmlDecl+a==="--"?(r.state=E.COMMENT,r.comment="",r.sgmlDecl=""):(r.sgmlDecl+a).toUpperCase()===c?(r.state=E.DOCTYPE,(r.doctype||r.sawRoot)&&j(r,"Inappropriately located doctype declaration"),r.doctype="",r.sgmlDecl=""):">"===a?(N(r,"onsgmldeclaration",r.sgmlDecl),r.sgmlDecl="",r.state=E.TEXT):y(a)?(r.state=E.SGML_DECL_QUOTED,r.sgmlDecl+=a):r.sgmlDecl+=a;continue;case E.SGML_DECL_QUOTED:a===r.q&&(r.state=E.SGML_DECL,r.q=""),r.sgmlDecl+=a;continue;case E.DOCTYPE:">"===a?(r.state=E.TEXT,N(r,"ondoctype",r.doctype),r.doctype=!0):(r.doctype+=a,"["===a?r.state=E.DOCTYPE_DTD:y(a)&&(r.state=E.DOCTYPE_QUOTED,r.q=a));continue;case E.DOCTYPE_QUOTED:r.doctype+=a,a===r.q&&(r.q="",r.state=E.DOCTYPE);continue;case E.DOCTYPE_DTD:r.doctype+=a,"]"===a?r.state=E.DOCTYPE:y(a)&&(r.state=E.DOCTYPE_DTD_QUOTED,r.q=a);continue;case E.DOCTYPE_DTD_QUOTED:r.doctype+=a,a===r.q&&(r.state=E.DOCTYPE_DTD,r.q="");continue;case E.COMMENT:"-"===a?r.state=E.COMMENT_ENDING:r.comment+=a;continue;case E.COMMENT_ENDING:"-"===a?(r.state=E.COMMENT_ENDED,r.comment=P(r.opt,r.comment),r.comment&&N(r,"oncomment",r.comment),r.comment=""):(r.comment+="-"+a,r.state=E.COMMENT);continue;case E.COMMENT_ENDED:">"!==a?(j(r,"Malformed comment"),r.comment+="--"+a,r.state=E.COMMENT):r.state=E.TEXT;continue;case E.CDATA:"]"===a?r.state=E.CDATA_ENDING:r.cdata+=a;continue;case E.CDATA_ENDING:"]"===a?r.state=E.CDATA_ENDING_2:(r.cdata+="]"+a,r.state=E.CDATA);continue;case E.CDATA_ENDING_2:">"===a?(r.cdata&&N(r,"oncdata",r.cdata),N(r,"onclosecdata"),r.cdata="",r.state=E.TEXT):"]"===a?r.cdata+="]":(r.cdata+="]]"+a,r.state=E.CDATA);continue;case E.PROC_INST:"?"===a?r.state=E.PROC_INST_ENDING:v(a)?r.state=E.PROC_INST_BODY:r.procInstName+=a;continue;case E.PROC_INST_BODY:if(!r.procInstBody&&v(a))continue;"?"===a?r.state=E.PROC_INST_ENDING:r.procInstBody+=a;continue;case E.PROC_INST_ENDING:">"===a?(N(r,"onprocessinginstruction",{name:r.procInstName,body:r.procInstBody}),r.procInstName=r.procInstBody="",r.state=E.TEXT):(r.procInstBody+="?"+a,r.state=E.PROC_INST_BODY);continue;case E.OPEN_TAG:w(p,a)?r.tagName+=a:(V(r),">"===a?H(r):"/"===a?r.state=E.OPEN_TAG_SLASH:(v(a)||j(r,"Invalid character in tag name"),r.state=E.ATTRIB));continue;case E.OPEN_TAG_SLASH:">"===a?(H(r,!0),M(r)):(j(r,"Forward-slash in opening tag not followed by >"),r.state=E.ATTRIB);continue;case E.ATTRIB:if(v(a))continue;">"===a?H(r):"/"===a?r.state=E.OPEN_TAG_SLASH:w(d,a)?(r.attribName=a,r.attribValue="",r.state=E.ATTRIB_NAME):j(r,"Invalid attribute name");continue;case E.ATTRIB_NAME:"="===a?r.state=E.ATTRIB_VALUE:">"===a?(j(r,"Attribute without value"),r.attribValue=r.attribName,D(r),H(r)):v(a)?r.state=E.ATTRIB_NAME_SAW_WHITE:w(p,a)?r.attribName+=a:j(r,"Invalid attribute name");continue;case E.ATTRIB_NAME_SAW_WHITE:if("="===a)r.state=E.ATTRIB_VALUE;else{if(v(a))continue;j(r,"Attribute without value"),r.tag.attributes[r.attribName]="",r.attribValue="",N(r,"onattribute",{name:r.attribName,value:""}),r.attribName="",">"===a?H(r):w(d,a)?(r.attribName=a,r.state=E.ATTRIB_NAME):(j(r,"Invalid attribute name"),r.state=E.ATTRIB)}continue;case E.ATTRIB_VALUE:if(v(a))continue;y(a)?(r.q=a,r.state=E.ATTRIB_VALUE_QUOTED):(j(r,"Unquoted attribute value"),r.state=E.ATTRIB_VALUE_UNQUOTED,r.attribValue=a);continue;case E.ATTRIB_VALUE_QUOTED:if(a!==r.q){"&"===a?r.state=E.ATTRIB_VALUE_ENTITY_Q:r.attribValue+=a;continue}D(r),r.q="",r.state=E.ATTRIB_VALUE_CLOSED;continue;case E.ATTRIB_VALUE_CLOSED:v(a)?r.state=E.ATTRIB:">"===a?H(r):"/"===a?r.state=E.OPEN_TAG_SLASH:w(d,a)?(j(r,"No whitespace between attributes"),r.attribName=a,r.attribValue="",r.state=E.ATTRIB_NAME):j(r,"Invalid attribute name");continue;case E.ATTRIB_VALUE_UNQUOTED:if(!g(a)){"&"===a?r.state=E.ATTRIB_VALUE_ENTITY_U:r.attribValue+=a;continue}D(r),">"===a?H(r):r.state=E.ATTRIB;continue;case E.CLOSE_TAG:if(r.tagName)">"===a?M(r):w(p,a)?r.tagName+=a:r.script?(r.script+="</"+r.tagName,r.tagName="",r.state=E.SCRIPT):(v(a)||j(r,"Invalid tagname in closing tag"),r.state=E.CLOSE_TAG_SAW_WHITE);else{if(v(a))continue;S(d,a)?r.script?(r.script+="</"+a,r.state=E.SCRIPT):j(r,"Invalid tagname in closing tag."):r.tagName=a}continue;case E.CLOSE_TAG_SAW_WHITE:if(v(a))continue;">"===a?M(r):j(r,"Invalid characters in closing tag");continue;case E.TEXT_ENTITY:case E.ATTRIB_VALUE_ENTITY_Q:case E.ATTRIB_VALUE_ENTITY_U:var l,h;switch(r.state){case E.TEXT_ENTITY:l=E.TEXT,h="textNode";break;case E.ATTRIB_VALUE_ENTITY_Q:l=E.ATTRIB_VALUE_QUOTED,h="attribValue";break;case E.ATTRIB_VALUE_ENTITY_U:l=E.ATTRIB_VALUE_UNQUOTED,h="attribValue"}";"===a?(r[h]+=R(r),r.entity="",r.state=l):w(r.entity.length?b:m,a)?r.entity+=a:(j(r,"Invalid character in entity name"),r[h]+="&"+r.entity+a,r.entity="",r.state=l);continue;default:throw new Error(r,"Unknown state: "+r.state)}r.position>=r.bufferCheckPosition&&function(t){for(var r=Math.max(e.MAX_BUFFER_LENGTH,10),n=0,a=0,s=i.length;a<s;a++){var o=t[i[a]].length;if(o>r)switch(i[a]){case"textNode":x(t);break;case"cdata":N(t,"oncdata",t.cdata),t.cdata="";break;case"script":N(t,"onscript",t.script),t.script="";break;default:I(t,"Max buffer length exceeded: "+i[a])}n=Math.max(n,o)}var u=e.MAX_BUFFER_LENGTH-n;t.bufferCheckPosition=u+t.position}(r);return r},resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){var e;x(e=this),""!==e.cdata&&(N(e,"oncdata",e.cdata),e.cdata=""),""!==e.script&&(N(e,"onscript",e.script),e.script="")}};try{t=r(96704).Stream}catch(e){t=function(){}}var s=e.EVENTS.filter((function(e){return"error"!==e&&"end"!==e}));function o(e,r){if(!(this instanceof o))return new o(e,r);t.apply(this),this._parser=new a(e,r),this.writable=!0,this.readable=!0;var n=this;this._parser.onend=function(){n.emit("end")},this._parser.onerror=function(e){n.emit("error",e),n._parser.error=null},this._decoder=null,s.forEach((function(e){Object.defineProperty(n,"on"+e,{get:function(){return n._parser["on"+e]},set:function(t){if(!t)return n.removeAllListeners(e),n._parser["on"+e]=t,t;n.on(e,t)},enumerable:!0,configurable:!1})}))}o.prototype=Object.create(t.prototype,{constructor:{value:o}}),o.prototype.write=function(e){if("function"==typeof n&&"function"==typeof n.isBuffer&&n.isBuffer(e)){if(!this._decoder){var t=r(36835).s;this._decoder=new t("utf8")}e=this._decoder.write(e)}return this._parser.write(e.toString()),this.emit("data",e),!0},o.prototype.end=function(e){return e&&e.length&&this.write(e),this._parser.end(),!0},o.prototype.on=function(e,r){var n=this;return n._parser["on"+e]||-1===s.indexOf(e)||(n._parser["on"+e]=function(){var t=1===arguments.length?[arguments[0]]:Array.apply(null,arguments);t.splice(0,0,e),n.emit.apply(n,t)}),t.prototype.on.call(n,e,r)};var u="[CDATA[",c="DOCTYPE",l="http://www.w3.org/XML/1998/namespace",h="http://www.w3.org/2000/xmlns/",f={xml:l,xmlns:h},d=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,p=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,m=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,b=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function v(e){return" "===e||"\n"===e||"\r"===e||"\t"===e}function y(e){return'"'===e||"'"===e}function g(e){return">"===e||v(e)}function w(e,t){return e.test(t)}function S(e,t){return!w(e,t)}var _,A,k,E=0;for(var O in e.STATE={BEGIN:E++,BEGIN_WHITESPACE:E++,TEXT:E++,TEXT_ENTITY:E++,OPEN_WAKA:E++,SGML_DECL:E++,SGML_DECL_QUOTED:E++,DOCTYPE:E++,DOCTYPE_QUOTED:E++,DOCTYPE_DTD:E++,DOCTYPE_DTD_QUOTED:E++,COMMENT_STARTING:E++,COMMENT:E++,COMMENT_ENDING:E++,COMMENT_ENDED:E++,CDATA:E++,CDATA_ENDING:E++,CDATA_ENDING_2:E++,PROC_INST:E++,PROC_INST_BODY:E++,PROC_INST_ENDING:E++,OPEN_TAG:E++,OPEN_TAG_SLASH:E++,ATTRIB:E++,ATTRIB_NAME:E++,ATTRIB_NAME_SAW_WHITE:E++,ATTRIB_VALUE:E++,ATTRIB_VALUE_QUOTED:E++,ATTRIB_VALUE_CLOSED:E++,ATTRIB_VALUE_UNQUOTED:E++,ATTRIB_VALUE_ENTITY_Q:E++,ATTRIB_VALUE_ENTITY_U:E++,CLOSE_TAG:E++,CLOSE_TAG_SAW_WHITE:E++,SCRIPT:E++,SCRIPT_ENDING:E++},e.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},e.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(e.ENTITIES).forEach((function(t){var r=e.ENTITIES[t],n="number"==typeof r?String.fromCharCode(r):r;e.ENTITIES[t]=n})),e.STATE)e.STATE[e.STATE[O]]=O;function C(e,t,r){e[t]&&e[t](r)}function N(e,t,r){e.textNode&&x(e),C(e,t,r)}function x(e){e.textNode=P(e.opt,e.textNode),e.textNode&&C(e,"ontext",e.textNode),e.textNode=""}function P(e,t){return e.trim&&(t=t.trim()),e.normalize&&(t=t.replace(/\s+/g," ")),t}function I(e,t){return x(e),e.trackPosition&&(t+="\nLine: "+e.line+"\nColumn: "+e.column+"\nChar: "+e.c),t=new Error(t),e.error=t,C(e,"onerror",t),e}function T(e){return e.sawRoot&&!e.closedRoot&&j(e,"Unclosed root tag"),e.state!==E.BEGIN&&e.state!==E.BEGIN_WHITESPACE&&e.state!==E.TEXT&&I(e,"Unexpected end"),x(e),e.c="",e.closed=!0,C(e,"onend"),a.call(e,e.strict,e.opt),e}function j(e,t){if("object"!=typeof e||!(e instanceof a))throw new Error("bad call to strictFail");e.strict&&I(e,t)}function V(e){e.strict||(e.tagName=e.tagName[e.looseCase]());var t=e.tags[e.tags.length-1]||e,r=e.tag={name:e.tagName,attributes:{}};e.opt.xmlns&&(r.ns=t.ns),e.attribList.length=0,N(e,"onopentagstart",r)}function B(e,t){var r=e.indexOf(":")<0?["",e]:e.split(":"),n=r[0],i=r[1];return t&&"xmlns"===e&&(n="xmlns",i=""),{prefix:n,local:i}}function D(e){if(e.strict||(e.attribName=e.attribName[e.looseCase]()),-1!==e.attribList.indexOf(e.attribName)||e.tag.attributes.hasOwnProperty(e.attribName))e.attribName=e.attribValue="";else{if(e.opt.xmlns){var t=B(e.attribName,!0),r=t.prefix,n=t.local;if("xmlns"===r)if("xml"===n&&e.attribValue!==l)j(e,"xml: prefix must be bound to "+l+"\nActual: "+e.attribValue);else if("xmlns"===n&&e.attribValue!==h)j(e,"xmlns: prefix must be bound to "+h+"\nActual: "+e.attribValue);else{var i=e.tag,a=e.tags[e.tags.length-1]||e;i.ns===a.ns&&(i.ns=Object.create(a.ns)),i.ns[n]=e.attribValue}e.attribList.push([e.attribName,e.attribValue])}else e.tag.attributes[e.attribName]=e.attribValue,N(e,"onattribute",{name:e.attribName,value:e.attribValue});e.attribName=e.attribValue=""}}function H(e,t){if(e.opt.xmlns){var r=e.tag,n=B(e.tagName);r.prefix=n.prefix,r.local=n.local,r.uri=r.ns[n.prefix]||"",r.prefix&&!r.uri&&(j(e,"Unbound namespace prefix: "+JSON.stringify(e.tagName)),r.uri=n.prefix);var i=e.tags[e.tags.length-1]||e;r.ns&&i.ns!==r.ns&&Object.keys(r.ns).forEach((function(t){N(e,"onopennamespace",{prefix:t,uri:r.ns[t]})}));for(var a=0,s=e.attribList.length;a<s;a++){var o=e.attribList[a],u=o[0],c=o[1],l=B(u,!0),h=l.prefix,f=l.local,d=""===h?"":r.ns[h]||"",p={name:u,value:c,prefix:h,local:f,uri:d};h&&"xmlns"!==h&&!d&&(j(e,"Unbound namespace prefix: "+JSON.stringify(h)),p.uri=h),e.tag.attributes[u]=p,N(e,"onattribute",p)}e.attribList.length=0}e.tag.isSelfClosing=!!t,e.sawRoot=!0,e.tags.push(e.tag),N(e,"onopentag",e.tag),t||(e.noscript||"script"!==e.tagName.toLowerCase()?e.state=E.TEXT:e.state=E.SCRIPT,e.tag=null,e.tagName=""),e.attribName=e.attribValue="",e.attribList.length=0}function M(e){if(!e.tagName)return j(e,"Weird empty close tag."),e.textNode+="</>",void(e.state=E.TEXT);if(e.script){if("script"!==e.tagName)return e.script+="</"+e.tagName+">",e.tagName="",void(e.state=E.SCRIPT);N(e,"onscript",e.script),e.script=""}var t=e.tags.length,r=e.tagName;e.strict||(r=r[e.looseCase]());for(var n=r;t--;){if(e.tags[t].name===n)break;j(e,"Unexpected close tag")}if(t<0)return j(e,"Unmatched closing tag: "+e.tagName),e.textNode+="</"+e.tagName+">",void(e.state=E.TEXT);e.tagName=r;for(var i=e.tags.length;i-- >t;){var a=e.tag=e.tags.pop();e.tagName=e.tag.name,N(e,"onclosetag",e.tagName);var s={};for(var o in a.ns)s[o]=a.ns[o];var u=e.tags[e.tags.length-1]||e;e.opt.xmlns&&a.ns!==u.ns&&Object.keys(a.ns).forEach((function(t){var r=a.ns[t];N(e,"onclosenamespace",{prefix:t,uri:r})}))}0===t&&(e.closedRoot=!0),e.tagName=e.attribValue=e.attribName="",e.attribList.length=0,e.state=E.TEXT}function R(e){var t,r=e.entity,n=r.toLowerCase(),i="";return e.ENTITIES[r]?e.ENTITIES[r]:e.ENTITIES[n]?e.ENTITIES[n]:("#"===(r=n).charAt(0)&&("x"===r.charAt(1)?(r=r.slice(2),i=(t=parseInt(r,16)).toString(16)):(r=r.slice(1),i=(t=parseInt(r,10)).toString(10))),r=r.replace(/^0+/,""),isNaN(t)||i.toLowerCase()!==r?(j(e,"Invalid character entity"),"&"+e.entity+";"):String.fromCodePoint(t))}function L(e,t){"<"===t?(e.state=E.OPEN_WAKA,e.startTagPosition=e.position):v(t)||(j(e,"Non-whitespace before first tag."),e.textNode=t,e.state=E.TEXT)}function $(e,t){var r="";return t<e.length&&(r=e.charAt(t)),r}E=e.STATE,String.fromCodePoint||(_=String.fromCharCode,A=Math.floor,k=function(){var e,t,r=[],n=-1,i=arguments.length;if(!i)return"";for(var a="";++n<i;){var s=Number(arguments[n]);if(!isFinite(s)||s<0||s>1114111||A(s)!==s)throw RangeError("Invalid code point: "+s);s<=65535?r.push(s):(e=55296+((s-=65536)>>10),t=s%1024+56320,r.push(e,t)),(n+1===i||r.length>16384)&&(a+=_.apply(null,r),r.length=0)}return a},Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:k,configurable:!0,writable:!0}):String.fromCodePoint=k)}(t)},82849:(e,t,r)=>{var n=r(21607).Buffer;function i(e,t){this._block=n.alloc(e),this._finalSize=t,this._blockSize=e,this._len=0}i.prototype.update=function(e,t){"string"==typeof e&&(t=t||"utf8",e=n.from(e,t));for(var r=this._block,i=this._blockSize,a=e.length,s=this._len,o=0;o<a;){for(var u=s%i,c=Math.min(a-o,i-u),l=0;l<c;l++)r[u+l]=e[o+l];o+=c,(s+=c)%i==0&&this._update(r)}return this._len+=a,this},i.prototype.digest=function(e){var t=this._len%this._blockSize;this._block[t]=128,this._block.fill(0,t+1),t>=this._finalSize&&(this._update(this._block),this._block.fill(0));var r=8*this._len;if(r<=4294967295)this._block.writeUInt32BE(r,this._blockSize-4);else{var n=(4294967295&r)>>>0,i=(r-n)/4294967296;this._block.writeUInt32BE(i,this._blockSize-8),this._block.writeUInt32BE(n,this._blockSize-4)}this._update(this._block);var a=this._hash();return e?a.toString(e):a},i.prototype._update=function(){throw new Error("_update must be implemented by subclass")},e.exports=i},46926:(e,t,r)=>{var n=e.exports=function(e){e=e.toLowerCase();var t=n[e];if(!t)throw new Error(e+" is not supported (we accept pull requests)");return new t};n.sha=r(14434),n.sha1=r(76924),n.sha224=r(24273),n.sha256=r(118),n.sha384=r(13459),n.sha512=r(76151)},14434:(e,t,r)=>{var n=r(67483),i=r(82849),a=r(21607).Buffer,s=[1518500249,1859775393,-1894007588,-899497514],o=new Array(80);function u(){this.init(),this._w=o,i.call(this,64,56)}function c(e){return e<<30|e>>>2}function l(e,t,r,n){return 0===e?t&r|~t&n:2===e?t&r|t&n|r&n:t^r^n}n(u,i),u.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},u.prototype._update=function(e){for(var t,r=this._w,n=0|this._a,i=0|this._b,a=0|this._c,o=0|this._d,u=0|this._e,h=0;h<16;++h)r[h]=e.readInt32BE(4*h);for(;h<80;++h)r[h]=r[h-3]^r[h-8]^r[h-14]^r[h-16];for(var f=0;f<80;++f){var d=~~(f/20),p=0|((t=n)<<5|t>>>27)+l(d,i,a,o)+u+r[f]+s[d];u=o,o=a,a=c(i),i=n,n=p}this._a=n+this._a|0,this._b=i+this._b|0,this._c=a+this._c|0,this._d=o+this._d|0,this._e=u+this._e|0},u.prototype._hash=function(){var e=a.allocUnsafe(20);return e.writeInt32BE(0|this._a,0),e.writeInt32BE(0|this._b,4),e.writeInt32BE(0|this._c,8),e.writeInt32BE(0|this._d,12),e.writeInt32BE(0|this._e,16),e},e.exports=u},76924:(e,t,r)=>{var n=r(67483),i=r(82849),a=r(21607).Buffer,s=[1518500249,1859775393,-1894007588,-899497514],o=new Array(80);function u(){this.init(),this._w=o,i.call(this,64,56)}function c(e){return e<<5|e>>>27}function l(e){return e<<30|e>>>2}function h(e,t,r,n){return 0===e?t&r|~t&n:2===e?t&r|t&n|r&n:t^r^n}n(u,i),u.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},u.prototype._update=function(e){for(var t,r=this._w,n=0|this._a,i=0|this._b,a=0|this._c,o=0|this._d,u=0|this._e,f=0;f<16;++f)r[f]=e.readInt32BE(4*f);for(;f<80;++f)r[f]=(t=r[f-3]^r[f-8]^r[f-14]^r[f-16])<<1|t>>>31;for(var d=0;d<80;++d){var p=~~(d/20),m=c(n)+h(p,i,a,o)+u+r[d]+s[p]|0;u=o,o=a,a=l(i),i=n,n=m}this._a=n+this._a|0,this._b=i+this._b|0,this._c=a+this._c|0,this._d=o+this._d|0,this._e=u+this._e|0},u.prototype._hash=function(){var e=a.allocUnsafe(20);return e.writeInt32BE(0|this._a,0),e.writeInt32BE(0|this._b,4),e.writeInt32BE(0|this._c,8),e.writeInt32BE(0|this._d,12),e.writeInt32BE(0|this._e,16),e},e.exports=u},24273:(e,t,r)=>{var n=r(67483),i=r(118),a=r(82849),s=r(21607).Buffer,o=new Array(64);function u(){this.init(),this._w=o,a.call(this,64,56)}n(u,i),u.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},u.prototype._hash=function(){var e=s.allocUnsafe(28);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e},e.exports=u},118:(e,t,r)=>{var n=r(67483),i=r(82849),a=r(21607).Buffer,s=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],o=new Array(64);function u(){this.init(),this._w=o,i.call(this,64,56)}function c(e,t,r){return r^e&(t^r)}function l(e,t,r){return e&t|r&(e|t)}function h(e){return(e>>>2|e<<30)^(e>>>13|e<<19)^(e>>>22|e<<10)}function f(e){return(e>>>6|e<<26)^(e>>>11|e<<21)^(e>>>25|e<<7)}function d(e){return(e>>>7|e<<25)^(e>>>18|e<<14)^e>>>3}n(u,i),u.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},u.prototype._update=function(e){for(var t,r=this._w,n=0|this._a,i=0|this._b,a=0|this._c,o=0|this._d,u=0|this._e,p=0|this._f,m=0|this._g,b=0|this._h,v=0;v<16;++v)r[v]=e.readInt32BE(4*v);for(;v<64;++v)r[v]=0|(((t=r[v-2])>>>17|t<<15)^(t>>>19|t<<13)^t>>>10)+r[v-7]+d(r[v-15])+r[v-16];for(var y=0;y<64;++y){var g=b+f(u)+c(u,p,m)+s[y]+r[y]|0,w=h(n)+l(n,i,a)|0;b=m,m=p,p=u,u=o+g|0,o=a,a=i,i=n,n=g+w|0}this._a=n+this._a|0,this._b=i+this._b|0,this._c=a+this._c|0,this._d=o+this._d|0,this._e=u+this._e|0,this._f=p+this._f|0,this._g=m+this._g|0,this._h=b+this._h|0},u.prototype._hash=function(){var e=a.allocUnsafe(32);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e.writeInt32BE(this._h,28),e},e.exports=u},13459:(e,t,r)=>{var n=r(67483),i=r(76151),a=r(82849),s=r(21607).Buffer,o=new Array(160);function u(){this.init(),this._w=o,a.call(this,128,112)}n(u,i),u.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},u.prototype._hash=function(){var e=s.allocUnsafe(48);function t(t,r,n){e.writeInt32BE(t,n),e.writeInt32BE(r,n+4)}return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),e},e.exports=u},76151:(e,t,r)=>{var n=r(67483),i=r(82849),a=r(21607).Buffer,s=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],o=new Array(160);function u(){this.init(),this._w=o,i.call(this,128,112)}function c(e,t,r){return r^e&(t^r)}function l(e,t,r){return e&t|r&(e|t)}function h(e,t){return(e>>>28|t<<4)^(t>>>2|e<<30)^(t>>>7|e<<25)}function f(e,t){return(e>>>14|t<<18)^(e>>>18|t<<14)^(t>>>9|e<<23)}function d(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^e>>>7}function p(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^(e>>>7|t<<25)}function m(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^e>>>6}function b(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^(e>>>6|t<<26)}function v(e,t){return e>>>0<t>>>0?1:0}n(u,i),u.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},u.prototype._update=function(e){for(var t=this._w,r=0|this._ah,n=0|this._bh,i=0|this._ch,a=0|this._dh,o=0|this._eh,u=0|this._fh,y=0|this._gh,g=0|this._hh,w=0|this._al,S=0|this._bl,_=0|this._cl,A=0|this._dl,k=0|this._el,E=0|this._fl,O=0|this._gl,C=0|this._hl,N=0;N<32;N+=2)t[N]=e.readInt32BE(4*N),t[N+1]=e.readInt32BE(4*N+4);for(;N<160;N+=2){var x=t[N-30],P=t[N-30+1],I=d(x,P),T=p(P,x),j=m(x=t[N-4],P=t[N-4+1]),V=b(P,x),B=t[N-14],D=t[N-14+1],H=t[N-32],M=t[N-32+1],R=T+D|0,L=I+B+v(R,T)|0;L=(L=L+j+v(R=R+V|0,V)|0)+H+v(R=R+M|0,M)|0,t[N]=L,t[N+1]=R}for(var $=0;$<160;$+=2){L=t[$],R=t[$+1];var U=l(r,n,i),F=l(w,S,_),K=h(r,w),z=h(w,r),W=f(o,k),q=f(k,o),Z=s[$],J=s[$+1],G=c(o,u,y),Y=c(k,E,O),X=C+q|0,Q=g+W+v(X,C)|0;Q=(Q=(Q=Q+G+v(X=X+Y|0,Y)|0)+Z+v(X=X+J|0,J)|0)+L+v(X=X+R|0,R)|0;var ee=z+F|0,te=K+U+v(ee,z)|0;g=y,C=O,y=u,O=E,u=o,E=k,o=a+Q+v(k=A+X|0,A)|0,a=i,A=_,i=n,_=S,n=r,S=w,r=Q+te+v(w=X+ee|0,X)|0}this._al=this._al+w|0,this._bl=this._bl+S|0,this._cl=this._cl+_|0,this._dl=this._dl+A|0,this._el=this._el+k|0,this._fl=this._fl+E|0,this._gl=this._gl+O|0,this._hl=this._hl+C|0,this._ah=this._ah+r+v(this._al,w)|0,this._bh=this._bh+n+v(this._bl,S)|0,this._ch=this._ch+i+v(this._cl,_)|0,this._dh=this._dh+a+v(this._dl,A)|0,this._eh=this._eh+o+v(this._el,k)|0,this._fh=this._fh+u+v(this._fl,E)|0,this._gh=this._gh+y+v(this._gl,O)|0,this._hh=this._hh+g+v(this._hl,C)|0},u.prototype._hash=function(){var e=a.allocUnsafe(64);function t(t,r,n){e.writeInt32BE(t,n),e.writeInt32BE(r,n+4)}return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),t(this._gh,this._gl,48),t(this._hh,this._hl,56),e},e.exports=u},79629:e=>{"use strict";e.exports=JSON.parse('{"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}')}}]);
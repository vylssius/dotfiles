(()=>{var e,t,a,n,i,o={878058:(e,t,a)=>{"use strict";a.d(t,{V:()=>i}),a(135758);var n=a(453576);function i(e){const t=e.user.session.permissions,a=Boolean(e.carbon.loginStatus&&e.carbon.loginStatus.loggedIn),i=t.tacAccessPermissions.has("FULL"),o=t.tacAccessPermissions.has("BILLING"),s=Array.from(t.tacAccessPermissions).some((e=>n.groupPermissions.includes(e)));return{loggedIn:a,adminAccess:{hasTACAccess:i||o||s,hasFullAccess:i,hasBillingAccess:o,hasGroupAccess:s,hasPermissionLevel:e=>t.tacAccessPermissions.has(e)}}}},23054:(e,t,a)=>{"use strict";a.d(t,{ZP:()=>u,_e:()=>d,m8:()=>l,t1:()=>c});var n=a(769183),i=a(798601);const o=()=>Math.floor(2147483647*Math.random());function s(){return{device:{externalDeviceId:(0,n.Z)()},session:{anonymousUserId:"{"+(0,n.Z)().toUpperCase()+"}",login:null,password:null,permissions:{tacAccessPermissions:new Set},sessionId:o(),uki:null}}}const r=(0,i.Z)("USER",s()),l=r.registerAction("USER_LOGGED_IN_WITH_UKI",((e,{login:t,uki:a})=>Object.assign({},e,{session:Object.assign({},e.session,{login:t,uki:a,sessionId:o()})}))),c=r.registerAction("USER_PERMISSIONS_LOADED",((e,{permissions:t})=>Object.assign({},e,{session:Object.assign({},e.session,{permissions:Object.assign({},e.session.permissions,t)})}))),d=r.registerAction("USER_LOGGED_OUT",(e=>Object.assign({},e,s()))),u=r},861456:(e,t,a)=>{"use strict";a.d(t,{ZP:()=>c});var n=a(139378),i=a(562751),o=a(654712),s=a(80286);a(135758);const r=[],l="@Storage.App";function c({saveDelay:e,store:t,storage:a,whiteList:c}){e=e||1e3,function(e){if(r.includes(e))throw new Error("User storage used more than once !");r.push(e)}(a);let d=!1;return function(e){return new Promise((t=>{const a=e.getItem(l);t(a&&JSON.parse(a))}))}(a).then((e=>{e&&Object.keys(e).length&&t.dispatch((0,o.I)(e))})).then((()=>{t.subscribe((0,n.debounce)((()=>{d||function(e,t){t.setItem(l,JSON.stringify(e))}(function(e,t){const a=t.map((e=>e.split("/")));return i.pickDeep(e,...a)}(t.getState(),c),a)}),e))})).catch((e=>{t.dispatch((0,s.Z)("Load data from storage failed",e))})).then((()=>({clear:()=>function(e){return e.removeItem(l),Promise.resolve()}(a),stop:()=>{d=!0}})))}},654712:(e,t,a)=>{"use strict";a.d(t,{I:()=>s,Z:()=>l});var n=a(140),i=a.n(n);const o=(0,a(798601).Z)("PERSISTENCE",{}),s=o.registerAction("RESTORE_DATA",((e,t)=>i()({},e,t))),{apply:r}=o,l=r},274187:(e,t,a)=>{"use strict";a.d(t,{G:()=>o});var n=a(148038),i=a(616274);function o(){const e=(0,n.qr)({queryConfig:{query:i.C.getContactInfo},liveConfig:{live:i.C.liveContactInfo}},[]);return e.status===n.rq.Success?e.data:void 0}},919005:(e,t,a)=>{"use strict";a.d(t,{f:()=>o});var n=a(148038),i=a(616274);function o(){const e=(0,n.qr)({queryConfig:{query:i.C.getUserLogin}},[]);return e.status===n.rq.Success?e.data:void 0}},451175:(e,t,a)=>{"use strict";a.d(t,{h:()=>s});var n=a(148038),i=a(616274),o=a(670138);function s(){const e=(0,o.w)("SAEXAccountRecoveryv3"),t=(0,n.qr)({queryConfig:{query:i.C.getIsRecoveryEnabled}},[]);return e&&t.status===n.rq.Success&&t.data}},860039:(e,t,a)=>{"use strict";a.d(t,{F:()=>o});var n=a(148038),i=a(616274);function o(){const e=(0,n.qr)({queryConfig:{query:i.C.getIsSSOUser}},[]);return!(e.status!==n.rq.Success||!e.data)}},144353:(e,t,a)=>{"use strict";a.d(t,{j:()=>C});var n=a(696832),i=(a(135758),a(616274)),o=a(148038),s=a(238250);let r;!function(e){e.NOT_STARTED="NOT_STARTED",e.LOADING="LOADING",e.SUCCESS="SUCCESS",e.FAILURE="FAILURE"}(r||(r={}));var l=a(708608),c=a(446389),d=a(373245);const u=({description:e,subdescription:t,animation:a,shouldLoopAnimation:i=!1,progressValue:o=0,children:s})=>{const{translate:r}=(0,c.Z)();return n.createElement("div",{className:"progressContainer--IDCM9zq2cU"},n.createElement(l.D1W,{color:l.vei.DashGreen,size:l.r1z.Size39,title:r("_common_dashlane_logo_title")}),n.createElement("div",{className:"content--XCE4roobSY"},n.createElement(d.Z,{height:65,width:65,animationParams:{renderer:"svg",animationData:a,loop:i,autoplay:!0}}),n.createElement("p",{className:"progressValue--_TmysucqKU"},r("_common_generic_percentage",{number:o})),n.createElement("h2",{className:"description--HqE0fzen3s"},e),t?n.createElement("p",{className:"subDescription--ekdMNGDqP0"},t):null,s))};var p=a(656810);const m=({progressValue:e,onBack:t})=>{const{translate:a}=(0,c.Z)();return n.createElement(u,{description:a("webapp_account_security_settings_changemp_error_desc"),subdescription:a("webapp_account_security_settings_changemp_error_sub_desc"),animation:p,progressValue:e},n.createElement("section",{className:"actionsSection--heRhhR1FQu"},n.createElement(l.zxk,{type:"button",nature:"primary",size:"small",onClick:t},a("webapp_account_security_settings_changemp_error_button_goback"))))};var _=a(421548);const g=({progressValue:e})=>{const{translate:t}=(0,c.Z)();return n.createElement(u,{description:t("webapp_account_security_settings_changemp_loading_desc"),subdescription:t("webapp_account_security_settings_changemp_loading_warning"),animation:_,shouldLoopAnimation:!0,progressValue:e})};var h=a(809205);const b=({progressValue:e,onDone:t})=>{const{translate:a}=(0,c.Z)();return n.createElement(u,{description:a("webapp_account_security_settings_changemp_success_desc"),animation:h,progressValue:e},n.createElement("section",{className:"actionsSection--Jqp4PbWYcZ"},n.createElement(l.zxk,{type:"button",nature:"primary",size:"small",onClick:t},a("webapp_account_security_settings_changemp_success_button_done"))),n.createElement(l.vDh,{severity:"subtle",size:"small",className:"infoboxTip--sYIEKUKVdu",title:n.createElement(n.Fragment,null,n.createElement("p",{className:"infoboxTitle--zs3ovJ4JRa"},a("webapp_account_security_settings_changemp_panel_forgotmp_infobox_title")),n.createElement("p",null,a.markup("webapp_account_security_settings_changemp_panel_forgotmp_infobox_description_markup",{utmSource:"extension",utmMedium:"account"},{linkTarget:"_blank"})))}))},C=({onOpenUserVault:e})=>{const{status:t,progressValue:a}=function(){const[e,t]=(0,n.useState)(r.NOT_STARTED),[a,l]=(0,n.useState)(0);(0,o.lU)((a=>{a!==o.ae.KILLED||[r.SUCCESS,r.NOT_STARTED].includes(e)||t(r.FAILURE)}),[e]);const c=(0,o.K_)({live:i.C.liveChangeMasterPasswordStatus},[]);return(0,n.useEffect)((()=>{if(c.status!==o.iD.Received||!c.data)return;const{type:e,value:a}=c.data;e===s.ChangeMasterPasswordStepNeeded.DONE?t(r.SUCCESS):e===s.ChangeMasterPasswordStepNeeded.ERROR?t(r.FAILURE):t(r.LOADING),l(a)}),[c]),{status:e,progressValue:a}}(),l=()=>{e()};return t===r.NOT_STARTED?null:n.createElement("div",{className:"fullPage--iVcJx8Qt4j"},t===r.LOADING?n.createElement(g,{progressValue:a}):null,t===r.FAILURE?n.createElement(m,{progressValue:a,onBack:l}):null,t===r.SUCCESS?n.createElement(b,{progressValue:a,onDone:l}):null)}},673093:(e,t,a)=>{"use strict";a.d(t,{m:()=>m});var n=a(696832),i=a(708608),o=a(585921),s=a(927761),r=a(191492),l=a(326093);var c,d,u;class p extends n.Component{constructor(e){super(e),this.copyText=()=>{this.props.data&&navigator.clipboard.writeText(this.props.data).then((()=>{this._onCopyDone(!0)}),(e=>{this._onCopyDone(!1,e)}))},this.scheduleFeedback=()=>{const e=window.setTimeout((()=>{this.setState({showFeedback:!0})}),100),t=window.setTimeout((()=>{this.setState({showFeedback:!1,copySuccess:void 0})}),1300);this.setState({timeoutIds:[e,t]})},this.doCopy=()=>{this.scheduleFeedback(),this.copyText()},this.handleClick=()=>{if(this.props.checkProtected?.()){if(this.props.itemId)return this.props.openProtectedItemsUnlocker({successCallback:()=>this.doCopy(),action:r.P7.Copy,itemType:r.Ru.Password,credentialId:this.props.itemId,showNeverAskOption:!0});var e;if(this.props.itemType!==r.Ru.Password)return this.props.openProtectedItemsUnlocker({successCallback:()=>this.doCopy(),action:r.P7.Copy,itemType:null!=(e=this.props.itemType)?e:r.Ru.BankAccount})}this.doCopy()},this.state={copySuccess:void 0,showFeedback:!1,timeoutIds:[]}}componentWillUnmount(){this.state.timeoutIds.map((e=>window.clearTimeout(e)))}_onCopyDone(e,t){this.state.copySuccess||(this.props.onCopy&&this.props.onCopy(e,t),this.setState({copySuccess:e}))}render(){const e=this.props.translate.namespace("webapp_credential_edition_field_"),t=this.state.showFeedback&&void 0!==this.state.copySuccess,a=this.state.copySuccess?"positive":"danger",s=n.createElement("div",{className:"label--qQbwcp2PRT",title:e("generic_action_copy")},n.createElement("span",null,t||c||(c=n.createElement(i.TIy,null))),n.createElement("div",{className:"iconWrapper--QrynuaFkU4"},t&&(this.state.copySuccess?d||(d=n.createElement("img",{src:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+Cjxzdmcgd2lkdGg9IjE2cHgiIGhlaWdodD0iMTJweCIgdmlld0JveD0iMCAwIDE2IDEyIiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPgogICAgPCEtLSBHZW5lcmF0b3I6IFNrZXRjaCA0MC4xICgzMzgwNCkgLSBodHRwOi8vd3d3LmJvaGVtaWFuY29kaW5nLmNvbS9za2V0Y2ggLS0+CiAgICA8dGl0bGU+U2hhcGU8L3RpdGxlPgogICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+CiAgICA8ZGVmcz48L2RlZnM+CiAgICA8ZyBpZD0iUGFzc3dvcmRzIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8ZyBpZD0iV2ViQXBwX3Bhc3N3b3Jkc18xNDQweDkwMF9kZXRhaWxzLWNvcHktZmVlZGJhY2sxX21jX3YzLjAiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0xMzYwLjAwMDAwMCwgLTM0NC4wMDAwMDApIiBmaWxsPSIjRkZGRkZGIj4KICAgICAgICAgICAgPGcgaWQ9IkRldGFpbHMtVmlldyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoODAwLjAwMDAwMCwgNjAuMDAwMDAwKSI+CiAgICAgICAgICAgICAgICA8ZyBpZD0iRWRpdCI+CiAgICAgICAgICAgICAgICAgICAgPGcgaWQ9IkNvbnRlbnQiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAuMDAwMDAwLCAxODAuMDAwMDAwKSI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxnIGlkPSJQYXNzd29yZCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMC4wMDAwMDAsIDg4LjAwMDAwMCkiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGcgaWQ9ImJ0bi0tLUNvcHkiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDUyOC4wMDAwMDAsIDYuMDAwMDAwKSI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTMyLDE2LjE4IEMzMiwxNi4wNiAzMi4wNjE1Mzg1LDE1Ljg4IDMyLjE4NDYxNTQsMTUuNzYgTDMzLjA0NjE1MzgsMTQuOTIgQzMzLjI5MjMwNzcsMTQuNjggMzMuNjYxNTM4NSwxNC42OCAzMy45MDc2OTIzLDE0LjkyIEwzMy45NjkyMzA4LDE0Ljk4IEwzNy4zNTM4NDYyLDE4LjUyIEMzNy40NzY5MjMxLDE4LjY0IDM3LjY2MTUzODUsMTguNjQgMzcuNzg0NjE1NCwxOC41MiBMNDYuMDMwNzY5MiwxMC4xOCBMNDYuMDkyMzA3NywxMC4xOCBDNDYuMzM4NDYxNSw5Ljk0IDQ2LjcwNzY5MjMsOS45NCA0Ni45NTM4NDYyLDEwLjE4IEw0Ny44MTUzODQ2LDExLjAyIEM0OC4wNjE1Mzg1LDExLjI2IDQ4LjA2MTUzODUsMTEuNjIgNDcuODE1Mzg0NiwxMS44NiBMMzcuOTY5MjMwOCwyMS44MiBDMzcuODQ2MTUzOCwyMS45NCAzNy43MjMwNzY5LDIyIDM3LjUzODQ2MTUsMjIgQzM3LjM1Mzg0NjIsMjIgMzcuMjMwNzY5MiwyMS45NCAzNy4xMDc2OTIzLDIxLjgyIEwzMi4zMDc2OTIzLDE2Ljc4IEwzMi4xODQ2MTU0LDE2LjYgQzMyLjA2MTUzODUsMTYuNDggMzIsMTYuMyAzMiwxNi4xOCBaIiBpZD0iU2hhcGUiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZz4KICAgICAgICAgICAgICAgICAgICAgICAgPC9nPgogICAgICAgICAgICAgICAgICAgIDwvZz4KICAgICAgICAgICAgICAgIDwvZz4KICAgICAgICAgICAgPC9nPgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zdmc+"})):u||(u=n.createElement("img",{src:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+Cjxzdmcgd2lkdGg9IjEycHgiIGhlaWdodD0iMTJweCIgdmlld0JveD0iMCAwIDEyIDEyIiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPgogICAgPCEtLSBHZW5lcmF0b3I6IFNrZXRjaCA0MC4xICgzMzgwNCkgLSBodHRwOi8vd3d3LmJvaGVtaWFuY29kaW5nLmNvbS9za2V0Y2ggLS0+CiAgICA8dGl0bGU+Q29tYmluZWQgU2hhcGU8L3RpdGxlPgogICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+CiAgICA8ZGVmcz48L2RlZnM+CiAgICA8ZyBpZD0iUGFzc3dvcmRzIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8ZyBpZD0iV2ViQXBwX3Bhc3N3b3Jkc18xNDQweDkwMF9kZXRhaWxzLWNvcHktZmVlZGJhY2syX21jX3YzLjAiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0xMzYyLjAwMDAwMCwgLTM0NC4wMDAwMDApIiBmaWxsPSIjRkZGRkZGIj4KICAgICAgICAgICAgPGcgaWQ9IkRldGFpbHMtVmlldyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoODAwLjAwMDAwMCwgNjAuMDAwMDAwKSI+CiAgICAgICAgICAgICAgICA8ZyBpZD0iRWRpdCI+CiAgICAgICAgICAgICAgICAgICAgPGcgaWQ9IkNvbnRlbnQiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAuMDAwMDAwLCAxODAuMDAwMDAwKSI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxnIGlkPSJQYXNzd29yZCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMC4wMDAwMDAsIDg4LjAwMDAwMCkiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGcgaWQ9ImJ0bi0tLUNvcHkiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDUyOC4wMDAwMDAsIDYuMDAwMDAwKSI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTQwLDE0LjI0NTU4NzcgTDM1Ljg1MzYwNzQsMTAuMDk5MTk1MSBDMzUuNzE4MTUzNSw5Ljk2Mzc0MTIyIDM1LjUwNDc1MjEsOS45Njg3NzQyNCAzNS4zNzAwMjU4LDEwLjEwMzUwMDUgTDM0LjEwMzUwMDUsMTEuMzcwMDI1OCBDMzMuOTc0NjY4OSwxMS40OTg4NTc0IDMzLjk2Njg0NjYsMTEuNzIxMjU4OSAzNC4wOTkxOTUxLDExLjg1MzYwNzQgTDM4LjI0NTU4NzcsMTYgTDM0LjA5OTE5NTEsMjAuMTQ2MzkyNiBDMzMuOTYzNzQxMiwyMC4yODE4NDY1IDMzLjk2ODc3NDIsMjAuNDk1MjQ3OSAzNC4xMDM1MDA1LDIwLjYyOTk3NDIgTDM1LjM3MDAyNTgsMjEuODk2NDk5NSBDMzUuNDk4ODU3NCwyMi4wMjUzMzExIDM1LjcyMTI1ODksMjIuMDMzMTUzNCAzNS44NTM2MDc0LDIxLjkwMDgwNDkgTDQwLDE3Ljc1NDQxMjMgTDQ0LjE0NjM5MjYsMjEuOTAwODA0OSBDNDQuMjgxODQ2NSwyMi4wMzYyNTg4IDQ0LjQ5NTI0NzksMjIuMDMxMjI1OCA0NC42Mjk5NzQyLDIxLjg5NjQ5OTUgTDQ1Ljg5NjQ5OTUsMjAuNjI5OTc0MiBDNDYuMDI1MzMxMSwyMC41MDExNDI2IDQ2LjAzMzE1MzQsMjAuMjc4NzQxMSA0NS45MDA4MDQ5LDIwLjE0NjM5MjYgTDQxLjc1NDQxMjMsMTYgTDQ1LjkwMDgwNDksMTEuODUzNjA3NCBDNDYuMDM2MjU4OCwxMS43MTgxNTM1IDQ2LjAzMTIyNTgsMTEuNTA0NzUyMSA0NS44OTY0OTk1LDExLjM3MDAyNTggTDQ0LjYyOTk3NDIsMTAuMTAzNTAwNSBDNDQuNTAxMTQyNiw5Ljk3NDY2ODkgNDQuMjc4NzQxMSw5Ljk2Njg0NjY1IDQ0LjE0NjM5MjYsMTAuMDk5MTk1MSBMNDAsMTQuMjQ1NTg3NyBMNDAsMTQuMjQ1NTg3NyBaIiBpZD0iQ29tYmluZWQtU2hhcGUiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZz4KICAgICAgICAgICAgICAgICAgICAgICAgPC9nPgogICAgICAgICAgICAgICAgICAgIDwvZz4KICAgICAgICAgICAgICAgIDwvZz4KICAgICAgICAgICAgPC9nPgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zdmc+"})))),n.createElement("span",{className:"feedbackLegend--wPnY_kXuDN"},t&&this.state.copySuccess&&e("generic_action_copy_feedback_ok")));return n.createElement(i.ua7,{placement:"top",content:e("generic_action_copy")},n.createElement(o.zx,{mood:t?a:"neutral",intensity:t?"catchy":"supershy",disabled:this.props.disabled,onClick:this.handleClick,title:e("generic_action_copy")},s))}}const m=(0,s.DP)((0,l.H)(p))},250866:(e,t,a)=>{"use strict";a.d(t,{CG:()=>l,ZP:()=>c});var n=a(158432),i=a(758887),o=a(73526);const s=i._.ascending,r=(0,n.SP)("credentials",{sortingOptions:{field:"title",direction:s}},[]),l=(r.action("sorting-options-changed",(({state:e,param:t})=>((e=>{localStorage.setItem(o.bC,JSON.stringify(e.sortingOptions))})({...e,sortingOptions:t}),{sortingOptions:t}))),r.action("restore-from-storage",(()=>{const e=localStorage.getItem(o.bC);try{return e?JSON.parse(e):{}}catch(e){return{}}}))),c=r},631069:(e,t,a)=>{"use strict";a.d(t,{z:()=>o});var n=a(651465),i=a(24836);const o=e=>{const{data:t}=(0,i.k$)(n.emailMonitoringApi,"domainIcon",{domain:e});return{icon:null!=t?t:void 0}}},9138:(e,t,a)=>{"use strict";a.d(t,{r:()=>c});var n,i=a(696832),o=a(148038),s=a(46676),r=a(708608),l=a(630886);const c=({layout:e})=>{const[t,a]=i.useState(!1),c=(0,s.m)();if(c.status!==o.rq.Success)return null;if(!c.data)return null;const d="absolute"===e?{position:"absolute",bottom:0}:{};return i.createElement(r.Ejs,{justifyContent:"space-around",sx:d},i.createElement(r.zxk,{type:"button",nature:"ghost",onClick:()=>{a(!0)}},"Show Debug Data"),i.createElement(l.o,{isOpen:t,disableBackgroundPanelClose:!0,onRequestClose:()=>a(!1),"aria-labelledby":"dialogTitle","aria-describedby":"dialogBody",title:"Debug data",footer:i.createElement(r.cNS,{primaryButtonTitle:"Close",primaryButtonOnClick:()=>a(!1),intent:"secondary"})},i.createElement(r.nvN,null,n||(n=i.createElement("strong",null,"Installation ID: "))," ",c.data)))}},714494:(e,t,a)=>{"use strict";a.d(t,{r:()=>r,R:()=>l});var n=a(696832),i=a(851285);const o=({dialogId:e})=>{const t=document.getElementById(null!=e?e:"dashlane-dialog"),{isDialogVisible:a,dialogContent:o}=n.useContext(s);return t&&a&&o?i.createPortal(o,t):null},s=n.createContext({isDialogVisible:!1,dialogContent:null,openDialog:()=>{},closeDialog:()=>{}}),r=({children:e,dialogId:t})=>{const{isDialogVisible:a,dialogContent:i,openDialog:r,closeDialog:l}=(()=>{const[e,t]=n.useState(!1),[a,i]=n.useState(null);return{isDialogVisible:e,dialogContent:a,openDialog:a=>{t(!e),a&&i(a)},closeDialog:()=>{t(!1),i(null)}}})();return n.createElement(s.Provider,{value:{isDialogVisible:a,dialogContent:i,openDialog:r,closeDialog:l}},n.createElement(o,{dialogId:t}),e)},l=()=>n.useContext(s)},164671:(e,t,a)=>{"use strict";a.d(t,{V:()=>n,y:()=>i});const n={driverLicenses:"driver-licenses",fiscalIds:"fiscal-ids",idCards:"id-cards",passports:"passports",socialSecurityIds:"social-security-ids"},i=e=>Object.keys(n).reduce(((t,a)=>{const i=n[a];return t.push(`${null!=e?e:""}/${i}/:uuid`,`${null!=e?e:""}/${i}/add`),t}),[])},428390:(e,t,a)=>{"use strict";a.d(t,{HE:()=>s});var n=a(342868),i=(a(238250),a(676025)),o=a(277786);const s=(e,t,a,s,r)=>{const l=`${s?i.lP:i.G9}?${(0,n.stringify)({subCode:t,coupon:e,pricing:r})}`;(0,o.Yk)(l,a)}},158668:(e,t,a)=>{"use strict";a.d(t,{Co:()=>n.Co,QR:()=>n.QR,n6:()=>n.n6,qd:()=>n.qd});var n=a(322374)},426025:(e,t,a)=>{"use strict";let n,i,o;a.d(t,{X3:()=>i,nS:()=>o,w2:()=>n}),function(e){e.ADD_NEW_NOTE="add_new_note",e.PREMIUM_PROMPT="premium_prompt",e.SECURE_NOTE="secure_note"}(n||(n={})),function(e){e.DARKWEB_MONITORING="dark_web_monitoring",e.PASSWORD_LIMIT="password_limit",e.SECURE_NOTES="secure_notes",e.SHARING_LIMIT="sharing_limit",e.VPN="vpn"}(i||(i={})),function(e){e.ADD_NEW="add_new",e.CLOSE="close",e.DISPLAY="display",e.GO_ESSENTIALS="go_essentials",e.GO_PLANS="go_plans",e.GO_PREMIUM="go_premium",e.PREMIUM_PROMPT="premium_prompt"}(o||(o={}))},322374:(e,t,a)=>{"use strict";a.d(t,{sW:()=>B,QR:()=>W,qd:()=>R,Co:()=>U,n6:()=>F});var n,i=a(696832),o=a(148038),s=a(174071),r=a(202281),l=a(708608),c=a(110203),d=a(585921),u=a(987364),p=a(373312),m=a(959074),_=a(277786),g=a(446389),h=a(273966),b=a(300697),C=a.n(b),w=a(418402),y=a.n(w),E=a(78740),I=a(428390),N=a(426025),f=a(299620);let v;!function(e){e.Essentials="essentials",e.Premium="premium"}(v||(v={}));const S="webapp_paywall_close",D=e=>{const{target:t,title:a,mode:s,description:b,paywallFeatures:w,closePaywall:D,paywallType:x}=e,{routes:M}=(0,m.Xo)(),{translateWithMarkup:T}=(0,f.Y)(),{translate:A}=(0,g.Z)(),k=(0,h.B)(),Z=(0,r.Y)(),O={[N.X3.SECURE_NOTES]:c.PageView.PaywallSecureNotes,[N.X3.DARKWEB_MONITORING]:c.PageView.PaywallDarkWebMonitoring,[N.X3.VPN]:c.PageView.PaywallVpn,[N.X3.PASSWORD_LIMIT]:c.PageView.PaywallPasswordLimit,[N.X3.SHARING_LIMIT]:c.PageView.PaywallSharingLimit},L=new c.UserCallToActionEvent({callToActionList:[c.CallToAction.AllOffers,c.CallToAction.PremiumOffer],hasChosenNoAction:!0}),P=new c.UserCallToActionEvent({callToActionList:[c.CallToAction.AllOffers,c.CallToAction.PremiumOffer],hasChosenNoAction:!1,chosenAction:c.CallToAction.PremiumOffer}),z=new c.UserCallToActionEvent({callToActionList:[c.CallToAction.AllOffers,c.CallToAction.PremiumOffer],hasChosenNoAction:!1,chosenAction:c.CallToAction.AllOffers});if((0,i.useEffect)((()=>{Z.status===o.rq.Success&&Z.data&&(0,u.N)(O[x])}),[x,Z,u.N]),Z.status!==o.rq.Success)return null;const j=()=>{"popup"===s&&D&&((0,u.K)(L),D())},R=t===v.Essentials?"webapp_paywall_upgrade_essentials":"webapp_paywall_upgrade_premium";return(0,d.tZ)(l.Ejs,{sx:{position:"absolute",zIndex:C()["--z-index-above-panel"],top:"0px",overflow:"auto",width:"100%",height:"100%",backgroundColor:y()["--transparent-dash-green-00-background-color"]},justifyContent:"center",alignItems:"center"},(0,d.tZ)(p.j,{onOutsideClick:j},(0,d.tZ)(l.Ejs,{sx:{position:"relative",width:["auto","auto","784px"],background:l.O9T.white,borderRadius:"4px",padding:["32px","32px","88px 88px 46px 88px"]},justifyContent:"center",flexDirection:"column"},"popup"===s?(0,d.tZ)("button",{sx:{position:"absolute",cursor:"pointer",background:"transparent",top:"21px",right:"21px"},type:"button","aria-label":A(S),title:A(S),onClick:j},(0,d.tZ)(l.Two,{color:l.O9T.dashGreen03})):null,(0,d.tZ)(l.X6q,null,T(a)),(0,d.tZ)("div",{sx:{mt:"8px"}},(0,d.tZ)(l.nvN,{color:l.O9T.dashGreen02},T(b))),(0,d.tZ)("ul",{sx:{mt:"40px"}},w.map((e=>(0,d.tZ)("li",{sx:{mt:"16px",display:"flex",justifyContent:"flex-start",alignItems:"center",svg:{flexShrink:0}},key:e.key},e.icon,(0,d.tZ)("div",{sx:{ml:"16px",lineHeight:"18px"}},(0,d.tZ)(l.nvN,{bold:!0,color:l.O9T.dashGreen00},T(e.title)),(0,d.tZ)("div",{sx:{mt:"4px"}},(0,d.tZ)(l.nvN,{color:l.O9T.dashGreen02},T(e.description)))))))),(0,d.tZ)(l.Ejs,{justifyContent:"flex-end",sx:{mt:"36px",mr:["0px","0px","-44px"],button:{ml:"8px"}}},(0,d.tZ)(d.zx,{onClick:()=>{const e={type:N.w2.PREMIUM_PROMPT,subtype:x,action:N.nS.GO_PLANS};(0,_.Yk)(M.userGoPlans,e),(0,u.K)(z)},mood:"neutral",intensity:"quiet"},A("webapp_paywall_go_to_plans"),n||(n=(0,d.tZ)(l.RTC,null))),(0,d.tZ)(d.zx,{onClick:()=>{var e;const a=null!=(e=k?.subscriptionCode)?e:"",n=(0,E.c)(k?.premiumStatus?.autoRenewInfo),i=t===v.Essentials,o=i?N.nS.GO_ESSENTIALS:N.nS.GO_PREMIUM,s={type:N.w2.PREMIUM_PROMPT,subtype:x,action:o};(0,I.HE)("",a,s,i,n),(0,u.K)(P)}},A(R))))))},x=[{icon:i.createElement(l.blU,{size:50,color:l.O9T["--dash-green-02"]}),key:"feature1",title:"webapp_paywall_dark_web_monitor_dialog_feature1_title",description:"webapp_paywall_dark_web_monitor_dialog_feature1_text"},{icon:i.createElement(l._uz,{size:50,color:l.O9T["--dash-green-02"]}),key:"feature2",title:"webapp_paywall_dark_web_monitor_dialog_feature2_title",description:"webapp_paywall_dark_web_monitor_dialog_feature2_text"},{icon:i.createElement(l.tWY,{size:50,color:l.O9T["--dash-green-02"]}),key:"feature3",title:"webapp_paywall_dark_web_monitor_dialog_feature3_title",description:"webapp_paywall_dark_web_monitor_dialog_feature3_text"}],M=({mode:e,closePaywall:t})=>(i.useEffect((()=>{(0,u.N)(c.Page.PaywallDarkWebMonitoring)}),[]),i.createElement(D,{closePaywall:t,description:"webapp_paywall_dark_web_monitor_dialog_subtitle",paywallFeatures:x,mode:e,paywallType:N.X3.DARKWEB_MONITORING,title:"webapp_paywall_dark_web_monitor_dialog_title",target:v.Premium})),T=[{icon:i.createElement(l.kpp,{size:50,color:l.O9T["--dash-green-02"]}),key:"file_storage",title:"webapp_paywall_secure_note_file_storage_title",description:"webapp_paywall_secure_note_file_storage_description"},{icon:i.createElement(l.ROc,{size:50,color:l.O9T["--dash-green-02"]}),key:"folder",title:"webapp_paywall_secure_note_folder_title",description:"webapp_paywall_secure_note_folder_description"},{icon:i.createElement(l.FKb,{size:50,color:l.O9T["--dash-green-02"]}),key:"secure_sharing",title:"webapp_paywall_secure_note_secure_sharing_title",description:"webapp_paywall_secure_note_secure_sharing_description"}],A=({mode:e,closePaywall:t})=>i.createElement(D,{paywallType:N.X3.SECURE_NOTES,title:"webapp_paywall_secure_note_title",description:"webapp_paywall_secure_note_description",mode:e,closePaywall:t,paywallFeatures:T,target:v.Premium});var k=a(453576),Z=a(339702);let O;!function(e){e.FREE="free",e.TRIAL="trial",e.ESSENTIALS="essentials"}(O||(O={}));const L={[O.FREE]:{title:"webapp_paywall_vpn_free_title",description:{key:"webapp_paywall_vpn_free_description_markup",params:{hotspotShield:Z.Xj}}},[O.ESSENTIALS]:{title:"webapp_paywall_vpn_essentials_title",description:{key:"webapp_paywall_vpn_essentials_description_markup",params:{hotspotShield:Z.Xj}}},[O.TRIAL]:{title:"webapp_paywall_vpn_trial_title",description:"webapp_paywall_vpn_trial_description"}},P=e=>[{icon:i.createElement(l.FjK,{size:50,color:l.O9T["--dash-green-02"]}),key:"privacy_feature",title:`webapp_paywall_vpn_${e}_privacy_feature_title`,description:`webapp_paywall_vpn_${e}_privacy_feature_text`},{icon:i.createElement(l.Gzy,{size:50,color:l.O9T["--dash-green-02"]}),key:"access_content_feature",title:`webapp_paywall_vpn_${e}_access_content_feature_title`,description:`webapp_paywall_vpn_${e}_access_content_feature_text`}],z=({mode:e,closePaywall:t,premiumStatus:a})=>{const n=(e=>e.statusCode===k.PremiumStatusCode.PREMIUM?"essentials"===e.planFeature?O.ESSENTIALS:O.TRIAL:"free_trial"===e.planType?O.TRIAL:O.FREE)(a);return(0,i.useEffect)((()=>{(0,u.N)(c.PageView.PaywallVpn)}),[]),n?i.createElement(D,{closePaywall:t,description:L[n].description,paywallFeatures:P(n),mode:e,paywallType:N.X3.VPN,title:L[n].title,target:v.Premium}):null};var j=a(532704);let R,U;!function(e){e.DarkWebMonitoring="DarkWebMonitoring",e.SecureNote="SecureNote",e.Vpn="Vpn"}(R||(R={})),function(e){e.DataLeak="dataLeak",e.SecureNotes="secureNotes",e.Vpn="secureWiFi"}(U||(U={}));const B={DarkWebMonitoring:"/darkweb-monitoring",SecureNote:"/secure-notes",Vpn:"/vpn"},F=(e,t)=>!t||!t[e]?.enabled,W=({paywall:e,mode:t,children:a,closePaywall:n})=>{const l=(0,r.Y)();if(l.status!==o.rq.Success)return null;if(e)if(e===R.SecureNote){if(F(U.SecureNotes,l.data.capabilities))return i.createElement(A,{mode:t,closePaywall:n})}else if(e===R.DarkWebMonitoring){if(F(U.DataLeak,l.data.capabilities))return i.createElement(M,{mode:t,closePaywall:n})}else if(e===R.Vpn){if(F(U.Vpn,l.data.capabilities)&&!(0,j.AF)(l.data))return i.createElement(z,{mode:t,closePaywall:n,premiumStatus:l.data})}else(0,s.U)(e);return i.createElement(i.Fragment,null,a)}},208938:(e,t,a)=>{"use strict";a.d(t,{ME:()=>r,Ww:()=>l,ZP:()=>c});var n=a(158432),i=a(667211),o=a(250866);const s=(0,n.SP)("webapp",{displayLogoutDialog:!1},[i.Z,o.ZP]),r=s.action("opened-logout-dialog",(()=>({displayLogoutDialog:!0}))),l=s.action("closed-logout-dialog",(()=>({displayLogoutDialog:!1}))),c=s},570663:(e,t,a)=>{"use strict";a.d(t,{Z:()=>Qj});var n=a(696832),i=a(190481),o=a(676025),s=a(708608),r=a(549967),l=a(782038),c=a(453576),d=a(667211),u=a(208938),p=a(238250),m=a(331e3),_=(a(135758),a(724715)),g=a(616274);const h=e=>{const t=(e=>{var t,a;return(e=e||{}).completedSteps=e.completedSteps||{},{flowCredentialInApp:"saveApp"===e.activeOnboardingType,flowLoginCredentialOnWeb:"loginWeb"===e.activeOnboardingType,flowSaveCredentialOnWeb:"saveWeb"===e.activeOnboardingType,flowImportPasswords:"importPasswords"===e.activeOnboardingType,flowAddMobileOnWeb:"addMobile"===e.activeOnboardingType,flowTryAutofillOnWeb:"tryAutofill"===e.activeOnboardingType,flowLoginCredentialOnWebSite:null!=(t=e.flowLoginCredentialOnWebSite)?t:null,leelooStep:e.leelooStep,popoverStep:null!=(a=e.popoverStep)?a:null,completedSteps:e.completedSteps}})(e);g.C.updateWebOnboardingMode(t)};var b=a(532704),C=a(383849),w=a.n(C),y=a(956306);const E=({children:e,title:t,isCollapsed:a=!1,className:i})=>n.createElement("section",{className:i},t?n.createElement("div",{className:w()("categoryTitle--R96dug7T5X",{"isCollapsed--FJhrPjzCtx":a})},t):null,n.createElement("ul",null,n.Children.toArray(e).map((e=>{const t=e.props.to||e.props.id;return n.createElement("li",{key:t},e)}))));var I=a(373312),N=a(110203),f=a(917194),v=a(562150),S=a.n(v);var D,x;const M=({color:e="#EB5CCB",letter:t})=>n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"20",height:"20",viewBox:"0 0 18 18",className:"spacedIcon--BlxzxBXWSb"},D||(D=n.createElement("defs",null,n.createElement("path",{id:"a",d:"M10.667 16H0V5.333L5.333 0H16v10.667z"}))),n.createElement("g",{fill:"none",fillRule:"evenodd"},n.createElement("g",{fillRule:"nonzero"},n.createElement("use",{fill:e,fillRule:"evenodd",xlinkHref:"#a"}),x||(x=n.createElement("path",{stroke:"#FFF",strokeOpacity:".5",d:"M10.46 15.5l5.04-5.04V.5H5.54L.5 5.54v9.96h9.96z"}))),n.createElement("text",{fill:"#FFF",fontFamily:S()["--dashlane-fontfamily-primary"],fontSize:"10",fontWeight:"600"},n.createElement("tspan",{x:"7.5",y:"12",textAnchor:"middle"},t)))),T=({space:e})=>null===e.id?n.createElement("img",{src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0yIDdMNyAySDE4VjE0TDEzIDE4SDJWN1pNMTMuNzUgNi4yNUg0Ljg3MTMyTDcuNjIxMzIgMy41SDE2LjVWMTMuMjc5MUwxMy43NSAxNS40NzkxVjYuMjVaTTMuNSAxNi41SDEyLjI1VjEzLjc1SDYuMjVWNy43NUgzLjVWMTYuNVpNNy43NSA3Ljc1SDEyLjI1VjEyLjI1SDcuNzVWNy43NVoiIGZpbGw9IiMwRTM1M0QiLz4KPC9zdmc+Cg==",alt:e.name}):n.createElement(M,{color:e.color,letter:e.letter});var A,k,Z=a(854029),O=a(987364);const L={allSpaces:N.Space.All,personalSpace:N.Space.Personal,teamSpace:N.Space.Professional};class P extends n.PureComponent{constructor(e){super(e),this.close=()=>this.setState({isOpen:!1}),this.toggle=()=>this.setState((({isOpen:e})=>({isOpen:!e}))),this.state={currentSpaceEntryKey:this.getCurrentSpaceEntryKeyFromStore(),isOpen:!1}}getCurrentSpaceEntryKeyFromStore(){return(e=>{switch(e){case null:return"allSpaces";case"":return"personalSpace";default:return"teamSpace"}})((0,Z.B)(this.props.lee.globalState))}selectSpaceEntry(e,t){this.setState({currentSpaceEntryKey:e,isOpen:!1}),(0,O.K)(new N.UserSelectSpaceEvent({space:L[e]})),this.props.lee.dispatchGlobal((0,f.eO)(t))}getSpaceEntries(){const{translate:e}=this.props.lee,t=(0,m.xO)(this.props.lee.globalState);if(!t)throw new Error("getSpaceEntries: storeSpace not found.");const a=e("webapp_spaces_switch_personal");return{allSpaces:{id:null,name:e("webapp_spaces_switch_all_spaces")},personalSpace:{id:"",name:a,letter:a[0]},teamSpace:{id:t.teamId,name:t.details.teamName,color:t.details.color,letter:t.details.letter}}}getSpaceItem(e,t){const{isOpen:a}=this.state,i="allSpaces"===e,o=e===this.state.currentSpaceEntryKey;return n.createElement("button",{className:w()("row--hK5euQ4rcO",{"rowActive--A2l9vJGWrO":a&&o,"rowDefault--pswmhIR80K":!a&&!o}),key:`space-${t.name}`,onClick:()=>o?this.toggle():this.selectSpaceEntry(e,t.id),type:"button"},n.createElement("div",{className:"rowLeft--mJMgH9BZvF"},n.createElement(T,{space:t}),n.createElement("span",{className:"name--jr9PZdNmrE"},t.name)),a?i?k||(k=n.createElement(s.veu,{rotate:180})):null:A||(A=n.createElement(s.veu,null)))}render(){const{isOpen:e,currentSpaceEntryKey:t}=this.state,a=this.getSpaceEntries(),i=a[t];return n.createElement(I.j,{onOutsideClick:this.close},e?n.createElement("div",{className:"container--B_HkT2QqGt",onClick:this.close},Object.entries(a).map((([e,t])=>this.getSpaceItem(e,t)))):this.getSpaceItem(t,i))}}var z=a(5727),j=a(446389);const R={wrapper:"wrapper--wgYc0yYGn1",menuWrapper:"menuWrapper--b1D7s5I4ay",collapsed:"collapsed--BrviRkpKCo",topRow:"topRow--iUH4OVPBLs",menuItemText:"menuItemText--imGbr2Oml6",active:"active--dH768QsgCa",icon:"icon--p4Hj5TKbLu",disabled:"disabled--WtJRg7ycgc",link:"link--iDW_9MjgBe",linkDisabled:"linkDisabled--O4Y9_A0zoq",menuItem:"menuItem--wiIrHeL4aV",itemTextContainer:"itemTextContainer--LNQP0a_ixd",itemText:"itemText--GlDoQof1m2",buttonMenuItem:"buttonMenuItem--B43w1Xk92S menuItem--wiIrHeL4aV",collapsedForSearch:"collapsedForSearch--cVtyXK59cO",paywallTag:"paywallTag--_Zxj27k463",onboarding:"onboarding--jMIsKG0SDO",collapseButton:"collapseButton--DLJ1bSXRP4",customContainer:"customContainer--zc5yW7QMI_",lockIconContainer:"lockIconContainer--bPA96Jrlpa",chip:"chip--yvVs5NEBcF",collapsedChip:"collapsedChip--Eb1BS28Fw6"},U=e=>n.createElement(i.OL,{to:e.to,className:w()(R.link,R.menuItem,e.className),activeClassName:R.active,onClick:()=>{document.getElementsByTagName("main")[0]?.focus()}},e.children),B=e=>n.createElement(i.OL,{to:e.to,className:w()(R.link,R.linkDisabled,R.menuItem,e.className),activeClassName:R.active,onClick:e=>{e.preventDefault()}},e.children);var F=a(299620);const W=({trigger:e,placement:t="right-start",title:a,description:n,confirmLabel:i,cancelLabel:o,showOverflow:r,onConfirm:l,onCancel:c,children:d,showNotification:u,width:p})=>{const{translateWithMarkup:m}=(0,F.Y)();return(0,z.tZ)(s.ua7,{sx:{"&[data-popper-reference-hidden=true]":r?{}:{display:"none"},width:p,maxWidth:p},passThrough:!u||!(null!=a?a:n),arrowSize:8,placement:t,trigger:e,content:(0,z.tZ)(s.T5p,{sx:{p:"8px"},justifyItems:"flex-start"},a?(0,z.tZ)(s.nvN,{size:"large",sx:{color:s.O9T.white,fontWeight:"bold",mb:"8px",textAlign:"start"}},m(a)):null,n?(0,z.tZ)(s.nvN,{size:"x-small",sx:{color:s.O9T.dashGreen04,textAlign:"start"}},m(n)):null,o&&c||i&&l?(0,z.tZ)(s.dDn,{sx:{justifySelf:"end",mt:"16px"}},o?(0,z.tZ)(s.zxk,{size:"small",nature:"secondary",theme:"dark",sx:{mr:"8px"},type:"button",onClick:c},m(o)):null,i?(0,z.tZ)(s.zxk,{size:"small",type:"button",onClick:l},m(i)):null):null)},(0,z.tZ)("div",null,d))},G=({collapsedChip:e,icon:t,disabled:a})=>{const n=w()(R.icon,a&&R.disabled);return t||e?(0,z.tZ)("div",{className:n},e&&(0,z.tZ)("div",{className:R.collapsedChip},(0,z.tZ)(e,null)),t&&(0,z.tZ)(t,null)):null},V=({showPaywallTag:e})=>{const{translate:t}=(0,j.Z)();return e?(0,z.tZ)("div",{className:R.paywallTag},(0,z.tZ)(s.j49,{caps:!0,size:"small"},t("webapp_sidemenu_paywall_tag"))):null},Y=({rightIcon:e})=>e?(0,z.tZ)("div",{className:R.lockIconContainer},(0,z.tZ)("div",{className:R.chip},(0,z.tZ)(e,null))):null,H=({children:e,collapsedChip:t,disabled:a,disabledNotification:i,enabledNotification:o,hidden:s,icon:r,showPaywallTag:l,rightIcon:c,text:d,to:u,wrapperClass:p})=>{var m,_,g;const{translate:h}=(0,j.Z)();if(s)return null;const b=()=>(0,z.tZ)(n.Fragment,null,m||(m=(0,z.tZ)(G,{collapsedChip:t,icon:r,disabled:a})),(0,z.tZ)("div",{className:R.itemTextContainer},d&&(0,z.tZ)("div",{className:R.itemText},h(d)),e,(0,z.tZ)(V,{showPaywallTag:!!l})),_||(_=(0,z.tZ)(Y,{rightIcon:c})));var C;return a?(0,z.tZ)(W,{showNotification:null==(C=i?.showNotification)||C,title:i?.title,description:i?.description},(0,z.tZ)(B,{to:u,className:p},(0,z.tZ)(b,null))):(0,z.tZ)(W,{trigger:"persist",showNotification:null==(g=o?.showNotification)||g,...o},(0,z.tZ)(U,{to:u,className:p},(0,z.tZ)(b,null)))};var q=a(146799),Q=a.n(q),X=a(139378),K=a.n(X),J=a(959074);const $={enter:"enter--Y780WLvfbY",enterActive:"enterActive--qt8nwlwV9N",exit:"exit--AUP9wnnNtV",exitActive:"exitActive--IqZd0PL_Vc"},ee={enter:"enter--cpXdZicxhn",enterActive:"enterActive--LJbc8DIUBr",exit:"exit--RFVS81L4qV",exitActive:"exitActive--jZj_SWUrKQ"},te={enter:"enter--KQHxvPZ1yf",enterActive:"enterActive--NGZgXqNfHO",exit:"exit--lCgi4uLPj6",exitActive:"exitActive--XQoXASrz0z"};var ae=a(897347),ne=a(664529),ie=a(651154);const oe={FAX:"personal_info_phone_type_fax",LANDLINE:"personal_info_phone_type_landline",MOBILE:"personal_info_phone_type_mobile",WORK_FAX:"personal_info_phone_type_work_fax",WORK_LANDLINE:"personal_info_phone_type_work_landline",WORK_MOBILE:"personal_info_phone_type_work_mobile",DEFAULT_PHONE:"personal_info_phone_type_any",PHONE_NAME:"personal_info_phone_name"};function se(e,t){return e(`header_${t}_new_item_title`)}function re(e,t){switch(t){case c.PhoneType.PHONE_TYPE_FAX:return e(oe.FAX);case c.PhoneType.PHONE_TYPE_LANDLINE:return e(oe.LANDLINE);case c.PhoneType.PHONE_TYPE_MOBILE:return e(oe.MOBILE);case c.PhoneType.PHONE_TYPE_WORK_FAX:return e(oe.WORK_FAX);case c.PhoneType.PHONE_TYPE_WORK_LANDLINE:return e(oe.WORK_LANDLINE);case c.PhoneType.PHONE_TYPE_WORK_MOBILE:return e(oe.WORK_MOBILE);default:return e(oe.DEFAULT_PHONE)}}function le(e,t){return e(oe.PHONE_NAME,{phoneNumberName:t.name,phoneType:re(e,t.type)})}function ce(e){const{firstName:t,middleName:a,lastName:n,lastName2:i,pseudo:o}=e;let s=[t,a,n,i].filter((e=>!!e)).join(" ");return o&&(s+=s.length>0?` (${e.pseudo})`:`(${e.pseudo})`),s}function de(e){if(!e)return new Date;const t=(0,ie.Z)(e,"yyyy-MM-dd",new Date);return"Invalid Date"!==t.toString()?t:new Date(e)}function ue(e,t){if(""===t.birthDate)return"";const a=de(t.birthDate),n=e.shortDate(a,ne._T.LL);return t.birthDate&&t.birthPlace?`${n}, ${t.birthPlace}`:n}function pe(e,t){return[e.addressFull?e.addressFull.split("\n")[0]:"",e.zipCode,e.city,t(`country_name_${e.localeFormat}`)].filter((e=>!!e)).join(", ")}function me(e,t){return e(`country_name_${c.Country[t]}`)}var _e=a(50415);const ge={smallIcon:"smallIcon--UJTmEMk4LX",largeIcon:"largeIcon--Kabmo_oCBr",headerEditPanelIcon:"headerEditPanelIcon--HCVq_YUbs9",email:"email--W9vGPq9hQd",emailPro:"emailPro--jdVn1P2FkP",address:"address--GDgaEj1y5i",company:"company--Yh9t9M75C4",identity:"identity--drQRpswn5H",phone:"phone--VXJwF3i8VU",phoneFax:"phoneFax--nrPq7KALfI",phoneMobile:"phoneMobile--1gq6VhfI5T",phoneWork:"phoneWork--FLgfk0273N",phoneWorkFax:"phoneWorkFax--x3n6kljjkb",phoneWorkMobile:"phoneWorkMobile--dVhRcSAUWJ",website:"website--drQt6mbdJH"},he=(0,_e.Enum)("address","company","email","emailPro","identity","phone","phoneFax","phoneMobile","phoneWork","phoneWorkFax","phoneWorkMobile","website"),be=(0,_e.Enum)("smallIcon","largeIcon","headerEditPanelIcon"),Ce=e=>n.createElement("div",{className:w()(e.className,ge[e.iconSize],ge[e.iconType])});var we=a(585921),ye=a(925112);const Ee="label--VFgJsQizRn",Ie=({isEnabled:e,onClick:t,translationKey:a,value:i})=>{const{translate:o}=(0,j.Z)();return n.createElement(s.W7o,{onClick:()=>t(i),disabled:!e},n.createElement("div",{className:"iconedDropDownElement--nmT1PxzYPf"},n.createElement("div",{className:"iconedDropDownElementIcon--iVbKMyfq2g"},n.createElement(s.TIy,{disabled:!e})),o(a)))};var Ne=a(191492),fe=a(927761);let ve,Se;!function(e){e.BIC="bic",e.IBAN="iban"}(ve||(ve={})),function(e){e.LIST="list",e.SEARCH="search"}(Se||(Se={}));const De={COPY_ACCOUNT_LABEL:"webapp_sidemenu_search_actions_bank_account_copy_account",COPY_ACCOUNT_ALERT:"webapp_sidemenu_search_actions_bank_account_copy_account_alert",COPY_BIC_LABEL:"webapp_sidemenu_search_actions_bank_account_copy_BIC",COPY_BIC_ALERT:"webapp_sidemenu_search_actions_bank_account_copy_BIC_alert",COPY_CLABE_LABEL:"webapp_sidemenu_search_actions_bank_account_copy_CLABE",COPY_CLABE_ALERT:"webapp_sidemenu_search_actions_bank_account_copy_CLABE_alert",COPY_IBAN_LABEL:"webapp_sidemenu_search_actions_bank_account_copy_IBAN",COPY_IBAN_ALERT:"webapp_sidemenu_search_actions_bank_account_copy_IBAN_alert",COPY_ROUTING_LABEL:"webapp_sidemenu_search_actions_bank_account_copy_routing",COPY_ROUTING_ALERT:"webapp_sidemenu_search_actions_bank_account_copy_routing_alert",COPY_SORT_CODE_LABEL:"webapp_sidemenu_search_actions_bank_account_copy_sort_code",COPY_SORT_CODE_ALERT:"webapp_sidemenu_search_actions_bank_account_copy_sort_code_alert"},xe={COPY_ACCOUNT_LABEL:"webapp_payment_bankaccount_list_item_copy_account",COPY_ACCOUNT_ALERT:"webapp_payment_bankaccount_list_item_copy_account_alert",COPY_BIC_LABEL:"webapp_payment_bankaccount_list_item_copy_BIC",COPY_BIC_ALERT:"webapp_payment_bankaccount_list_item_copy_BIC_alert",COPY_CLABE_LABEL:"webapp_payment_bankaccount_list_item_copy_CLABE",COPY_CLABE_ALERT:"webapp_payment_bankaccount_list_item_copy_CLABE_alert",COPY_IBAN_LABEL:"webapp_payment_bankaccount_list_item_copy_IBAN",COPY_IBAN_ALERT:"webapp_payment_bankaccount_list_item_copy_IBAN_alert",COPY_ROUTING_LABEL:"webapp_payment_bankaccount_list_item_copy_routing",COPY_ROUTING_ALERT:"webapp_payment_bankaccount_list_item_copy_routing_alert",COPY_SORT_CODE_LABEL:"webapp_payment_bankaccount_list_item_copy_sort_code",COPY_SORT_CODE_ALERT:"webapp_payment_bankaccount_list_item_copy_sort_code_alert"};var Me,Te;const Ae=({bankAccount:e,bicKey:t,ibanKey:a,onClick:i})=>(0,we.tZ)(n.Fragment,null,(0,we.tZ)(Ie,{onClick:()=>i(ve.BIC),translationKey:t,isEnabled:e.BIC.length>0,value:ve.BIC}),(0,we.tZ)(Ie,{onClick:()=>i(ve.IBAN),translationKey:a,isEnabled:e.IBAN.length>0,value:ve.IBAN})),ke="webapp_sidemenu_search_actions_bank_account_tooltip",Ze="webapp_payment_bankaccount_list_item_copy_info",Oe=({bankAccount:e,mode:t,dropdownIsOpen:a,setDropdownIsOpen:n,reportError:i})=>{const{translate:o}=(0,j.Z)(),{areProtectedItemsUnlocked:r,openProtectedItemsUnlocker:l}=(0,fe.tY)(),d=(0,ye.V)(),u=((e,t)=>{const a=t===Se.SEARCH?De:xe;switch(e){case c.Country.MX:return{BIC:a.COPY_BIC_LABEL,BIC_ALERT:a.COPY_BIC_ALERT,IBAN:a.COPY_CLABE_LABEL,IBAN_ALERT:a.COPY_CLABE_ALERT};case c.Country.GB:return{BIC:a.COPY_SORT_CODE_LABEL,BIC_ALERT:a.COPY_SORT_CODE_ALERT,IBAN:a.COPY_ACCOUNT_LABEL,IBAN_ALERT:a.COPY_ACCOUNT_ALERT};case c.Country.US:return{BIC:a.COPY_ROUTING_LABEL,BIC_ALERT:a.COPY_ROUTING_ALERT,IBAN:a.COPY_ACCOUNT_LABEL,IBAN_ALERT:a.COPY_ACCOUNT_ALERT};default:return{BIC:a.COPY_BIC_LABEL,BIC_ALERT:a.COPY_BIC_ALERT,IBAN:a.COPY_IBAN_LABEL,IBAN_ALERT:a.COPY_IBAN_ALERT}}})(e.country,t),p=e=>{e.stopPropagation(),a||(0,O.K)(new N.UserOpenVaultItemDropdownEvent({dropdownType:N.DropdownType.Copy,itemType:N.ItemType.BankStatement})),n(!a)},m=(0,we.tZ)(Ae,{bankAccount:e,bicKey:u.BIC,ibanKey:u.IBAN,onClick:t=>{const a=async()=>{try{switch(t){case ve.BIC:await(async()=>{(0,O.K)(new N.UserCopyVaultItemFieldEvent({itemType:N.ItemType.BankStatement,field:N.Field.Bic,itemId:e.id,isProtected:!0}));try{await navigator.clipboard.writeText(e.BIC),d.showAlert(o(u.BIC_ALERT),s.BLW.SUCCESS)}catch(e){"function"==typeof i&&i(e,"[bank-account-actions] Unable to copy to clipboard")}})();break;case ve.IBAN:await(async()=>{(0,O.K)(new N.UserCopyVaultItemFieldEvent({itemType:N.ItemType.BankStatement,field:N.Field.Iban,itemId:e.id,isProtected:!0}));try{await navigator.clipboard.writeText(e.IBAN),d.showAlert(o(u.IBAN_ALERT),s.BLW.SUCCESS)}catch(e){"function"==typeof i&&i(e,"[bank-account-actions] Unable to copy to clipboard")}})()}}catch(e){d.showAlert(o("webapp_generic_copy_to_clipboard_feedback_error"),s.BLW.ERROR)}};if(!r)return l({action:Ne.P7.Copy,itemType:Ne.Ru.BankAccount,successCallback:a});a()}});return t===Se.SEARCH?(0,we.tZ)(s.h_2,{placement:"bottom-end",trigger:"persist",passThrough:!a,content:m,offset:[0,4]},(0,we.tZ)("div",null,(0,we.tZ)(s.ua7,{passThrough:a,placement:"left",content:o(Ze)},(0,we.tZ)(s.hU,{contrast:!0,"aria-label":o(ke),onClick:p,type:"button",icon:(0,we.tZ)(s.TIy,{"aria-label":o(ke)})},Me||(Me=(0,we.tZ)(s.TIy,null)),(0,we.tZ)("span",{className:Ee},o(Ze)))))):(0,we.tZ)(s.h_2,{placement:"bottom-end",trigger:"persist",passThrough:!a,content:m,offset:[0,4]},(0,we.tZ)(we.zx,{mood:"neutral",intensity:"quiet",onClick:p},Te||(Te=(0,we.tZ)(s.TIy,null)),(0,we.tZ)("span",{className:Ee},o(Ze))))},Le={item:"item--IuNSZ2vpeQ",link:"link--aUALnKm5Dx",credentialInfo:"credentialInfo--zfVQ_MwFD0",info:"info--b124GolOBp",title:"title--kEuFH5qeqK",name:"name--bbhyeLogrJ",logoCell:"logoCell--hlRImKslhb",icon:"icon--IwgxREWGWo",actions:"actions--tAAv0zYCQB",iconContainer:"iconContainer--kIeklUGXnA",_icon:"_icon--aacMKAVs87",goto:"goto--PsOb5ZcQrd",more:"more--fTrBWXRwi0 _icon--aacMKAVs87",moreImg:"moreImg--Sf7yB_9pEI"},Pe=e=>e.preventDefault(),ze=e=>{const{onSelectBankAccount:t}=e,{dashGreen00:a}=s.O9T,[o,r]=n.useState(!1);return n.createElement("div",{style:e.style},n.createElement("div",{className:w()(Le.item,y.jK),onMouseLeave:()=>{o&&r(!1)}},n.createElement(i.rU,{onClick:()=>{t()},to:e.getRoute(e.bankAccount.id),className:Le.link,onDragStart:Pe,onDrop:Pe},n.createElement("div",{className:Le.logoCell},n.createElement(s.plG,{size:"small",icon:s.Uci.Bank,text:e.bankAccount.bank,backgroundColor:a})),n.createElement("div",{className:Le.info},n.createElement("div",{className:Le.title},e.bankAccount.name),n.createElement("div",{className:Le.name},e.bankAccount.owner))),n.createElement("div",{className:Le.actions},n.createElement(Oe,{bankAccount:e.bankAccount,dropdownIsOpen:o,setDropdownIsOpen:r,mode:Se.SEARCH}))))};var je=a(277786),Re=a(282002),Ue=a(375864),Be=a(422615),Fe=a(704841),We=a(611792),Ge=a(526849);let Ve,Ye;function He(){return{permission:"limited",selectedCredentials:[],selectedGroups:[],selectedNotes:[],selectedUsers:[],step:Ve.Elements,tab:Ye.Passwords}}function qe(e){return{...He(),selectedCredentials:[e],step:Ve.Recipients}}!function(e){e[e.Elements=0]="Elements",e[e.Recipients=1]="Recipients",e[e.Permission=2]="Permission",e[e.Loading=3]="Loading",e[e.Success=4]="Success",e[e.Failure=5]="Failure",e[e.UnlockProtectedItems=6]="UnlockProtectedItems"}(Ve||(Ve={})),function(e){e[e.Passwords=0]="Passwords",e[e.SecureNotes=1]="SecureNotes"}(Ye||(Ye={}));const Qe=(0,Ge.sortBy)((e=>(0,Ge.toLower)(e.name||""))),Xe=(0,Ge.sortBy)((e=>{var t;return(0,Ge.toLower)(null!=(t=e.id)?t:e)}));var Ke=a(174071),Je=a(326093);var $e=a(241332),et=a(80286);const tt=({icon:e,text:t,onClick:a,closeOnClick:i,disabled:o})=>{const r=i?{"data-close-dropdown":!0}:{};return n.createElement(s.W7o,{fullWidth:!0,onClick:a,...r,disabled:o},n.createElement(s.T5p,{gridTemplateColumns:"1fr auto",gap:"8px"},e,t))};var at=a(164419),nt=a(806424),it=a(670138),ot=a(681024),st=a(646251);const rt=({goToStep:e})=>{const{translate:t}=(0,j.Z)();return(0,z.tZ)(n.Fragment,null,(0,z.tZ)(s.X6q,{as:"h1",size:"small",sx:{mb:"16px"}},t("webapp_lock_items_label")),(0,z.tZ)(st._,{unlockRequest:{itemType:Ne.Ru.SharedItems,successCallback:()=>e(Ve.Permission),cancelCallback:()=>e(Ve.Recipients)}}))};var lt=a(273966),ct=a(599943),dt=a(85636),ut=a(65489),pt=a(982509),mt=a(285628),_t=a(593765),gt=a.n(_t);function ht(e){return gt()["--dashlane-secure-notes-icon-background-"+e.toLocaleLowerCase()]}var bt,Ct=a(469152),wt=a.n(Ct);const yt=a(383849),Et=({noteType:e,className:t})=>n.createElement("div",{className:yt("noteIcon--VHyJK9dlYv",t),style:{backgroundColor:ht(e)}},bt||(bt=n.createElement(wt(),null)));var It,Nt,ft,vt=a(931926),St=a.n(vt),Dt=a(752805),xt=a.n(Dt);const Mt="calc(100vh - 68px - 108px - 80px)",Tt={alignItems:"center",borderBottomWidth:"1px",borderBottomStyle:"solid",borderBottomColor:"ds.border.neutral.quiet.idle",display:"flex",minHeight:"56px",overflow:"hidden",position:"relative",backgroundColor:"ds.background.default",":last-of-type":{borderBottom:"none"}},At={opacity:.5,cursor:"auto"},kt=e=>{const{checked:t,disabled:a,onCheck:n,style:i,...o}=e;return(0,z.tZ)("li",{sx:a?(0,s.jMf)([Tt,At]):Tt,style:i},(0,z.tZ)(s.XZJ,{checked:t,disabled:a,onChange:e=>n?.(e.currentTarget.checked),label:(0,z.tZ)(mt.r,{...o})}))},Zt=({text:e})=>(0,z.tZ)(s.Ejs,{justifyContent:"space-around",alignItems:"center",sx:{height:"100%",minHeight:"347px"}},(0,z.tZ)(s.Ejs,{justifyContent:"space-around",alignItems:"center",flexDirection:"column",sx:{maxWidth:"400px"}},It||(It=(0,z.tZ)("img",{src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iODAiIHZpZXdCb3g9IjAgMCA4MCA4MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTI4IDUyTDE2IDY0TTY0IDM0QzY0IDQzLjk0MTEgNTUuOTQxMSA1MiA0NiA1MkMzNi4wNTg5IDUyIDI4IDQzLjk0MTEgMjggMzRDMjggMjQuMDU4OSAzNi4wNTg5IDE2IDQ2IDE2QzU1Ljk0MTEgMTYgNjQgMjQuMDU4OSA2NCAzNFoiIHN0cm9rZT0iIzlGQUVCMSIgc3Ryb2tlLXdpZHRoPSIzLjYiLz4KPC9zdmc+Cg=="})),(0,z.tZ)("span",{sx:{color:"ds.text.neutral.quiet",marginTop:"20px",lineHeight:"20px",textAlign:"center"}},e)));function Ot(e){var t;const{title:a,domainIcon:n}=e,i=null!=(t=n?.urls["46x30@2x"])?t:void 0,o=(0,pt.d)({backgroundColor:n?.backgroundColor,mainColor:n?.mainColor,iconSource:i});return(0,z.tZ)(s.plG,{size:"small",text:a,iconSource:i,backgroundColor:o})}function Lt(e){return(0,z.tZ)(Et,{noteType:e.color})}const Pt={marginLeft:"4px",path:{fill:"ds.text.neutral.quiet"}},zt=(e,t)=>(0,z.tZ)("span",{sx:{display:"flex",alignItems:"center"}},e&&(Nt||(Nt=(0,z.tZ)(St(),{sx:Pt}))),t&&(ft||(ft=(0,z.tZ)(xt(),{sx:Pt})))),jt={tokenEndpoint:g.C.getCredentialsPaginationToken,pageEndpoint:g.C.getCredentialsPage,batchLiveEndpoint:g.C.liveCredentialsBatch},Rt=(0,dt.G)(jt,(e=>{const{paginatedData:t,freeLimitReached:a,onCheckCredential:i,selectedCredentials:o,elementsOnlyShowSelected:s}=e,{translate:r}=(0,j.Z)();return 1!==t.size||0!==[...t.values()][0].length||e.hasNext?n.createElement(ut.v,{hasNext:e.hasNext,hasPrevious:e.hasPrevious,isLoading:e.isLoading,loadNext:e.loadNext,loadPrevious:e.loadPrevious},[...t].map((([e,t])=>n.createElement("li",{key:e},n.createElement("ul",null,t.map(((e,t)=>((e,t)=>{if(!e)return null;const s=Ot(e),{id:r,title:l,email:c,login:d}=e,{isShared:u}=e.sharingSatus,p=zt(u,e.autoProtected),m=c||d,_=o.includes(e.id),g=a&&!_&&!u;return n.createElement(kt,{key:t,title:l,text:m,logo:s,onCheck:e=>i(r,e),checked:_,disabled:g,titleLogo:p})})(e,t)))))))):(()=>{const e=r(s?"webapp_sharing_invite_no_selected_credentials_found":"webapp_sharing_invite_no_credentials_found");return n.createElement(Zt,{text:e})})()})),Ut={tokenEndpoint:g.C.getNotesPaginationToken,pageEndpoint:g.C.getNotesPage,batchLiveEndpoint:g.C.liveNotesBatch},Bt=(0,dt.G)(Ut,(e=>{const{paginatedData:t,freeLimitReached:a,onCheckNote:i,selectedNotes:o,elementsOnlyShowSelected:s}=e,{translate:r}=(0,j.Z)();return 1!==t.size||0!==[...t.values()][0].length||e.hasNext?n.createElement(ut.v,{hasNext:e.hasNext,hasPrevious:e.hasPrevious,isLoading:e.isLoading,loadNext:e.loadNext,loadPrevious:e.loadPrevious},[...t].map((([e,t])=>n.createElement("li",{key:e},n.createElement("ul",null,t.map(((e,t)=>((e,t)=>{if(!e)return null;const s=Lt(e),{id:r,title:l}=e,c=e.sharingStatus.isShared,d=e.secured,u=zt(c,d),p=o.includes(e.id),m=a&&!p&&!c;return n.createElement(kt,{key:t,title:l,text:"",logo:s,onCheck:e=>i(r,e),checked:p,disabled:m,titleLogo:u})})(e,t)))))))):(()=>{const e=r(s?"webapp_sharing_invite_no_selected_notes_found":"webapp_sharing_invite_no_notes_found");return n.createElement(Zt,{text:e})})()}));a(461238);var Ft=a(148038);const Wt=e=>{const t=[{field:"isLimited",type:"equals",value:!1},{field:"hasAttachments",type:"equals",value:!1}];return(e||""===e)&&t.push({field:"spaceId",type:"equals",value:e}),{filterCriteria:t}},Gt=e=>JSON.stringify({filterToken:Wt(e),sortToken:{sortCriteria:[],uniqField:"id"}}),Vt=e=>{const t=(0,Ft.qr)({queryConfig:{query:g.C.getCredentialsCount,queryParam:{filterToken:Wt(e),sortToken:{sortCriteria:[],uniqField:"id"}}},liveConfig:{live:g.C.liveCredentialsCount,liveParam:btoa(Gt(e))}},[]);return t.status===Ft.rq.Success?t.data:null},Yt=e=>{const t=(0,Ft.qr)({queryConfig:{query:g.C.getNotesCount,queryParam:{filterToken:Wt(e),sortToken:{sortCriteria:[],uniqField:"id"}}},liveConfig:{live:g.C.liveNotesCount,liveParam:btoa(Gt(e))}},[]);return t.status===Ft.rq.Success?t.data:null},Ht=({selectNotesTab:e,selectPasswordsTab:t,selectedCredentials:a,selectedNotes:n,tab:i})=>{const{translate:o}=(0,j.Z)(),r=Vt(),l=Yt();if(!r||!l)return null;const c=[{onClick:t,active:i===Ye.Passwords,label:`${o("webapp_sharing_invite_passwords")}${a.length>0?` (${a.length})`:""}`},{onClick:e,active:i===Ye.SecureNotes,label:`${o("webapp_sharing_invite_secure_notes")}${n.length>0?` (${n.length})`:""}`}];return(0,z.tZ)(s.G8v,null,c.map((({active:e,label:t,onClick:a})=>(0,z.tZ)(s.OTy,{key:t,label:t,onClick:a,selected:e}))))};var qt;const Qt="50px",Xt="48px",Kt=`calc(${Mt} - ${Xt} - ${Qt})`,Jt=`calc(${Mt} - ${Xt} - ${Qt} - 36px)`,$t="webapp_sharing_invite_elements_placeholder",ea={backgroundColor:"ds.container.expressive.brand.catchy.active",color:"ds.text.inverse.catchy",lineHeight:"20px",padding:"8px 16px",width:"100%",marginBottom:"24px",a:{color:"ds.text.inverse.catchy",textDecoration:"underline",":focus,:hover,:active":{color:"ds.text.inverse.standard"}}},ta=({elementsOnlyShowSelected:e,goToStep:t,onCheckCredential:a,onCheckNote:i,selectedCredentials:o,selectedNotes:r,selectNotesTab:l,selectPasswordsTab:c,setElementsOnlyShowSelected:d,tab:u})=>{const p=(0,lt.B)(),m=Vt(),{currentSpaceId:_}=(0,ct.fV)(),[h,b]=(0,n.useState)(""),{routes:C}=(0,J.Xo)(),w=(0,n.useRef)(null),y=(()=>{const e=(0,Ft.qr)({queryConfig:{query:g.C.getAllSharedItemIds}},[]);return e.status===Ft.rq.Success?e.data:[]})(),E=(()=>{const e=(0,Ft.qr)({queryConfig:{query:g.C.getSharingCapacity},liveConfig:{live:g.C.liveSharingCapacity}},[]);return e.status===Ft.rq.Success?e.data:null})(),{translate:I}=(0,j.Z)();if((0,n.useEffect)((()=>{0===m&&l()}),[]),!E)return qt||(qt=(0,z.tZ)(s.HoD,{color:"ds.text.brand.standard"}));const N=C.userGoPremium(p?.subscriptionCode,"monthly"),f=()=>{var e;const t=null!=(e=w.current?.value.trim())?e:"";b(t)},v=(0,X.debounce)(f,100),S=()=>{const t={type:"matches",value:h},a={field:"id",type:"in",value:[...o,...r]},n=h?[t]:[],i=null!==_?[{field:"spaceId",value:_,type:"equals"}]:[];return e?[a,...n]:[{field:"isLimited",type:"equals",value:!1},{field:"hasAttachments",type:"equals",value:!1},...n,...i]},D=(()=>{if("unlimited"===E.type)return!1;const e=new Set(y);return[...r,...o].filter((t=>!e.has(t))).length>=E.remains})(),x=r.length>0||o.length>0,M=x||e;return(0,z.tZ)(n.Fragment,null,(0,z.tZ)(s.X6q,{as:"h1",size:"small",sx:{mb:"16px"}},I("webapp_sharing_invite_select_elements_title")),(0,z.tZ)(s.a7O,null,(0,z.tZ)("div",{sx:{height:Mt}},(0,z.tZ)(Ht,{selectNotesTab:l,selectPasswordsTab:c,selectedCredentials:o,selectedNotes:r,tab:u}),(0,z.tZ)("section",{sx:{marginBottom:"8px"}},(0,z.tZ)(we.oi,{"aria-label":I($t),placeholder:I($t),role:"search",autoFocus:!0,onChange:v,ref:w,actionButtons:h.length>0?[(0,z.tZ)(we.zx,{key:"clear",intensity:"supershy",mood:"neutral",size:"small",onClick:()=>{w.current&&(w.current.value=""),f()}},I("webapp_sharing_invite_clear"))]:void 0})),(0,z.tZ)("div",{sx:{height:D?Jt:Kt,minHeight:"100px"}},u===Ye.Passwords?(0,z.tZ)(Rt,{elementsOnlyShowSelected:e,freeLimitReached:D,onCheckCredential:a,selectedCredentials:o,tokenParams:{filterCriteria:S(),sortCriteria:[{field:"title",direction:"ascend"}],initialBatchSize:10}}):(0,z.tZ)(Bt,{elementsOnlyShowSelected:e,tokenParams:{sortCriteria:[{field:"title",direction:"ascend"}],filterCriteria:S(),initialBatchSize:10},freeLimitReached:D,onCheckNote:i,selectedNotes:r}),D?(0,z.tZ)("div",{sx:ea},I.markup("webapp_sharing_invite_free_limit_reached_banner_markup",{link:N},{linkTarget:"_blank"})):null))),(0,z.tZ)(s.cNS,{primaryButtonTitle:I("webapp_sharing_invite_next"),primaryButtonOnClick:()=>t(Ve.Recipients),primaryButtonProps:{disabled:!x,type:"button"}},M?(0,z.tZ)(s.XZJ,{checked:e,label:I("webapp_sharing_invite_only_show_selected_elements"),onChange:d,sx:{marginLeft:"0",marginRight:"auto",paddingRight:"16px"}}):null))};function aa(e,t){const{ITEM_DOESNT_EXIST:a,LIMIT_EXCEEDED:n}=c.ShareItemFailureReason;switch(t){case a:return e("webapp_sharing_invite_item_not_found");case n:return e("webapp_sharing_invite_limit_exceeded");default:return e("webapp_sharing_invite_server_error")}}const na=e=>e.itemId,ia=na,oa={item:{query:g.C.getCredential,queryParam:na,live:g.C.liveCredential,liveParam:ia}},sa={strategies:oa},ra=(0,Fe.$)((0,We.i)((e=>{const{detailedError:t,translate:a,item:n}=e;if(!n)return(0,we.tZ)("li",{sx:Tt},a("webapp_sharing_invite_item_removed"));const{itemId:i,result:{reason:o}}=t,s=aa(a,o);return(0,we.tZ)("li",{key:i,sx:Tt},function(e,t){const a=Ot(e),{title:n,email:i,login:o}=e,s={title:n,text:i||o,logo:a,infoAction:t};return(0,we.tZ)(mt.r,{...s})}(n,s))}),sa),oa),la={item:{query:g.C.getNote,queryParam:na,live:g.C.liveNote,liveParam:ia}},ca={strategies:la},da=(0,Fe.$)((0,We.i)((e=>{const{detailedError:t,translate:a,item:n}=e;if(!n)return(0,we.tZ)("li",{sx:Tt},a("webapp_sharing_invite_item_removed"));const{result:{reason:i}}=t,o=aa(a,i);return(0,we.tZ)("li",{key:n.id,sx:Tt},function(e,t){const a=Lt(e),{title:n}=e,i={title:n,text:"",logo:a,infoAction:t};return(0,we.tZ)(mt.r,{...i})}(n,o))}),ca),la);var ua;const pa=e=>{const{credentialErrors:t,itemsCount:a,isLoading:i,noteErrors:o,onDismiss:r,shareAllItems:l}=e,{translate:c}=(0,j.Z)(),d=t.length+o.length,u=c("webapp_sharing_invite_failure_detail_2",{count:a,errorsCount:d});return(0,z.tZ)(n.Fragment,null,(0,z.tZ)(s.X6q,{as:"h1",size:"small",sx:{mb:"16px"}},c("webapp_sharing_invite_failure_2",{count:a})),(0,z.tZ)(s.a7O,null,(0,z.tZ)(s.nvN,null,u),(0,z.tZ)("ul",{sx:{borderTopWidth:"1px",borderTopStyle:"solid",borderTopColor:"ds.border.neutral.quiet.idle",marginTop:"10px",maxHeight:Mt,overflowY:"scroll"}},t.map((e=>(0,z.tZ)(ra,{translate:c,detailedError:e,itemId:e.itemId,key:e.itemId}))),o.map((e=>(0,z.tZ)(da,{translate:c,detailedError:e,itemId:e.itemId,key:e.itemId}))))),(0,z.tZ)(s.cNS,{secondaryButtonTitle:c("webapp_sharing_invite_cancel"),secondaryButtonOnClick:r,secondaryButtonProps:{disabled:i,type:"button"},primaryButtonTitle:i?ua||(ua=(0,z.tZ)(s.HoD,{size:24,color:"ds.text.inverse.catchy"})):c("webapp_sharing_invite_share_items_again"),primaryButtonOnClick:l,primaryButtonProps:{disabled:i,type:"button"}}))};var ma,_a=a(593800);const ga=({goToStep:e,isLoading:t,onSelectPermission:a,permission:i,shareAllItems:o})=>{const{translate:r}=(0,j.Z)();return(0,z.tZ)(n.Fragment,null,(0,z.tZ)(s.X6q,{as:"h1",size:"small",sx:{mb:"16px"}},r("webapp_sharing_invite_select_permission")),(0,z.tZ)(s.a7O,null,(0,z.tZ)("div",{sx:{height:"auto"}},(0,z.tZ)(_a.S,{groupName:"permission",value:i,onChange:e=>a(e.currentTarget.value)},(0,z.tZ)(_a.E,{value:"limited"},(0,z.tZ)(s.nvN,{bold:!0,sx:{mb:"4px"}},r("webapp_sharing_invite_limited_rights")),(0,z.tZ)(s.nvN,{size:"small"},r("webapp_sharing_invite_limited_rights_detail"))),(0,z.tZ)(_a.E,{value:"admin"},(0,z.tZ)(s.nvN,{bold:!0,sx:{mb:"4px"}},r("webapp_sharing_invite_full_rights")),(0,z.tZ)(s.nvN,{size:"small"},r("webapp_sharing_invite_full_rights_detail")))))),(0,z.tZ)(s.cNS,{secondaryButtonOnClick:()=>e(Ve.Recipients),secondaryButtonTitle:r("webapp_sharing_invite_back"),secondaryButtonProps:{disabled:t,type:"button"},primaryButtonOnClick:o,primaryButtonTitle:t?ma||(ma=(0,z.tZ)(s.HoD,{size:24,color:"ds.text.inverse.catchy"})):r("webapp_sharing_invite_share"),primaryButtonProps:{disabled:!i||t,type:"button"}}))};function ha(e,t){const a={dataQuery:{sortToken:{sortCriteria:[{field:"id",direction:e}],uniqField:"id"},filterToken:{filterCriteria:[]}},spaceId:t},n=btoa(JSON.stringify(a));return(0,Ft.qr)({queryConfig:{query:g.C.getSharingUsers,queryParam:a},liveConfig:{live:g.C.liveSharingUsers,liveParam:n}},[e,t])}var ba=a(616425),Ca=a(906978);const wa=()=>{const e=(0,Ft.qr)({queryConfig:{query:g.C.getMyAcceptedUserGroups},liveConfig:{live:g.C.liveMyAcceptedUserGroups}},[]);return e.status===Ft.rq.Success?e.data:[]};var ya,Ea=a(405611),Ia=a(785802);const Na=({addNewContact:e,email:t})=>{const{translate:a}=(0,j.Z)();return(0,we.tZ)("li",{key:"new_contact",sx:{alignItems:"center",borderBottomWidth:"1px",borderBottomStyle:"solid",borderBottomColor:"ds.border.neutral.quiet.idle",display:"flex",minHeight:"56px",overflow:"hidden",position:"relative"}},(0,we.tZ)(mt.r,{infoAction:(0,we.tZ)(we.zx,{intensity:"quiet",mood:"neutral",size:"medium",onClick:e},a("webapp_sharing_invite_add_new_contact")),logo:(0,we.tZ)(Ea.q,{email:t,size:36}),text:"",title:t}))},fa=({group:e,isUserItem:t,onCheckGroup:a,onCheckUser:n,selectedGroups:i,selectedUsers:o,style:s,user:r})=>{var l,c,d;const{translate:u}=(0,j.Z)(),p=null!=(l=t?r?.id:e?.groupId)?l:"",m=t?o.includes(p):i.includes(p),_=(null!=(c=e?.users)?c:[]).length,g=t?"":u("webapp_sharing_invite_members",{count:_}),h=null!=(d=t?p:e?.name)?d:"";return(0,we.tZ)(kt,{key:`${p}-row`,checked:m,logo:t?(0,we.tZ)(Ea.q,{email:p,size:36}):ya||(ya=(0,we.tZ)(Ia.Z,null)),onCheck:e=>t?n(p,e):a(p,e),text:g,title:h,style:s})},va=/[<>]/g,Sa=e=>e.trim().toLowerCase().replace(va,""),Da={borderTopWidth:"1px",borderTopStyle:"solid",borderTopColor:"ds.border.neutral.quiet.idle"},xa=(0,n.forwardRef)(((e,t)=>{const{addNewContact:a,onCheckGroup:i,onCheckUser:o,query:s,recipientsOnlyShowSelected:r,selectedGroups:l,selectedUsers:c,users:d}=e,{translate:u}=(0,j.Z)(),p=wa(),m=Qe(p),_=(0,Ca.vV)(s);if(0===d.length&&0===m.length&&!_)return(0,we.tZ)(Zt,{text:u("webapp_sharing_invite_no_recipients")});const g=((e,t)=>e.filter((e=>e.name.toLowerCase().includes(t.trim().toLowerCase()))))(m,s),h=((e,t)=>e.filter((e=>e.id.toLowerCase().includes(t.trim().toLowerCase()))))(d,s),b=h.length>0||g.length>0;if(!b&&_)return(0,we.tZ)("ul",{sx:{...Da,height:347}},(0,we.tZ)(Na,{email:Sa(s),addNewContact:a}));const C=g.filter((e=>!r||l.includes(e.groupId))),w=h.filter((e=>!r||c.includes(e.id)));if(0===w.length&&0===C.length){const e=u(r?"webapp_sharing_invite_no_selected_recipients_found":"webapp_sharing_invite_no_recipients_found");return(0,we.tZ)(Zt,{text:e})}const y=C.length,E=w.length,I=d.some((({id:e=""})=>!s||e.toLowerCase()===s.trim().toLowerCase())),N=_&&!I;return(0,we.tZ)(n.Fragment,null,N?(0,we.tZ)("ul",{sx:{...Da,height:b?72:347}},(0,we.tZ)(Na,{email:s,addNewContact:a})):null,(0,we.tZ)(ba.t7,{sx:N?Da:void 0,height:347-(N?72:0),itemCount:y+E,itemKey:e=>((e,t,a,n)=>e>t-1?a[e-t].id:n[e].groupId)(e,y,w,C),itemSize:56,outerElementType:"ul",width:"100%",ref:t},(({index:e,style:t})=>(0,we.tZ)(fa,{isUserItem:e>y-1,onCheckGroup:i,onCheckUser:o,selectedGroups:l,selectedUsers:c,style:t,user:w[e-y],group:C[e]}))))}));var Ma;const Ta="webapp_sharing_invite_recipients_placeholder",Aa=({goToStep:e,newUsers:t,onCheckGroup:a,onCheckUser:i,protectedItemsSelected:o,recipientsOnlyShowSelected:r,selectedGroups:l,selectedUsers:c,setNewUsers:d,setSelectedUsers:u,setRecipientsOnlyShowSelected:p})=>{const{translate:m}=(0,j.Z)(),{currentSpaceId:_}=(0,ct.fV)(),{areProtectedItemsUnlocked:g}=(0,fe.tY)(),[h,b]=(0,n.useState)(""),C=(0,n.useRef)(null),w=wa(),y=ha("descend",_);if(y.status!==Ft.rq.Success)return Ma||(Ma=(0,z.tZ)(s.HoD,{color:"ds.text.brand.standard"}));const E=y.data?.items,I=[...E,...t.map((e=>({id:e,itemCount:0})))],N=l.length>0||c.length>0,f=N||r;return(0,z.tZ)(n.Fragment,null,(0,z.tZ)(s.X6q,{as:"h1",size:"small",sx:{mb:"16px"}},m("webapp_sharing_invite_select_recipients_title")),(0,z.tZ)(s.a7O,null,(0,z.tZ)("div",{sx:{height:"auto"}},(0,z.tZ)("section",{role:"search",sx:{mb:"8px"}},(0,z.tZ)(we.oi,{"aria-label":m(Ta),placeholder:m(Ta),role:"search",autoFocus:!0,onChange:e=>b(e.currentTarget.value),value:h,actionButtons:h.length>0?[(0,z.tZ)(we.zx,{key:"clear",intensity:"supershy",mood:"neutral",size:"small",onClick:()=>b("")},m("webapp_sharing_invite_clear"))]:void 0})),(0,z.tZ)(xa,{addNewContact:()=>{const e=Sa(h);b(""),u([e,...c]),d(Xe([e,...t])),requestAnimationFrame((()=>{const a=[...E,...Xe([e,...t]).map((e=>({id:e,itemCount:0})))],n=w.length+a.findIndex((({id:t})=>t===e));C.current?.scrollToItem(n)}))},onCheckGroup:a,onCheckUser:i,query:h,recipientsOnlyShowSelected:r,selectedGroups:l,selectedUsers:c,users:I,ref:C}))),(0,z.tZ)(s.cNS,{secondaryButtonOnClick:()=>e(Ve.Elements),secondaryButtonTitle:m("webapp_sharing_invite_add_more_items"),secondaryButtonProps:{type:"button"},primaryButtonOnClick:()=>e(o&&!g?Ve.UnlockProtectedItems:Ve.Permission),primaryButtonTitle:m("webapp_sharing_invite_next"),primaryButtonProps:{disabled:!N,type:"button"}},f?(0,z.tZ)(s.XZJ,{checked:r,onChange:p,label:m("webapp_sharing_invite_only_show_selected_people"),sx:{ml:"0",mr:"auto",pr:"16px"}}):null))};var ka;const Za=()=>{const{translate:e}=(0,j.Z)();return n.createElement(s.a7O,null,n.createElement(s.T5p,{justifyContent:"center",alignItems:"center",gap:"16px","data-testid":"loading-share-dialog"},ka||(ka=n.createElement($e.Z,{size:100})),n.createElement(s.nvN,{color:"ds.text.neutral.quiet"},e("webapp_sharing_invite_loading"))))},Oa=({itemsCount:e,isLoading:t,onDismiss:a})=>{const{translate:i}=(0,j.Z)();return n.createElement(n.Fragment,null,n.createElement(s.$N8,{title:i("webapp_sharing_invite_success",{count:e})}),n.createElement(s.a7O,null,n.createElement(s.nvN,null,i("webapp_sharing_invite_success_detail",{count:e}))),n.createElement(s.cNS,{primaryButtonTitle:i("_common_alert_dismiss_button"),primaryButtonOnClick:a,primaryButtonProps:{disabled:t,type:"button"}}))};var La;const Pa=({onDismiss:e,recipientsOnlyShowSelected:t,sharing:a})=>{var i,o,s,r,l;const[c,d]=(0,n.useState)([]),[u,p]=(0,n.useState)(null!=t&&t),[m,_]=(0,n.useState)(!1),[h,b]=(0,n.useState)(!1),[C,w]=(0,n.useState)([]),[y,E]=(0,n.useState)([]),[I,N]=(0,n.useState)(a.permission),[f,v]=(0,n.useState)(!1),[S,D]=(0,n.useState)(null!=(i=a?.selectedCredentials)?i:[]),[x,M]=(0,n.useState)(null!=(o=a?.selectedGroups)?o:[]),[T,A]=(0,n.useState)(null!=(s=a?.selectedNotes)?s:[]),[k,Z]=(0,n.useState)(null!=(r=a?.selectedUsers)?r:[]),[O,L]=(0,n.useState)(a?.step),[P,z]=(0,n.useState)(null!=(l=a?.tab)?l:Ye.Passwords),j=S.length+T.length,R=async(e,t)=>!!await g.C.arePasswordsProtected()||(!!(await Promise.all(e.map((e=>g.C.getCredential(e))))).some((e=>!!e.autoProtected))||(await Promise.all(t.map((e=>g.C.getNote(e))))).some((e=>!!e.secured)));(0,n.useEffect)((()=>{(async()=>{var e,t;const n=await R(null!=(e=a?.selectedCredentials)?e:[],null!=(t=a?.selectedNotes)?t:[]);v(n)})()}),[a]);const U=(e,t,a)=>{if(a)return[...e,t];{const a=e.indexOf(t);return-1===a?e:[...e.slice(0,a),...e.slice(a+1)]}},B=e=>L(e),F=(e,t)=>e.reduce(((e,a,n)=>{if(a.success)return e;const i={result:a,itemId:t[n]};return[...e,i]}),[]),W=(e,t,a)=>(0,ot.$Y)(e,t,a),G=async()=>{const e=[...k.map((e=>({type:"user",alias:e}))),...x.map((e=>({type:"userGroup",groupId:e})))],t=S.map((t=>W(t,I,e))),a=T.map((t=>W(t,I,e)));j>10?B(Ve.Loading):b(!0);try{const e=await Promise.all(t),n=await Promise.all(a),i=F(e,S),o=F(n,T);i.length>0||o.length>0?(d(i),E(o),B(Ve.Failure)):B(Ve.Success)}catch(e){B(Ve.Failure)}b(!1)};return(0,we.tZ)("div",{sx:{minWidth:"600px"}},O===Ve.UnlockProtectedItems?(0,we.tZ)(rt,{goToStep:B}):null,O===Ve.Elements?(0,we.tZ)(ta,{elementsOnlyShowSelected:m,goToStep:B,onCheckNote:async(e,t)=>{const a=U(T,e,t),n=await R(S,a);A(a),v(n)},selectedCredentials:S,selectedNotes:T,selectNotesTab:()=>z(Ye.SecureNotes),selectPasswordsTab:()=>z(Ye.Passwords),onCheckCredential:async(e,t)=>{const a=U(S,e,t),n=await R(a,T);D(a),v(n)},setElementsOnlyShowSelected:e=>_(e.currentTarget.checked),tab:P}):null,O===Ve.Failure?(0,we.tZ)(pa,{credentialErrors:c,itemsCount:j,isLoading:h,noteErrors:y,onDismiss:e,shareAllItems:G}):null,O===Ve.Loading?La||(La=(0,we.tZ)(Za,null)):null,O===Ve.Permission?(0,we.tZ)(ga,{goToStep:B,isLoading:h,permission:I,onSelectPermission:e=>N(e),shareAllItems:G}):null,O===Ve.Recipients?(0,we.tZ)(Aa,{goToStep:B,newUsers:C,onCheckGroup:(e,t)=>{const a=U(x,e,t);M(a)},onCheckUser:(e,t)=>{const a=U(k,e,t);Z(a)},protectedItemsSelected:f,recipientsOnlyShowSelected:u,selectedGroups:x,selectedUsers:k,setNewUsers:w,setSelectedUsers:Z,setRecipientsOnlyShowSelected:e=>p(e.currentTarget.checked)}):null,O===Ve.Success?(0,we.tZ)(Oa,{itemsCount:j,isLoading:h,onDismiss:e}):null)},za=({onDismiss:e,recipientsOnlyShowSelected:t,sharing:a})=>{const{translate:n}=(0,j.Z)();return(0,it.w)("SAEXSendSharing")?(0,z.tZ)(s.VqE,{isOpen:!0,onClose:e,closeIconName:a?.step!==Ve.Loading?n("_common_dialog_dismiss_button"):void 0,modalContentClassName:y.Ht},(0,z.tZ)(Pa,{onDismiss:e,recipientsOnlyShowSelected:t,sharing:a})):null},ja=({closeDialog:e})=>{const t=(0,lt.B)(),{routes:a}=(0,i.Xo)(),{translate:o}=(0,j.Z)();return(0,n.useEffect)((()=>{(0,O.N)(N.PageView.PaywallSharingLimit)}),[]),(0,z.tZ)(s.VqE,{isOpen:!0,onClose:e,closeIconName:o("_common_dialog_dismiss_button")},(0,z.tZ)(s.$N8,{title:o("webapp_sharing_invite_free_sharing_limit_reached")}),(0,z.tZ)(s.a7O,null,o("webapp_sharing_invite_free_sharing_limit_reached_subtitle")),(0,z.tZ)(s.cNS,{secondaryButtonTitle:o("webapp_sharing_invite_cancel"),secondaryButtonOnClick:e,secondaryButtonProps:{type:"button"},primaryButtonTitle:o("webapp_sharing_invite_upgrade_to_premium"),primaryButtonOnClick:()=>{const e=a.userGoPremium(t?.subscriptionCode,"monthly");(0,je.Yk)(e,{type:"sharing",action:"goPremium"})},primaryButtonProps:{type:"button"}}))};var Ra,Ua,Ba,Fa,Wa,Ga,Va,Ya,Ha,qa=a(714494);const{accessibleValidatorGreen:Qa,accessibleValidatorRed:Xa}=s.O9T,Ka=(0,fe.DP)((0,Je.H)((e=>{var t;const a=(0,nt.k)(),{openDialog:i,closeDialog:o}=(0,qa.R)(),[r,l]=n.useState(void 0),[c,d]=n.useState(!1),[u,p]=n.useState(void 0),[m,_]=n.useState(!1),[h,b]=n.useState(void 0),[C,E]=n.useState(!1),[I,N]=n.useState(null),[f,v]=n.useState(0),[S,D]=n.useState(0),[x,M]=n.useState(0),T=(0,at.V)();n.useEffect((()=>{g.C.arePasswordsProtected().then((e=>{N(e)}))}),[]),n.useEffect((()=>()=>{window.clearTimeout(f),window.clearTimeout(S),window.clearTimeout(x)}),[f,x,S]),n.useEffect((()=>()=>{window.clearTimeout(f),window.clearTimeout(S),window.clearTimeout(x)}),[]);const A=()=>{e.closePopover&&e.closePopover()},k=e=>{switch(e){case"password":return h;case"login":return r;case"email":return u;default:(0,Ke.U)(e)}},Z=({type:e,success:t,callback:a})=>{if(!k(e)){if(a&&a(t),"password"===e?b(t):"email"===e?p(t):l(t),!t)return A();switch(e){case"password":return void(()=>{E(!0);const e=window.setTimeout((()=>{E(!1),b(void 0),A()}),900);M(e)})();case"login":return void(()=>{d(!0);const e=window.setTimeout((()=>{l(void 0),d(!1),A()}),900);v(e)})();case"email":return void(()=>{_(!0);const e=window.setTimeout((()=>{p(void 0),_(!1),A()}),900);D(e)})();default:(0,Ke.U)(e)}}},O=e=>(e=>{switch(e){case"password":return C;case"login":return c;case"email":return m;default:(0,Ke.U)(e)}})(e)&&void 0!==k(e),L=e=>k(e)?Ra||(Ra=n.createElement(s.nQG,{"aria-hidden":"true",size:20,color:Qa})):Ua||(Ua=n.createElement(s.Two,{"aria-hidden":"true",size:20,color:Xa})),{hasAttachments:P,login:z,email:j,onEditItem:R,onGoToWebsite:U,password:B,sharingStatus:F,translate:W}=e,G=F.isShared&&"limited"===F.permission,V=T&&!G&&!P,Y=!G&&B;return n.createElement("div",{role:"menu",className:w()("quickActionsMenu--yuwrgiBDtx",y.jK)},n.createElement(tt,{onClick:R,closeOnClick:!0,icon:Ba||(Ba=n.createElement(s.dY8,{size:20})),text:W("webapp_credentials_quick_actions_edit_item")}),U?n.createElement(tt,{onClick:U,closeOnClick:!0,icon:Fa||(Fa=n.createElement(s.RTC,{size:20})),text:W("webapp_credentials_quick_actions_go_to_website")}):null,Y?n.createElement(tt,{onClick:()=>{const t=async()=>{const t=await navigator.clipboard.writeText(e.password).then((()=>!0)).catch((t=>(e.dispatchGlobal((0,et.Z)("[quick-actions-menu]: unable to copy to clipboard",t)),!1)));Z({success:t,type:"password",callback:e.onCopyPassword})};if(!e.areProtectedItemsUnlocked&&(e.autoProtected||I))return e.openProtectedItemsUnlocker({action:Ne.P7.Copy,itemType:Ne.Ru.Password,successCallback:t,showNeverAskOption:!0,credentialId:e.id});t()},disabled:null===I,icon:null===I?Wa||(Wa=n.createElement($e.Z,{size:20})):O("password")?L("password"):Ga||(Ga=n.createElement(s.xlN,{size:20})),text:O("password")?W(h?"webapp_credentials_quick_actions_copy_password_feedback_ok":"webapp_credentials_quick_actions_copy_password_feedback_not_ok"):W("webapp_credentials_quick_actions_copy_password")}):null,z?n.createElement(tt,{onClick:async()=>{const t=await navigator.clipboard.writeText(e.login).then((()=>!0)).catch((t=>(e.dispatchGlobal((0,et.Z)("[quick-actions-menu]: unable to copy to clipboard",t)),!1)));Z({success:t,type:"login",callback:e.onCopyLogin})},icon:O("login")?L("login"):Va||(Va=n.createElement(s.TIy,{size:20})),text:O("login")?W(r?"webapp_credentials_quick_actions_copy_login_feedback_ok":"webapp_credentials_quick_actions_copy_login_feedback_not_ok"):W("webapp_credentials_quick_actions_copy_login")}):null,j?n.createElement(tt,{onClick:async()=>{const t=await navigator.clipboard.writeText(e.email).then((()=>!0)).catch((t=>(e.dispatchGlobal((0,et.Z)("[quick-actions-menu]: unable to copy to clipboard",t)),!1)));Z({success:t,type:"email",callback:e.onCopyEmail})},icon:O("email")?L("email"):Ya||(Ya=n.createElement(s.TIy,{size:20})),text:O("email")?W(u?"webapp_credentials_quick_actions_copy_email_feedback_ok":"webapp_credentials_quick_actions_copy_email_feedback_not_ok"):W("webapp_credentials_quick_actions_copy_email")}):null,V?n.createElement(tt,{onClick:()=>{const{id:s}=e,r=qe(s);i(a&&r?n.createElement(za,{sharing:r,onDismiss:o}):t||(t=n.createElement(ja,{closeDialog:o}))),A()},closeOnClick:!0,icon:Ha||(Ha=n.createElement(s.aAc,{size:20})),text:W("webapp_sharing_invite_share")}):null)}))),Ja={credential:{live:g.C.liveCredential,liveParam:e=>e.credentialId,query:g.C.getCredential,queryParam:e=>e.credentialId}},$a={strategies:Ja},en=(0,Fe.$)((0,We.i)((e=>{const{onCopyPassword:t,onCopyLogin:a,onCopyEmail:i,credential:o,dispatchGlobal:r}=e,{translate:l}=(0,j.Z)(),c=(0,ye.V)(),d=n.useCallback((()=>{c.showAlert(l("webapp_generic_copy_to_clipboard_feedback_error"),s.BLW.ERROR)}),[l,c]),u=n.useCallback((e=>{t(),e||d()}),[d,t]),p=n.useCallback((e=>{a(),e||d()}),[d,a]),m=n.useCallback((e=>{i(),e||d()}),[d,i]);return n.createElement(Ka,{autoProtected:o.autoProtected,closePopover:e.closePopover,id:o.id,dispatchGlobal:r,login:o.login,email:o.email,onCopyLogin:p,onCopyPassword:u,onCopyEmail:m,onEditItem:e.onEditItem,onGoToWebsite:e.onGoToWebsite,password:o.password,sharingStatus:o.sharingStatus,hasAttachments:o.attachments.length>0})}),$a),Ja);var tn=a(617509),an=a(292210);let nn;!function(e){e[e.SHARED_ACCESS=0]="SHARED_ACCESS",e[e.ACCOUNT_DETAILS=1]="ACCOUNT_DETAILS",e[e.LINKED_WEBSITES=2]="LINKED_WEBSITES"}(nn||(nn={}));var on=a(658273);const sn=["default_category_name_business","default_category_name_email","default_category_name_entertainment","default_category_name_finance","default_category_name_games","default_category_name_media","default_category_name_other","default_category_name_shopping","default_category_name_social","default_category_name_sports","default_category_name_tech","default_category_name_travel","default_category_name_utilities"];function rn(e){const t=sn.map((t=>e(t)));g.C.setupDefaultCredentialsCategories({categories:t})}const ln={"account-details":nn.ACCOUNT_DETAILS,"shared-access":nn.SHARED_ACCESS,"linked-websites":nn.LINKED_WEBSITES},cn=async(e,t,a)=>{const n=await(0,on.gm)(g.C)?new an.ParsedURL(e.url).getRootDomain():(0,tn.extractRootDomain)(e.url);(0,O.K)(new N.UserCopyVaultItemFieldEvent({itemType:N.ItemType.Credential,field:t,itemId:e.id,isProtected:a})),(0,O.K)(new N.AnonymousCopyVaultItemFieldEvent({itemType:N.ItemType.Credential,field:t,domain:{id:await(0,N.hashDomain)(n),type:N.DomainType.Web}}))};class dn extends n.Component{constructor(...e){super(...e),this.anchorRef=(0,n.createRef)(),this.state={position:Ue.ir.Bottom,credentialsGloballyRequireMP:void 0},this.adaptMenuOpenAnimationVerticalDirection=()=>{if(!this.anchorRef.current)return;const e=Math.max(document.documentElement.clientHeight,window.innerHeight||0)-this.anchorRef.current.getBoundingClientRect().bottom>=235;this.setState({position:e?Ue.ir.Bottom:Ue.ir.Top})},this.onOpenPopover=()=>{(0,O.K)(new N.UserOpenVaultItemDropdownEvent({dropdownType:N.DropdownType.QuickActions,itemType:N.ItemType.Credential})),this.adaptMenuOpenAnimationVerticalDirection()},this.onEditItem=()=>{const e=this.props.userCredentialRoute(this.props.credential.id);(0,i.uX)(e)},this.onGoToWebsite=()=>{(0,Be.k)(this.props.credential),(0,je.Yo)(this.props.credential.redirectUrl)},this.onCopyPassword=()=>{const e=this.props.credential.autoProtected||!!this.state.credentialsGloballyRequireMP;cn(this.props.credential,N.Field.Password,e)},this.onCopyLogin=()=>{cn(this.props.credential,N.Field.Login,!1)},this.onCopyEmail=()=>{cn(this.props.credential,N.Field.Email,!1)},this.onToggle=e=>{e&&setTimeout(this.onOpenPopover)}}componentDidMount(){g.C.arePasswordsProtected().then((e=>{this.setState({credentialsGloballyRequireMP:e})}))}render(){const{dispatchGlobal:e,credential:t}=this.props,{position:a}=this.state,i=n.createElement("div",{ref:this.anchorRef});return n.createElement(Ue.Lt,{alignment:Ue.oA.End,position:a,onToggle:this.onToggle,withBackdrop:!1,renderRoot:this.props.renderRoot,anchor:i},n.createElement(en,{credentialId:t.id,dispatchGlobal:e,onCopyLogin:this.onCopyLogin,onCopyEmail:this.onCopyEmail,onCopyPassword:this.onCopyPassword,onEditItem:this.onEditItem,onGoToWebsite:t.url?this.onGoToWebsite:void 0}))}}const un=n.createElement("img",{src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTkuNSAzLjVIMy41VjE2LjVIMTYuNVYxMC41TTE3LjUgNi41VjIuNU0xNy41IDIuNUgxMy41TTE3LjUgMi41TDEwLjUgOS41IiBzdHJva2U9IiMwRTM1M0QiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIvPgo8L3N2Zz4K"}),pn=({credential:e,label:t,disabled:a})=>n.createElement(s.ua7,{content:t,placement:"bottom-end"},n.createElement(s.hU,{type:"button",className:Le.goto,disabled:a,"aria-label":t,icon:un,onClick:()=>{(0,Be.k)(e),(0,je.Yo)(e.redirectUrl)}})),mn=e=>e.preventDefault();class _n extends n.Component{constructor(e){super(e),this.promise=void 0,this.onItemClick=()=>{this.props.onSelectCredential()},this.state={isMounted:!1,onHover:!1}}componentDidMount(){let e=!1;const t=new Promise(((t,a)=>{setTimeout((()=>{e?a():t()}),500)})).then((()=>this.updateState({isMounted:!0}))).catch((()=>{}));this.promise={promise:t,cancel:()=>{e=!0}}}componentWillUnmount(){this.promise.cancel(),this.state.isMounted&&this.updateState({isMounted:!1})}getButtons(){const e=this.props.lee.translate.namespace("webapp_sidemenu_search_actions_"),{credential:t}=this.props,{url:a}=t;return this.state.isMounted&&this.state.onHover?n.createElement("div",{className:Le.actions},n.createElement(pn,{credential:t,disabled:!a,label:e(a?"goto_title":"no_website")}),n.createElement(dn,{renderRoot:t=>{return a=e("more_title"),i=t,n.createElement("button",{type:"button",className:Le.more,title:a,onClick:i},n.createElement("img",{src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTEwLjUgMTBDMTAuNSAxMC4yNzYxIDEwLjI3NjEgMTAuNSAxMCAxMC41QzkuNzIzODYgMTAuNSA5LjUgMTAuMjc2MSA5LjUgMTBDOS41IDkuNzIzODYgOS43MjM4NiA5LjUgMTAgOS41QzEwLjI3NjEgOS41IDEwLjUgOS43MjM4NiAxMC41IDEwWiIgc3Ryb2tlPSIjMEUzNTNEIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz4KPHBhdGggZD0iTTE1LjUgMTBDMTUuNSAxMC4yNzYxIDE1LjI3NjEgMTAuNSAxNSAxMC41QzE0LjcyMzkgMTAuNSAxNC41IDEwLjI3NjEgMTQuNSAxMEMxNC41IDkuNzIzODYgMTQuNzIzOSA5LjUgMTUgOS41QzE1LjI3NjEgOS41IDE1LjUgOS43MjM4NiAxNS41IDEwWiIgc3Ryb2tlPSIjMEUzNTNEIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz4KPHBhdGggZD0iTTUuNSAxMEM1LjUgMTAuMjc2MSA1LjI3NjE0IDEwLjUgNSAxMC41QzQuNzIzODYgMTAuNSA0LjUgMTAuMjc2MSA0LjUgMTBDNC41IDkuNzIzODYgNC43MjM4NiA5LjUgNSA5LjVDNS4yNzYxNCA5LjUgNS41IDkuNzIzODYgNS41IDEwWiIgc3Ryb2tlPSIjMEUzNTNEIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz4KPC9zdmc+Cg==",className:Le.moreImg}));var a,i},credential:t,dispatchGlobal:this.props.lee.dispatchGlobal,userCredentialRoute:this.props.lee.routes.userCredential})):null}updateState(e){this.setState(Object.assign({},this.state,e))}render(){const e=this.props,{id:t,title:a,login:o,email:s,sharingSatus:{isShared:r},autoProtected:l,domainIcon:c}=e.credential;return n.createElement("div",{className:w()(Le.item,y.jK),onMouseLeave:()=>this.updateState({onHover:!1}),onMouseEnter:()=>this.updateState({onHover:!0})},n.createElement(i.rU,{onClick:this.onItemClick,to:e.lee.routes.userCredential(t),className:Le.link,onDragStart:mn,onDrop:mn},n.createElement(Re.Q,{title:a,login:o,email:s,shared:r,autoProtected:l,domainIcon:c,size:Re.o.SMALL,fullWidth:!0,contrast:!0,className:Le.credentialInfo})),this.getButtons())}}var gn=a(139574);const hn={EU:"eu",US:"us",UNIVERSAL:"row"},bn={FR:"fr",UNIVERSAL:"row"},Cn={FR:"fr",GB:"uk",US:"us",UNIVERSAL:"row"},wn={small:{width:"48",height:"32"},medium:{width:"96",height:"64"},large:{width:"144",height:"96"}},yn={driverLicenses:(e,t)=>{var a;let n=null!=(a=hn[t])?a:hn.UNIVERSAL;return(0,gn.S)(c.Country[t])===gn.n.EUROPE&&(n=hn.EU),`/driver-licenses/${n}-${e}.svg`},fiscalIds:e=>`/fiscal-ids/${e}.svg`,idCards:(e,t)=>{var a;return`/id-cards/${null!=(a=bn[t])?a:bn.UNIVERSAL}-${e}.svg`},passports:e=>`/passports/${e}.svg`,socialSecurityIds:(e,t)=>{var a;return`/social-security-ids/${null!=(a=Cn[t])?a:Cn.UNIVERSAL}-${e}.svg`}},En=(0,n.memo)((({country:e,size:t,type:a})=>{const n="/assets/ids/thumbnails"+yn[a](t,e||c.Country.UNIVERSAL);return(0,z.tZ)("img",{src:n,sx:{flexShrink:0},alt:"",width:wn[t].width,height:wn[t].height})})),In={idCards:N.ItemType.IdCard,driverLicenses:N.ItemType.DriverLicence,fiscalIds:N.ItemType.FiscalStatement,passports:N.ItemType.Passport,socialSecurityIds:N.ItemType.SocialSecurity},Nn={idCards:N.Field.Number,driverLicenses:N.Field.Number,fiscalIds:N.Field.FiscalNumber,passports:N.Field.Number,socialSecurityIds:N.Field.SocialSecurityNumber};var fn,vn;const Sn="webapp_ids_edit_document",Dn={driverLicenses:{copy:"webapp_ids_driver_licences_driver_licence_copy",success:"webapp_ids_driver_licences_driver_licence_copy_successfull"},fiscalIds:{copy:"webapp_ids_fiscal_ids_fiscal_id_copy",success:"webapp_ids_fiscal_ids_fiscal_id_copy_successfull"},idCards:{copy:"webapp_ids_id_cards_id_card_copy",success:"webapp_ids_id_cards_id_card_copy_successfull"},passports:{copy:"webapp_ids_passports_passport_copy",success:"webapp_ids_passports_passport_copy_successfull"},socialSecurityIds:{copy:"webapp_ids_social_security_ids_social_security_id_copy",success:"webapp_ids_social_security_ids_social_security_id_copy_successfull"}},xn={button:{":focus":{border:`1px solid ${s.O9T.midGreen00} !important`}}},Mn=({itemId:e,copyValue:t,editRoute:a,reportError:n,variant:o,type:r})=>{const{translate:l}=(0,j.Z)(),c=(0,ye.V)(),d="search"===o;return(0,z.tZ)("span",{className:"quickActions--z7fAZZU7Ej",onClick:e=>{e.stopPropagation(),e.preventDefault()},sx:d?{}:xn},(0,z.tZ)(s.hU,{"aria-label":l(Dn[r].copy),title:l(Dn[r].copy),icon:fn||(fn=(0,z.tZ)(we.JO,{name:"ActionCopyOutlined",color:"ds.oddity.brand"})),onClick:async()=>{(0,O.K)(new N.UserCopyVaultItemFieldEvent({itemType:In[r],field:Nn[r],itemId:e,isProtected:!1}));try{await navigator.clipboard.writeText(t),c.showAlert(l(Dn[r].success),s.BLW.SUCCESS)}catch(e){"function"==typeof n&&n(e,"[ids][quick-actions] Unable to copy to clipboard"),c.showAlert(l("webapp_ids_failed_copy"),s.BLW.ERROR)}},contrast:d,type:"button"}),d?null:(0,z.tZ)(s.hU,{"aria-label":l(Sn),title:l(Sn),icon:vn||(vn=(0,z.tZ)(we.JO,{name:"ActionEditOutlined",color:"ds.oddity.brand"})),onClick:()=>{(0,i.uX)(a)},type:"button"}))},Tn=["name","idNumber","issueDate","expirationDate","country","spaceId"],An=["name","idNumber","country","spaceId"],kn=["name","idNumber","issueDate","expirationDate","country","state","spaceId"],Zn=["idNumber","teledeclarantNumber","country","spaceId"],On=["name","idNumber","issueDate","expirationDate","country","spaceId","deliveryPlace"];let Ln;!function(e){e.Small="small",e.Medium="medium",e.Large="large"}(Ln||(Ln={}));const Pn=e=>e.preventDefault(),zn=({itemId:e,primaryDisplayData:t,secondaryDisplayData:a,idNumber:n,country:o,type:r,route:l,onSelectId:c})=>(0,z.tZ)(i.rU,{className:"link--ioXm5CpraB",onClick:()=>{c()},to:l,onDragStart:Pn,onDrop:Pn},(0,z.tZ)(s.Ejs,{justifyContent:"space-between",fullWidth:!0,sx:{minWidth:0,width:"100%",height:"100%"}},(0,z.tZ)(s.T5p,{gap:"16px",gridTemplateColumns:"48px 1fr",alignItems:"center",as:"span"},(0,z.tZ)(En,{size:Ln.Small,country:o,type:r}),(0,z.tZ)(s.Ejs,{flexDirection:"column",flexWrap:"nowrap",sx:{minWidth:0}},(0,z.tZ)(s.nvN,{size:"medium",bold:!0,as:"strong",sx:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},t),(0,z.tZ)(s.nvN,{size:"x-small",as:"span",sx:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},a))),(0,z.tZ)("span",{className:"quickActions--odxJpJTYOw"},(0,z.tZ)(Mn,{itemId:e,copyValue:n,editRoute:l,variant:"search",type:r}))));var jn=a(508159);const Rn=e=>e.preventDefault(),Un=({detailRoute:e,note:t,onSelectNote:a})=>{const{areProtectedItemsUnlocked:o,openProtectedItemsUnlocker:s}=(0,jn.t)(),{secured:r}=t,l=r&&!o;return n.createElement("div",{className:w()(Le.item,y.jK)},n.createElement(i.rU,{onClick:t=>{a(),l&&(t.preventDefault(),t.stopPropagation(),s({action:Ne.P7.Show,itemType:Ne.Ru.SecureNote,successCallback:()=>{(0,i.uX)(e)}}))},to:e,className:Le.link,onDragStart:Rn,onDrop:Rn},n.createElement("div",{className:Le.logoCell},n.createElement(Et,{noteType:t.color,className:Le.icon})),n.createElement("div",{className:Le.info},n.createElement("div",{className:Le.title,title:t.title.slice(0,30)},t.title),n.createElement("div",{className:Le.name,title:t.abbrContent},t.abbrContent))))},Bn={fallback:"#000000",BLACK:"#191919",SILVER:"#A6A6A6",WHITE:"#F5F5F5",RED:"#BD0505",ORANGE:"#F29100",GOLD:"#DFC279",BLUE_1:"#3290CC",BLUE_2:"#105079",GREEN_1:"#008E28",GREEN_2:"#39725E"},Fn=(e="fallback")=>Bn[e];var Wn,Gn=a(438530),Vn=a.n(Gn),Yn=a(277873),Hn=a.n(Yn),qn=a(520860),Qn=a.n(qn);const Xn=e=>{const t=e.paymentCardColor===c.PaymentCardColor.WHITE,a=Fn(e.paymentCardColor),i=t?Wn||(Wn=n.createElement(Qn(),null)):n.createElement(Hn(),{fill:a}),o=n.createElement("div",{className:w()("iconWrapper--gZhAmAvO85",e.className,{"hasWhiteBg--dndpXMEbsZ":t})},n.createElement(Vn(),{className:"icon--HnCEH4RXcJ"}));return"large"===e.iconSize?o:i},Kn=e=>e?e.trim().slice(-4):"",Jn=e=>{return t=e?e.cardNumberLastDigits:void 0,a=e?e.cardNumber:void 0,`   ${(t?Kn(t):"")||(a?Kn(a):"")||""}`;var t,a},$n=(((new Date).getMonth()+1).toString(),(new Date).getFullYear().toString(),e=>e.preventDefault()),ei=e=>{const{paymentCard:t,onSelectPaymentCard:a}=e,o=Jn(t);return n.createElement("div",{className:Le.container,style:e.style},n.createElement("div",{className:w()(Le.item,y.jK)},n.createElement(i.rU,{onClick:()=>{a()},to:e.getRoute(t.id),className:Le.link,onDragStart:$n,onDrop:$n},n.createElement("div",{className:Le.logoCell},n.createElement(Xn,{iconSize:"small",paymentCardColor:t.color,className:Le.icon})),n.createElement("div",{className:Le.info},n.createElement("div",{className:Le.title},t.name),n.createElement("div",{className:Le.name},o)))))},ti=e=>e.preventDefault(),ai=e=>{const{icon:t,text:a,title:o,detailRoute:s,onSelectPersonalInfo:r}=e;return n.createElement("div",{className:Le.container,style:e.style},n.createElement("div",{className:w()(Le.item,y.jK)},n.createElement(i.rU,{onClick:()=>{r()},to:s,className:Le.link,onDragStart:ti,onDrop:ti},n.createElement("div",{className:Le.logoCell},t),n.createElement("div",{className:Le.info},n.createElement("div",{className:Le.title},o),n.createElement("div",{className:Le.name},a)))))};var ni=a(350199);const ii=(e,t,{spaceId:a=null,filterQuery:i=null}={})=>{const[o,s]=n.useState(5),[r,l]=n.useState([]),[c,d]=n.useState(0),u=(0,ni.e)(e,t,{spaceId:a,filterQuery:i,limit:o});return n.useEffect((()=>{u.status===Ft.rq.Success&&(l(u.data.items),d(u.data.matchingCount))}),[u]),{items:r,matchingCount:c,loadMore:n.useCallback((()=>s((e=>e+5))),[])}};var oi=a(253245);const si=({loadMore:e,remaining:t})=>{const{translate:a}=(0,j.Z)();return t?n.createElement(oi.Z,{classNames:["loadMore--yeiMaPbEAE"],size:"small",label:a("webapp_sidemenu_search_results_see_more",{count:t}),onClick:e}):null},ri=({i18nKey:e})=>{const{translate:t}=(0,j.Z)();return n.createElement("header",{className:"headingWrapper--mBXPixEV1r"},n.createElement("h1",{className:"heading--ZOad7pwHBU"},t(e)))},li=({i18nKey:e,children:t,loadMore:a,matchingCount:i,loadedCount:o})=>{if(0===i)return null;const s=n.createElement(ri,{i18nKey:e}),r=i-o,l=n.createElement(si,{loadMore:a,remaining:r});return n.createElement("section",null,s,t,l)},ci={charactersTypedCount:0,totalCount:0,searchSubTypes:{credentials:0,notes:0,identities:0,emails:0,phones:0,addresses:0,companies:0,personalWebsites:0,paymentCards:0,bankAccounts:0,documents:0},updateSearchSubTypes:(e,t)=>ci.searchSubTypes[e]=t,logSearchEvent:(0,X.debounce)((function(e=!0){(0,O.K)(new N.UserSearchVaultItemEvent({charactersTypedCount:this.charactersTypedCount,hasInteracted:e,totalCount:Object.values(ci.searchSubTypes).reduce(((e,t)=>e+t))}))}),300)},di=ci,ui=({query:e})=>{const{routes:t}=(0,J.Xo)(),{translate:a}=(0,j.Z)(),{loadMore:i,items:o,matchingCount:s}=ii(g.C.getAddresses,g.C.liveAddresses,{filterQuery:e});return n.useEffect((()=>{di.updateSearchSubTypes("addresses",s)}),[s]),s?n.createElement(li,{i18nKey:"webapp_sidemenu_search_results_heading_addresses",loadMore:i,matchingCount:s,loadedCount:o.length},o.map(((e,i)=>n.createElement(ai,{icon:n.createElement(Ce,{iconType:he.address,iconSize:be.smallIcon}),key:e.id,text:pe(e,a),title:e.addressName,detailRoute:t.userPersonalInfoAddress(e.id),onSelectPersonalInfo:()=>{di.logSearchEvent(),(0,ae.bx)(e.id,N.ItemType.Address,i+1,s)}})))):null},pi=({query:e})=>{const{routes:t}=(0,J.Xo)(),{loadMore:a,items:i,matchingCount:o}=ii(g.C.getBankAccounts,g.C.liveBankAccounts,{filterQuery:e});return n.useEffect((()=>{di.updateSearchSubTypes("bankAccounts",o)}),[o]),o?n.createElement(li,{i18nKey:"webapp_sidemenu_search_results_heading_bank_accounts",loadMore:a,matchingCount:o,loadedCount:i.length},i.map(((e,a)=>n.createElement(ze,{key:e.id,bankAccount:e,getRoute:t.userBankAccount,onSelectBankAccount:()=>{di.logSearchEvent(),(0,ae.Mx)(e.id,a+1,o)}})))):null},mi=({query:e})=>{const{routes:t}=(0,J.Xo)(),{loadMore:a,items:i,matchingCount:o}=ii(g.C.getCompanies,g.C.liveCompanies,{filterQuery:e});return n.useEffect((()=>{di.updateSearchSubTypes("companies",o)}),[o]),o?n.createElement(li,{i18nKey:"webapp_sidemenu_search_results_heading_companies",loadMore:a,matchingCount:o,loadedCount:i.length},i.map(((e,a)=>n.createElement(ai,{icon:n.createElement(Ce,{iconType:he.company,iconSize:be.smallIcon}),key:e.id,text:e.jobTitle,title:e.name,detailRoute:t.userPersonalInfoCompany(e.id),onSelectPersonalInfo:()=>{di.logSearchEvent(),(0,ae.bx)(e.id,N.ItemType.Company,a+1,o)}})))):null},_i=({lee:e,query:t})=>{const{loadMore:a,items:i,matchingCount:o}=ii(g.C.getCredentials,g.C.liveCredentials,{filterQuery:t});return n.useEffect((()=>{di.updateSearchSubTypes("credentials",o)}),[o]),o?n.createElement(li,{i18nKey:"webapp_sidemenu_search_results_heading_passwords",loadMore:a,matchingCount:o,loadedCount:i.length},i.map(((t,a)=>n.createElement(_n,{lee:e,credential:t,key:t.id,onSelectCredential:()=>{di.logSearchEvent(),(0,ae.kb)(t.id,a+1,o)}})))):null},gi=({query:e})=>{const{routes:t}=(0,J.Xo)(),{loadMore:a,items:i,matchingCount:o}=ii(g.C.getEmails,g.C.liveEmails,{filterQuery:e});return n.useEffect((()=>{di.updateSearchSubTypes("emails",o)}),[o]),o?n.createElement(li,{i18nKey:"webapp_sidemenu_search_results_heading_emails",loadMore:a,matchingCount:o,loadedCount:i.length},i.map(((e,a)=>n.createElement(ai,{icon:n.createElement(Ce,{iconType:"PRO"===e.type?he.emailPro:he.email,iconSize:be.smallIcon}),key:e.id,text:e.email,title:e.name,detailRoute:t.userPersonalInfoEmail(e.id),onSelectPersonalInfo:()=>{di.logSearchEvent(),(0,ae.bx)(e.id,N.ItemType.Email,a+1,o)}})))):null},hi={idCards:"creationDate",socialSecurityIds:"creationDate",driverLicenses:"creationDate",passports:"creationDate",fiscalIds:"creationDate"};function bi(e){return hi[e]}const Ci={idCards:"id",socialSecurityIds:"id",driverLicenses:"id",passports:"id",fiscalIds:"id"};function wi(e){return Ci[e]}function yi(e,t){return{filterToken:{filterCriteria:null!==t?[{type:"equals",value:t,field:"spaceId"}]:[]},sortToken:{sortCriteria:[{field:bi(e),direction:"descend"}],uniqField:wi(e)}}}const Ei={idCards:e=>yi("idCards",e),socialSecurityIds:e=>yi("socialSecurityIds",e),driverLicenses:e=>yi("driverLicenses",e),passports:e=>yi("passports",e),fiscalIds:e=>yi("fiscalIds",e)},Ii={idCards:{query:g.C.getIdCards,live:g.C.liveIdCards},socialSecurityIds:{query:g.C.getSocialSecurityIds,live:g.C.liveSocialSecurityIds},driverLicenses:{query:g.C.getDriverLicenses,live:g.C.liveDriverLicenses},passports:{query:g.C.getPassports,live:g.C.livePassports},fiscalIds:{query:g.C.getFiscalIds,live:g.C.liveFiscalIds}},Ni=(e,t)=>{const a=function(e,t){return Ei[e](t)}(e,t);return{queryConfig:{query:Ii[e].query,queryParam:a},liveConfig:{live:Ii[e].live,liveParam:btoa(JSON.stringify(a))}}};function fi(e,t){const a=n.useMemo((()=>Ni(t,e)),[t,e]);return(0,Ft.qr)(a,[a])}const vi={passports:{type:"webapp_sidemenu_search_results_ids_passports_fallback_type",default:"webapp_sidemenu_search_results_ids_passports_fallback"},socialSecurityIds:{type:"webapp_sidemenu_search_results_ids_social_security_ids_fallback_type",default:"webapp_sidemenu_search_results_ids_social_security_ids_fallback"},fiscalIds:{type:"webapp_sidemenu_search_results_ids_fiscal_ids_fallback_type",default:"webapp_sidemenu_search_results_ids_fiscal_ids_fallback"},driverLicenses:{type:"webapp_sidemenu_search_results_ids_driver_licences_fallback_type",default:"webapp_sidemenu_search_results_ids_driver_licences_fallback"},idCards:{type:"webapp_sidemenu_search_results_ids_id_cards_fallback_type",default:"webapp_sidemenu_search_results_ids_id_cards_fallback"}},Si=(e,t,a)=>t&&t!==c.Country.UNIVERSAL&&t!==c.Country.NO_TYPE?a(vi[e].default,{country:a(`country_name_${c.Country[t]}`)}):a(vi[e].type),Di=e=>{const t=e.country,a=c.Country.US;var n;return t&&null!=(n=c.Country[t])?n:a},xi=new Set([c.Country.AU,c.Country.GB,c.Country.IE,c.Country.NZ,c.Country.CA]);function Mi(e,t,a){return xi.has(a)&&"en"===t?e.replace("license","licence"):e}const Ti=e=>(t,a,n)=>{const i=e[t],o=a[i];if("country"===i){const e=c.Country[o];return void 0===e||e===c.Country.UNIVERSAL?"":n(`country_name_${e}`)}return"name"!==i||o?o:Si(t,a.country,n)},Ai=Ti({driverLicenses:"name",fiscalIds:"idNumber",idCards:"name",passports:"name",socialSecurityIds:"name"}),ki=Ti({driverLicenses:"idNumber",fiscalIds:"country",idCards:"idNumber",passports:"idNumber",socialSecurityIds:"idNumber"}),Zi=({route:e,title:t,type:a,query:i})=>{const{translate:o}=(0,j.Z)(),s=Ii[a],{loadMore:r,items:l,matchingCount:c}=ii(s.query,s.live,{filterQuery:i});return n.useEffect((()=>{di.updateSearchSubTypes("documents",c)}),[c]),c?n.createElement(li,{i18nKey:t,loadMore:r,matchingCount:c,loadedCount:l.length},l.map(((t,i)=>n.createElement(zn,{key:t.id,itemId:t.id,type:a,country:t.country,primaryDisplayData:Ai(a,t,o),secondaryDisplayData:ki(a,t,o),idNumber:t.idNumber,route:e(t.id),onSelectId:()=>{di.logSearchEvent(),(0,ae.Q_)(t.id,ae.Ab[a],i+1,c)}})))):null},Oi=({query:e})=>{const{routes:t}=(0,J.Xo)(),{translate:a}=(0,j.Z)(),{loadMore:i,items:o,matchingCount:s}=ii(g.C.getIdentities,g.C.liveIdentities,{filterQuery:e});return n.useEffect((()=>{di.updateSearchSubTypes("identites",s)}),[s]),s?n.createElement(li,{i18nKey:"webapp_sidemenu_search_results_heading_identities",loadMore:i,matchingCount:s,loadedCount:o.length},o.map(((e,i)=>n.createElement(ai,{icon:n.createElement(Ce,{iconType:he.identity,iconSize:be.smallIcon}),key:e.id,text:ue(a,e),title:ce(e),detailRoute:t.userPersonalInfoIdentity(e.id),onSelectPersonalInfo:()=>{di.logSearchEvent(),(0,ae.bx)(e.id,N.ItemType.Identity,i+1,s)}})))):null},Li=({query:e})=>{const{routes:t}=(0,J.Xo)(),{loadMore:a,items:i,matchingCount:o}=ii(g.C.getNotes,g.C.liveNotes,{filterQuery:e});return n.useEffect((()=>{di.updateSearchSubTypes("notes",o)}),[o]),o?n.createElement(li,{i18nKey:"webapp_sidemenu_search_results_heading_secure_notes",loadMore:a,matchingCount:o,loadedCount:i.length},i.map(((e,a)=>n.createElement(Un,{detailRoute:t.userSecureNote(e.id),key:e.id,note:e,onSelectNote:()=>{di.logSearchEvent(),(0,ae.X0)(e.id,a+1,o)}})))):null},Pi=({query:e})=>{const{routes:t}=(0,J.Xo)(),{loadMore:a,items:i,matchingCount:o}=ii(g.C.getPaymentCards,g.C.livePaymentCards,{filterQuery:e});return n.useEffect((()=>{di.updateSearchSubTypes("paymentCards",o)}),[o]),o?n.createElement(li,{i18nKey:"webapp_sidemenu_search_results_heading_payment_cards",loadMore:a,matchingCount:o,loadedCount:i.length},i.map(((e,a)=>n.createElement(ei,{key:e.id,paymentCard:e,getRoute:t.userPaymentCard,onSelectPaymentCard:()=>{di.logSearchEvent(),(0,ae.GV)(e.id,a+1,o)}})))):null},zi=({query:e})=>{const{routes:t}=(0,J.Xo)(),{loadMore:a,items:i,matchingCount:o}=ii(g.C.getPersonalWebsites,g.C.livePersonalWebsites,{filterQuery:e});return n.useEffect((()=>{di.updateSearchSubTypes("personalWebsites",o)}),[o]),o?n.createElement(li,{i18nKey:"webapp_sidemenu_search_results_heading_websites",loadMore:a,matchingCount:o,loadedCount:i.length},i.map(((e,a)=>n.createElement(ai,{icon:n.createElement(Ce,{iconType:he.website,iconSize:be.smallIcon}),key:e.id,text:e.website,title:e.name,detailRoute:t.userPersonalInfoWebsite(e.id),onSelectPersonalInfo:()=>{di.logSearchEvent(),(0,ae.bx)(e.id,N.ItemType.Website,a+1,o)}})))):null},ji=({query:e})=>{const{routes:t}=(0,J.Xo)(),{translate:a}=(0,j.Z)(),{loadMore:i,items:o,matchingCount:s}=ii(g.C.getPhones,g.C.livePhones,{filterQuery:e});return n.useEffect((()=>{di.updateSearchSubTypes("phones",s)}),[s]),s?n.createElement(li,{i18nKey:"webapp_sidemenu_search_results_heading_phones",loadMore:i,matchingCount:s,loadedCount:o.length},o.map(((e,i)=>n.createElement(ai,{icon:n.createElement(Ce,{iconType:he.phone,iconSize:be.smallIcon}),key:e.id,text:e.displayNumber,title:le(a,e),detailRoute:t.userPersonalInfoPhone(e.id),onSelectPersonalInfo:()=>{di.logSearchEvent(),(0,ae.bx)(e.id,N.ItemType.Phone,i+1,s)}})))):null},Ri=e=>{const{lee:t,query:a}=e,{routes:i}=(0,J.Xo)(),{translate:o}=(0,j.Z)(),s=[{type:"idCards",title:"webapp_sidemenu_search_results_heading_id_cards"},{type:"socialSecurityIds",title:"webapp_sidemenu_search_results_heading_social_security_numbers"},{type:"driverLicenses",title:"webapp_sidemenu_search_results_heading_driver_licenses"},{type:"passports",title:"webapp_sidemenu_search_results_heading_passports"},{type:"fiscalIds",title:"webapp_sidemenu_search_results_heading_fiscal_numbers"}];return n.createElement(n.Fragment,null,n.createElement("div",{className:"searchResultsList--G05NtPMkFu",id:"search-results"},n.createElement(_i,{lee:t,query:a}),n.createElement(Li,{query:a}),n.createElement(Oi,{query:a}),n.createElement(gi,{query:a}),n.createElement(ji,{query:a}),n.createElement(ui,{query:a}),n.createElement(mi,{query:a}),n.createElement(zi,{query:a}),n.createElement(Pi,{query:a}),n.createElement(pi,{query:a}),s.map((e=>n.createElement(Zi,{key:e.type,type:e.type,title:e.title,route:i.userEditIdDocument.bind(null,e.type),query:a})))),n.createElement("div",{className:"noResults--uAf5I_vRPF"},o("webapp_sidemenu_search_results_empty")))},Ui=({disabled:e,lee:t,currentPathName:a,onInputChange:i,onInputFocus:o,handleClickOutsideSearch:s})=>{const[r,c]=n.useState(!0),[d,u]=n.useState(""),[p,m]=n.useState(!1),[_,g]=n.useState(!1),h=n.createRef(),{routes:b}=(0,J.Xo)(),{translate:C}=(0,j.Z)(),y=()=>h.current?h.current.value.trim():"",E=(0,X.debounce)((()=>{const e=y(),t=e.length>0;g(!1),u(e),m(t),i(t)}),100),I=()=>{h.current&&(h.current.value=""),E(),c(!0)};return n.useEffect((()=>{const e=[b.userCredentials,b.userSecureNotes,b.userPersonalInfo,b.userPayments].some((e=>a.startsWith(e)));h.current?.value&&!e&&I()}),[a]),n.createElement("div",{className:"searchInputWrapper--ukuAB5Cp5z"},n.createElement("span",{className:"searchWrapper--hty9R0gY6t"},!r&&!e&&n.createElement(l.Z,{classNames:$,timeout:300},n.createElement("span",{className:"cancelSearchIcon--VneblaPFEx _searchIcon--W1RhNJWfOr",onClick:I})),n.createElement("div",{className:"animatedSearchIcon--vFidc7R5in"},r&&!e&&n.createElement(l.Z,{classNames:ee,timeout:300},n.createElement("span",{className:"searchIcon--GmOVk1aFw3 _searchIcon--W1RhNJWfOr",onClick:()=>{h.current&&h.current.focus()}}))),n.createElement("input",{ref:h,type:"search",placeholder:C("webapp_sidemenu_search_placeholder"),disabled:e,className:w()("search--rQjZzQkpXA",{"searchActive--my1Oj4mvLm":d}),onFocus:()=>{const e=y().length>0;c(!1),m(e),o()},onBlur:()=>{d?_||(di.charactersTypedCount=d.length,di.logSearchEvent(!1),g(!0)):(c(!0),m(!1),s())},onChange:E})),p&&n.createElement(l.Z,{classNames:te,timeout:{enter:500,exit:300}},n.createElement("div",{className:"searchResults--_LnzWWn0pO"},n.createElement(Ri,{lee:t,query:d}))))},Bi=(0,n.createContext)({handleClickTeamConsole:()=>{},handleOpenLogoutDialog:()=>{},hideRecoveryNotifcation:()=>{},isAccountPanelOpen:!1,isSidemenuCollapsed:!1,openAccountPanel:()=>{},canShowAccountRecoveryNotification:!1}),Fi=Bi.Provider,Wi=()=>(0,n.useContext)(Bi);var Gi=a(24836),Vi=a(216530);const Yi=e=>e.sort(((e,t)=>e.name.localeCompare(t.name))),Hi=(0,n.createContext)({}),qi=({children:e,isCollectionsDEVModeEnabled:t,isCollectionsBETAModeEnabled:a})=>{const{data:i,status:o}=(0,Gi.k$)(Vi.vaultOrganizationApi,"queryCollections",{}),s={collections:i?Yi(i.collections):[],isCollectionsEnabled:!0,isCollectionsLoading:o!==Ft.rq.Success,isCollectionsDEVModeEnabled:t,isCollectionsBETAModeEnabled:a};return n.createElement(Hi.Provider,{value:s},e)},Qi=()=>(0,n.useContext)(Hi),Xi=({children:e})=>{const t=(0,it.w)("vault_web_collection_labelling_dev"),a=(0,it.w)("vault_web_collection_containing_beta_v4");return(0,it.w)("vault_web_collection_labelling_prod")||a||t?n.createElement(qi,{isCollectionsDEVModeEnabled:t,isCollectionsBETAModeEnabled:a},e):n.createElement(Hi.Provider,{value:{collections:[],isCollectionsEnabled:!1,isCollectionsLoading:!1,isCollectionsDEVModeEnabled:!1,isCollectionsBETAModeEnabled:!1}},e)};var Ki=a(710334);const Ji=({collectionName:e,collectionSpaceId:t})=>{const a=(0,Ki.E)(),n=a.status===Ft.rq.Success?a.data.find((e=>e.teamId===t)):null;return(0,we.tZ)("div",{sx:{display:"flex",alignItems:"center",gap:"8px",svg:{flex:"0 0 20px"}}},(0,we.tZ)("span",{sx:{overflow:"hidden",textOverflow:"ellipsis"}},e),n&&(0,we.tZ)(T,{space:{...n,id:n.teamId,name:n.teamName}}))},$i="24px",eo=({...e})=>(0,we.tZ)("div",{sx:{display:"flex",flexDirection:"column",gap:$i},...e}),to=({title:e,content:t,confirmButton:a,onClose:n,isOpen:i=!0})=>{const{translate:o}=(0,j.Z)();return(0,we.tZ)(s.VqE,{onClose:n,isOpen:i,closeIconName:o("_common_dialog_dismiss_button")},(0,we.tZ)(eo,null,(0,we.tZ)(we.X6,{as:"h2",id:"dialogTitle"},e),t,(0,we.tZ)("footer",{sx:{display:"flex",flexDirection:"row-reverse"}},a)))},ao=({children:e,title:t,style:a})=>(0,we.tZ)("span",{title:null!=t?t:e,sx:{width:"100%",overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",fontWeight:"500",fontSize:"0.75rem",...a}},e),no=({onClick:e,isSelected:t=!1,...a})=>(0,we.tZ)(we.zx,{onClick:e,sx:{width:"100%",backgroundColor:t?"ds.container.expressive.neutral.quiet.active":"ds.container.expressive.neutral.quiet.idle"},layout:"labelOnly",size:"small",intensity:"quiet",mood:"neutral"},(0,we.tZ)(ao,{...a})),io=({children:e,onDismiss:t})=>{const{translate:a}=(0,j.Z)();return(0,we.tZ)("span",{sx:{display:"flex",alignItems:"center",gap:"4px",width:"100%",padding:t?"0 0 0 10px":"6px 10px",borderRadius:"4px",backgroundColor:"ds.container.expressive.neutral.quiet.idle"}},(0,we.tZ)(ao,null,e),t&&(0,we.tZ)(we.zx,{onClick:t,icon:(0,we.tZ)(we.JO,{name:"ActionCloseOutlined",title:a("webapp_collections_actions_delete_tooltip")}),layout:"iconOnly",intensity:"supershy",mood:"neutral",size:"small"}))},oo=(0,n.forwardRef)(((e,t)=>{const{translate:a}=(0,j.Z)(),{id:i,input:o,setInput:s,onSubmit:r}=e,l=(e,t=!0)=>{r&&"Enter"===e.key&&(e.stopPropagation(),e.preventDefault(),t&&r())};return n.createElement(we.oi,{ref:t,id:i,value:o,onKeyUp:l,onKeyDown:e=>l(e,!1),onChange:e=>{return(t=e.target.value).length<=40&&s(t);var t},placeholder:a("webapp_collections_input_placeholder_add_new"),autoFocus:!0})}));oo.displayName="CollectionInput";const so=({amountLeft:e,isOpen:t,onClick:a})=>{const{translate:n}=(0,j.Z)();return(0,we.tZ)(we.zx,{onClick:e=>{e.preventDefault(),a()},intensity:"supershy",layout:"iconTrailing",size:"small",icon:(0,we.tZ)(s.veu,{rotate:t?180:360,sx:{transition:"transform 250ms"}})},t?n("webapp_collections_overflow_button_show_less"):n("webapp_collections_overflow_button_show_more",{count:e}))},ro=({isVisible:e=!0,...t})=>(0,we.tZ)("li",{sx:{flex:0,maxWidth:"200px",...e?{visibility:"visible",transform:"scale3d(1,1,1)",width:"100%",marginRight:"16px"}:{visibility:"hidden",transform:"scale3d(0,0,1)",width:0},transformOrigin:"top left",transition:"all 200ms"},...t}),lo=(0,n.forwardRef)(((e,t)=>{const a=(0,n.useRef)(null),[i,o]=(0,n.useState)(0),{children:s,sx:r,...l}=e;return(0,n.useEffect)((()=>{a.current&&i!==a.current.scrollHeight&&o(a.current.scrollHeight)}),[s]),(0,n.useImperativeHandle)(t,(()=>({ulElement:a.current,getWidth:()=>{var e;return null!=(e=a.current?.clientWidth)?e:0},getListItemsWidths:()=>{if(!a.current)return[];const e=[];for(const t of a.current.children)e.push(t.getBoundingClientRect().width+16);return e}}))),(0,we.tZ)("ul",{ref:a,sx:{display:"flex",flexDirection:"row",flexWrap:"wrap",flex:"1 1 100%",rowGap:"16px",alignItems:"center",maxHeight:`${i}px`,transition:"all 200ms ease-out",overflow:"hidden",...r},...l},s)})),co=({collectionListItems:e,sx:t,...a})=>{const[i,o]=(0,n.useState)(!1),[s,r]=(0,n.useState)(0),[l,c]=(0,n.useState)({ulRowWidth:0,totalCollectionItemsWidth:0}),d=(0,n.useRef)(null),u=(0,n.useRef)([]),p=(0,n.useRef)(0),m=(0,n.useRef)(0),_=e.length;if((0,n.useEffect)((()=>{if(!d.current?.ulElement)return;const e=(0,X.debounce)((()=>{if(!d.current)return;const e=d.current.getWidth();e!==l.ulRowWidth&&c((t=>({...t,ulRowWidth:e})))}),100),t=new ResizeObserver((()=>{e()}));return t.observe(d.current.ulElement),()=>t.disconnect()}),[d.current]),(0,n.useEffect)((()=>{var e;d.current&&(u.current=d.current.getListItemsWidths(),p.current=null!=(e=u.current.pop())?e:0,c({ulRowWidth:d.current.getWidth(),totalCollectionItemsWidth:u.current.reduce(((e,t)=>e+t),0)}))}),[_]),(0,n.useEffect)((()=>{if(d.current){if(l.ulRowWidth>=l.totalCollectionItemsWidth)m.current=_;else{const e=l.ulRowWidth-p.current;let t=0;for(let a=0;a<u.current.length;a++)if(t+=u.current[a],t>=e){m.current=a;break}}r(i?_:m.current),m.current>=_&&i&&o(!1)}}),[l]),0===_)return null;const g=_-s,h=i||g>0;return(0,we.tZ)(lo,{ref:d,...a,sx:{[`li:nth-of-type(n+${s+1})`]:{transition:"none",visibility:"hidden",position:"absolute",width:"fit-content"},...h&&{"li:last-child":{visibility:"visible",position:"unset"}},...t}},e,(0,we.tZ)("li",null,(0,we.tZ)(so,{amountLeft:g,isOpen:i,onClick:()=>{r(i?m.current:_),o((e=>!e))}})))},uo=({...e})=>(0,we.tZ)("label",{sx:{fontSize:"0.75rem",fontWeight:"600",color:"ds.text.neutral.quiet",textTransform:"uppercase"},...e}),po=()=>{const{translate:e}=(0,j.Z)();return(0,we.tZ)(we.nv,{sx:{color:"ds.text.danger.quiet",maxWidth:"480px"}},e("collections_dialog_create_already_exist_error"))};var mo;const _o="createActionSidemenuInputId",go=({input:e,setInput:t,hasInputError:a})=>{const{translate:i}=(0,j.Z)();return(0,we.tZ)(n.Fragment,null,(0,we.tZ)(uo,{htmlFor:_o},i("collections_dialog_create_name_input_label")),(0,we.tZ)(oo,{id:_o,input:e,setInput:t}),a&&(mo||(mo=(0,we.tZ)(po,null))))},ho={width:"173px",textAlign:"right",paddingRight:"24px",justifyContent:"flex-end",lineHeight:"20px",fontWeight:"600"},bo=n.memo((({spaceId:e,onChange:t,hideLabel:a,portalTarget:n,labelSx:i={},wrapperSx:o={},...r})=>{var l,c,d,u,p;const{translate:m}=(0,j.Z)(),_=(0,Ki.E)(),g=m("webapp_form_field_personal_space"),h=_.status===Ft.rq.Success&&null!=(l=_.data.find((t=>t.teamId===e))?.teamId)?l:"",b=(()=>{const e={id:"",name:g,letter:g[0]},t={value:"",label:(0,z.tZ)(s.Ejs,{alignItems:"center"},(0,z.tZ)(T,{space:e}),(0,z.tZ)("span",{sx:{marginLeft:2}},e.name))},a=[];if(_.status===Ft.rq.Success&&_.data.length>0){const e={..._.data[0],id:_.data[0].teamId,name:_.data[0].teamName};a.push({value:e.teamId,label:(0,z.tZ)(s.Ejs,{alignItems:"center"},(0,z.tZ)(T,{space:e}),(0,z.tZ)("span",{sx:{marginLeft:2}},e.name))})}return[t,...a]})();return b.length>1?(0,z.tZ)(s.Ejs,{alignItems:"center",sx:o},a?null:(0,z.tZ)("label",{sx:i,htmlFor:null!=(c=r.id)?c:"spaceSelect"},m("webapp_form_field_space")),(0,z.tZ)(s.qWE,{...r,name:"spaceSelect",menuPortalTarget:n,isSearchable:!1,id:null!=(d=r.id)?d:"spaceSelect",key:null!=(u=r.key)?u:"spaceSelect",placeholder:m("webapp_form_field_space_placeholder"),options:b,defaultValue:void 0!==e?null!=(p=b.find((e=>e.value===h)))?p:b[0]:void 0,onChange:e=>t(e.value)})):null})),Co=e=>{const{translate:t}=(0,j.Z)(),{deleteCollection:a}=(0,Gi.u7)(Vi.vaultOrganizationApi),{onClose:i,collectionId:o}=e;return n.createElement(to,{title:t("collections_dialog_delete_header_title"),content:t("collections_dialog_delete_info_text"),confirmButton:n.createElement(we.zx,{onClick:()=>{a({id:o}),i()},mood:"danger"},t("collections_delete_button_text")),...e})},wo="createActionSidemenuSpaceInputId",yo=(0,n.memo)((({spaceId:e,setSpaceId:t})=>{const{translate:a}=(0,j.Z)(),{teamId:i}=(0,ct.fV)();return i?(0,we.tZ)(n.Fragment,null,(0,we.tZ)(uo,{htmlFor:wo,sx:{display:"inline-block",marginTop:$i}},a("collections_dialog_create_space_label")),(0,we.tZ)(bo,{id:wo,spaceId:e,hideLabel:!0,onChange:t,sx:{flex:"1"}})):null})),Eo="createActionSidemenuFormId",Io=({onSubmit:e,setIsSubmitDisabled:t})=>{const{collections:a}=Qi(),{createCollection:i}=(0,Gi.u7)(Vi.vaultOrganizationApi),[o,s]=(0,n.useState)(!1),[r,l]=(0,n.useState)(""),[c,d]=(0,n.useState)("");return n.createElement("form",{id:Eo,onSubmit:t=>{t.preventDefault();const n=r.trimEnd();a.some((e=>e.name===n&&e.spaceId===c))?s(!0):(i({content:{name:n,spaceId:c}}),l(""),e())}},n.createElement(go,{input:r,setInput:e=>{o&&s(!1),l(e),t(!e)},hasInputError:o}),n.createElement(yo,{spaceId:c,setSpaceId:d}))},No=(0,n.memo)((({disabled:e})=>{const{translate:t}=(0,j.Z)();return n.createElement(we.zx,{type:"submit",form:Eo,disabled:e},t("collections_dialog_create_button_text"))}));No.displayName="CreateButton";const fo=({onClose:e,isOpen:t})=>{const{translate:a}=(0,j.Z)(),[i,o]=(0,n.useState)(!0);return n.createElement(to,{title:a("collections_dialog_create_header_title"),content:n.createElement(Io,{onSubmit:e,setIsSubmitDisabled:o}),confirmButton:n.createElement(No,{disabled:i}),onClose:e,isOpen:t})},vo=()=>{const{translate:e}=(0,j.Z)(),[t,a]=(0,n.useState)(!1);return n.createElement(n.Fragment,null,n.createElement(we.zx,{onClick:()=>{a(!0),(0,O.N)(N.PageView.CollectionCreate)},icon:n.createElement(we.JO,{name:"ActionAddOutlined",title:e("collections_sidemenu_create_icon_title")}),layout:"iconOnly",intensity:"supershy",mood:"neutral",size:"medium"}),n.createElement(fo,{isOpen:t,onClose:()=>a(!1)}))};var So;const Do=({...e})=>(0,we.tZ)("span",{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",marginRight:"8px"},...e}),xo=()=>{const{translate:e}=(0,j.Z)();return(0,we.tZ)(Do,null,e("webapp_credentials_header_row_category"),So||(So=(0,we.tZ)(vo,null)))};var Mo,To;const Ao=()=>{const{collections:e,isCollectionsDEVModeEnabled:t,isCollectionsBETAModeEnabled:a}=Qi(),{routes:o}=(0,i.Xo)(),{isSidemenuCollapsed:s}=Wi(),{currentSpaceId:r}=(0,ct.fV)();if(!t&&!a||s)return null;const l=null!==r?e.filter((e=>e.spaceId===r)):e;return n.createElement(E,{title:Mo||(Mo=n.createElement(xo,null))},l.map((e=>n.createElement(H,{key:`collections_sidemenu_${e.id}`,to:o.userCollection(e.id)},n.createElement(Ji,{collectionName:e.name,collectionSpaceId:e.spaceId})))))},ko=()=>To||(To=n.createElement(Xi,null,n.createElement(Ao,null)));var Zo,Oo=a(694435),Lo=a(521893),Po=a(866237),zo=a(202281);const jo=e=>{var t;const{translate:a}=(0,j.Z)(),i=null!=(t=(0,Po.f)())?t:"",{handleClickTeamConsole:o}=Wi(),r=(0,zo.Y)(),l=r.status===Ft.rq.Success?r.data:void 0;return(0,we.tZ)(s.VqE,{closeIconName:a("_common_dialog_dismiss_button"),isOpen:e.showAdminConsoleModal,onClose:()=>e.setShowAdminConsoleModal(!1)},(0,we.tZ)(s.$N8,{title:(0,we.tZ)(we.X6,{color:"ds.text.neutral.catchy",as:"h1",sx:{margin:"0px 15px",fontSize:"25px",fontWeight:"800"}},a("open_admin_console_dialog_title"))}),(0,we.tZ)(s.a7O,null,(0,we.tZ)(we.nv,{sx:{margin:"15px",fontSiz:"16px"},color:"ds.text.neutral.standard"},a("open_admin_console_dialog_paragrah")),(0,we.tZ)(we.nv,{sx:{margin:"15px",fontSiz:"16px"},color:"ds.text.neutral.standard"},a("open_admin_console_dialog_paragrah_two"))),(0,we.tZ)(s.cNS,{primaryButtonTitle:(0,we.tZ)(n.Fragment,null,(0,we.tZ)("span",{sx:{marginRight:"8px"}},a("team_vault_navigation_dialog_install_cta")),Zo||(Zo=(0,we.tZ)(we.JO,{name:"ActionOpenExternalLinkOutlined",size:"small",color:"ds.text.inverse.catchy"}))),primaryButtonOnClick:()=>{(0,je.Yo)(Oo.yi)},primaryButtonProps:{type:"button"},secondaryButtonTitle:a("open_admin_console_dialog_skip_btn"),secondaryButtonOnClick:()=>{l?(0,Lo.H)(i,l,o):(0,je.Yo)(Oo.xz),e.setShowAdminConsoleModal(!1)}}))};var Ro,Uo,Bo,Fo=a(542899);const Wo="webapp_sidemenu_install_extension_navigation_cta",Go=e=>{const t=w()(R.wrapper,{[R.collapsed]:e.isCollapsed,[R.collapsedForSearch]:e.internallyCollapsedForSearch}),[a,i]=(0,n.useState)(!1),{translate:r,routes:l}=e.lee,c=e.lee.permission.adminAccess.hasTACAccess,d=(0,it.w)("onboarding_web_bettertacvaultnav");return(0,we.tZ)("nav",{className:t},(0,we.tZ)("div",{sx:{marginBottom:"80px"}},(0,we.tZ)("div",{className:w()(R.topRow,{[R.collapsed]:e.isCollapsed})},(0,we.tZ)("button",{type:"button",className:w()(R.collapseButton,y.jK,y.oo),"aria-label":r("webapp_sidemenu_toggle_navigation"),onClick:()=>e.isCollapsed?e.doUncollapseMenu():e.doCollapseMenu()}),(0,we.tZ)(Ui,{disabled:e.isCollapsed,lee:e.lee,currentPathName:e.currentPathName,onInputChange:t=>e.setInternallyCollapsedForSearch(t),onInputFocus:()=>e.doUncollapseMenu(),handleClickOutsideSearch:()=>e.setInternallyCollapsedForSearch(!1)})),(0,we.tZ)("div",{className:R.menuWrapper},e.hasAddPasswordFlippedOn()?(0,we.tZ)(H,{to:l.userOnboarding,wrapperClass:R.onboarding,icon:Q(),text:"webapp_sidemenu_item_onboarding"}):null,e.hasSpaceId?(0,we.tZ)(P,{lee:e.lee}):null,(0,we.tZ)(E,null,e.topMenu.map((e=>(0,we.tZ)(H,{...e,key:e.to})))),e.isMaintenanceCategoryEnabled?(0,we.tZ)(E,{isCollapsed:e.isCollapsed||e.internallyCollapsedForSearch,title:r("webapp_sidemenu_category_maintenance"),className:w()({[R.securityCategoryCollapsed]:e.isCollapsed||e.internallyCollapsedForSearch})},e.centerMenu.map((e=>(0,we.tZ)(H,{...e,key:e.to})))):null,Ro||(Ro=(0,we.tZ)(ko,null)),d?(0,we.tZ)(jo,{showAdminConsoleModal:a,setShowAdminConsoleModal:i}):null,d&&c?(0,we.tZ)("div",{sx:{display:"flex",justifyContent:e.isCollapsed?"left":"center",marginTop:"25px",paddingTop:"25px",borderTopWidth:"1px",borderTopStyle:"solid",borderTopColor:s.O9T.midGreen04,paddingRight:"4px",position:"fixed",bottom:"0",margin:"0 auto",width:"320px",backgroundColor:s.O9T.midGreen05}},(0,we.tZ)(we.zx,{layout:e.isCollapsed?"iconOnly":c?"iconLeading":"iconTrailing","aria-label":r(Wo),onClick:e=>{e?.preventDefault(),c&&(0,je.nL)(o.n2)},sx:{margin:e.isCollapsed?"20px 4px 20px 4px":"20px 25px"},icon:c?Uo||(Uo=(0,we.tZ)(we.JO,{name:"DashboardOutlined",size:"large",color:"ds.text.inverse.catchy"})):Bo||(Bo=(0,we.tZ)(we.JO,{name:"ActionOpenExternalLinkOutlined",size:"large",color:"ds.text.inverse.catchy"})),mood:"brand",intensity:"catchy",fullsize:!e.isCollapsed},r(c?"webapp_sidemenu_open_admin_console_btn":Wo))):null)))};var Vo=a(322374),Yo=a(737541);const Ho=async()=>{const{devicesList:e}=await g.C.getDevicesList(null),t=e.find((e=>e.isCurrentDevice));return!!t&&(a=t.creationDate,new Date(a).getTime()/1e3<1620943200);var a};var qo=a(210994),Qo=a(339702);const Xo="webapp_ids_notification_close",Ko=p.NotificationName.IdsPromotion,Jo=e=>{const[t,a]=(0,n.useState)(!1),[o,r]=(0,n.useState)(),[l,d]=(0,n.useState)(null),{doUncollapseMenu:u,doCollapseMenu:p,currentPathName:_,handleAccountClick:g}=e;(0,n.useEffect)((()=>{(()=>{const t=null!==(0,m.ev)(e.lee.globalState),a=null===(0,Z.B)(e.lee.globalState);t||a||e.lee.dispatchGlobal((0,f.eO)(null))})()}),[]);const{accountInfo:C,isCollapsed:w,lee:y,handleClickTeamConsole:E}=e,{routes:I}=y,{premiumStatus:N={}}=C,v=e.lee.carbon.accountFeatures.list,{unseen:S,setAsSeen:D}=(0,Yo.m)(Ko),x={isCollapsed:w||t,premiumStatusCode:N.statusCode,expirationDate:N.endDate?(0,qo.Z)(N.endDate):void 0,premiumPlusPlan:(0,b.Tg)(N),url:window.location.href,handleClickTeamConsole:E},M=!!(0,m.xO)(e.lee.globalState),T=()=>{const{leelooStep:t,completedSteps:a}=e.lee.carbon.webOnboardingMode;return a&&a.saveCredentialOnWeb&&a.loginCredentialOnWeb&&t===c.WebOnboardingLeelooStep.SHOW_WEB_SAVE_AND_AUTOLOGIN_COMPLETED},A=()=>{h({leelooStep:null})},k=v.passwordHealthWeb,O=v.darkwebMonitoringWebRelease,L=k||O,P=!!(z=N.capabilities)&&(z.identityRestoration?.enabled||z.identityTheftProtection?.enabled||z.creditMonitoring?.enabled);var z;const j=(e=>{const t=fi(e,"idCards"),a=fi(e,"socialSecurityIds"),n=fi(e,"driverLicenses"),i=fi(e,"passports"),o=fi(e,"fiscalIds");let s=0;return[t,a,n,i,o].every((e=>e.status===Ft.rq.Success&&(s+=e.data.items.length,!0)))?s:0})((0,Z.B)(y.globalState)),U={AVAILABLE:{title:"webapp_ids_notification_available_title",description:"webapp_ids_notification_available_description",cancelLabel:Xo,confirmLabel:"webapp_ids_notification_view",route:I.userIdsDocuments},NEW:{title:"webapp_ids_notification_new_title",description:"webapp_ids_notification_new_description",cancelLabel:Xo,confirmLabel:"webapp_ids_notification_add",route:`${I.userIdsDocuments}?add`}};(0,n.useEffect)((()=>{(async()=>{const e=!T(),t=!(0,b.AF)(N);if(null===l&&S&&e&&t){const e=await Ho();d(e),D()}})()}),[S,l]),(0,n.useEffect)((()=>{_.startsWith(I.userIdsDocuments)&&d(!1)}),[_]),(0,n.useEffect)((()=>{r(0===j?U.NEW:U.AVAILABLE)}),[j]);const B=(0,Vo.n6)(Vo.Co.SecureNotes,N.capabilities),F=(0,Vo.n6)(Vo.Co.DataLeak,N.capabilities),{showVpnPage:W,showVpnMenuItem:G,shouldDisplayVPNPaywall:V,getVpnDisabledNotification:Y}=(0,Qo.Hn)(w||t,R.comingSoonNotification),H=[{to:I.userCredentials,icon:s.NSO,text:"webapp_sidemenu_item_passwords",enabledNotification:T()?{showNotification:!w&&!t,notificationClass:R.comingSoonNotification,title:"web_onboarding_autologin_completed_title",description:"",cancelLabel:"web_onboarding_autologin_completed_cancel",onCancel:A}:void 0},{to:I.userPayments,icon:s.fyF,text:"webapp_sidemenu_item_payments"},{to:I.userSecureNotes,icon:s.uHY,text:"webapp_sidemenu_item_secure_notes",showPaywallTag:B},{to:I.userPersonalInfo,icon:s.d3S,text:"webapp_sidemenu_item_personal_info"},{to:I.userIdsDocuments,icon:s.VuL,text:"webapp_sidemenu_item_ids",disabledNotification:{showNotification:!w,notificationClass:R.comingSoonNotification,title:"webapp_sidemenu_item_ids_coming_soon_title",description:"webapp_sidemenu_item_ids_coming_soon_desc"},enabledNotification:l&&o?{showNotification:!w&&!t,title:o.title,description:o.description,confirmLabel:o.confirmLabel,cancelLabel:o.cancelLabel,onCancel:()=>d(!1),onConfirm:()=>(0,i.uX)(o.route)}:void 0},{to:I.userSharingCenter,icon:s.kpp,text:"webapp_sharing_center_navigation"}],q=[{to:I.userPasswordHealth,icon:s._uj,text:"webapp_sidemenu_item_password_health",hidden:!k},{to:I.darkWebMonitoring,icon:s.Ru6,text:"webapp_sidemenu_item_darkweb",collapsedChip:e.isCollapsed&&!F&&x.premiumStatusCode===c.PremiumStatusCode.NO_PREMIUM?s.UnL:void 0,rightIcon:F||x.premiumStatusCode!==c.PremiumStatusCode.NO_PREMIUM?void 0:s.UnL,showPaywallTag:F,hidden:!O},{to:I.vpn,icon:s.Qut,text:"webapp_sidemenu_item_vpn",disabled:!W,hidden:!G,disabledNotification:Y(),showPaywallTag:V},{to:I.premiumPlus,icon:s.dCf,text:"webapp_sidemenu_item_premium_plus",hidden:!P}];return n.createElement(Go,{centerMenu:q,currentPathName:_,doCollapseMenu:p,doUncollapseMenu:u,handleAccountClick:g,handleLoginAndSaveSuccessClose:A,hasAddPasswordFlippedOn:()=>v.saexOnboardingHubAddPasswords,hasSpaceId:M,internallyCollapsedForSearch:t,isAddPasswordStepCompleted:T,isMaintenanceCategoryEnabled:L,lee:y,premiumProps:x,setInternallyCollapsedForSearch:a,topMenu:H,isCollapsed:w})};var $o=a(233377),es=a(745268),ts=a(399651),as=a(524853);const ns=({children:e,className:t,ignoreClickOutsideClassName:a,ignoreCloseOnEscape:i,onNavigateOut:o})=>((0,n.useEffect)((()=>{const e=setTimeout((()=>{const e=document.getElementsByTagName("aside");e&&e[0]&&e[0].focus()}),200);return()=>{clearTimeout(e)}}),[]),n.createElement(I.j,{onOutsideClick:o,ignoredClassName:a},n.createElement(ts.Z,{onEscape:()=>{i||o()}},n.createElement("aside",{className:w()(as.Z.container,t),tabIndex:-1},e))));var is=a(560453),os=a(630886);const ss=({onConfirmClick:e,onDismissClick:t})=>{const{translate:a}=(0,j.Z)(),i=()=>{t()};return n.createElement(os.o,{isOpen:!0,onRequestClose:i,footer:n.createElement(s.cNS,{primaryButtonTitle:a("webapp_edit_panel_discard_dialog_confirm"),primaryButtonOnClick:()=>{e()},secondaryButtonTitle:a("webapp_edit_panel_discard_dialog_dismiss"),secondaryButtonOnClick:i,secondaryButtonProps:{autoFocus:!0},intent:"danger"}),title:a("webapp_edit_panel_discard_dialog_title")},a("webapp_edit_panel_discard_dialog_subtitle"))},rs={visibleLabel:{opacity:1,top:0,position:"absolute"},hiddenLabel:{display:"none"}},ls=({labels:e,visibleLabel:t})=>n.createElement("div",{className:"container--rSu4eqW0cg"},e.map((e=>n.createElement("div",{key:`spacerH_${e}`,className:"spacerH--E42g_bb_rW _spacer--zYu3DV9ErW"},e))),n.createElement("div",{className:"spacerVContainer--dr3RE1_P52"},e.map((e=>n.createElement("div",{key:`spacerV_${e}`,className:"spacerV--EzVGr0FKjn _spacer--zYu3DV9ErW"},e)))),e.map((e=>n.createElement("div",{key:e,style:e===t?rs.visibleLabel:rs.hiddenLabel},e))));var cs=a(385462),ds=a.n(cs);const us="actionsContainer--cbj0zi2pPQ";var ps;const ms=parseInt(ds()["--transition-duration-slow"],10),_s=(0,_e.Enum)("close","cancel"),gs="webapp_panel_edition_generic_close",hs="webapp_panel_edition_generic_cancel_changes",bs=({children:e,formId:t,isViewingExistingItem:a,itemHasBeenEdited:i,deleteButtonLabel:o,isCardValid:c=!0,isEditableItem:d=!0,onClickDelete:u,onNavigateOut:p,onSubmit:m,header:_,primaryActions:g,secondaryActions:h,submitPending:b,submitDisabled:C,ignoreCloseOnEscape:w,withoutCloseButton:E,withoutDeleteButton:I,withoutConfirmationDialog:N,isSomeDialogOpen:f=!1})=>{const{translate:v}=(0,j.Z)(),[S,D]=n.useState(!1),x=()=>d&&i&&c,M=()=>Boolean(d&&(!a||i)),T=e=>{if(!(i&&S||f)&&p){const t=x()?_s.cancel:_s.close;void 0===e&&"cancel"===t||i&&!N?D(!0):p(t,e)}};return(0,we.tZ)(is.br,null,(0,we.tZ)(ns,{onNavigateOut:T,ignoreClickOutsideClassName:y.jK,ignoreCloseOnEscape:w},_,(0,we.tZ)("form",{className:"form--aZO9urdBdj",autoComplete:"off",noValidate:!0,onSubmit:e=>(e.preventDefault(),!m||b||C||m(e),!1),id:t},e,(0,we.tZ)("div",{className:"alertPopup--HE4FuLRHKN",id:"alert-sidepanel-popup-portal"})),(0,we.tZ)("footer",{className:"actions--L5xv6sT6Vc"},(0,we.tZ)("div",{className:us},(()=>{const e=null!=o?o:v("webapp_panel_edition_generic_delete"),t=a&&d&&!I?[(0,we.tZ)(we.zx,{key:"delete",size:"medium",mood:"neutral",icon:ps||(ps=(0,we.tZ)(we.JO,{name:"ActionDeleteOutlined"})),layout:"iconLeading",intensity:"quiet",onClick:null!=u?u:X.noop},e)]:[];return h?t.concat(h):t})()),(0,we.tZ)("div",{className:us},(0,we.tZ)(r.Z,{className:"primaryActionsTransitionGroup--fZ7I5UeDxK"},(()=>{const e=null!=g?g:[];return x()?[(0,we.tZ)(l.Z,{classNames:{enter:"primaryActionsEnter--QZkb22ctyd",enterActive:"primaryActionsEnterActive--fRjwdJqxYc",exit:"primaryActionsExit--m9U0D0015_",exitActive:"primaryActionsExitActive--FQnQAkxGUf"},timeout:ms,key:"save"},(0,we.tZ)(s.Ejs,null,(0,we.tZ)(we.zx,{type:"submit",size:"medium",sx:{minWidth:"80px"},disabled:b||C,isLoading:b,form:t},v("webapp_panel_edition_generic_save_changes")))),...e]:e})()),E?null:(0,we.tZ)(s.Ejs,null,(0,we.tZ)(we.zx,{"data-testid":"detail_panel_close_button","aria-label":M()?v(hs):v(gs),mood:"neutral",intensity:"quiet",size:"medium",onClick:T},(0,we.tZ)(ls,{labels:[v(gs),v(hs)],visibleLabel:M()?v(hs):v(gs)}))))),S?(0,we.tZ)(ss,{onDismissClick:()=>{D(!1)},onConfirmClick:()=>{p(_s.cancel)}}):null))};var Cs=a(932954),ws=a(283049);const ys=({title:e})=>(0,z.tZ)(s.X6q,{size:"small",as:"h2",color:"ds.text.neutral.catchy",className:"title--NTVnvXkToM"},(0,z.tZ)(Cs.Z,null,e)),Es=({titleDescription:e})=>(0,z.tZ)(Cs.Z,{tooltipText:e,sx:{color:"ds.text.neutral.quiet"},className:"titleDescription--NeHRc7qjB7"},e),Is=({icon:e,iconBackgroundColor:t,titleDescription:a,title:n,tabs:i,children:o})=>(0,z.tZ)("header",{className:"header--yK2A00jbLd",sx:{backgroundColor:"ds.container.agnostic.neutral.quiet"}},(0,z.tZ)("span",{className:"icon--tAvVGXRrRJ",sx:{backgroundColor:t}},e),(0,z.tZ)("div",{className:"column--W81KAlL1hl"},(0,z.tZ)("span",{className:"headingColumn--YNZZ8JeBYX"},a&&(0,z.tZ)(Es,{titleDescription:a}),(0,z.tZ)(ys,{title:n}),o),i&&(0,z.tZ)("div",{className:"tabsContainer--C8FbN7UbO9"},(0,z.tZ)(ws.m,{tabs:i}))));var Ns=a(81944);let fs;!function(e){e.Root="root",e.AccountDetails="account-details",e.DeviceManagement="device-management",e.SecuritySettings="security-settings",e.ImportExportData="import-export-data",e.AccessAllFeatures="access-all-features"}(fs||(fs={}));var vs=a(9138),Ss=a(971664);class Ds extends n.PureComponent{constructor(...e){super(...e),this.state={actionState:this.props.status},this.animationSubscription=null,this.cancelAnimationSubscription=()=>{null!==this.animationSubscription&&clearTimeout(this.animationSubscription)},this.onClick=()=>{"idle"===this.state.actionState&&this.props.onClick()}}componentDidMount(){this.updateActionState()}componentWillUnmount(){this.cancelAnimationSubscription()}componentDidUpdate(e){e.status!==this.props.status&&this.updateActionState()}updateActionState(){const{status:e}=this.props,{actionState:t}=this.state;e!==t&&this.setState({actionState:e},this.checkActionState)}checkActionState(){const{animationDuration:e}=this.props,{actionState:t}=this.state;this.cancelAnimationSubscription(),"success"!==t&&"error"!==t||(this.animationSubscription=window.setTimeout((()=>this.setState({actionState:xs.Idle})),e))}render(){const{children:e,animationDuration:t}=this.props,{actionState:a}=this.state,i=w()("button--pFHOCunFpH","loading"===a&&"loading--uKvYW1jlh3","success"===a&&"success--xBJwV9PiOn","error"===a&&"error--BW4Js_QMWe"),o="idle"!==a;return n.createElement("button",{type:"button",className:i,onClick:this.onClick},e,o&&n.createElement("div",{className:"icon--VhdY3bXPR5","data-testid":"syncIcon",style:{animationDuration:"loading"!==a?`${t}ms`:void 0},role:"alert","aria-label":a}))}}let xs;Ds.defaultProps={animationDuration:2e3},function(e){e.Error="error",e.Success="success",e.Loading="loading",e.Idle="idle"}(xs||(xs={}));const Ms=e=>{switch(e){case Ss.SyncStatuses.FAILURE:return xs.Error;case Ss.SyncStatuses.SUCCESS:return xs.Success;case Ss.SyncStatuses.IN_PROGRESS:return xs.Loading;default:return xs.Idle}},Ts=({children:e})=>{const{sync:t}=(0,Gi.u7)(Ss.syncApi),{watchNextSync:a,status:i}=(()=>{const e=n.useRef(!1),t=(0,Gi.k$)(Ss.syncApi,"syncProgress"),[a,i]=n.useState();return(0,Ft.lU)((t=>{t===Ft.ae.KILLED&&e.current&&i(p.SyncStatuses.FAILURE)}),[a]),n.useEffect((()=>{e.current&&t.status===Ft.rq.Success&&([p.SyncStatuses.SUCCESS,p.SyncStatuses.FAILURE].includes(t.data.status)&&(e.current=!1),i(t.data.status))}),[t]),{watchNextSync:()=>{e.current=!0},status:a}})();return n.createElement(Ds,{status:Ms(i),onClick:()=>{a(),t({trigger:N.Trigger.Manual})}},e)},As="subPanelLinkIcon--jWkDp3MMM5 subPanelIcon--ieCdrdtgeL",ks="subPanelLink--frLAm9TZQC",Zs="subPanelIcon--ieCdrdtgeL",Os=()=>{(0,O.K)(new N.UserLogoutEvent({}))};var Ls,Ps,zs,js,Rs,Us,Bs,Fs,Ws,Gs,Vs,Ys,Hs,qs,Qs;const Xs=s.O9T.grey00,Ks=({premiumStatus:e,triggerSwitchPanel:t,onClickLogout:a,onClickTeamConsole:r,onClickFamilyDashboard:l,subCode:d,secureExportEnabled:u})=>{var p;const{translate:m}=(0,j.Z)(),{routes:_,store:g}=(0,i.Xo)();n.useEffect((()=>{(0,O.N)(N.PageView.SettingsGeneral)}),[]);const h=e=>{const a={"account-details":N.PageView.SettingsAccount,"device-management":N.PageView.SettingsDeviceList,"security-settings":N.PageView.SettingsSecurity,"import-export-data":N.PageView.SettingsExport,"access-all-features":N.PageView.SettingsMoreFeatures};(0,O.N)(a[e]),t(e)},C=e=>t=>{(0,je.YT)(e)(t)},w=(0,Ns.aH)(o.cm,d.valueOr(void 0)),y=null!=(p=g.getState().user?.session?.permissions.tacAccessPermissions.size>0)&&p,E=(0,b.p6)(e),I=e.statusCode===c.PremiumStatusCode.PREMIUM||e.statusCode===c.PremiumStatusCode.NEW_USER||e.statusCode===c.PremiumStatusCode.PREMIUM_CANCELLED||e.statusCode===c.PremiumStatusCode.OLD_ACCOUNT;return n.createElement("section",{className:"rootContainer--bvoDFGhJIQ"},n.createElement("h1",{className:"header--XJbcYFScNj"},m("manage_subscription_account_menu_settings")),y?n.createElement(n.Fragment,null,Ls||(Ls=n.createElement("hr",null)),n.createElement("ul",null,n.createElement("li",null,n.createElement("button",{type:"button",onClick:()=>{r()}},m("webapp_account_root_go_to_team_admin_console"))))):null,Ps||(Ps=n.createElement("hr",null)),n.createElement("ul",null,n.createElement("li",null,n.createElement("button",{type:"button",className:ks,onClick:()=>h(fs.AccountDetails)},m("webapp_account_management_panel_heading"),n.createElement("div",{className:Zs},zs||(zs=n.createElement(s.veu,{color:Xs,rotate:270}))))),n.createElement("li",null,n.createElement("button",{type:"button",className:ks,onClick:()=>h(fs.DeviceManagement)},m("webapp_account_root_item_device_management"),n.createElement("div",{className:Zs},js||(js=n.createElement(s.veu,{color:Xs,rotate:270}))))),n.createElement("li",null,n.createElement("button",{type:"button",className:ks,onClick:()=>h(fs.SecuritySettings)},m("webapp_account_root_item_security_settings"),n.createElement("div",{className:Zs},Rs||(Rs=n.createElement(s.veu,{color:Xs,rotate:270}))))),u&&n.createElement("li",null,n.createElement("button",{type:"button",className:ks,onClick:()=>{h(fs.ImportExportData)}},m("webapp_account_root_item_import_export_data"),n.createElement("div",{className:Zs},Us||(Us=n.createElement(s.veu,{color:Xs,rotate:270}))))),n.createElement("li",null,n.createElement(i.rU,{to:`${_.importData}`},m("webapp_account_root_import_data"))),E&&n.createElement("li",null,n.createElement("button",{type:"button",className:ks,onClick:l},m("webapp_account_root_item_family_dashboard")))),I&&n.createElement(n.Fragment,null,Bs||(Bs=n.createElement("hr",null)),n.createElement("ul",null,n.createElement("li",null,n.createElement(Ts,null,m("webapp_account_root_item_manual_sync"))))),Fs||(Fs=n.createElement("hr",null)),n.createElement("ul",null,n.createElement("li",null,n.createElement("a",{href:w,target:"_blank",rel:"noopener noreferrer",onClick:(f={type:"account",action:"referFriend"},e=>{(0,O.K)(new N.UserOpenReferralEvent({})),(0,je.YT)(f)(e)})},m("webapp_account_root_item_refer_a_friend"),n.createElement("div",{className:As},Ws||(Ws=n.createElement(s.RTC,{color:Xs}))))),n.createElement("li",null,n.createElement("a",{href:"https://support.dashlane.com/hc",target:"_blank",rel:"noopener noreferrer",onClick:(e=>t=>{(0,O.K)(new N.UserOpenHelpCenterEvent({helpCenterArticleCta:N.HelpCenterArticleCta.HelpCenter})),(0,O.K)(new N.UserOpenHelpCenterEvent({})),(0,je.YT)(e)(t)})({type:"account",action:"helpCenter"})},m("webapp_account_root_item_help_center"),n.createElement("div",{className:As},Gs||(Gs=n.createElement(s.RTC,{color:Xs})))))),Vs||(Vs=n.createElement("hr",null)),n.createElement("ul",null,n.createElement("li",null,n.createElement("a",{href:"https://www.dashlane.com/terms",target:"_blank",rel:"noopener noreferrer",onClick:C({type:"account",action:"termsOfService"})},m("webapp_account_root_item_terms"),n.createElement("div",{className:As},Ys||(Ys=n.createElement(s.RTC,{color:Xs}))))),n.createElement("li",null,n.createElement("a",{href:"https://www.dashlane.com/privacy",target:"_blank",rel:"noopener noreferrer",onClick:C({type:"account",action:"privacyPolicy"})},m("webapp_account_root_item_privacy_policy"),n.createElement("div",{className:As},Hs||(Hs=n.createElement(s.RTC,{color:Xs})))))),qs||(qs=n.createElement("hr",null)),n.createElement("ul",null,n.createElement("li",null,n.createElement("button",{type:"button",onClick:()=>(Os(),void a())},m("webapp_account_root_item_log_out")))),Qs||(Qs=n.createElement(vs.r,null)));var f};var Js=a(176644);var $s;const er=parseInt(ds()["--edit-panel-animation-duration-enter"],10),tr=({headingText:e,contentClassName:t,onNavigateOut:a,children:i})=>{const o=(0,n.useRef)(null),{translate:r}=(0,j.Z)();return(0,n.useEffect)((()=>{const e=setTimeout((()=>{o.current?.focus()}),er);return()=>{clearTimeout(e)}}),[]),n.createElement("section",{className:"container--APpevfQJ2l"},n.createElement("div",{className:"header--EcVkrQN9nR"},n.createElement("button",{type:"button",className:"backButton--XmOS0Bk0LY",onClick:a,"aria-label":r("webapp_account_common_panel_back_button")},$s||($s=n.createElement(s.veu,{rotate:90}))),n.createElement("h1",{className:"heading--xSY7PGeLoV"},e)),n.createElement("div",{className:w()("content--RYqDETFvMI",t),ref:o,tabIndex:-1},i))};var ar=a(860964),nr=a.n(ar);const ir={container:"container--sgn5i6PANV",deactivate:"deactivate--JNEuLvUGXN",infoContainer:"infoContainer--aJXyG_JoUr",iconContainer:"iconContainer--bjPUlTci6y",textContainer:"textContainer--iuFEpct2H_",propertyLabel:"propertyLabel--D0HDiKzfFh",propertiesWrapper:"propertiesWrapper--VIyPyCxvUc",deactivateButton:"deactivateButton--MsmW0NX8e6",init:"init--dEUeNV1S2w",visible:"visible--M4UTyvGytq",hidden:"hidden--s357JgT3fB",platformIcon:"platformIcon--D1cyNe_3aD",platformIcon_webaccess:"platformIcon_webaccess--jW6sjL09UX",platformIcon_server_tac:"platformIcon_server_tac--cNK1w0sNYG",platformIcon_server_leeloo:"platformIcon_server_leeloo--vej8keJzba",platformIcon_server_leeloo_dev:"platformIcon_server_leeloo_dev--tjH93J066z",platformIcon_server_standalone:"platformIcon_server_standalone--gcdci8Sbxw",platformIcon_server_win:"platformIcon_server_win--BxsF9u5Oo5",platformIcon_server_macosx:"platformIcon_server_macosx--UfLM8aSTI_",platformIcon_server_iphone:"platformIcon_server_iphone--bDOeKccAbf",platformIcon_server_ipad:"platformIcon_server_ipad--rHfVFU8_pe",platformIcon_iphone:"platformIcon_iphone--M0PZZZY30M",platformIcon_server_android:"platformIcon_server_android--YTmYJBo2N5",deactivateConfirmationCTAs:"deactivateConfirmationCTAs--qjwDzl68Cc",date:"date--F52QJGovdy"};var or;const sr=({actionState:e,handleClick:t})=>{const{translate:a}=(0,j.Z)();return n.createElement("button",{type:"button",className:w()({[ir.deactivateButton]:!0,[ir.init]:e===_r.CanRemoveDevice,[ir.visible]:e===_r.NamedEdited,[ir.hidden]:e===_r.EditInProgress}),title:a("webapp_account_devices_device_deactivate_tooltip"),onClick:t},or||(or=n.createElement(nr(),null)))};var rr=a(815204),lr=a(23003);const cr=({onConfirm:e,onCancel:t})=>{const{translate:a}=(0,j.Z)();return n.createElement("div",{className:ir.deactivateConfirmationCTAs},n.createElement(lr.Z,{size:"small",marginSide:"right",onClick:t,label:a("webapp_account_devices_device_cancel_deactivate_button")}),n.createElement(rr.Z,{size:"small",onClick:e,label:a("webapp_account_devices_device_confirm_deactivate_button")}))};var dr=a(362211);const ur=({creationDate:e,lastUpdateDate:t})=>{const{translate:a}=(0,j.Z)(),i=a.shortDate;return n.createElement("div",null,n.createElement("div",{className:ir.propertiesWrapper},n.createElement("span",{className:ir.propertyLabel},a("webapp_account_devices_device_label_authorized_date")," "),n.createElement("span",{className:ir.date},i(e,ne._T.L))),n.createElement("div",{className:ir.propertiesWrapper},n.createElement("span",{className:ir.propertyLabel},a("webapp_account_devices_device_label_last_update_time")," "),n.createElement("span",{className:ir.date},n.createElement(dr.Z,{date:t}))))};var pr;!function(e){e[e.Off=0]="Off",e[e.InProgress=1]="InProgress",e[e.Saved=2]="Saved"}(pr||(pr={}));const mr=({name:e,onSave:t,onCancel:a,onChange:i,canToggle:o})=>{const{translate:s}=(0,j.Z)(),r=n.createRef(),l=n.useRef(null),[c,d]=n.useState(!1),[u,p]=n.useState(null),[m,_]=n.useState(pr.Off);n.useEffect((()=>{c&&r.current?.focus()}),[c]),n.useEffect((()=>()=>{l.current&&clearTimeout(l.current)}),[]);const g=()=>{var n;const i=null!=(n=r.current?.value)?n:"",o=i&&i!==e;d(!1),_(o?pr.InProgress:pr.Off),o?(p(i),t(i,700),l.current=setTimeout((()=>{p(null),_(pr.Saved)}),700)):a&&a()},h=()=>{o&&(d(!0),_(pr.Off),p(null),i&&i())};return n.createElement("div",{className:"wrap--_tt82iYhnp"},c?n.createElement("input",{role:"heading","aria-level":2,type:"text",ref:r,onBlur:()=>g(),onKeyDown:e=>(e=>{"Enter"===e.key&&g()})(e),className:"input--S7p40APuSc",placeholder:s("webapp_account_devices_device_set_name_placeholder"),defaultValue:e}):(()=>{const t=(null!=u?u:e)||s("webapp_account_devices_device_name_unnamed");return n.createElement("h2",{title:t,className:w()({"name--JUIvyhg_q5":!0,"hintEditField--CTrOjmEtcr":m!==pr.InProgress&&o}),onClick:h},t)})(),n.createElement("div",{className:w()({"wrapIcon--Z_VjOuJquZ":!0,"visible--W9TvHTdrX0":m===pr.InProgress,"hidden--TTxSQujbL0":m===pr.Saved})},n.createElement("div",{className:w()({"icon--jxM1YS4rFt":!0,"saved--G1TO4JF9oS":m!==pr.Off})})))};let _r;!function(e){e[e.CanRemoveDevice=0]="CanRemoveDevice",e[e.NamedEdited=1]="NamedEdited",e[e.EditInProgress=2]="EditInProgress"}(_r||(_r={}));const gr=({device:e,onDeactivationRequest:t,isDeactivationRequested:a,hideDeactivationButton:i,onDeactivationCancelled:o,onConfirmedDeactivationRequest:s,onSave:r,onChange:l})=>{const c=n.useRef(null),[d,u]=n.useState(_r.CanRemoveDevice);n.useEffect((()=>()=>{c.current&&clearTimeout(c.current)}),[]);const p=w()(ir.container,{[ir.deactivate]:a});return n.createElement("section",{className:p},n.createElement("div",{className:ir.infoContainer},n.createElement("div",{className:ir.iconContainer},n.createElement("div",{className:w()(ir.platformIcon,ir["platformIcon_"+e.devicePlatform])})),n.createElement("div",{className:ir.textContainer},e.isCurrentDevice||i?null:n.createElement(sr,{actionState:d,handleClick:()=>t(e.deviceId)}),n.createElement(mr,{canToggle:!a,name:e.deviceName,onCancel:()=>{u(_r.CanRemoveDevice)},onChange:()=>{u(_r.EditInProgress),l&&l()},onSave:(t,a)=>{r&&r(e.deviceId,t),u(_r.EditInProgress),c.current=setTimeout((()=>{d===_r.EditInProgress&&u(_r.NamedEdited)}),2*a)}}),a?n.createElement(cr,{key:"deactivation-confirm",onConfirm:()=>s(e.deviceId),onCancel:o}):n.createElement(ur,{creationDate:new Date(e.creationDate),lastUpdateDate:new Date(e.lastUpdateDate)}))))},hr={exit:"exit--sHMsaBbcB9",exitActive:"exitActive--DIXRXi77UA"},br=({devices:e,lee:t,onNavigateOut:a})=>{const[i,o]=n.useState(null),[s,c]=n.useState([]);n.useEffect((()=>{g.C.getDevicesList(null).then((a=>{$o.Maybe.maybe(a).caseOf({just:({devicesList:a})=>{(0,X.isEqual)(a,e)||t.dispatchGlobal(Js.P6(a))},nothing:()=>{t.reportError(new Error("[Leeloo] Could not retrieve Device list from Carbon"))}})}))}),[]);const{translate:d}=(0,j.Z)(),u=e.filter((e=>!s.some((t=>t===e.deviceId)))),p=(e=>e.map((e=>e)).sort(((e,t)=>{const a=new Date(e.lastUpdateDate).getTime(),n=new Date(t.lastUpdateDate).getTime();return a<n?1:a>n?-1:0})))(u),m=(e,t)=>{g.C.changeDeviceName({deviceId:e,updatedName:t})},_=e=>{o(e)},h=()=>{o(null)},b=e=>{g.C.deactivateDevice({deviceId:e}),c((t=>t.concat(e))),o(null)};return n.createElement(tr,{headingText:d("webapp_account_devices_heading"),onNavigateOut:a},n.createElement("div",{className:"intro--vZnF0f66Wp"},n.createElement("p",null,d("webapp_account_devices_intro_list"))),u.length?n.createElement(r.Z,{component:"ul"},(e=>{const t=Boolean(i);return e.map((e=>{const a=i===e.deviceId;return n.createElement(l.Z,{classNames:{...hr},enter:!1,timeout:200,key:"device-"+e.deviceId},n.createElement("li",null,n.createElement(gr,{device:e,onSave:m,onDeactivationRequest:_,hideDeactivationButton:t,isDeactivationRequested:a,onDeactivationCancelled:h,onConfirmedDeactivationRequest:b})))}))})(p)):n.createElement("div",{className:"empty--matzR59l9g"},d("webapp_account_devices_empty_list")))},Cr="mpless_web_account_recovery_key_dev",wr=/.{1,4}/g;var yr;const{grey05:Er}=s.O9T,Ir=({sectionTitle:e,action:t,children:a,isBeta:n})=>(0,z.tZ)(s.T5p,{gap:"8px",sx:{p:"32px",pt:"0"},gridTemplateColumns:"auto"},(0,z.tZ)("hr",{sx:{border:"none",borderTop:`1px solid ${Er}`,mb:"8px",mt:0,width:"100%"}}),e?(0,z.tZ)(s.Ejs,{as:"header",alignItems:"center",flexDirection:"row",flexWrap:"nowrap",fullWidth:!0,gap:"8px",justifyContent:"space-between"},(0,z.tZ)(s.X6q,{size:"x-small",as:"h2"},e),t):null,n?yr||(yr=(0,z.tZ)(s.dDn,{justifySelf:"flex-start"},(0,z.tZ)(s.Cts,{intent:"info"},"BETA"))):null,a),Nr=({showAdminRecoveryHelp:e})=>{const{translate:t}=(0,j.Z)(),a=(0,Ft.qr)({queryConfig:{query:g.C.getRecoveryOptInSetting}},[]),[i,o]=n.useState(!1),[r,l]=n.useState(!1);return n.useEffect((()=>{const e=a.status===Ft.rq.Success&&a.data;l(a.status===Ft.rq.Loading),o(e)}),[a]),n.createElement(Ir,{sectionTitle:t("webapp_account_security_settings_account_recovery_setting_title"),action:n.createElement(we.ZD,{disabled:r,id:"account-recovery-optin",checked:i,onChange:async e=>{const t=e.currentTarget.checked;o(t),l(!0),t?await g.C.activateAccountRecovery():await g.C.deactivateAccountRecovery(),l(!1)},"aria-label":t("webapp_account_security_settings_account_recovery_setting_toggle_aria_label")})},n.createElement("div",{className:"accountRecoverySection--e0a6egTSEW"},n.createElement(we.Ct,{label:t("_common_settings_web_only_feature_badge")}),n.createElement("label",{htmlFor:"account-recovery-optin",className:"accountRecoverySectionLabel--eSN6MzxOj5"},t("webapp_account_security_settings_account_recovery_setting_desc")),n.createElement(s.rUS,{href:"#",role:"button",color:s.O9T.midGreen00,className:"linkButton--rjnsna_uVs",onClick:t=>{t.preventDefault(),e()}},n.createElement("span",{className:"linkButtonContent--U8t2CIon2j"},t("webapp_account_security_settings_account_recovery_setting_help_link")),n.createElement("span",{"aria-hidden":"true"},n.createElement(s.jcJ,{size:12,color:s.O9T.midGreen00})))))},fr=({content:e,header:t,number:a})=>n.createElement("div",{className:"accountRecoveryHelpSection--uXUM7WNpWs"},n.createElement("span",{className:"number--qJ96cR6NZx"},a),n.createElement("section",null,n.createElement("h3",null,t),n.createElement("p",null,e))),vr=({onNavigateOut:e})=>{const{translate:t}=(0,j.Z)();return(0,z.tZ)(tr,{headingText:t("webapp_account_security_settings_account_recovery_setting_title"),onNavigateOut:e},(0,z.tZ)(Ir,{sectionTitle:t("webapp_account_security_settings_account_recovery_help_title")},(0,z.tZ)("p",{className:"intro--xk47bt1VPF"},t("webapp_account_security_settings_account_recovery_help_intro")),(0,z.tZ)("div",null,(0,z.tZ)(s.X6q,{size:"x-small",as:"h2"},t("webapp_account_security_settings_account_recovery_help_subtitle")),(0,z.tZ)("p",null,t("webapp_account_security_settings_account_recovery_help_content")),(0,z.tZ)(fr,{number:1,header:t("webapp_account_security_settings_account_recovery_help_section_one_header"),content:t("webapp_account_security_settings_account_recovery_help_section_one_content")}),(0,z.tZ)(fr,{number:2,header:t("webapp_account_security_settings_account_recovery_help_section_two_header"),content:t("webapp_account_security_settings_account_recovery_help_section_two_content")}),(0,z.tZ)(fr,{number:3,header:t("webapp_account_security_settings_account_recovery_help_section_three_header"),content:t("webapp_account_security_settings_account_recovery_help_section_three_content")}),(0,z.tZ)(fr,{number:4,header:t("webapp_account_security_settings_account_recovery_help_section_four_header"),content:t("webapp_account_security_settings_account_recovery_help_section_four_content")}))))};var Sr=a(331628);const Dr="webapp_account_recovery_key_third_step_wrong_key_error";var xr=a(317894),Mr=a.n(xr);const Tr={container:"container--M0Pyd1Y2Yl",_field:"_field--FFzjkl_Waa",input:"input--K7r4YNCO8r _field--FFzjkl_Waa",placeholder:"placeholder--CJMtmx2Js_",textarea:"textarea--uikCIudKux",text:"text--LYgitaGXzx",value:"value--Sadjc5Ctg6"},Ar=e=>{navigator.clipboard.writeText(e.replaceAll(" ",""))},kr=({value:e,error:t,onChange:a})=>{const{translate:i}=(0,j.Z)(),o={id:"recovery-key-input",autoComplete:"off",className:w()(Tr.input,{[Tr.error]:Boolean(t)}),sx:{...t&&{"::placeholder":{color:"ds.text.danger.quiet"},minWidth:"fit-content"},border:"1px solid",borderColor:t?"ds.border.danger.standard.idle":"ds.border.neutral.quiet.idle"},type:"text",placeholder:i("webapp_account_recovery_key_input_placeholder")},r=(0,we.tZ)(Mr(),{maskChar:"",mask:"****-****-****-****-****-****-****",onCopy:()=>Ar(e),onCut:()=>Ar(e),onChange:a,value:e},(e=>(0,we.tZ)("input",{...o,...e})));return(0,we.tZ)(n.Fragment,null,(0,we.tZ)(s.nvN,{size:"x-small",sx:{textTransform:"uppercase",fontWeight:600}},i("webapp_account_recovery_key_input_label")),(0,we.tZ)("div",{className:w()(Tr.container)},r),t?(0,we.tZ)(s.nvN,{size:"x-small",color:"ds.text.danger.quiet"},t):null)},Zr=({recoveryKey:e,goToNextStep:t,goToPrevStep:a})=>{const{translate:i}=(0,j.Z)(),{inputValue:o,inputError:r,isInputValid:l,handleChangeInputValue:c}=function(e){const{translate:t}=(0,j.Z)(),[a,i]=(0,n.useState)(""),[o,s]=(0,n.useState)("");return{inputValue:a,inputError:o,isInputValid:28===a.length&&!o,handleChangeInputValue:a=>{const n=("string"==typeof a?a:a.target.value).replaceAll("-","").toUpperCase();s(""),28===n.length&&n!==e&&s(t(Dr)),i(n)}}}(null!=e?e:"");return(0,z.tZ)(n.Fragment,null,(0,z.tZ)(s._m8,{size:77,color:"ds.text.brand.quiet",sx:{margin:"10px 0 30px 0"}}),(0,z.tZ)(s.$N8,null,(0,z.tZ)(s.X6q,{size:"small",color:"ds.text.neutral.catchy",sx:{marginBottom:"16px"}},i("webapp_account_recovery_key_third_step_title"))),(0,z.tZ)(s.a7O,null,(0,z.tZ)(s.nvN,{sx:{marginBottom:"26px"}},i("webapp_account_recovery_key_third_step_description")),(0,z.tZ)(kr,{value:o,onChange:c,error:r})),(0,z.tZ)(s.cNS,null,(0,z.tZ)(we.zx,{intensity:"quiet",mood:"neutral",sx:{marginRight:"8px"},onClick:()=>{a()}},i("_common_action_go_back")),(0,z.tZ)(we.zx,{mood:"brand",disabled:!l,onClick:()=>{t()}},i("_common_action_continue"))))},Or=({recoveryKey:e,goToNextStep:t})=>{var a;const{translate:i}=(0,j.Z)(),o=(null!=(a=(null!=e?e:"").match(wr))?a:[]).map(((e,t)=>(0,z.tZ)(s.Ejs,{key:t,flexDirection:"row"},(0,z.tZ)(s.nvN,{sx:{fontFamily:"monospace"}},e),6!==t&&(0,z.tZ)(s.nvN,{sx:{fontFamily:"monospace"},color:"ds.text.warning.standard"},"-"))));return(0,z.tZ)(n.Fragment,null,(0,z.tZ)(s._m8,{size:77,color:"ds.text.brand.quiet",sx:{margin:"10px 0 30px 0"}}),(0,z.tZ)(s.$N8,null,(0,z.tZ)(s.X6q,{size:"small",color:"ds.text.neutral.catchy",sx:{marginBottom:"16px"}},i("webapp_account_recovery_key_second_step_title"))),(0,z.tZ)(s.a7O,null,(0,z.tZ)(s.nvN,{color:"ds.text.neutral.standard"},i("webapp_account_recovery_key_second_step_description")),(0,z.tZ)(s.nvN,{sx:{display:"flex",flexDirection:"row",background:"ds.container.agnostic.neutral.quiet",borderRadius:"10px",margin:"16px 0",padding:"16px"}},o),(0,z.tZ)(s.nvN,{color:"ds.text.neutral.standard"},i("webapp_account_recovery_key_second_step_helper_text"))),(0,z.tZ)(s.cNS,null,(0,z.tZ)(we.zx,{mood:"brand",onClick:()=>{t()}},i("_common_action_continue"))))},Lr=({goToNextStep:e})=>{const{translate:t}=(0,j.Z)();return(0,z.tZ)(n.Fragment,null,(0,z.tZ)(s._m8,{size:77,color:"ds.text.brand.quiet",sx:{margin:"10px 0 30px 0"}}),(0,z.tZ)(s.$N8,null,(0,z.tZ)(s.X6q,{size:"small",color:"ds.text.neutral.catchy",sx:{marginBottom:"16px"}},t("webapp_account_recovery_key_first_step_title"))),(0,z.tZ)(s.a7O,null,(0,z.tZ)(s.nvN,{color:"ds.text.neutral.standard"},t("webapp_account_recovery_key_first_step_description"))),(0,z.tZ)(s.cNS,null,(0,z.tZ)(we.zx,{mood:"brand",onClick:()=>{e()}},t("webapp_account_recovery_key_first_step_generate_key"))))},Pr=({onClose:e})=>{const{translate:t}=(0,j.Z)();return(0,z.tZ)(n.Fragment,null,(0,z.tZ)(s.rE2,{size:77,color:"ds.text.brand.quiet",sx:{margin:"10px 0 30px 0"}}),(0,z.tZ)(s.a7O,null,(0,z.tZ)(s.X6q,{color:"ds.text.neutral.catchy",sx:{fontSize:"32px",fontWeight:500,marginBottom:"16px"}},t("webapp_account_recovery_key_fourth_step_description"))),(0,z.tZ)(s.cNS,null,(0,z.tZ)(we.zx,{mood:"brand",onClick:e},t("_common_dialog_done_button"))))},zr=({error:e})=>n.createElement(n.Fragment,null,n.createElement(s.enX,{size:62,color:s.O9T.functionalRed02,sx:{margin:"10px 0 30px 0"}}),n.createElement(s.a7O,null,n.createElement(s.nvN,{color:s.O9T.dashGreen01},e))),jr=({onClose:e})=>{var t,a;const{translate:n}=(0,j.Z)(),{goToNextStep:i,goToPrevStep:o,requestActivation:r,confirmActivation:l,cancelActivation:c}=(0,Gi.u7)(Sr.accountRecoveryKeyApi),d=(0,Gi.k$)(Sr.accountRecoveryKeyApi,"activationFlowStatus");return(0,z.tZ)(s.VqE,{isOpen:!0,modalContentClassName:w()(y.Ht),disableOutsideClickClose:!0,disableScrolling:!0,disableUserInputTrap:!0,disableEscapeKeyClose:!0,closeIconName:n("_common_dialog_dismiss_button"),onClose:()=>{c(),e()}},(()=>{switch(d.data?.step){case Sr.ActivationFlowViewStep.InitActivation:return t||(t=(0,z.tZ)(Lr,{goToNextStep:r}));case Sr.ActivationFlowViewStep.DisplayKey:return(0,z.tZ)(Or,{...d.data,goToNextStep:i});case Sr.ActivationFlowViewStep.ConfirmKey:return(0,z.tZ)(Zr,{...d.data,goToNextStep:l,goToPrevStep:o});case Sr.ActivationFlowViewStep.ActivationDone:return a||(a=(0,z.tZ)(Pr,{onClose:e}));case Sr.ActivationFlowViewStep.ShowError:return(0,z.tZ)(zr,{...d.data});default:return}})())},Rr=({onCancel:e})=>{const{translate:t}=(0,j.Z)();return(0,z.tZ)(s.VqE,{isOpen:!0,modalContentClassName:w()(y.Ht),disableOutsideClickClose:!0,disableScrolling:!0,disableUserInputTrap:!0,disableEscapeKeyClose:!0,closeIconName:t("_common_dialog_dismiss_button"),onClose:e},(0,z.tZ)(s._m8,{size:77,color:"ds.text.brand.quiet",sx:{margin:"10px 0 30px 0"}}),(0,z.tZ)(s.$N8,null,(0,z.tZ)(s.X6q,{size:"small",color:"ds.text.neutral.catchy",sx:{marginBottom:"16px"}},t("webapp_account_recovery_key_deactivation_title"))),(0,z.tZ)(s.a7O,null,(0,z.tZ)(s.nvN,{color:"ds.text.neutral.standard"},t("webapp_account_recovery_key_deactivation_description"))),(0,z.tZ)(s.cNS,null,(0,z.tZ)(we.zx,{intensity:"quiet",mood:"neutral",sx:{marginRight:"8px"},onClick:e},t("_common_action_cancel")),(0,z.tZ)(we.zx,{mood:"brand",onClick:()=>{}},t("webapp_account_recovery_key_deactivation_turn_off"))))},Ur=()=>{const{translate:e}=(0,j.Z)(),t=(0,Gi.k$)(Sr.accountRecoveryKeyApi,"accountRecoveryKeyStatus"),a=t.data?.isEnabled,[i,o]=(0,n.useState)(void 0);return n.createElement(n.Fragment,null,n.createElement(Ir,{sectionTitle:e("webapp_account_security_settings_account_recovery_section_recovery_key_title"),action:n.createElement(we.ZD,{id:"recovery-key-toggle",checked:a,onChange:()=>{o(a?"accountRecoveryKeyDeactivation":"accountRecoveryKeyActivation")}})},n.createElement("div",{style:{fontSize:"12px",marginBottom:"14px"}},n.createElement("label",{htmlFor:"recovery-key-toggle"},e("webapp_account_security_settings_account_recovery_section_recovery_key_description"))),a?n.createElement(we.zx,{intensity:"quiet",mood:"neutral",size:"small"},e("webapp_account_security_settings_account_recovery_section_recovery_key_generate")):null),"accountRecoveryKeyActivation"===i?n.createElement(jr,{onClose:()=>o(void 0)}):null,"accountRecoveryKeyDeactivation"===i?n.createElement(Rr,{onCancel:()=>o(void 0)}):null)},Br=()=>{const{translate:e}=(0,j.Z)();return(0,we.tZ)(Ir,{sectionTitle:e("webapp_account_security_settings_account_recovery_section_biometric_recovery_title")},(0,we.tZ)("div",{sx:{fontSize:"12px"}},(0,we.tZ)(we.Ct,{label:e("_common_settings_mobile_only_feature_badge")}),(0,we.tZ)("label",{style:{display:"block",marginTop:"16px"}},e("webapp_account_security_settings_account_recovery_section_biometric_recovery_description"))))};var Fr,Wr,Gr;var Vr;!function(e){e[e.Root=0]="Root",e[e.AdminRecoveryHelpPanel=1]="AdminRecoveryHelpPanel"}(Vr||(Vr={}));const Yr=({onNavigateOut:e})=>{const t=(0,it.w)(Cr),[a,i]=(0,n.useState)(Vr.Root),{translate:r}=(0,j.Z)();return t&&a!==Vr.AdminRecoveryHelpPanel?n.createElement(tr,{headingText:r("webapp_account_security_settings_account_recovery_section_title"),onNavigateOut:e},Fr||(Fr=n.createElement(Ur,null)),n.createElement(Nr,{showAdminRecoveryHelp:()=>{i(Vr.AdminRecoveryHelpPanel)}}),Wr||(Wr=n.createElement(Br,null)),n.createElement(Ir,null,n.createElement(s.rUS,{target:"_blank",href:o.rI,color:"ds.text.brand.standard",style:{display:"flex",alignItems:"end"}},n.createElement("span",{style:{marginRight:"6px",fontWeight:"normal"}},r("webapp_account_security_settings_account_recovery_section_help_link")),Gr||(Gr=n.createElement(we.JO,{name:"ActionOpenExternalLinkOutlined",size:"small",color:"ds.text.brand.standard"}))))):n.createElement(vr,{onNavigateOut:()=>{t?i(Vr.Root):e()}})};var Hr;const qr=()=>{const{translate:e}=(0,j.Z)();return(0,z.tZ)(n.Fragment,null,(0,z.tZ)(s.Ejs,{sx:{color:s.O9T.black,marginTop:"32px"},alignItems:"center"},Hr||(Hr=(0,z.tZ)(s.yLQ,null)),(0,z.tZ)("span",{sx:{paddingLeft:"13px"}},e("webapp_account_security_settings_2fa_authenticator_app_value"))))},Qr=({recoveryPhone:e})=>(0,z.tZ)(n.Fragment,null,(0,z.tZ)(s.oil,{sx:{marginTop:"15px"},value:e,disabled:!0}));var Xr;const Kr=({twoFactorAuthenticationMode:e})=>{const{translate:t}=(0,j.Z)();return(0,z.tZ)(n.Fragment,null,(0,z.tZ)(s.Ejs,{sx:{marginTop:"20px"},alignItems:"center"},Xr||(Xr=(0,z.tZ)(s.mBM,null)),(0,z.tZ)(s.nvN,{sx:{paddingLeft:"11px",flex:1},color:s.O9T.black},t(e===p.TwoFactorAuthenticationType.DEVICE_REGISTRATION?"webapp_account_security_settings_2fa_security_level_value":"webapp_account_security_settings_2fa_security_level_value_login"))))};var Jr;const $r="webapp_account_security_settings_2fa_u2f_menu_title",el=({name:e,creationDateUnix:t,keyHandle:a,onRemoveAuthenticator:n})=>{const{translate:i}=(0,j.Z)(),o=(0,qo.Z)(t),r=(0,z.tZ)(s.W7o,{onClick:()=>{n(a)}},(0,z.tZ)(s.Ejs,{flexDirection:"row",flexWrap:"nowrap",alignItems:"center"},(0,z.tZ)(s.XHJ,{sx:{marginRight:"8px"},size:16,"aria-hidden":"true"}),(0,z.tZ)(s.nvN,{size:"small",color:s.O9T.dashGreen00,bold:!0},i("webapp_account_security_settings_2fa_u2f_menu_delete"))));return(0,z.tZ)(s.Ejs,{sx:{color:s.O9T.black,marginTop:"30px",width:"100%",flexWrap:"nowrap",flexDirection:"row",alignItems:"center"}},(0,z.tZ)("div",{sx:{flexGrow:0,paddingRight:"13px"}},(0,z.tZ)(s.Exr,{color:s.O9T.grey01})),(0,z.tZ)("div",{sx:{flexGrow:1,overflow:"hidden"}},(0,z.tZ)(s.nvN,{color:s.O9T.grey01,sx:{marginBottom:"4px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}},e),(0,z.tZ)(s.nvN,{color:s.O9T.grey01,size:"x-small"},i("webapp_account_security_settings_2fa_u2f_added_date",{date:i.shortDate(new Date(o),"MMM dd, yyyy"),time:i.shortDate(new Date(o),"h:mma").toLowerCase()}))),(0,z.tZ)("div",{sx:{flexGrow:0}},(0,z.tZ)(s.h_2,{offset:[0,4],placement:"bottom-end",content:r},(0,z.tZ)(s.hU,{type:"button",size:"small","aria-label":i($r),title:i($r),icon:Jr||(Jr=(0,z.tZ)(s.YAX,{size:20,rotate:90}))}))))},tl=({handleClickOnSubmit:e,handleClickOnBack:t})=>{const{translate:a}=(0,j.Z)();return(0,z.tZ)("div",{sx:{maxWidth:"576px"}},(0,z.tZ)(s.$N8,{title:a("webapp_u2f_remove_authenticator_warning_title")}),(0,z.tZ)(s.a7O,null,(0,z.tZ)(s.nvN,{color:s.O9T.dashGreen01},a("webapp_u2f_remove_authenticator_warning_description"),(0,z.tZ)(s.vDh,{severity:"warning",size:"small",title:a("webapp_u2f_remove_authenticator_warning_content"),sx:{marginTop:"15px"}}))),(0,z.tZ)(s.cNS,{primaryButtonTitle:a("webapp_u2f_remove_authenticator_warning_button"),primaryButtonOnClick:e,primaryButtonProps:{theme:"warning"},secondaryButtonTitle:a("_common_action_cancel"),secondaryButtonOnClick:t}))},al=(e,t,a)=>(0,O.K)(new N.UserChangeTwoFactorAuthenticationSettingEvent({flowStep:e,flowType:t,errorName:a})),nl=al.bind(null,N.FlowStep.Start,N.FlowType.Activation),il=e=>al(N.FlowStep.Error,N.FlowType.Activation,e),ol=al.bind(null,N.FlowStep.Complete,N.FlowType.Activation),sl=al.bind(null,N.FlowStep.Cancel,N.FlowType.Activation),rl=O.N.bind(null,N.PageView.SettingsSecurityTwoFactorAuthenticationEnableSecurityLevel,N.BrowseComponent.MainApp),ll=O.N.bind(null,N.PageView.SettingsSecurityTwoFactorAuthenticationEnableBackupPhoneNumber,N.BrowseComponent.MainApp),cl=O.N.bind(null,N.PageView.SettingsSecurityTwoFactorAuthenticationEnableQrCode,N.BrowseComponent.MainApp),dl=O.N.bind(null,N.PageView.SettingsSecurityTwoFactorAuthenticationEnable6DigitsCode,N.BrowseComponent.MainApp),ul=O.N.bind(null,N.PageView.SettingsSecurityTwoFactorAuthenticationEnableBackupCodes,N.BrowseComponent.MainApp),pl={marginTop:"16px",marginBottom:"18px"},ml={marginTop:"24px"};var _l=a(788355);const gl=({setFieldValue:e,countryCode:t,phoneNumber:a,errorMessage:n,setErrorMessage:i})=>{const{translate:o}=(0,j.Z)(),r=(()=>{const e=(()=>{const e=(0,Ft.qr)({queryConfig:{query:g.C.getAllCallingCodes}},[]);return e.status===Ft.rq.Success?e.data:{}})();return Object.keys(e).map((t=>({label:`${t} (+${e[t]})`,value:t})))})();return(0,z.tZ)("div",{sx:{maxWidth:"480px"}},(0,z.tZ)(s.$N8,{title:(0,z.tZ)("span",{sx:{display:"inline-block",marginBottom:"16px",fontWeight:"500",fontSize:"25px"}},o("webapp_account_security_settings_two_factor_authentication_turn_on_backup_phone_title"))}),(0,z.tZ)(s.nvN,{color:s.O9T.grey00,sx:{marginBottom:"26px"}},o("webapp_account_security_settings_two_factor_authentication_turn_on_backup_phone_content")),(0,z.tZ)(s.Ejs,{gap:4,flexWrap:"nowrap"},(0,z.tZ)(s.PhF,{feedbackId:"select2faBackupPhoneCountryCode","data-testid":"two-factor-authentication-backup-phone-country-code",value:t,label:o("_common_input_label_country_code"),options:r,onChange:t=>{const{target:{value:a}}=t;e("countryCode",a)},sx:{width:"auto"}}),(0,z.tZ)("div",{sx:{flex:"1 1 auto"}},(0,z.tZ)(s.oil,{autoFocus:!0,type:"text","data-testid":"two-factor-authentication-backup-phone-number",fullWidth:!0,label:o("_common_input_label_backup_phone_number"),value:a,onChange:t=>{const{target:{value:a}}=t,n=a.replace(/\D/g,"");e("phoneNumber",n),i?.(void 0)},feedbackType:n?"error":void 0,feedbackText:n}))))};var hl=a(46298);const bl={GENERIC_ERROR:{message:"webapp_account_security_settings_two_factor_authentication_turn_on_generic_error",log:N.TwoFactorAuthenticationError.UnknownError},[hl.RequestTOTPActivationError.PHONE_VALIDATION_FAILED]:{message:"webapp_account_security_settings_two_factor_authentication_turn_on_backup_phone_invalid_format",log:N.TwoFactorAuthenticationError.WrongPhoneFormatError},[p.AuthenticationCode.NETWORK_ERROR]:{message:"_common_alert_network_error_message",log:N.TwoFactorAuthenticationError.UnknownError}};var Cl,wl=a(701056),yl=a.n(wl);const El=()=>(0,z.tZ)("hr",{sx:{border:"0",borderTop:`1px solid ${s.O9T.dashGreen05}`,height:"1px",width:"100%",mt:"8px",mb:"8px"}}),Il=({uri:e,seed:t})=>{const{translate:a}=(0,j.Z)();return(0,z.tZ)(s.Ejs,{flexDirection:"column"},(0,z.tZ)(s.X6q,{sx:{mt:"8px",mb:"8px",fontSize:"25px"},as:"span"},a("webapp_account_security_settings_two_factor_authentication_qr_code_title")),(0,z.tZ)(s.nvN,{sx:{mb:"8px"},color:s.O9T.grey00},a("webapp_account_security_settings_two_factor_authentication_qr_code_description")),(0,z.tZ)(s.k$b,{alignSelf:"center"},(0,z.tZ)(yl(),{sx:{mt:"24px",mb:"24px"},renderAs:"svg",size:176,value:e})),Cl||(Cl=(0,z.tZ)(El,null)),(0,z.tZ)(s.nvN,{color:s.O9T.grey00,bold:!0},a("webapp_account_security_settings_two_factor_authentication_qr_code_cant_scan")),(0,z.tZ)(s.nvN,{sx:{mb:"16px"},color:s.O9T.grey00},a("webapp_account_security_settings_two_factor_authentication_qr_code_label")),(0,z.tZ)(s.oil,{fullWidth:!0,defaultValue:t,disabled:!0,sx:{":disabled":{color:s.O9T.black}},"data-testid":"two-factor-authentication-qr-code-alternative"}))};var Nl,fl=a(789921),vl=a(89042);const Sl=({backupCodes:e})=>{const{translate:t}=(0,j.Z)();return(0,z.tZ)(s.Ejs,{flexDirection:"column",justifyContent:"flex-start"},(0,z.tZ)(s.X6q,{sx:{mt:"8px",fontSize:"25px"},as:"span"},t("webapp_account_security_settings_two_factor_authentication_backup_codes_title1")),(0,z.tZ)(s.X6q,{sx:{mb:"16px",fontSize:"25px"},as:"span"},t("webapp_account_security_settings_two_factor_authentication_backup_codes_title2")),(0,z.tZ)(s.nvN,{sx:{mb:"26px"},color:s.O9T.grey00},t("webapp_account_security_settings_two_factor_authentication_backup_codes_description")),(0,z.tZ)(s.j49,{sx:{mb:"6px"},color:s.O9T.dashGreen01},t("webapp_account_security_settings_two_factor_authentication_backup_codes_list_label")),(0,z.tZ)(s.Zbd,{sx:{padding:"8px 12px",width:"100%"}},e?.map(((e,t)=>(0,z.tZ)(s.nvN,{key:e,"data-testid":`two-factor-authentication-backup-code-${t}`},e)))),(0,z.tZ)(s.zxk,{sx:{margin:"26px 0px"},type:"button",nature:"secondary",onClick:()=>{const t=e?.join("\n");(0,fl.W)(t,vl.B)}},(0,z.tZ)(s.Ejs,null,(0,z.tZ)(s.k$b,{sx:{mr:"10px"}},Nl||(Nl=(0,z.tZ)(s._8t,{size:16}))),t("webapp_account_security_settings_two_factor_authentication_backup_codes_download_button"))),(0,z.tZ)(s.bZj,{severity:s.BLW.SUBTLE,size:s.k3y.SMALL,showIcon:!0},t("webapp_account_security_settings_two_factor_authentication_backup_codes_info")))},Dl=()=>{const{translate:e}=(0,j.Z)();return(0,z.tZ)("div",{sx:{maxWidth:"480px"}},(0,z.tZ)(s.HoD,{color:s.O9T.midGreen00,size:"60px"}),(0,z.tZ)(s.X6q,{size:"small",sx:{marginTop:"24px",color:s.O9T.black}},e("webapp_account_security_settings_two_factor_authentication_disable_loading_title")),(0,z.tZ)(s.nvN,{sx:{marginTop:"16px",color:s.O9T.grey00}},e("webapp_account_security_settings_two_factor_authentication_disable_loading_description")),(0,z.tZ)(s.nvN,{sx:{marginTop:"16px",color:s.O9T.grey00}},e("webapp_account_security_settings_two_factor_authentication_disable_loading_browser_description")))};var xl,Ml=a(611224),Tl=a(658016);const Al=({handleAuthenticatorModeClick:e,code:t,updateAuthenticatorCode:a,errorMessage:i,showSyncDevicesHelp:o=!1,hideAdditionalActions:r=!1})=>{const{translate:l}=(0,j.Z)();return(0,z.tZ)("div",{sx:{maxWidth:"480px",paddingBottom:"1px"}},(0,z.tZ)(s.$N8,{title:(0,z.tZ)("span",{sx:{display:"inline-block",marginBottom:"12px",fontWeight:"500"}},l("webapp_account_security_settings_two_factor_authentication_turn_off_authenticator_title"))}),(0,z.tZ)(s.rRH,{autoFocus:!0,maxLength:6,value:t,onChange:a,feedbackType:i?"error":void 0,feedbackText:i?l(i):void 0,"data-testid":"two-factor-authentication-code"}),o?xl||(xl=(0,z.tZ)(Tl.T,null)):null,r?null:(0,z.tZ)(n.Fragment,null,(0,z.tZ)(s.nvN,{sx:{marginTop:"16px",lineHeight:"initial"},color:s.O9T.grey00},l("webapp_account_security_settings_two_factor_authentication_turn_off_authenticator_content")," ",(0,z.tZ)(s.rUS,{color:s.O9T.midGreen00,onClick:e,target:"_self"},l("webapp_account_security_settings_two_factor_authentication_turn_off_authenticator_link"))),(0,z.tZ)(s.nvN,{sx:{lineHeight:"initial"},color:s.O9T.grey00},l("webapp_two_factor_authentication_lost_your_phone")," ",(0,z.tZ)(s.rUS,{color:s.O9T.midGreen00,href:Ml.IT,target:"_blank",rel:"noopener noreferrer"},l("webapp_two_factor_authentication_reset_2fa")))))},kl={code:""},Zl=({handleClickOnSubmit:e,toggleAuthenticationCodeMode:t,handleClickOnBack:a,error:i,hideAdditionalActions:o=!1,secondaryButtonTitle:r,logEvent:l})=>{const{translate:c}=(0,j.Z)(),[d,u]=(0,n.useState)();(0,n.useEffect)((()=>{l?.()}),[]);const m=(0,_l.TA)({initialValues:kl,onSubmit:async(t,{setSubmitting:a})=>{a(!0);const{code:n}=t;await e({authenticationCode:n}),a(!1)}}),{values:{code:_},setFieldValue:g,isSubmitting:h}=m,[b,C]=(0,n.useState)(!1),w=(0,n.useRef)();(0,n.useEffect)((()=>{i&&!h?(u(i.message),C(w.current===i.code&&i.code===p.AuthenticationCode.OTP_NOT_VALID),w.current=i.code):i||u(void 0)}),[i,h]);const y=6!==_.length;return(0,z.tZ)("form",{onSubmit:e=>{e.preventDefault(),m.isSubmitting||m.submitForm()}},(0,z.tZ)(s.a7O,null,(0,z.tZ)(Al,{code:_,errorMessage:d,showSyncDevicesHelp:b,handleAuthenticatorModeClick:o?void 0:t,updateAuthenticatorCode:e=>{const{target:{value:t}}=e;g("code",(e=>e.replace(/\D/g,""))(t)),u(void 0),(e=>{6===e.length&&m.submitForm()})(t)},hideAdditionalActions:o})),(0,z.tZ)(s.cNS,{primaryButtonTitle:c("webapp_account_security_settings_two_factor_authentication_turn_off_authenticator_button"),primaryButtonProps:{disabled:y,type:"button"},primaryButtonOnClick:()=>m.handleSubmit(),secondaryButtonTitle:c(r||"webapp_account_security_settings_two_factor_authentication_turn_off_authenticator_cancel"),secondaryButtonOnClick:a}))},Ol=al.bind(null,N.FlowStep.Start,N.FlowType.Deactivation),Ll=e=>al(N.FlowStep.Error,N.FlowType.Deactivation,e),Pl=al.bind(null,N.FlowStep.Complete,N.FlowType.Deactivation),zl=al.bind(null,N.FlowStep.Cancel,N.FlowType.Deactivation),jl=O.N.bind(null,N.PageView.SettingsSecurityTwoFactorAuthenticationDisable,N.BrowseComponent.MainApp),Rl=O.N.bind(null,N.PageView.SettingsSecurityTwoFactorAuthenticationDisable6DigitsCode,N.BrowseComponent.MainApp),Ul=O.N.bind(null,N.PageView.SettingsSecurityTwoFactorAuthenticationDisableBackupCode,N.BrowseComponent.MainApp);var Bl;const Fl=({handleAuthenticatorModeClick:e,code:t,updateAuthenticatorCode:a,errorMessage:n})=>{const{translate:i}=(0,j.Z)();return(0,z.tZ)("div",{sx:{maxWidth:"480px"}},(0,z.tZ)(s.$N8,{title:(0,z.tZ)("span",{sx:{display:"inline-block",marginBottom:"16px",fontWeight:"500",fontSize:"25px"}},i("webapp_account_security_settings_two_factor_authentication_backup_code_title"))}),(0,z.tZ)(s.nvN,{color:s.O9T.grey00,sx:{marginBottom:"26px"}},i("webapp_two_factor_authentication_use_backup_codes")," "),(0,z.tZ)(s.oil,{autoFocus:!0,type:"text","data-testid":"two-factor-authentication-backup-code",fullWidth:!0,label:i("webapp_two_factor_authentication_backup_code_label"),value:t,onChange:a,feedbackType:n?"error":void 0,feedbackText:n?i(n):void 0}),(0,z.tZ)(s.nvN,{sx:{marginTop:"16px",lineHeight:"initial",display:"inline-block"},color:s.O9T.grey00},i("webapp_two_factor_authentication_cant_access_your_backup_codes")," ",(0,z.tZ)(s.rUS,{color:s.O9T.midGreen00,onClick:e,target:"_self"},i("webapp_two_factor_authentication_use_6_digits_code")),Bl||(Bl=(0,z.tZ)("br",null)),i("webapp_two_factor_authentication_lost_your_backup_codes")," ",(0,z.tZ)(s.rUS,{color:s.O9T.midGreen00,href:Ml.IT,target:"_blank",rel:"noopener noreferrer"},i("webapp_two_factor_authentication_reset_2fa"))))},Wl={code:""},Gl=({handleClickOnSubmit:e,toggleAuthenticationCodeMode:t,handleClickOnBack:a,error:i})=>{const{translate:o}=(0,j.Z)(),[r,l]=(0,n.useState)();(0,n.useEffect)((()=>{Ul()}),[]);const c=(0,_l.TA)({initialValues:Wl,onSubmit:async(t,{setSubmitting:a})=>{a(!0);const{code:n}=t;await e({authenticationCode:n}),a(!1)}}),{values:{code:d},setFieldValue:u,isSubmitting:p}=c;(0,n.useEffect)((()=>{i&&!p&&l(i.message)}),[i,p]);const m=0===d.length;return(0,z.tZ)("form",{onSubmit:c.handleSubmit},(0,z.tZ)(s.a7O,null,(0,z.tZ)(Fl,{code:d,errorMessage:r,updateAuthenticatorCode:e=>{const{target:{value:t}}=e;u("code",t),l(void 0)},handleAuthenticatorModeClick:t})),(0,z.tZ)(s.cNS,{primaryButtonTitle:o("webapp_account_security_settings_two_factor_authentication_turn_off_authenticator_button"),primaryButtonProps:{disabled:m,type:"button"},primaryButtonOnClick:()=>c.handleSubmit(),secondaryButtonTitle:o("webapp_account_security_settings_two_factor_authentication_turn_off_authenticator_cancel"),secondaryButtonOnClick:a}))},Vl=({handleClickOnClose:e,logEvent:t})=>{const{translate:a}=(0,j.Z)();return(0,n.useEffect)((()=>{t?.(self?.navigator?.onLine?N.TwoFactorAuthenticationError.UnknownError:N.TwoFactorAuthenticationError.UserOfflineError)}),[]),(0,z.tZ)("div",{sx:{maxWidth:"480px"}},(0,z.tZ)("div",{sx:{transform:"translate(-5px, -5px)"}},(0,z.tZ)(s.enX,{color:s.O9T.midGreen00,size:75})),(0,z.tZ)(s.X6q,{size:"small",sx:{marginTop:"20px",color:s.O9T.black}},a("webapp_account_security_settings_two_factor_authentication_disable_generic_error_title")),(0,z.tZ)(s.nvN,{sx:{marginTop:"16px",marginBottom:"24px",color:s.O9T.grey00}},a("webapp_account_security_settings_two_factor_authentication_disable_generic_error_description")),(0,z.tZ)(s.cNS,{primaryButtonProps:{type:"button",autoFocus:!0},primaryButtonTitle:a("webapp_account_security_settings_two_factor_authentication_disable_generic_error_close"),primaryButtonOnClick:e}))};var Yl;const Hl=({handleClickOnSubmit:e})=>{const{translate:t}=(0,j.Z)();return(0,z.tZ)("div",{sx:{maxWidth:"480px"}},Yl||(Yl=(0,z.tZ)(s.enX,{size:96})),(0,z.tZ)(s.$N8,{title:t("webapp_two_factor_authentication_logout_dialog_title")}),(0,z.tZ)(s.a7O,null,(0,z.tZ)(s.nvN,{color:s.O9T.grey00},t("webapp_two_factor_authentication_logout_dialog_description"))),(0,z.tZ)(s.cNS,{primaryButtonTitle:t("webapp_two_factor_authentication_logout_dialog_action"),primaryButtonProps:{type:"button",autoFocus:!0},primaryButtonOnClick:()=>e()}))},ql=async(e=null)=>await g.C.continueTwoFactorAuthenticationDisableFlow(e),Ql=async(e=null)=>await g.C.continueTwoFactorAuthenticationEnableFlow(e),Xl=async()=>await g.C.backTwoFactorAuthenticationEnableFlow(null),Kl=(e,t)=>{(0,O.K)(new N.UserDeleteU2fAuthenticatorEvent({flowStep:e,errorName:t}))},Jl=Kl.bind(null,N.FlowStep.Start),$l=Kl.bind(null,N.FlowStep.Cancel),ec=Kl.bind(null,N.FlowStep.Complete),tc=e=>Kl(N.FlowStep.Error,e),ac="webapp_login_form_password_fieldset_security_code_error_otp_already_used",nc="webapp_login_form_password_fieldset_security_code_error_token_too_many_attempts",ic="_common_alert_network_error_message";var oc;!function(e){e[e.WARNING=0]="WARNING",e[e.AUTHENTICATION_CODE=1]="AUTHENTICATION_CODE",e[e.BACKUP_CODE=2]="BACKUP_CODE"}(oc||(oc={}));const sc={[oc.AUTHENTICATION_CODE]:{[p.AuthenticationCode.OTP_NOT_VALID]:{message:"webapp_account_security_settings_two_factor_authentication_turn_off_authenticator_invalid_security_code",logErrorName:N.TwoFactorAuthenticationError.WrongCodeError},[p.AuthenticationCode.OTP_ALREADY_USED]:{message:ac,logErrorName:N.TwoFactorAuthenticationError.UnknownError},[p.AuthenticationCode.OTP_TOO_MANY_ATTEMPTS]:{message:nc,logErrorName:N.TwoFactorAuthenticationError.UnknownError},[p.AuthenticationCode.NETWORK_ERROR]:{message:ic,logErrorName:N.TwoFactorAuthenticationError.UserOfflineError}},[oc.BACKUP_CODE]:{[p.AuthenticationCode.OTP_NOT_VALID]:{message:"webapp_account_security_settings_two_factor_authentication_backup_code_invalid_security_code",logErrorName:N.TwoFactorAuthenticationError.WrongBackupCodeError},[p.AuthenticationCode.OTP_ALREADY_USED]:{message:ac,logErrorName:N.TwoFactorAuthenticationError.UnknownError},[p.AuthenticationCode.OTP_TOO_MANY_ATTEMPTS]:{message:nc,logErrorName:N.TwoFactorAuthenticationError.UnknownError},[p.AuthenticationCode.NETWORK_ERROR]:{message:ic,logErrorName:N.TwoFactorAuthenticationError.UserOfflineError}},GenericError:{message:"webapp_account_security_settings_two_factor_authentication_turn_off_authenticator_generic_error",logErrorName:N.TwoFactorAuthenticationError.UnknownError}},rc=({onDialogClose:e,keyHandle:t})=>{const{translate:a}=(0,j.Z)(),i=(0,ye.V)(),[o,r]=(0,n.useState)(oc.WARNING),[l,c]=(0,n.useState)(),d=()=>{$l(),e()},u=()=>(r(oc.AUTHENTICATION_CODE),Promise.resolve()),p=async({authenticationCode:n})=>{const r=await(async(e,t)=>await g.C.removeU2FAuthenticator({authenticationCode:e,keyHandle:t}))(n,t);if(!r.success&&r.error){const e=sc[o],t=r.error.code;e[t]?(c({message:e[t].message,code:t}),tc(e[t].logErrorName)):(c({message:sc.GenericError.message,code:t}),tc(sc.GenericError.logErrorName))}else i.showAlert(a("webapp_u2f_remove_authenticator_success"),s.BLW.SUBTLE),ec(),e()},m={handleClickOnBack:d,handleClickOnClose:d},_=()=>{const e=o===oc.AUTHENTICATION_CODE?oc.BACKUP_CODE:oc.AUTHENTICATION_CODE;r(e),c(void 0)},h=(()=>{switch(o){case oc.WARNING:return n.createElement(tl,{...m,handleClickOnSubmit:u});case oc.AUTHENTICATION_CODE:return n.createElement(Zl,{...m,handleClickOnSubmit:p,toggleAuthenticationCodeMode:_,error:l});case oc.BACKUP_CODE:return n.createElement(Gl,{...m,handleClickOnSubmit:p,toggleAuthenticationCodeMode:_,error:l})}})();return(0,n.useEffect)((()=>{Jl()}),[]),n.createElement(s.VqE,{isOpen:!0,modalContentClassName:w()(y.Ht),disableOutsideClickClose:!0,disableScrolling:!0,disableUserInputTrap:!0,disableEscapeKeyClose:!0,closeIconName:a("_common_dialog_dismiss_button"),onClose:d},h)},lc=(0,Ge.either)(Ge.isNil,Ge.isEmpty),cc=({authenticators:e})=>{const{openU2FRemoveAuthenticatorDialog:t}=function(e={}){const{onDialogStateChanged:t}=e,{openDialog:a,closeDialog:i}=(0,qa.R)();return{openU2FRemoveAuthenticatorDialog:(0,n.useCallback)((e=>{t?.(!0),a(n.createElement(rc,{onDialogClose:()=>{i(),t?.(!1)},keyHandle:e}))}),[t,a,i])}}(),a=n.useCallback((a=>{const n=e?.find((e=>e.keyHandle===a));n&&t(a)}),[e,t]);return lc(e)?null:(0,z.tZ)(n.Fragment,null,e.map((({name:e,creationDateUnix:t,keyHandle:n})=>(0,z.tZ)(el,{key:n,name:e,creationDateUnix:t,keyHandle:n,onRemoveAuthenticator:a}))))},{grey05:dc}=s.O9T,uc=({title:e,children:t,description:a})=>(0,z.tZ)(s.Ejs,{sx:{p:"32px",pt:"0"},flexDirection:"column"},(0,z.tZ)("hr",{sx:{border:"none",borderTop:`1px solid ${dc}`,margin:0,width:"100%"}}),e?(0,z.tZ)(s.Ejs,{as:"header",flexDirection:"column",flexWrap:"nowrap",fullWidth:!0,justifyContent:"space-between",sx:{marginTop:"16px"}},(0,z.tZ)(s.X6q,{size:"x-small",as:"h2"},e),a?(0,z.tZ)(s.nvN,{size:"x-small",sx:{paddingTop:"14px",color:s.O9T.grey00}},a):null):null,t),pc=e=>{switch(e){case p.AuthenticationCode.OTP_NOT_VALID:return{logErrorName:N.TwoFactorAuthenticationError.WrongCodeError,errorMessage:"webapp_account_security_settings_two_factor_authentication_turn_off_authenticator_invalid_security_code"};case p.AuthenticationCode.OTP_ALREADY_USED:return{logErrorName:N.TwoFactorAuthenticationError.WrongCodeError,errorMessage:"webapp_login_form_password_fieldset_security_code_error_otp_already_used"};case p.AuthenticationCode.OTP_TOO_MANY_ATTEMPTS:return{logErrorName:N.TwoFactorAuthenticationError.UnknownError,errorMessage:"webapp_login_form_password_fieldset_security_code_error_token_too_many_attempts"};default:return}},mc="_common_alert_network_error_message",_c={[p.TwoFactorAuthenticationEnableStages.AUTHENTICATION_TYPE]:{component:({handleClickOnSubmit:e,handleClickOnClose:t,savedValues:a})=>{const[i,r]=(0,n.useState)(a&&a?.savedAuthenticationType?a.savedAuthenticationType:p.TwoFactorAuthenticationType.DEVICE_REGISTRATION),{translate:l}=(0,j.Z)();return(0,n.useEffect)((()=>{rl()}),[]),(0,z.tZ)("div",{sx:{maxWidth:"480px"}},(0,z.tZ)(s.a7O,null,(0,z.tZ)(s.X6q,{size:"small",sx:pl},l("webapp_account_security_settings_two_factor_authentication_turn_on_dialog_type_title")),(0,z.tZ)(s.Eep,{onChange:e=>{r(e.target.value)},sx:{display:"flex",flexDirection:"column"}},(0,z.tZ)(s.Y8K,{label:l("webapp_account_security_settings_two_factor_authentication_turn_on_dialog_type_registration_option"),value:p.TwoFactorAuthenticationType.DEVICE_REGISTRATION,defaultChecked:i===p.TwoFactorAuthenticationType.DEVICE_REGISTRATION,"data-testid":"two-factor-authentication-mode-dialog-device-registration-option"}),(0,z.tZ)(s.Y8K,{label:l("webapp_account_security_settings_two_factor_authentication_turn_on_dialog_type_login_option"),value:p.TwoFactorAuthenticationType.LOGIN,sx:{marginBottom:"20px"},"data-testid":"two-factor-authentication-mode-dialog-login-option",defaultChecked:i===p.TwoFactorAuthenticationType.LOGIN})),(0,z.tZ)(s.rUS,{target:"_blank",href:o._x,color:s.O9T.midGreen00},l("webapp_account_security_settings_two_factor_authentication_turn_on_dialog_type_hc_link")),i===p.TwoFactorAuthenticationType.LOGIN?(0,z.tZ)(s.vDh,{severity:"subtle",size:"small",title:l("webapp_account_security_settings_two_factor_authentication_turn_on_dialog_type_login_info"),sx:ml}):null),(0,z.tZ)(s.cNS,{primaryButtonTitle:l("_common_action_continue"),primaryButtonProps:{type:"button",autoFocus:!0},primaryButtonOnClick:()=>{e({authenticationType:i})},secondaryButtonTitle:l("_common_action_cancel"),secondaryButtonOnClick:t}))},showCloseIcon:!0},[p.TwoFactorAuthenticationEnableStages.BACKUP_PHONE]:{component:({handleClickOnSubmit:e,handleClickOnBack:t,error:a,countryCode:i,savedValues:o})=>{const{translate:r}=(0,j.Z)(),[l,c]=(0,n.useState)();(0,n.useEffect)((()=>{ll()}),[]);const d=(0,_l.TA)({initialValues:{countryCode:o?.savedCountryCode?o.savedCountryCode:i,phoneNumber:o?.savedPhoneNumber?o.savedPhoneNumber:""},onSubmit:async(t,{setSubmitting:a})=>{a(!0);const{countryCode:n,phoneNumber:i}=t;await e({countryCode:n,phoneNumber:i}),a(!1)}}),{values:{countryCode:u,phoneNumber:p},setFieldValue:m,isSubmitting:_}=d;(0,n.useEffect)((()=>{if(a&&!_){var e;const{code:t}=a,n=null!=(e=bl[t])?e:bl.GENERIC_ERROR;c(n.message),il(n.log)}}),[a,_]);const g=0===p.length;return n.createElement("form",{onSubmit:d.handleSubmit},n.createElement(s.a7O,null,n.createElement(gl,{countryCode:u,phoneNumber:p,errorMessage:l?r(l):void 0,setFieldValue:m,setErrorMessage:c})),n.createElement(s.cNS,{primaryButtonTitle:r("_common_action_continue"),primaryButtonProps:{disabled:g,type:"button"},primaryButtonOnClick:()=>d.handleSubmit(),secondaryButtonTitle:r("_common_action_back"),secondaryButtonOnClick:t,secondaryButtonProps:{id:"two-factor-authentication-backup-phone-dialog-back-button"}}))},showCloseIcon:!0},[p.TwoFactorAuthenticationEnableStages.QR_CODE]:{component:({handleClickOnSubmit:e,handleClickOnBack:t,uri:a,seed:i})=>{const{translate:o}=(0,j.Z)();return(0,n.useEffect)((()=>{cl()}),[]),(0,z.tZ)("div",{sx:{maxWidth:"480px"}},(0,z.tZ)(s.a7O,null,(0,z.tZ)(Il,{uri:a,seed:i})),(0,z.tZ)(s.cNS,{primaryButtonTitle:o("webapp_account_security_settings_two_factor_authentication_qr_code_continue_button"),primaryButtonProps:{type:"button",autoFocus:!0},primaryButtonOnClick:()=>e(),secondaryButtonTitle:o("webapp_account_security_settings_two_factor_authentication_qr_code_back_button"),secondaryButtonOnClick:()=>t(),secondaryButtonProps:{id:"two-factor-authentication-qr-code-dialog-back-button"}}))},showCloseIcon:!0},[p.TwoFactorAuthenticationEnableStages.LOADING]:{component:()=>{const{translate:e}=(0,j.Z)();return(0,z.tZ)("div",{sx:{maxWidth:"480px"}},(0,z.tZ)(s.HoD,{color:s.O9T.midGreen00,size:"60px"}),(0,z.tZ)(s.X6q,{size:"small",sx:{marginTop:"24px",color:s.O9T.black}},e("webapp_account_security_settings_two_factor_authentication_disable_preparing_title")),(0,z.tZ)(s.nvN,{sx:{marginTop:"16px",color:s.O9T.grey00}},e("webapp_account_security_settings_two_factor_authentication_disable_loading_description")),(0,z.tZ)(s.nvN,{sx:{marginTop:"16px",color:s.O9T.grey00}},e("webapp_account_security_settings_two_factor_authentication_disable_loading_browser_description")))},showCloseIcon:!1},[p.TwoFactorAuthenticationEnableStages.AUTHENTICATION_CODE]:{component:Zl,showCloseIcon:!0},[p.TwoFactorAuthenticationEnableStages.FINALIZING_CHANGES]:{component:Dl,showCloseIcon:!1},[p.TwoFactorAuthenticationEnableStages.BACKUP_CODES]:{component:({handleClickOnSubmit:e,recoveryKeys:t})=>{const{translate:a}=(0,j.Z)();return(0,n.useEffect)((()=>{ul()}),[]),(0,z.tZ)("div",{sx:{maxWidth:"480px"}},(0,z.tZ)(s.a7O,null,(0,z.tZ)(Sl,{backupCodes:t})),(0,z.tZ)(s.cNS,{primaryButtonTitle:a("webapp_account_security_settings_two_factor_authentication_backup_codes_done_button"),primaryButtonProps:{type:"button",autoFocus:!0},primaryButtonOnClick:()=>e()}))},showCloseIcon:!1},[p.TwoFactorAuthenticationEnableStages.GENERIC_ERROR]:{component:Vl,showCloseIcon:!0},[p.TwoFactorAuthenticationEnableStages.LOGOUT_REQUIRED]:{component:Hl,showCloseIcon:!1}},gc=({onDialogClose:e})=>{const{translate:t}=(0,j.Z)(),a=(0,ye.V)(),i=function(){const e=(0,Ft.qr)({queryConfig:{query:g.C.getTwoFactorAuthenticationEnableStage},liveConfig:{live:g.C.liveTwoFactorAuthenticationEnableStage}},[]);return e.status===Ft.rq.Success?e.data:null}(),o=(0,n.useCallback)(((t=!0)=>{t&&sl(),"function"==typeof e&&e(t)}),[e]),r=i?.stage,l=i?.viewData,c=i?.savedValues;(0,n.useEffect)((()=>(r||(async()=>{await g.C.startTwoFactorAuthenticationEnableFlow(null)})(),()=>{(async()=>{await g.C.stopTwoFactorAuthenticationEnableFlow(null)})()})),[]),(0,n.useEffect)((()=>{r===p.TwoFactorAuthenticationEnableStages.SUCCESS&&(ol(),a.showAlert(t("webapp_account_security_settings_two_factor_authentication_enable_success"),s.BLW.SUCCESS),o(!1))}),[r]);const d={handleClickOnBack:Xl,handleClickOnClose:o,handleClickOnSubmit:Ql,savedValues:c,...l};switch(r){case p.TwoFactorAuthenticationEnableStages.AUTHENTICATION_CODE:if(d.hideAdditionalActions=!0,d.logEvent=dl,d.secondaryButtonTitle="_common_action_back",l?.error){const{logErrorName:e,errorMessage:t}=(u=l.error.code,pc(u)||(u===p.AuthenticationCode.NETWORK_ERROR?{logErrorName:N.TwoFactorAuthenticationError.UnknownError,errorMessage:mc}:self.navigator?.onLine?{logErrorName:N.TwoFactorAuthenticationError.UnknownError,errorMessage:"webapp_account_security_settings_two_factor_authentication_turn_on_generic_error"}:{logErrorName:N.TwoFactorAuthenticationError.UserOfflineError,errorMessage:mc}));il(e),d.error={message:t,code:l.error.code}}break;case p.TwoFactorAuthenticationEnableStages.GENERIC_ERROR:d.logEvent=il}var u;return r&&_c[r]?n.createElement(s.VqE,{isOpen:!0,modalContentClassName:w()(y.Ht),disableOutsideClickClose:!0,disableScrolling:!0,disableUserInputTrap:!0,disableEscapeKeyClose:!0,closeIconName:_c[r].showCloseIcon?t("_common_dialog_dismiss_button"):void 0,onClose:o},l?.currentStep?n.createElement(s.nvN,{size:"medium",color:s.O9T.grey00},t("webapp_account_security_settings_two_factor_authentication_stage_header",{stageIndex:l?.currentStep,totalStages:l?.totalSteps})):null,n.createElement(_c[r].component,d)):null},hc="_common_alert_network_error_message",bc=e=>pc(e)||(e===p.AuthenticationCode.BACKUP_CODE_NOT_VALID?{logErrorName:N.TwoFactorAuthenticationError.WrongBackupCodeError,errorMessage:"webapp_account_security_settings_two_factor_authentication_turn_off_authenticator_invalid_security_code"}:e===p.AuthenticationCode.NETWORK_ERROR?{logErrorName:N.TwoFactorAuthenticationError.UnknownError,errorMessage:hc}:self.navigator?.onLine?{logErrorName:N.TwoFactorAuthenticationError.UnknownError,errorMessage:"webapp_account_security_settings_two_factor_authentication_turn_off_authenticator_generic_error"}:{logErrorName:N.TwoFactorAuthenticationError.UserOfflineError,errorMessage:hc}),Cc="webapp_account_security_settings_2fa_disable_enforced_by_admin_confirm_dialog_title",wc="webapp_account_security_settings_2fa_disable_enforced_by_admin_confirm_dialog_description_markup",yc="_common_action_continue",Ec={marginTop:"16px",color:s.O9T.grey00,"p:first-child":{marginBottom:"16px"}},Ic={[p.TwoFactorAuthenticationDisableStages.CONFIRMATION]:{component:({handleClickOnClose:e,handleClickOnSubmit:t,logEvent:a,isTwoFactorAuthenticationEnforced:i})=>{const{translate:o}=(0,j.Z)();return(0,n.useEffect)((()=>{a?.()}),[]),(0,z.tZ)("div",{sx:{maxWidth:"480px"}},(0,z.tZ)(s.a7O,null,(0,z.tZ)(s.X6q,{size:"small",sx:{marginTop:"20px",color:s.O9T.black},"data-testid":"two-factor-authentication-disable-confirmation-dialog-title"},o(i?Cc:"webapp_account_security_settings_2fa_disable_confirm_dialog_title")),(0,z.tZ)(s.nvN,{size:"small",as:"div",sx:Ec},i?o.markup(wc):o("webapp_account_security_settings_2fa_disable_confirm_dialog_description"))),(0,z.tZ)(s.cNS,{primaryButtonTitle:o(i?yc:"webapp_account_security_settings_2fa_disable_confirm_dialog_confirm"),primaryButtonProps:{type:"button",autoFocus:!0},primaryButtonOnClick:()=>t(),secondaryButtonTitle:o("_common_action_cancel"),secondaryButtonOnClick:()=>e()}))},componentProps:{logEvent:jl},showCloseIcon:!0},[p.TwoFactorAuthenticationDisableStages.AUTHENTICATION_CODE]:{component:Zl,componentProps:{logEvent:Rl},target:p.TwoFactorAuthenticationDisableStages.BACKUP_CODE,showCloseIcon:!0},[p.TwoFactorAuthenticationDisableStages.BACKUP_CODE]:{component:Gl,componentProps:{logEvent:Ul},target:p.TwoFactorAuthenticationDisableStages.AUTHENTICATION_CODE,showCloseIcon:!0},[p.TwoFactorAuthenticationDisableStages.FINALIZING_CHANGES]:{component:Dl,showCloseIcon:!1},[p.TwoFactorAuthenticationDisableStages.GENERIC_ERROR]:{component:Vl,componentProps:{logEvent:Ll},showCloseIcon:!0},[p.TwoFactorAuthenticationDisableStages.LOGOUT_REQUIRED]:{component:Hl,showCloseIcon:!1}},Nc=({onDialogClose:e})=>{const{translate:t}=(0,j.Z)(),a=function(){const e=(0,Ft.qr)({queryConfig:{query:g.C.getTwoFactorAuthenticationDisableStage},liveConfig:{live:g.C.liveTwoFactorAuthenticationDisableStage}},[]);return e.status===Ft.rq.Success?e.data:null}(),i=Sc(),o=i?.status===p.TwoFactorAuthenticationInfoRequestStatus.READY&&i.isTwoFactorAuthenticationEnforced,r=(0,ye.V)(),l=(0,n.useCallback)(((t=!0)=>{t&&zl(),"function"==typeof e&&e()}),[e]),c=a?.stage;if((0,n.useEffect)((()=>{c===p.TwoFactorAuthenticationDisableStages.SUCCESS&&(Pl(),r.showAlert(t("webapp_account_security_settings_two_factor_authentication_disable_success"),s.BLW.SUCCESS),l(!1))}),[c]),(0,n.useEffect)((()=>(c||(async()=>{await g.C.startTwoFactorAuthenticationDisableFlow(null)})(),()=>{(async()=>{await g.C.stopTwoFactorAuthenticationDisableFlow(null)})()})),[]),c&&Ic[c]){const e={handleClickOnBack:l,handleClickOnSubmit:ql,handleClickOnClose:l,...Ic[c]?.componentProps},i=a?.viewData?.error;switch(c){case p.TwoFactorAuthenticationDisableStages.BACKUP_CODE:case p.TwoFactorAuthenticationDisableStages.AUTHENTICATION_CODE:if(i){const{logErrorName:t,errorMessage:a}=bc(i.code);Ll(t),e.error={message:a,code:i.code}}Ic[c]?.target&&(e.toggleAuthenticationCodeMode=()=>{ql({target:Ic[c].target})});break;case p.TwoFactorAuthenticationDisableStages.CONFIRMATION:e.isTwoFactorAuthenticationEnforced=o}return n.createElement(s.VqE,{isOpen:!0,modalContentClassName:w()(y.Ht),disableOutsideClickClose:!0,disableScrolling:!0,disableUserInputTrap:!0,disableEscapeKeyClose:!0,closeIconName:Ic[c].showCloseIcon?t("_common_dialog_dismiss_button"):void 0,onClose:l},n.createElement(Ic[c].component,e))}return null},fc={fieldsKeys:{title:"webapp_lock_items_security_settings_title",subtitle:"webapp_lock_items_security_settings_description",confirm:"webapp_lock_items_security_settings_action"},translated:!1};function vc(e={}){const{onDialogStateChanged:t,onSuccess:a}=e,{openDialog:i,closeDialog:o}=(0,qa.R)(),{areProtectedItemsUnlocked:s,openProtectedItemsUnlocker:r}=(0,fe.tY)();return{openTwoFactorAuthenticationDisablerDialog:(0,n.useCallback)((()=>{t?.(!0),i(n.createElement(Nc,{onDialogClose:()=>{o(),t?.(!1)}}))}),[t,i,o]),openTwoFactorAuthenticationEnablerDialog:(0,n.useCallback)((()=>{const e=()=>{i(n.createElement(gc,{onDialogClose:e=>{e||a?.(),o(),t?.(!1)}}))};t?.(!0),s?e():r({itemType:Ne.Ru.SecuritySettings,options:fc,successCallback:e,cancelCallback:()=>{sl(),t?.(!1)}})}),[t,s,i,o,a,r])}}const Sc=()=>{const e=(0,Ft.qr)({queryConfig:{query:g.C.getTwoFactorAuthenticationInfo},liveConfig:{live:g.C.liveTwoFactorAuthenticationInfo}},[]);if(e.status===Ft.rq.Success)return e.data};var Dc;const xc=({onNavigateOut:e})=>{const{translate:t}=(0,j.Z)(),a=(()=>{const e=(0,Ft.qr)({queryConfig:{query:g.C.getU2FDevicesList},liveConfig:{live:g.C.liveU2FDevicesList}},[]);return e.status===Ft.rq.Success?e.data:[]})(),i=Sc();return n.createElement(tr,{headingText:t("webapp_account_security_settings_2fa_heading"),onNavigateOut:e},n.createElement(uc,{title:t("webapp_account_security_settings_2fa_authenticator_title"),description:t("webapp_account_security_settings_2fa_authenticator_app_description")},Dc||(Dc=n.createElement(qr,null))),a.length>0&&n.createElement(uc,{title:t("webapp_account_security_settings_2fa_u2f_title"),description:t("webapp_account_security_settings_2fa_u2f_description")},n.createElement(cc,{authenticators:a})),i?.status===p.TwoFactorAuthenticationInfoRequestStatus.READY?n.createElement(n.Fragment,null,n.createElement(uc,{title:t("webapp_account_security_settings_2fa_backup_title"),description:t("webapp_account_security_settings_2fa_backup_description")},n.createElement(Qr,{recoveryPhone:i?.recoveryPhone})),n.createElement(uc,{title:t("webapp_account_security_settings_2fa_security_level_title"),description:t.markup("webapp_account_security_settings_2fa_security_level_description_markup",{},{linkTarget:"_blank"})},n.createElement(Kr,{twoFactorAuthenticationMode:i.type}))):null)};var Mc,Tc=a(451175),Ac=a(296908);const kc=({changeActivePanel:e})=>{const t=(0,it.w)(Cr),{translate:a}=(0,j.Z)(),[i]=(0,n.useState)(6);return t?(0,we.tZ)(Ir,{sectionTitle:a("webapp_account_security_settings_account_recovery_section_title")},(0,we.tZ)("div",{style:{fontSize:"12px"}},(0,we.tZ)(we.nv,{sx:{marginBottom:"8px"}},i<1?a("webapp_account_security_settings_account_recovery_section_description_no_method"):a.markup("webapp_account_security_settings_account_recovery_section_description_markup",{count:i})),i<1?(0,we.tZ)(we.ke,{mood:"warning",size:"small",title:a("webapp_account_security_settings_account_recovery_section_warning_info")}):null,(0,we.tZ)(s.rUS,{href:"#",role:"button",color:"ds.text.brand.standard",onClick:t=>{t.preventDefault(),e(Qd.AccountRecovery)},style:{display:"flex",alignItems:"center",marginTop:"16px",textDecoration:"none"}},(0,we.tZ)(we.nv,{sx:{textDecoration:"none",marginRight:"4px"}},a("webapp_account_security_settings_account_recovery_section_view_options")),Mc||(Mc=(0,we.tZ)("span",{"aria-hidden":"true"},(0,we.tZ)(we.JO,{name:"ArrowRightOutlined",size:"xsmall",color:"ds.text.brand.standard"})))))):(0,we.tZ)(Nr,{showAdminRecoveryHelp:()=>{e(Qd.AccountRecovery)}})};var Zc,Oc=a(869375);!function(e){e.SIX_DIGIT_TOKEN="SIX_DIGIT_TOKEN",e.BACKUP_CODE="BACKUP_CODE"}(Zc||(Zc={}));const Lc="_common_generic_error",Pc=({handleOnCancel:e,handleOnSubmit:t})=>{const{translate:a}=(0,j.Z)(),[i,o]=n.useState(Zc.SIX_DIGIT_TOKEN),[r,l]=n.useState(void 0),c=e=>{o(e),l(void 0)},d={handleClickOnBack:e,handleClickOnSubmit:async({authenticationCode:e})=>{try{const a=await g.C.validateToken({type:"otp",value:e});a.success?(l(void 0),t()):l({code:a.error.code,message:bc(a.error.code)?.errorMessage||Lc})}catch(e){l({code:e?.code,message:Lc})}},error:r},u=i===Zc.BACKUP_CODE?n.createElement(Gl,{...d,toggleAuthenticationCodeMode:c.bind(null,Zc.SIX_DIGIT_TOKEN)}):n.createElement(Zl,{...d,toggleAuthenticationCodeMode:c.bind(null,Zc.BACKUP_CODE)});return n.createElement(s.VqE,{isOpen:!0,modalContentClassName:w()(y.Ht),disableOutsideClickClose:!0,disableScrolling:!0,disableUserInputTrap:!0,disableEscapeKeyClose:!0,closeIconName:a("_common_dialog_dismiss_button"),onClose:e},u)};var zc=a(651465);const jc=()=>{const{data:e,status:t}=(0,Gi.k$)(zc.masterPasswordSecurityApi,"isMasterPasswordLeaked");return t===Gi.rq.Success&&e},Rc=()=>{const{translate:e}=(0,j.Z)();return jc()?(0,we.tZ)(we.ke,{title:e("webapp_account_security_settings_changemp_section_leaked_master_password_title"),description:e("webapp_account_security_settings_changemp_section_leaked_master_password_description"),mood:"danger",size:"large",sx:{marginBottom:"8px"},actions:[(0,we.tZ)(we.zx,{key:"hc-link",mood:"danger",size:"small",intensity:"quiet",onClick:()=>(0,je.Yo)(Ml.dx)},e("webapp_account_security_settings_changemp_section_leaked_master_password_blog_link"))]}):null};var Uc;const Bc="webapp_account_security_settings_changemp_section_button_disabled_1",Fc=({changeActivePanel:e,twoFactorAuthenticationInfo:t})=>{const{translate:a}=(0,j.Z)(),[i,o]=(0,n.useState)(!1),r=()=>{e(Qd.ChangeMP),i&&o(!1)},l=()=>{t?.status===p.TwoFactorAuthenticationInfoRequestStatus.READY&&t.isTwoFactorAuthenticationEnabled&&t.type!==p.TwoFactorAuthenticationType.SSO?o(!0):r()},c=(()=>{const e=(0,it.F)("webproduct_extension_ActivateChangeMasterPassword_release");return e.status===Ft.rq.Success&&e.data})(),d=({disabled:e})=>(0,we.tZ)(we.zx,{type:"button",mood:"brand",size:"small",onClick:l,disabled:e,sx:{marginTop:"8px"}},a("webapp_account_security_settings_changemp_section_button")),u=t?.status===p.TwoFactorAuthenticationInfoRequestStatus.READY,m=t?.status===p.TwoFactorAuthenticationInfoRequestStatus.ERROR;return(0,we.tZ)(n.Fragment,null,(0,we.tZ)(Ir,{sectionTitle:a("webapp_account_security_settings_changemp_section_title")},u?(0,we.tZ)((()=>(0,we.tZ)(n.Fragment,null,c?(0,we.tZ)(n.Fragment,null,(0,we.tZ)(s.nvN,{size:"x-small"},a("webapp_account_security_settings_changemp_section_description")),(0,we.tZ)(Oc.h,{featureFlips:["ims_web_leaked_mp_prod"]},Uc||(Uc=(0,we.tZ)(Rc,null))),(0,we.tZ)(s.nvN,{size:"x-small"},a.markup("webapp_account_security_settings_changemp_section_note_markup"))):null,(0,we.tZ)(s.dDn,{justifySelf:"flex-start"},(0,we.tZ)(n.Fragment,null,c?null:(0,we.tZ)(n.Fragment,null,(0,we.tZ)(s.nvN,{size:"x-small",sx:{marginBottom:"8px"}},a(Bc)),(0,we.tZ)(s.nvN,{size:"x-small"},a("webapp_account_security_settings_changemp_section_button_disabled_2"))),(0,we.tZ)(d,{disabled:!c}))))),null):m?(0,we.tZ)((()=>(0,we.tZ)(s.dDn,{justifySelf:"flex-start"},(0,we.tZ)(s.vDh,{severity:"alert",size:"small",title:a(Bc)}))),null):(0,we.tZ)((()=>(0,we.tZ)(s.dDn,{justifySelf:"flex-start",id:"changeMasterPasswordLoading",sx:{marginTop:"20px"},title:a("webapp_loader_loading")},(0,we.tZ)(s.HoD,{color:s.O9T.midGreen01,size:40,"aria-describedby":"changeMasterPasswordLoading"}))),null)),i?(0,we.tZ)(Pc,{handleOnCancel:()=>o(!1),handleOnSubmit:r}):null)},Wc=()=>{const{translate:e}=(0,j.Z)(),[t,a]=(0,n.useState)(!0),[i,o]=(0,n.useState)(!1),[r,l]=(0,n.useState)(""),c=(0,it.w)("itadmin_SAEX_CryptoMigration_Phase3_v1"),d=function(){const e=(0,Ft.qr)({queryConfig:{query:g.C.getCanUserChangeCrypto}},[]);return e.status===Ft.rq.Success&&e.data}()&&c,u=function(){const e=(0,Ft.qr)({queryConfig:{query:g.C.getUserDerivationMethod},liveConfig:{live:g.C.liveUserDerivationMethod}},[]),t=Object.values(p.SupportedDerivationMethods);return e.status===Ft.rq.Success&&t.includes(e.data)?e.data:void 0}();(0,n.useEffect)((()=>{u&&(a(!1),l(u))}),[u]);const m=[{label:e("webapp_account_security_settings_input_value_argon"),value:p.SupportedDerivationMethods.ARGON2D},{label:e("webapp_account_security_settings_input_value_pbkdf2_advanced"),value:p.SupportedDerivationMethods.PBKDF2},{label:e("webapp_account_security_settings_input_value_pbkdf2_standard"),value:p.SupportedDerivationMethods.KWC3,disabled:!0}],_=e=>{var t;return null!=(t=m.find((t=>t.value===e))?.label)?t:""};return n.createElement(Ir,{sectionTitle:e("webapp_account_security_settings_sub_title")},n.createElement(s.PhF,{value:r,options:m,placeholder:d?e("webapp_account_security_settings_input_placeholder"):_(r),onChange:async e=>{a(!0),o(!1);const t=e.target.value;l(t);try{(await g.C.changeUserCrypto({newDerivationMethod:t})).success||o(!0)}catch(e){o(!0),u&&l(u)}finally{a(!1)}},disabled:!d||t,intent:i?"error":void 0,feedbackText:i?e("_common_generic_error"):void 0}),n.createElement("div",{className:"intro--YRawoic6r2"},d?e.markup("webapp_account_security_settings_help_text_markup"):e.markup("webapp_account_security_settings_help_text_enforced_kdf_markup",{enforcedKdf:_(r)})))};let Gc,Vc;!function(e){e[e.LIST=0]="LIST",e[e.GRID=1]="GRID"}(Gc||(Gc={})),function(e){e.USING_WEBAPP="using_webapp",e.USING_FIREFOX="using_firefox",e.ENABLED_SSO="enabled_sso",e.ENABLED_2FA="enabled_2fa",e.DATA_LOADING="data_loading"}(Vc||(Vc={}));const Yc={SECTION_CONTAINER:{marginTop:"5px",display:"inline-block",color:s.O9T.grey00}},Hc=({title:e,message:t})=>(0,z.tZ)(Ir,{sectionTitle:e},(0,z.tZ)(s.nvN,{size:"x-small",sx:Yc.SECTION_CONTAINER},t)),qc=()=>{const{translate:e}=(0,j.Z)();return(0,z.tZ)(Ir,{sectionTitle:e("webapp_account_security_settings_passwordless_all_authenticators_title")},(0,z.tZ)("div",{id:"biometricsLoading",sx:{marginTop:"20px"},title:e("webapp_loader_loading")},(0,z.tZ)(s.HoD,{color:s.O9T.midGreen01,size:40,"aria-describedby":"biometricsLoading"})))};var Qc,Xc;const Kc={[Vc.USING_WEBAPP]:{TITLE:"webapp_account_security_settings_passwordless_all_authenticators_title",MESSAGE:"webapp_account_security_settings_passwordless_disabled_outside_extension"},[Vc.USING_FIREFOX]:{TITLE:"webapp_account_security_settings_passwordless_all_authenticators_title",MESSAGE:"webapp_account_security_settings_passwordless_disabled_feature_unsupported"},[Vc.ENABLED_SSO]:{TITLE:"webapp_account_security_settings_passwordless_all_authenticators_title",MESSAGE:"webapp_account_security_settings_passwordless_disabled_by_sso"},[Vc.ENABLED_2FA]:{TITLE:"webapp_account_security_settings_passwordless_all_authenticators_title",MESSAGE:"webapp_account_security_settings_passwordless_disabled_by_two_factor_authentication"}},Jc={WEBAUTHN_SECTION:{color:s.O9T.grey00,display:"flex",alignItems:"flex-start",flexDirection:"column"},WEBAUTHN_SECTION_DESCRIPTION:{marginBottom:"8px","& p:first-child":{marginBottom:"15px"}},WEBAUTHN_SECTION_LINK_BUTTON:{display:"flex",alignItems:"center",textDecoration:"none"},WEBAUTHN_SECTION_LINK_BUTTON_CONTENT:{marginRight:"8px"}},$c=({authenticators:e,webAuthnOptedIn:t,changeActivePanel:a,onDialogStateChanged:i})=>{const{translate:o}=(0,j.Z)(),r=function(){const e=Sc();let t,a=!1;return(0,es.ET)(window.location.href)?t=Vc.USING_FIREFOX:e?.status!==p.TwoFactorAuthenticationInfoRequestStatus.READY?t=Vc.DATA_LOADING:e.type===p.TwoFactorAuthenticationType.SSO?t=Vc.ENABLED_SSO:e.type===p.TwoFactorAuthenticationType.LOGIN?t=Vc.ENABLED_2FA:a=!0,{result:a,reason:t}}(),[l]=(0,n.useState)((0,Ac._U)()),{openWebAuthnEnablerDialog:c,openWebAuthnDisablerDialog:d}=(0,Ac.$_)({onDialogStateChanged:i}),u=(0,Ac.rV)(),m=(0,n.useMemo)((()=>l&&!t&&!e?.length),[e?.length,l,t]),_=(0,n.useMemo)((()=>l&&(t||e?.length)),[e?.length,l,t]),g=(0,n.useCallback)((e=>{e.currentTarget.checked?c():d()}),[c,d]),h=(0,n.useCallback)((e=>{e.preventDefault(),a(Qd.WebAuthn)}),[a]);if(null===u)return null;const b=u?"webapp_account_security_settings_passwordless_all_authenticators_title":"webapp_account_security_settings_passwordless_noplatform_title",C=u?"webapp_account_security_settings_passwordless_all_authenticators_desc_markup":"webapp_account_security_settings_passwordless_noplatform_desc_markup";if(r.result||r.reason!==Vc.DATA_LOADING){if(r.result||void 0===r.reason)return(0,z.tZ)(Ir,{sectionTitle:o(b),action:(0,z.tZ)(s.ZDl,{"aria-label":o("webapp_account_security_settings_passwordless_all_authenticators_toggle_aria_label"),checked:t,onChange:g,disabled:!l})},(0,z.tZ)(s.nvN,{size:"x-small",sx:Jc.WEBAUTHN_SECTION},l?null:(0,z.tZ)(s.vDh,{severity:"subtle",size:"small",title:o("webapp_account_security_settings_passwordless_disabled_feature_unsupported")}),m?(0,z.tZ)("div",{sx:Jc.WEBAUTHN_SECTION_DESCRIPTION},o.markup(C)):null,_?(0,z.tZ)(s.rUS,{href:"#",role:"button",color:s.O9T.midGreen00,sx:Jc.WEBAUTHN_SECTION_LINK_BUTTON,onClick:h},(0,z.tZ)("span",{sx:Jc.WEBAUTHN_SECTION_LINK_BUTTON_CONTENT},o("webapp_account_security_settings_passwordless_view_options")),Xc||(Xc=(0,z.tZ)("span",{"aria-hidden":"true"},(0,z.tZ)(s.jcJ,{size:12})))):null));{const e=Kc[r.reason];return(0,z.tZ)(Hc,{title:o(e.TITLE),message:o(e.MESSAGE)})}}return Qc||(Qc=(0,z.tZ)(qc,null))},ed={BUTTON:{display:"flex",alignItems:"center",textDecoration:"none",color:s.O9T.midGreen00},CONTENT:{marginRight:"5px"}},td=({changeActivePanel:e})=>{const{translate:t}=(0,j.Z)();return(0,z.tZ)(s.rUS,{href:"#",role:"button",sx:ed.BUTTON,onClick:t=>{t.preventDefault(),e(Qd.TwoFactorAuthentication)}},(0,z.tZ)("span",{sx:ed.CONTENT},t("webapp_account_security_settings_two_factor_authentication_options")),(0,z.tZ)("span",{"aria-hidden":"true"},(0,z.tZ)(s.jcJ,{size:12,color:s.O9T.midGreen00})))},ad=()=>{const{translate:e}=(0,j.Z)();return(0,z.tZ)(s.nvN,{size:"x-small",sx:{marginBottom:"8px"},color:s.O9T.grey00},e("webapp_account_security_settings_two_factor_authentication_enforced_enabled_description"))},nd=()=>{const{translate:e}=(0,j.Z)();return(0,z.tZ)(n.Fragment,null,(0,z.tZ)(s.nvN,{size:"x-small",sx:{marginBottom:"8px"},color:s.O9T.grey00},e("webapp_account_security_settings_two_factor_authentication_disabled_description_1")),(0,z.tZ)(s.nvN,{size:"x-small",sx:{marginBottom:"8px"},color:s.O9T.grey00},e("webapp_account_security_settings_two_factor_authentication_disabled_description_2")),(0,z.tZ)(s.rUS,{target:"_blank",href:o._x,color:s.O9T.midGreen00},e("webapp_account_security_settings_two_factor_authentication_turn_on_dialog_type_hc_link")))};var id,od;const sd={SECTION_CONTAINER:{fontSize:1,marginTop:"5px",display:"inline-block",color:s.O9T.grey00}},rd=({changeActivePanel:e,onDialogStateChanged:t,twoFactorAuthenticationInfo:a})=>{const{translate:i}=(0,j.Z)(),{isTwoFactorAuthenticationEnabled:o,isTwoFactorAuthenticationEnforced:r}=a,{openTwoFactorAuthenticationDisablerDialog:l,openTwoFactorAuthenticationEnablerDialog:c}=vc({onDialogStateChanged:t}),d=(0,n.useCallback)((e=>{e.currentTarget.checked?(nl(),c()):(Ol(),l())}),[l,c]),u=r&&o;return(0,z.tZ)(Ir,{sectionTitle:i("webapp_account_security_settings_two_factor_authentication_title"),action:(0,z.tZ)(s.ZDl,{"data-testid":"two-factor-authentication-settings-option-toggle",id:"two-factor-authentication-settings-option",name:"two-factor-authentication-settings-option",checked:o,onChange:d,"aria-label":i("webapp_account_security_settings_two_factor_authentication_toggle_aria_label")})},(0,z.tZ)("div",{sx:sd.SECTION_CONTAINER},u?(0,z.tZ)(n.Fragment,null,id||(id=(0,z.tZ)(ad,null)),(0,z.tZ)(td,{changeActivePanel:e})):o?(0,z.tZ)(td,{changeActivePanel:e}):od||(od=(0,z.tZ)(nd,null))))},ld=()=>{const{translate:e}=(0,j.Z)();return(0,z.tZ)(Ir,{sectionTitle:e("webapp_account_security_settings_two_factor_authentication_title")},(0,z.tZ)("div",{id:"twoFactorAuthLoading",sx:{marginTop:"20px"},title:e("webapp_loader_loading")},(0,z.tZ)(s.HoD,{color:s.O9T.midGreen01,size:40,"aria-describedby":"twoFactorAuthLoading"})))},cd={SECTION_CONTAINER:{fontSize:1,marginTop:"5px",display:"inline-block",color:s.O9T.grey00},BUTTON:{display:"flex",alignItems:"center",textDecoration:"none"},CONTENT:{marginRight:"5px"}},dd=({error:e,message:t})=>{const{translate:a}=(0,j.Z)(),n=(0,z.tZ)(s.nvN,{size:"x-small",sx:cd.SECTION_CONTAINER},a(t)),i=(0,z.tZ)("div",{style:{marginTop:"20px",maxWidth:"300px"}},(0,z.tZ)(s.vDh,{severity:"alert",size:"small",title:a(t)})),o=e?i:n;return(0,z.tZ)(Ir,{sectionTitle:a("webapp_account_security_settings_two_factor_authentication_title")},o)};var ud;const pd=({changeActivePanel:e,onDialogStateChanged:t,twoFactorAuthenticationInfo:a})=>{const n={[p.TwoFactorAuthenticationErrorCode.UNKNOWN_ERROR]:"webapp_account_security_settings_two_factor_authentication_turn_on_generic_error"};if(a&&a.status!==p.TwoFactorAuthenticationInfoRequestStatus.PENDING&&a.status!==p.TwoFactorAuthenticationInfoRequestStatus.UNKNOWN){if(a?.status===p.TwoFactorAuthenticationInfoRequestStatus.READY&&a?.type!==p.TwoFactorAuthenticationType.SSO)return(0,z.tZ)(rd,{changeActivePanel:e,onDialogStateChanged:t,twoFactorAuthenticationInfo:a});{const e=a?.status===p.TwoFactorAuthenticationInfoRequestStatus.READY&&a?.type===p.TwoFactorAuthenticationType.SSO,t=a?.status===p.TwoFactorAuthenticationInfoRequestStatus.ERROR?n[a.errorCode]:e?"webapp_account_security_settings_two_factor_authentication_disabled_sso":"webapp_account_security_settings_two_factor_authentication_disabled";return(0,z.tZ)(dd,{error:a.status===p.TwoFactorAuthenticationInfoRequestStatus.ERROR,message:t})}}return ud||(ud=(0,z.tZ)(ld,null))};var md=a(975131),_d=a(785362);const gd={ProtectPasswords:{alert:"webapp_account_security_settings_master_password_options_require_passwords_alert_enabled",dialogKeys:{title:"webapp_lock_items_require_master_password_for_passwords_title_on",subtitle:"webapp_lock_items_require_master_password_for_passwords_subtitle_on",confirm:"webapp_lock_items_require_master_password_confirm_on"}}},hd={ProtectPasswords:{alert:"webapp_account_security_settings_master_password_options_require_passwords_alert_disabled",dialogKeys:{title:"webapp_lock_items_require_master_password_for_passwords_title_off",subtitle:"webapp_lock_items_require_master_password_for_passwords_subtitle_off",confirm:"webapp_lock_items_require_master_password_confirm_off"}}},bd=()=>{const{translate:e}=(0,j.Z)(),t=(0,ye.V)(),a=(0,md.q)(),{areProtectedItemsUnlocked:i,openProtectedItemsUnlocker:o}=(0,fe.tY)(),[r,l]=(0,n.useState)(!1),c=async(a,n)=>{l(!0),await g.C.updateProtectPasswordsSetting(n),l(!1),t.showAlert(e(a),s.BLW.SUCCESS),(0,O.N)(n?N.PageView.SettingsSecurityProtectWithMasterPasswordEnable:N.PageView.SettingsSecurityProtectWithMasterPasswordDisable),(0,O.N)(n?N.PageView.SettingsSecurityProtectWithMasterPasswordCredentialsEnable:N.PageView.SettingsSecurityProtectWithMasterPasswordCredentialsDisable),(0,_d.a2)(n)};return(0,z.tZ)(Ir,{sectionTitle:e("webapp_account_security_settings_master_password_options_title")},(0,z.tZ)(s.nvN,{color:s.O9T.grey00},e("webapp_account_security_settings_master_password_options_subtitle")),a.status===Ft.rq.Loading?(0,z.tZ)(s.HoD,{size:40,color:s.O9T.midGreen01,"aria-busy":"true","aria-live":"polite"}):null,a.status===Ft.rq.Success?(0,z.tZ)("ul",{sx:{mt:"8px"}},(0,z.tZ)("li",{sx:{display:"flex",justifyContent:"space-between"}},(0,z.tZ)(s.nvN,{color:s.O9T.dashGreen00},e("webapp_account_security_settings_master_password_options_require_passwords")),(0,z.tZ)(s.ZDl,{"aria-label":e("webapp_account_security_settings_master_password_options_require_passwords_toggle_aria_label"),disabled:r,checked:a.data,onChange:()=>(e=>{const t=Object.keys(e)[0],a=e[t],n=a?gd:hd,s=n[t].alert;i?c(s,a):(o({itemType:Ne.Ru.SecuritySettings,options:{fieldsKeys:n[t].dialogKeys,translated:!1},successCallback:()=>c(s,a)}),(0,_d.u$)())})({ProtectPasswords:!a.data})}))):null)};var Cd,wd,yd=a(860039);const Ed=({onNavigateOut:e,changeActivePanel:t,onDialogStateChanged:a})=>{const{translate:i}=(0,j.Z)(),o=(0,yd.F)(),s=!o,r=(0,Tc.h)(),l=(0,it.w)(Cr),c=(0,Ac.dG)(),d=Sc();return(0,n.useEffect)((()=>{(async()=>{await g.C.refreshTwoFactorAuthenticationInfo()})(),(async()=>{await g.C.refreshU2FDevicesList()})()}),[]),n.createElement(tr,{headingText:i("webapp_account_security_settings_heading"),onNavigateOut:e},n.createElement($c,{changeActivePanel:t,webAuthnOptedIn:c.optedIn,authenticators:c.authenticators,onDialogStateChanged:a}),n.createElement(pd,{changeActivePanel:t,onDialogStateChanged:a,twoFactorAuthenticationInfo:d}),s?n.createElement(Fc,{changeActivePanel:t,twoFactorAuthenticationInfo:d}):null,o||!r&&!l?null:n.createElement(kc,{changeActivePanel:t}),o?null:Cd||(Cd=n.createElement(bd,null)),wd||(wd=n.createElement(Wc,null)))};var Id=a(222614);const Nd=(e,t)=>{(0,O.K)(new N.UserChangeMasterPasswordEvent({flowStep:e,errorName:t||void 0}))},fd=e=>Nd(N.FlowStep.Error,e);var vd;!function(e){e.WRONG_PASSWORD_ERROR="wrong_password",e.PASSWORDS_DONT_MATCH_ERROR="passwords_dont_match",e.WEAK_PASSWORD_ERROR="weak_password",e.SAME_MASTER_PASSWORD="same_master_password"}(vd||(vd={}));const Sd="webapp_account_security_settings_changemp_panel_show_label",Dd="webapp_account_security_settings_changemp_panel_hide_label",xd={0:"webapp_account_security_settings_zxcvbn_weakest_password",1:"webapp_account_security_settings_zxcvbn_weak_password",2:"webapp_account_security_settings_zxcvbn_acceptable_password",3:"webapp_account_security_settings_zxcvbn_good_password",4:"webapp_account_security_settings_zxcvbn_awesome_password"},Md=({onNavigateOut:e,onShowPasswordTips:t,onConfirmChangeMasterPassword:a})=>{const{translate:i}=(0,j.Z)(),[o,r]=(0,n.useState)(!1);n.useEffect((()=>{(0,O.N)(N.PageView.SettingsSecurityChangeMasterPassword),Nd(N.FlowStep.Start)}),[]);const[l,c]=(0,n.useState)(""),[d,u]=(0,n.useState)(null),[p,m]=(0,n.useState)(""),[_,h]=(0,n.useState)(null),{passwordStrength:b,resetPasswordStrength:C,setPasswordStrength:w,isPasswordStrengthScore:y,isPasswordStrongEnough:E}=(0,Id.R)(),[I,f]=(0,n.useState)(""),[v,S]=(0,n.useState)(null);return n.createElement(tr,{headingText:i("webapp_account_security_settings_changemp_panel_heading"),onNavigateOut:()=>{Nd(N.FlowStep.Cancel),e()}},n.createElement(Ir,{sectionTitle:i("webapp_account_security_settings_changemp_panel_subtitle")},n.createElement("form",{autoComplete:"off",noValidate:!0,onSubmit:e=>{e.preventDefault(),E?p===l?(fd(N.ChangeMasterPasswordError.SamePasswordError),h(vd.SAME_MASTER_PASSWORD)):p!==I?(fd(N.ChangeMasterPasswordError.PasswordsDontMatch),S(vd.PASSWORDS_DONT_MATCH_ERROR)):(r(!0),a(l,p)):(fd(N.ChangeMasterPasswordError.WeakPasswordError),h(vd.WEAK_PASSWORD_ERROR))}},n.createElement("button",{type:"button",className:"infoButton--Bspa0JZ2s2",onClick:()=>{t()}},n.createElement("p",{className:"infoText--mDxOuCZ8Tp"},i("webapp_account_security_settings_changemp_panel_infotext")),n.createElement("span",{className:"icon--l5QccFOqPm"},n.createElement(s.jcJ,{size:12,color:s.O9T.midGreen00}))),n.createElement("section",{className:"changePasswordSection--fUuBku_Js4"},n.createElement(s.WUg,{autoFocus:!0,showPasswordTooltipText:i(Sd),hidePasswordTooltipText:i(Dd),placeholder:i("webapp_account_security_settings_changemp_panel_currentmp_placeholder"),label:i("webapp_account_security_settings_changemp_panel_currentmp"),onBlur:async()=>{if(l)try{const{isMasterPasswordValid:e}=await g.C.checkIfMasterPasswordIsValid({masterPassword:l});e||(fd(N.ChangeMasterPasswordError.WrongPasswordError),u(vd.WRONG_PASSWORD_ERROR))}catch(e){fd(N.ChangeMasterPasswordError.WrongPasswordError),u(vd.WRONG_PASSWORD_ERROR)}},onChange:e=>{const t=e.target.value;u(null),c(t),_===vd.SAME_MASTER_PASSWORD&&p!==t&&h(null)},value:l,feedbackType:d?"error":void 0,feedbackText:d===vd.WRONG_PASSWORD_ERROR?i("webapp_account_security_settings_changemp_panel_error_incorrect_mp"):void 0}),n.createElement("div",null,n.createElement(s.WUg,{"aria-describedby":"password-tooltip",showPasswordTooltipText:i(Sd),hidePasswordTooltipText:i(Dd),placeholder:i("webapp_account_security_settings_changemp_panel_newmp_placeholder"),label:i("webapp_account_security_settings_changemp_panel_newmp"),onBlur:()=>{p&&(p&&!E?(fd(N.ChangeMasterPasswordError.WeakPasswordError),h(vd.WEAK_PASSWORD_ERROR)):p===l?(fd(N.ChangeMasterPasswordError.SamePasswordError),h(vd.SAME_MASTER_PASSWORD)):I&&p&&p!==I&&(fd(N.ChangeMasterPasswordError.PasswordsDontMatch),S(vd.PASSWORDS_DONT_MATCH_ERROR)))},onChange:async e=>{const t=e.target.value;if(m(t),_&&h(null),v&&S(null),""!==t){const e=await g.C.evaluatePassword({password:t});e&&w(e)}else C()},value:p,feedbackType:_?"error":void 0,feedbackText:_===vd.WEAK_PASSWORD_ERROR?i("webapp_account_security_settings_changemp_panel_error_weak_pw"):_===vd.SAME_MASTER_PASSWORD?i("webapp_account_security_settings_changemp_panel_error_same_pw"):void 0}),!_&&b&&y(b.score)&&n.createElement(s.YVT,{score:b.score,showAdditionalText:!0,additionalText:i(`${xd[b.score]}`)})),n.createElement(s.WUg,{showPasswordTooltipText:i(Sd),hidePasswordTooltipText:i(Dd),placeholder:i("webapp_account_security_settings_changemp_panel_confirmmp_placeholder"),label:i("webapp_account_security_settings_changemp_panel_confirmmp"),onBlur:()=>{I&&I!==p&&(fd(N.ChangeMasterPasswordError.PasswordsDontMatch),S(vd.PASSWORDS_DONT_MATCH_ERROR))},onChange:e=>{S(null),f(e.target.value)},value:I,feedbackType:v?"error":void 0,feedbackText:v?i("webapp_account_security_settings_changemp_panel_error_pw_dont_match"):void 0})),n.createElement("section",{className:"actionsSection--cT0JfywuL_"},n.createElement(s.zxk,{nature:"primary",size:"small",type:"submit",disabled:(()=>{const e=!l||!p||!I,t=I===p,a=Boolean(d||_||v);return e||!t||!E||a||o})()},i("webapp_account_security_settings_changemp_panel_button_confirm"))))))};var Td,Ad=a(820326);const kd=({onNavigateOut:e})=>{const{translate:t}=(0,j.Z)();return n.createElement(tr,{headingText:t("webapp_account_security_settings_passwordtips_panel_heading"),onNavigateOut:e},n.createElement(Ir,{sectionTitle:t("webapp_account_security_settings_passwordtips_panel_subtitle")},Td||(Td=n.createElement(Ad.t,null))))},Zd={enter:"enter--eDZ8ySAq7M",enterActive:"enterActive--TgqXVICVbC",exit:"exit--Q1ZSvWr9oe",exitActive:"exitActive--wWDxw2BoDU"},Od={enter:"enter--d2nmtK6oXu",enterActive:"enterActive--Vd9n69X94e",exit:"exit--KiytjzvxhC",exitActive:"exitActive--wGGPNH9QfJ"},Ld=parseInt(ds()["--edit-panel-animation-duration-enter"],10);let Pd;!function(e){e[e.Root=0]="Root",e[e.PasswordTipsPanel=1]="PasswordTipsPanel"}(Pd||(Pd={}));const zd=({onNavigateOut:e})=>{const[t,a]=(0,n.useState)(Pd.Root);return n.createElement("div",null,n.createElement(r.Z,null,t===Pd.Root?n.createElement(l.Z,{classNames:Zd,timeout:Ld},n.createElement(Md,{key:"for-TransitionGroup-security-settings-changemp-form",onNavigateOut:e,onShowPasswordTips:()=>{a(Pd.PasswordTipsPanel)},onConfirmChangeMasterPassword:(e,t)=>{(async(e,t)=>{e&&t&&await g.C.changeMasterPassword({currentPassword:e,newPassword:t,flow:p.ChangeMPFlowPath.USER_CHANGING_MP})})(e,t)}})):null,t===Pd.PasswordTipsPanel?n.createElement(l.Z,{classNames:Od,timeout:Ld},n.createElement(kd,{key:"for-TransitionGroup-security-settings-changemp-subpanel-passwordtips",onNavigateOut:()=>{a(Pd.Root)}})):null))};var jd=a(611066),Rd=a(889959);var Ud,Bd;const Fd="webapp_account_security_settings_passwordless_login_methods_menu_title",Wd=({authenticator:e,onRemoveAuthenticator:t})=>{const{credentialId:a,name:i}=e,{translate:o}=(0,j.Z)(),[r,l]=n.useState(!1),c=n.createElement(s.W7o,{onClick:()=>{t(a)}},n.createElement(s.Ejs,{flexDirection:"row",flexWrap:"nowrap",alignItems:"center"},Ud||(Ud=n.createElement(s.XHJ,{size:16,"aria-hidden":"true"})),n.createElement(s.nvN,{size:"small",color:s.O9T.dashGreen00,bold:!0},o("webapp_account_security_settings_passwordless_login_methods_menu_delete"))));return n.createElement("li",{className:"authenticator--h2BHIARxFF"},n.createElement(s.Ejs,{justifyContent:"space-between",alignItems:"center",gap:"30px"},n.createElement(s.nvN,null,i),n.createElement("div",{className:"dropdownContainer--wB_yaS6naQ"},n.createElement(s.h_2,{offset:[0,4],placement:"bottom-end",content:c},n.createElement(s.hU,{type:"button",size:"small",onClick:e=>{e.stopPropagation(),l(!r)},"aria-label":o(Fd),title:o(Fd),icon:Bd||(Bd=n.createElement(s.YAX,{size:20,rotate:90}))})))))};var Gd;const Vd="webapp_account_security_settings_passwordless_login_methods_plaftorm",Yd=({authenticators:e,userHasWebAuthnPlatformAuthenticator:t,onClickTriggerWebAuthnAuthenticator:a,onRemoveWebAuthnAuthenticator:i})=>{const{translate:o}=(0,j.Z)(),r=t?"webapp_account_security_settings_passwordless_login_methods_all_authenticators_add":"webapp_account_security_settings_passwordless_login_methods_noplatform_add";if(!e)return null;const l=(e=>{if(1===e.length&&!e[0].isRoaming)return e[0].name=o(Vd),[...e];let t=0,a=0;return e.reduce(((e,n)=>{let i;n.isRoaming?(t++,i=`${o("webapp_account_security_settings_passwordless_login_methods_roaming")} ${t}`):(a++,i=`${o(Vd)} ${a}`);const s={...n,name:i};return e.push(s),e}),[])})(e);return n.createElement(Ir,{sectionTitle:o("webapp_account_security_settings_passwordless_login_methods_title"),action:n.createElement(s.hU,{type:"button",size:"small",onClick:a,"aria-label":o(r),title:o(r),icon:Gd||(Gd=n.createElement(s.dtP,{size:16}))})},n.createElement("ol",null,l.map((e=>n.createElement(Wd,{key:e.credentialId,authenticator:e,onRemoveAuthenticator:i})))))},Hd=({onNavigateOut:e,onDialogStateChanged:t})=>{const{translate:a}=(0,j.Z)(),{authenticators:i,optedIn:o}=(0,Ac.dG)(),{openWebAuthnRemoveLastAuthenticatorDialog:s,onRemoveWebAuthnAuthenticator:r}=(0,Ac.$_)({onDialogStateChanged:t}),[l,c]=(0,n.useState)(!1);(0,n.useEffect)((()=>{l||(async()=>{const e=await(0,jd.FI)();c(e)})()}),[l]);const d=(0,n.useCallback)((e=>{const t=i?.find((t=>t.credentialId===e));if(t){const a=1===i?.length&&o,n=Boolean(t?.isRoaming);a?s(e,n):r(e,n)}}),[o,i,r,s]),u=l?"webapp_account_security_settings_passwordless_all_authenticators_title":"webapp_account_security_settings_passwordless_noplatform_title";return n.createElement(tr,{headingText:a(u),onNavigateOut:e},n.createElement(Yd,{userHasWebAuthnPlatformAuthenticator:l,onClickTriggerWebAuthnAuthenticator:async()=>{const e=(0,es.Me)();if(!e)throw new Error("WebAuthn attestation cannot be completed as extension Id is missing");const t=await g.C.initRegisterWebAuthnAuthenticator({relyingPartyId:e});if(t.success){const e=await(0,Rd.G)(t.response.publicKeyOptions),a=(0,jd.Sq)();await g.C.registerWebAuthnAuthenticator({credential:e,isRoaming:a})}},authenticators:i,onRemoveWebAuthnAuthenticator:d}))},qd=parseInt(ds()["--edit-panel-animation-duration-enter"],10);let Qd;!function(e){e[e.WebAuthn=0]="WebAuthn",e[e.AccountRecovery=1]="AccountRecovery",e[e.ChangeMP=2]="ChangeMP",e[e.Root=3]="Root",e[e.TwoFactorAuthentication=4]="TwoFactorAuthentication"}(Qd||(Qd={}));const Xd=({onNavigateOut:e,onDialogStateChanged:t})=>{const[a,i]=(0,n.useState)(Qd.Root),o=()=>{(0,O.N)(N.PageView.SettingsSecurity),i(Qd.Root)};return n.createElement("div",null,n.createElement(r.Z,null,a===Qd.Root?n.createElement(l.Z,{classNames:Zd,timeout:qd},n.createElement(Ed,{key:"for-TransitionGroup-security-settings-root",onNavigateOut:e,changeActivePanel:i,onDialogStateChanged:t})):null,a===Qd.ChangeMP?n.createElement(l.Z,{classNames:Od,timeout:qd},n.createElement(zd,{key:"for-TransitionGroup-security-settings-subpanel-changemp",onNavigateOut:o})):null,a===Qd.AccountRecovery?n.createElement(l.Z,{classNames:Od,timeout:qd},n.createElement(Yr,{key:"for-TransitionGroup-security-settings-subpanel-account-recovery",onNavigateOut:o})):null,a===Qd.TwoFactorAuthentication?n.createElement(l.Z,{classNames:Od,timeout:qd},n.createElement(xc,{key:"for-TransitionGroup-security-settings-subpanel-account-recovery",onNavigateOut:o})):null,a===Qd.WebAuthn?n.createElement(l.Z,{classNames:Od,timeout:qd},n.createElement(Hd,{key:"for-TransitionGroup-security-settings-subpanel-webauthn",onNavigateOut:o,onDialogStateChanged:t})):null))};let Kd;!function(e){e[e.Root=0]="Root",e[e.Invoices=1]="Invoices",e[e.ChangeContactEmail=2]="ChangeContactEmail"}(Kd||(Kd={}));var Jd=a(274187),$d=a(919005);const eu=e=>{(0,O.K)(new N.UserChangeContactEmailEvent({flowStep:e}))},tu=eu.bind(null,N.FlowStep.Start),au=eu.bind(null,N.FlowStep.Error),nu=eu.bind(null,N.FlowStep.Complete),iu="sectionHeading--mmNtq9aVyF",ou="section--PRu3bWKg26",su={CONTACT_FIELD_DESCRIPTION:{color:"ds.text.neutral.quiet",marginBottom:"16px"}},ru=({accountInfo:e,onNavigateOut:t,changeActivePanel:a})=>{var n;const{translate:i}=(0,j.Z)(),r=(0,Jd.G)(),l=(0,$d.f)();return(0,we.tZ)(tr,{headingText:i("webapp_account_management_panel_heading"),onNavigateOut:t,contentClassName:"content--EgcRsehEZ7"},(0,we.tZ)("div",{className:ou},(0,we.tZ)(we.oi,{label:i("webapp_account_management_label_login_email"),type:"email",readOnly:!0,id:"account-login-email",value:l}),(0,we.tZ)(s.nvN,{size:"small",sx:su.CONTACT_FIELD_DESCRIPTION},i.markup("webapp_account_management_description_login_email_markup",{},{linkTarget:"_blank"}))),(0,we.tZ)("div",{className:ou},(0,we.tZ)("h2",{className:iu},i("webapp_account_management_privacy_section_heading")),(0,we.tZ)(we.zx,{mood:"neutral",intensity:"quiet",size:"small","aria-label":i("webapp_account_management_privacy_edit_a11y_label"),onClick:()=>{const t=(0,Ns.aH)(o.LL,e.subscriptionCode);(0,je.Yk)(t,{type:"account",subtype:"details",action:"managePrivacySettings"})}},i("webapp_account_management_privacy_edit_button"))),(0,we.tZ)("div",{className:ou},(0,we.tZ)("h2",{className:iu},i("webapp_account_management_verification_section_heading")),(0,we.tZ)(we.oi,{label:i("webapp_account_management_label_contact_email"),type:"email",readOnly:!0,id:"account-contact-email",value:null!=(n=r?.email)?n:l}),(0,we.tZ)(s.nvN,{size:"small",sx:su.CONTACT_FIELD_DESCRIPTION},i("webapp_account_management_contact_email_description")),(0,we.tZ)(we.zx,{mood:"neutral",intensity:"quiet",onClick:()=>{tu(),a(Kd.ChangeContactEmail)},sx:{marginBottom:"32px"},"aria-label":i("webapp_account_management_change_contact_email_a11y_label")},i("webapp_account_management_change_contact_email_button"))))};var lu=a(519843);const cu="webapp_change_contact_email_new_email_label",du="webapp_change_contact_email_error_email_format",uu="changeAccountEmailErrorId",pu={EMAIL_CONTAINER:{minHeight:"120px"},CONFIRM_BUTTON:{marginTop:"0"},GENERIC_ERROR_MESSAGE:{color:s.O9T.functionalRed01}},mu="contactEmail",_u={contactEmail:""},gu=({effectiveContactEmail:e,onNavigateOut:t})=>{const{translate:a}=(0,j.Z)(),n=(0,ye.V)(),{areProtectedItemsUnlocked:i,openProtectedItemsUnlocker:o}=(0,fe.tY)();return(0,we.tZ)(_l.J9,{onSubmit:(r,{setSubmitting:l,setFieldError:c})=>{if(l(!1),(0,Ca.vV)(r.contactEmail))if(r.contactEmail===e)au(),c(mu,a("webapp_change_contact_email_error_identical_email"));else{l(!0);const e=async()=>{const e=await g.C.editContactInfo({contactEmail:r.contactEmail});if(l(!1),e.success)nu(),n.showAlert(a("webapp_change_contact_email_alert_success"),s.BLW.SUCCESS),t();else switch(au(),e.error.code){case p.EditContactInfoErrorCode.INVALID_EMAIL:case p.EditContactInfoErrorCode.EMPTY_EMAIL:c(mu,a(du));break;case p.EditContactInfoErrorCode.UNKNOWN_ERROR:default:n.showAlert((0,we.tZ)(s.nvN,{bold:!0,sx:pu.GENERIC_ERROR_MESSAGE},a("webapp_change_contact_email_error_generic")),s.BLW.ERROR)}};i?e():o({itemType:Ne.Ru.UpdateContactEmail,options:{fieldsKeys:{title:"webapp_change_contact_email_master_password_unlock_title",subtitle:"webapp_change_contact_email_master_password_unlock_description",confirm:"webapp_change_contact_email_confirm_change_button",placeholder:"webapp_change_contact_email_master_password_unlock_placeholder"},translated:!1},successCallback:e,cancelCallback:()=>l(!1)})}else au(),c(mu,a(du))},initialValues:_u},(({dirty:e,isSubmitting:t})=>(0,we.tZ)(_l.l0,{autoComplete:"off",noValidate:!0},(0,we.tZ)(s.Ejs,{sx:pu.EMAIL_CONTAINER},(0,we.tZ)(_l.gN,{name:mu},(({field:e,meta:t})=>(0,we.tZ)(we.oi,{type:"email",id:"account-management-change-contact-email-new-id",placeholder:a(cu),label:a(cu),...e,value:e.value,feedback:t.error?{id:uu,type:"error",text:t.error}:void 0,"aria-describedby":t.error&&uu})))),(0,we.tZ)(s.Ejs,{justifyContent:"flex-end"},(0,we.tZ)(s.zxk,{disabled:!e||t,sx:pu.CONFIRM_BUTTON,type:"submit"},a("webapp_change_contact_email_confirm_change_button"))))))};var hu;const bu={DESCRIPTION:{borderTop:`1px solid ${s.O9T.grey05}`,paddingTop:"15px"},FORM_CONTAINER:{marginTop:"18px"},SECTION_CONTAINER:{padding:"0 32px"},CONFIRM_BUTTON:{marginTop:"48px"}},Cu=({onNavigateOut:e})=>{var t;const{translate:a}=(0,j.Z)(),n=(0,Jd.G)(),i=(0,$d.f)(),o=null!=(t=n?.email)?t:i;return(0,we.tZ)(tr,{headingText:a("webapp_change_contact_email_section_title"),onNavigateOut:e},(0,we.tZ)(s.Ejs,{flexDirection:"column",sx:bu.SECTION_CONTAINER},(0,we.tZ)("div",{sx:bu.DESCRIPTION},(0,we.tZ)(s.nvN,{size:"small"},a("webapp_change_contact_email_section_description"))),(0,we.tZ)(s.Ejs,{flexDirection:"column",sx:bu.FORM_CONTAINER},(0,we.tZ)(we.oi,{id:"account-management-change-contact-email-current-id",readOnly:!0,label:a("webapp_change_contact_email_current_email_label"),value:o}),hu||(hu=(0,we.tZ)(lu.c,{height:18})),o?(0,we.tZ)(gu,{effectiveContactEmail:o,onNavigateOut:e}):null)))};a(416702),a(842403),a(798849);var wu=a(763300),yu=a.n(wu);const Eu=({onCancelDownloadRequested:e,isDownloadInvoiceRequested:t,onCustomizeInvoiceRequested:a,onDownloadInvoiceConfirmed:i})=>{const{translate:o}=(0,j.Z)();return n.createElement(r.Z,null,t&&n.createElement(l.Z,{classNames:{enter:"enter--SydOpkVgOk",enterActive:"enterActive--XvKuIDevTB",exit:"exit--sr3opJDBNH",exitActive:"exitActive--B_rect2WHJ"},timeout:200,appear:!0,unmountOnExit:!0},n.createElement("div",{className:"confirmDownload--dqLbqdd6Yb"},n.createElement("header",{className:"confirmDownloadHeader--Rz5oJTQEJP"},n.createElement("p",{className:"confirmDownloadMessage--lq1KY7VftZ"},o("webapp_account_invoices_item_confirm_download_message")),n.createElement(s.zxk,{type:"button",nature:"ghost",className:"unselectButton--faF8tD5GyC",title:o("webapp_account_invoices_item_cancel_download_tooltip"),onClick:e},n.createElement(s.Two,{size:20,color:s.O9T.dashGreen03,hoverColor:s.O9T.dashGreen00}))),n.createElement("div",{className:"confirmDownloadButtons--bBL4DtBINQ"},n.createElement(s.zxk,{type:"button",size:"small",nature:"secondary",className:"confirmDownloadButton--wh31nc2zEw",onClick:i},o("webapp_account_invoices_item_button_download")),n.createElement(s.zxk,{type:"button",size:"small",nature:"secondary",onClick:a},o("webapp_account_invoices_item_button_customize"))))))},Iu="itemInfoLabel--UWZP9KadLo",Nu="itemInfoValue--NnOGsimeVP",fu=e=>"mac"===e.planType||"ios"===e.planType||"ios_renewable"===e.planType||"playstore"===e.planType,vu=(e,t)=>{const a=["ios","playstore","mac"];for(const n of a)if(e.toLowerCase().includes(n))return t("webapp_account_invoices_item_app_store_"+n);return null},Su=({invoice:e,onDownloadInvoiceRequested:t,onCancelDownloadRequested:a,isDownloadInvoiceRequested:i,onCustomizeInvoiceRequested:o,onDownloadInvoiceConfirmed:r,index:l})=>{const{translate:c}=(0,j.Z)();return n.createElement("li",{className:"item--OinYRcNAGa"},0===l&&n.createElement("div",{className:"divider--JXzH9o4XyY"}),n.createElement("header",{className:"itemHeader--pqPWMeia5F"},n.createElement("div",{className:"itemDescription--KZnSn8eDBN _itemHeaderBlock--OxUJnsz3Z0"},((e,t)=>{const a=e.duration?parseInt(e.duration.split("-")[1],10):0,n=(e=>"premiumplus"===e.planFeature?"_plus":"essentials"===e.planFeature?"_essentials":"")(e),i=e.duration.includes("M-")?"_months":"_years";return fu(e)?t(`webapp_account_invoices_item_in_app_purchase${i}${n}`,{count:a,appStore:vu(e.planType,t)}):"premium_granted"===e.eventType?e.duration.includes("d-")?t("webapp_account_invoices_item_promotional_premium_days"+n,{count:a}):t(`webapp_account_invoices_item_promotional_premium${i}${n}`,{count:a}):"renewed"===e.eventType||"subscribed"===e.eventType?e.discountRatio?t(`webapp_account_invoices_item_discounted_subscription${i}${n}`,{count:a,discountPercentage:Math.floor(100*e.discountRatio)}):t(`webapp_account_invoices_item_full_price_subscription${i}${n}`,{count:a}):"crosssell_purchased"===e.eventType?t(`webapp_account_invoices_item_crosssell${i}${n}`,{count:a}):"family_created"===e.eventType||"family_renewed"===e.eventType?e.discountRatio?t(`webapp_account_invoices_item_discounted_family_subscription${i}${n}`,{count:a,discountPercentage:Math.floor(100*e.discountRatio)}):t(`webapp_account_invoices_item_full_price_family_subscription${i}${n}`,{count:a}):"set_as_legacy"===e.eventType?t("webapp_account_invoices_item_legacy"):null})(e,c)),n.createElement("div",{className:"itemAmount--uz_YQufHLp _itemHeaderBlock--OxUJnsz3Z0"},((e,t)=>{if(e.amountPaid){const a=e.currency||"usd";return t.price(a,e.amountPaid/100)}return t("webapp_account_invoices_item_free")})(e,c)," ")),n.createElement("div",{className:"itemDetails--4OhYARVjqv"},n.createElement("div",{className:"itemInfo--Bcd6Tae9mM"},n.createElement("div",null,n.createElement("span",{className:Iu},c("webapp_account_invoices_item_invoice_number")),n.createElement("span",{className:Nu},e.invoiceId?"INVPRE"+e.invoiceId:"-"," ")),n.createElement("div",null,n.createElement("span",{className:Iu},c("webapp_account_invoices_item_date")),n.createElement("span",{className:Nu},c.shortDate((0,qo.Z)(e.startDate),ne._T.ll)))),(e=>e.invoiceId&&"set_as_legacy"!==e.eventType&&!fu(e))(e)&&n.createElement(s.zxk,{type:"button",size:"small",nature:"secondary",onClick:()=>t(e)},c("webapp_account_invoices_item_download"))),n.createElement(Eu,{onCancelDownloadRequested:a,isDownloadInvoiceRequested:i,onCustomizeInvoiceRequested:o,onDownloadInvoiceConfirmed:r}))},Du=["premium_granted","renewed","subscribed","crosssell_purchased","family_created","family_renewed"],xu=({invoices:e,onDownloadInvoiceRequested:t,onCancelDownloadRequested:a,selectedInvoiceId:i,onCustomizeInvoiceRequested:o,onDownloadInvoiceConfirmed:s})=>{const{translate:r}=(0,j.Z)();if(!e||!e.length)return n.createElement("div",null,n.createElement("img",{alt:r("webapp_account_invoices_empty_list_image_alt"),src:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+Cjxzdmcgd2lkdGg9IjcycHgiIGhlaWdodD0iOTZweCIgdmlld0JveD0iMCAwIDcyIDk2IiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPgogICAgPCEtLSBHZW5lcmF0b3I6IHNrZXRjaHRvb2wgNDEuMiAoMzUzOTcpIC0gaHR0cDovL3d3dy5ib2hlbWlhbmNvZGluZy5jb20vc2tldGNoIC0tPgogICAgPHRpdGxlPkU2MUY1MzE2LUFBNzItNDkxOC05NEI1LTcyMzE0OEQ3OTUxMDwvdGl0bGU+CiAgICA8ZGVzYz5DcmVhdGVkIHdpdGggc2tldGNodG9vbC48L2Rlc2M+CiAgICA8ZGVmcz48L2RlZnM+CiAgICA8ZyBpZD0iU2V0dGluZ3MiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGlkPSJXZWJBcHBfcGFzc3dvcmRzXzE0NDB4OTAwX2FjY291bnQtcmVjZWlwdHMtZW1wdHlfbWNfdjEuMCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTEyMjQuMDAwMDAwLCAtMjUyLjAwMDAwMCkiIGZpbGw9IiNENkQ2RDYiPgogICAgICAgICAgICA8ZyBpZD0iQWNjb3VudC9TZXR0aW5ncyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTA4MC4wMDAwMDAsIDYwLjAwMDAwMCkiPgogICAgICAgICAgICAgICAgPGcgaWQ9ImlsbHVzdHJhdGlvbnMtcmVjZWlwdHMiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDE0NC4wMDAwMDAsIDE5Mi4wMDAwMDApIj4KICAgICAgICAgICAgICAgICAgICA8ZyBpZD0iTGF5ZXJfMSI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik03MS4wMDU1MjQ5LDk2IEwwLjk5NDQ3NTEzOCw5NiBDMC40NDUyNDE2ODUsOTYgMCw5NS41NjE0MjE4IDAsOTUuMDIwNDA4MiBMMCwwLjk3OTU5MTgzNyBDMCwwLjQzODU3ODIwNCAwLjQ0NTI0MTY4NSwwIDAuOTk0NDc1MTM4LDAgTDcxLjAwNTUyNDksMCBDNzEuNTU0NzU4MywwIDcyLDAuNDM4NTc4MjA0IDcyLDAuOTc5NTkxODM3IEw3Miw5NS4wMjA0MDgyIEM3Miw5NS41NjE0MjE4IDcxLjU1NDc1ODMsOTYgNzEuMDA1NTI0OSw5NiBaIE0yLDk0IEw3MCw5NCBMNzAsMiBMMiwyIEwyLDk0IFoiIGlkPSJTaGFwZSI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMzAuMDA5NDM0LDM5IEwxMC45OTA1NjYsMzkgQzEwLjQ0MzQ5MTUsMzkgMTAsMzguNTUyMjg0NyAxMCwzOCBDMTAsMzcuNDQ3NzE1MyAxMC40NDM0OTE1LDM3IDEwLjk5MDU2NiwzNyBMMzAuMDA5NDM0LDM3IEMzMC41NTY1MDg1LDM3IDMxLDM3LjQ0NzcxNTMgMzEsMzggQzMxLDM4LjU1MjI4NDcgMzAuNTU2NTA4NSwzOSAzMC4wMDk0MzQsMzkgWiIgaWQ9IlNoYXBlIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0zMC4wMDk0MzQsNTMgTDEwLjk5MDU2Niw1MyBDMTAuNDQzNDkxNSw1MyAxMCw1Mi41NTIyODQ3IDEwLDUyIEMxMCw1MS40NDc3MTUzIDEwLjQ0MzQ5MTUsNTEgMTAuOTkwNTY2LDUxIEwzMC4wMDk0MzQsNTEgQzMwLjU1NjUwODUsNTEgMzEsNTEuNDQ3NzE1MyAzMSw1MiBDMzEsNTIuNTUyMjg0NyAzMC41NTY1MDg1LDUzIDMwLjAwOTQzNCw1MyBaIiBpZD0iU2hhcGUiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTQzLDI1IEwxMSwyNSBDMTAuNDQ3NzE1MywyNSAxMCwyNC41NTIyODQ3IDEwLDI0IEMxMCwyMy40NDc3MTUzIDEwLjQ0NzcxNTMsMjMgMTEsMjMgTDQzLDIzIEM0My41NTIyODQ3LDIzIDQ0LDIzLjQ0NzcxNTMgNDQsMjQgQzQ0LDI0LjU1MjI4NDcgNDMuNTUyMjg0NywyNSA0MywyNSBaIiBpZD0iU2hhcGUiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTYxLjAzODQ2MTUsMzkgTDU3Ljk2MTUzODUsMzkgQzU3LjQzMDQ5NTQsMzkgNTcsMzguNTUyMjg0NyA1NywzOCBDNTcsMzcuNDQ3NzE1MyA1Ny40MzA0OTU0LDM3IDU3Ljk2MTUzODUsMzcgTDYxLjAzODQ2MTUsMzcgQzYxLjU2OTUwNDYsMzcgNjIsMzcuNDQ3NzE1MyA2MiwzOCBDNjIsMzguNTUyMjg0NyA2MS41Njk1MDQ2LDM5IDYxLjAzODQ2MTUsMzkgWiIgaWQ9IlNoYXBlIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik02MS4wMzg0NjE1LDUzIEw1Ny45NjE1Mzg1LDUzIEM1Ny40MzA0OTU0LDUzIDU3LDUyLjU1MjI4NDcgNTcsNTIgQzU3LDUxLjQ0NzcxNTMgNTcuNDMwNDk1NCw1MSA1Ny45NjE1Mzg1LDUxIEw2MS4wMzg0NjE1LDUxIEM2MS41Njk1MDQ2LDUxIDYyLDUxLjQ0NzcxNTMgNjIsNTIgQzYyLDUyLjU1MjI4NDcgNjEuNTY5NTA0Niw1MyA2MS4wMzg0NjE1LDUzIFoiIGlkPSJTaGFwZSI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNNjEuMDUxNzI0MSw2NyBMNTEuOTQ4Mjc1OSw2NyBDNTEuNDI0NTU3Niw2NyA1MSw2Ni41NTIyODQ3IDUxLDY2IEM1MSw2NS40NDc3MTUzIDUxLjQyNDU1NzYsNjUgNTEuOTQ4Mjc1OSw2NSBMNjEuMDUxNzI0MSw2NSBDNjEuNTc1NDQyNCw2NSA2Miw2NS40NDc3MTUzIDYyLDY2IEM2Miw2Ni41NTIyODQ3IDYxLjU3NTQ0MjQsNjcgNjEuMDUxNzI0MSw2NyBaIiBpZD0iU2hhcGUiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTYxLjAzODQ2MTUsMjUgTDU3Ljk2MTUzODUsMjUgQzU3LjQzMDQ5NTQsMjUgNTcsMjQuNTUyMjg0NyA1NywyNCBDNTcsMjMuNDQ3NzE1MyA1Ny40MzA0OTU0LDIzIDU3Ljk2MTUzODUsMjMgTDYxLjAzODQ2MTUsMjMgQzYxLjU2OTUwNDYsMjMgNjIsMjMuNDQ3NzE1MyA2MiwyNCBDNjIsMjQuNTUyMjg0NyA2MS41Njk1MDQ2LDI1IDYxLjAzODQ2MTUsMjUgWiIgaWQ9IlNoYXBlIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0zNSw5NCBMMzUsODguOTU2OTM3OCBDMzUsODguNDI4NDM1NiAzNS40NDc3MTUzLDg4IDM2LDg4IEMzNi41NTIyODQ3LDg4IDM3LDg4LjQyODQzNTYgMzcsODguOTU2OTM3OCBMMzcsOTQgTDM1LDk0IFoiIGlkPSJTaGFwZSI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNNDcsOTQgTDQ3LDg4Ljk1NjkzNzggQzQ3LDg4LjQyODQzNTYgNDcuNDQ3NzE1Myw4OCA0OCw4OCBDNDguNTUyMjg0Nyw4OCA0OSw4OC40Mjg0MzU2IDQ5LDg4Ljk1NjkzNzggTDQ5LDk0IEw0Nyw5NCBaIiBpZD0iU2hhcGUtQ29weS0zIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik01OCw5NCBMNTgsODguOTU2OTM3OCBDNTgsODguNDI4NDM1NiA1OC40NDc3MTUzLDg4IDU5LDg4IEM1OS41NTIyODQ3LDg4IDYwLDg4LjQyODQzNTYgNjAsODguOTU2OTM3OCBMNjAsOTQgTDU4LDk0IFoiIGlkPSJTaGFwZS1Db3B5LTQiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTIzLDk0IEwyMyw4OC45NTY5Mzc4IEMyMyw4OC40Mjg0MzU2IDIzLjQ0NzcxNTMsODggMjQsODggQzI0LjU1MjI4NDcsODggMjUsODguNDI4NDM1NiAyNSw4OC45NTY5Mzc4IEwyNSw5NCBMMjMsOTQgWiIgaWQ9IlNoYXBlLUNvcHkiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTEyLDk0IEwxMiw4OC45NTY5Mzc4IEMxMiw4OC40Mjg0MzU2IDEyLjQ0NzcxNTMsODggMTMsODggQzEzLjU1MjI4NDcsODggMTQsODguNDI4NDM1NiAxNCw4OC45NTY5Mzc4IEwxNCw5NCBMMTIsOTQgWiIgaWQ9IlNoYXBlLUNvcHktMiI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDwvZz4KICAgICAgICAgICAgICAgIDwvZz4KICAgICAgICAgICAgPC9nPgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zdmc+",className:"noReceiptsImage--QUvoeOXsGF"}),n.createElement("p",{className:"emptyInvoiceListMessage--A1GuFJSQXL"},r("webapp_account_invoices_empty_list_message")));const l=(e=>e.filter((e=>Du.includes(e.eventType))))(e);return n.createElement("ol",{className:"invoiceList--agVLN1enHn"},(e=>e.sort(((e,t)=>t.startDate-e.startDate)))(l).map(((e,r)=>n.createElement(Su,{key:e.eventType+e.startDate,invoice:e,onDownloadInvoiceRequested:t,onCancelDownloadRequested:a,isDownloadInvoiceRequested:!!e.invoiceId&&i===e.invoiceId,onCustomizeInvoiceRequested:o,onDownloadInvoiceConfirmed:s,index:r}))))},Mu={form:"form--IAB0r5z1Ii",divider:"divider--RzxGD_rUN8",buttonPanel:"buttonPanel--JUeXl6zM1a",customizeButton:"customizeButton--kMokFV9oSG"},Tu=({onDownloadInvoice:e,onCancel:t})=>{const{translate:a}=(0,j.Z)(),[i,o]=(0,n.useState)(""),[r,l]=(0,n.useState)(""),[c,d]=(0,n.useState)(""),[u,p]=(0,n.useState)("");return n.createElement("div",{className:Mu.form},n.createElement("div",{className:Mu.divider}),n.createElement(s.oil,{label:n.createElement("label",{htmlFor:"customize-invoice-recipient"},a("webapp_account_invoices_customize_recipient")),autoFocus:!0,fullWidth:!0,id:"customize-invoice-recipient",placeholder:a("webapp_account_invoices_customize_recipient_optional"),onChange:e=>o(e.target.value)}),n.createElement(s.oil,{label:n.createElement("label",{htmlFor:"customize-invoice-company"},a("webapp_account_invoices_customize_company")),fullWidth:!0,id:"customize-invoice-company",placeholder:a("webapp_account_invoices_customize_company_optional"),onChange:e=>l(e.target.value)}),n.createElement(s.oil,{label:n.createElement("label",{htmlFor:"customize-invoice-address"},a("webapp_account_invoices_customize_address")),id:"customize-invoice-address",multiline:!0,fullWidth:!0,onChange:e=>d(e.target.value),placeholder:a("webapp_account_invoices_customize_address_optional")}),n.createElement(s.oil,{label:n.createElement("label",{htmlFor:"customize-invoice-tax-number"},a("webapp_account_invoices_customize_tax_number")),fullWidth:!0,id:"customize-invoice-tax-number",placeholder:a("webapp_account_invoices_customize_tax_number_optional"),onChange:e=>p(e.target.value)}),n.createElement("div",{className:Mu.buttonPanel},n.createElement(s.zxk,{type:"button",nature:"primary",size:"small",className:Mu.customizeButton,onClick:()=>{const t={};""!==i&&(t.recipient=i),""!==r&&(t.company=r),""!==c&&(t.address=c),""!==u&&(t.vatNumber=u),e(t)}},a("webapp_account_invoices_customize_customize_button")),n.createElement(s.zxk,{type:"button",nature:"secondary",size:"small",className:Mu.button,onClick:t},a("webapp_account_invoices_customize_cancel_button"))))},Au=({onNavigateOut:e})=>{const{translate:t}=(0,j.Z)(),[a,i]=(0,n.useState)(null),[o,s]=(0,n.useState)(!1),[r,l]=(0,n.useState)(null),c=()=>{i(null),s(!1)};(0,n.useEffect)((()=>((async()=>{const e=await g.C.getInvoices(null);e&&e.invoices&&l(e.invoices)})(),()=>{c()})),[]);const d=async e=>{if(a){const n=`dashlane_invoice_${t.shortDate((0,qo.Z)(a?.startDate),ne._T.L)}`,i=await g.C.downloadCustomerInvoice({invoiceId:a.invoiceId,lang:"en",...e});if(i.success){const{data:e}=JSON.parse(i.data),t=new Uint8Array(e).buffer,a=new Blob([t],{type:"application/pdf"});yu()(a,n)}c()}},u=()=>{s(!1)};return o?n.createElement(tr,{headingText:t("webapp_account_invoices_customize_panel_heading"),onNavigateOut:u},n.createElement(Tu,{onDownloadInvoice:e=>d(e),onCancel:u})):n.createElement(tr,{headingText:t("webapp_account_invoices_panel_heading"),onNavigateOut:e},n.createElement(xu,{invoices:r,onDownloadInvoiceRequested:e=>{i(e)},onCancelDownloadRequested:()=>{i(null)},selectedInvoiceId:a?a.invoiceId:null,onCustomizeInvoiceRequested:()=>{s(!0)},onDownloadInvoiceConfirmed:()=>d()}))},ku=parseInt(ds()["--edit-panel-animation-duration-enter"],10),Zu={[Kd.Root]:e=>n.createElement(ru,{accountInfo:e.accountInfo,changeActivePanel:e.setActivePanel,onNavigateOut:e.onNavigateOut}),[Kd.Invoices]:e=>n.createElement(Au,{onNavigateOut:e.onSubPanelExitRequest}),[Kd.ChangeContactEmail]:e=>n.createElement(Cu,{onNavigateOut:e.onSubPanelExitRequest})},Ou=e=>{const[t,a]=n.useState(Kd.Root),i={...e,setActivePanel:a,onSubPanelExitRequest:()=>{a(Kd.Root)}};return n.createElement("div",{className:"rootContainer--q7fIVDc089"},n.createElement(r.Z,null,((e,t)=>n.createElement(l.Z,{classNames:e===Kd.Root?Zd:Od,timeout:ku,key:e},Zu[e]({...t})))(t,i)))},Lu=({isOpen:e,onDismiss:t,onConfirm:a})=>{const{translate:n}=(0,j.Z)();return(0,z.tZ)(os.o,{isOpen:e,disableBackgroundPanelClose:!0,onRequestClose:t,title:n("webapp_account_export_personal_data_title"),footer:(0,z.tZ)(s.cNS,{primaryButtonTitle:n("webapp_account_export_personal_data_continue"),primaryButtonOnClick:a,secondaryButtonTitle:n("webapp_account_export_personal_data_cancel"),secondaryButtonOnClick:t})},(0,z.tZ)(s.nvN,{color:s.O9T.dashGreen01},n("webapp_account_export_personal_data_subtitle")),(0,z.tZ)(s.vDh,{sx:{marginTop:"16px"},size:"small",title:n("webapp_account_export_personal_data_warning")}))},Pu=({reportError:e})=>{const{areProtectedItemsUnlocked:t,openProtectedItemsUnlocker:a}=(0,fe.tY)(),{translate:i}=(0,j.Z)(),o=(0,ye.V)(),[r,l]=n.useState(!1),c=async()=>{const t=await g.C.getPersonalDataExport({exportType:"csv"});t.success?(yu()(t.response.content,t.response.filename,"application/zip"),o.showAlert(i("webapp_account_import_export_data_csv_success_message"),s.BLW.SUCCESS),(0,O.K)(new N.UserExportDataEvent({backupFileType:N.BackupFileType.Csv}))):e(new Error(`Cannot export CSV file : ${t.error.code}`))},d=async()=>{await g.C.getIsForcedDomainsEnabled()?l(!0):c()};return(0,z.tZ)("div",null,(0,z.tZ)(s.Ejs,{sx:{padding:"0 16px",margin:"0 32px 24px"}},(0,z.tZ)(s.X6q,{size:"x-small",sx:{marginTop:"16px"}},i("webapp_account_import_export_data_sub_title2_export")),(0,z.tZ)(s.nvN,{size:"x-small",sx:{margin:"16px 0"},color:s.O9T.grey00},i("webapp_account_import_export_data_csv_help_text")),(0,z.tZ)(s.vDh,{sx:{marginBottom:"16px"},severity:"warning",size:"small",title:i("webapp_account_import_export_data_csv_warning_text")}),(0,z.tZ)(s.zxk,{nature:"secondary",type:"button",onClick:()=>{t?d():a({action:Ne.P7.Export,options:{fieldsKeys:{confirm:"webapp_lock_items_export"},translated:!1},itemType:Ne.Ru.ExportData,successCallback:d})}},i("webapp_account_import_export_data_csv_button"))),r?(0,z.tZ)(Lu,{isOpen:!0,onDismiss:()=>{l(!1)},onConfirm:()=>{c(),l(!1)}}):null)};var zu=a(513725),ju=a(735842);var Ru;!function(e){e.PASSWORDS_DONT_MATCH_ERROR="passwords_dont_match",e.WEAK_PASSWORD_ERROR="weak_password"}(Ru||(Ru={}));const Uu=({createPasswordInputLabel:e,createPasswordPlaceholderLabel:t,confirmPasswordInputLabel:a,confirmPasswordPlaceholderLabel:i,primaryButtonTitle:o,secondaryButtonTitle:r,onSubmit:l,onDismiss:c})=>{var d,u;const{translate:p}=(0,j.Z)(),[m,_]=n.useState(""),[h,b]=n.useState(null),[C,w]=n.useState(!0),[y,E]=n.useState(""),[I,N]=n.useState(null),{passwordStrength:f,resetPasswordStrength:v,setPasswordStrength:S,isPasswordStrengthScore:D,isPasswordStrongEnough:x}=(0,Id.R)(),[M,T]=n.useState(!1),A=e=>{if(e)return e===Ru.WEAK_PASSWORD_ERROR?p("webapp_sso_to_mp_error_weak_password"):p("webapp_sso_to_mp_error_passwords_dont_match")},k=()=>!m||!y||!(y===m)||!x||M;return(0,we.tZ)("form",{autoComplete:"off",noValidate:!0,onSubmit:async e=>{e.preventDefault(),k()||(m===y?(T(!0),await l(m),T(!1)):N(Ru.PASSWORDS_DONT_MATCH_ERROR))}},(0,we.tZ)("div",{className:"inputContainer--HyhaY7XKxY"},(0,we.tZ)("div",{className:"createPasswordContainer--kHVW3MrOEy"},(0,we.tZ)(zu.T,{id:"password-tooltip",passwordStrength:f,showTooltip:C},(0,we.tZ)(we.WU,{showPasswordButton:{showPasswordText:p("webapp_sso_to_mp_password_show_label"),hidePasswordText:p("webapp_sso_to_mp_password_hide_label")},onBlur:()=>{const e=m&&y&&m!==y;b(!m||x?null:Ru.WEAK_PASSWORD_ERROR),w(!1),N(e?Ru.PASSWORDS_DONT_MATCH_ERROR:null)},onFocus:()=>{w(!0)},onChange:async e=>{const t=e.target.value;_(t),h&&b(null),I&&N(null),""===t&&v();const a=await g.C.evaluatePassword({password:t});S(a)},placeholder:t||p("webapp_sso_to_mp_password_hint_text"),value:m,label:e||p("webapp_sso_to_mp_create_password_floating_label"),feedback:h?{type:"error",text:null!=(d=A(h))?d:""}:void 0})),f&&D(f.score)?(0,we.tZ)(s.YVT,{score:f.score,showAdditionalText:!0,additionalText:p(`account_creation_${ju.Yh[f.score]}`)}):null),(0,we.tZ)(we.WU,{value:y,showPasswordButton:{showPasswordText:p("webapp_sso_to_mp_confirm_password_show_label"),hidePasswordText:p("webapp_sso_to_mp_confirm_password_hide_label")},placeholder:i||p("webapp_sso_to_mp_confirm_password_hint_text"),onBlur:()=>{y&&m!==y&&N(Ru.PASSWORDS_DONT_MATCH_ERROR)},onChange:e=>{E(e.target.value),N(null)},label:a||p("webapp_sso_to_mp_confirm_password_floating_label"),feedback:I?{type:"error",text:null!=(u=A(I))?u:""}:void 0})),(0,we.tZ)(s.cNS,{primaryButtonTitle:o||p("webapp_sso_to_mp_create_password_button"),primaryButtonProps:{disabled:k(),type:"submit"},secondaryButtonTitle:r||null,secondaryButtonOnClick:c}))},Bu="webapp_create_unique_password_confirm_password_input",Fu=({onDismiss:e,onConfirm:t,isOpen:a})=>{const{translate:n}=(0,j.Z)(),i=w()([y.Ht]);return(0,z.tZ)(s.VqE,{closeIconName:n("_common_dialog_dismiss_button"),isOpen:a,onClose:e,disableOutsideClickClose:!0,modalContentClassName:i,disableUserInputTrap:!0},(0,z.tZ)(s.$N8,{title:n("webapp_create_unique_password_title")}),(0,z.tZ)(s.a7O,null,(0,z.tZ)(s.nvN,{color:s.O9T.dashGreen01},n("webapp_create_unique_password_subtitle"))),(0,z.tZ)(Uu,{createPasswordInputLabel:n("webapp_create_unique_password_enter_password_input"),createPasswordPlaceholderLabel:n("webapp_create_unique_password_create_password_placeholder"),confirmPasswordInputLabel:n(Bu),confirmPasswordPlaceholderLabel:n(Bu),primaryButtonTitle:n("webapp_create_unique_password_export_data_button"),secondaryButtonTitle:n("webapp_create_unique_password_cancel"),onSubmit:t,onDismiss:e}))},Wu=({reportError:e})=>{const{translate:t}=(0,j.Z)(),{areProtectedItemsUnlocked:a,openProtectedItemsUnlocker:i}=(0,fe.tY)(),o=(0,ye.V)(),[r,l]=n.useState(!1),[c,d]=n.useState(!1),u=async()=>{await g.C.getIsForcedDomainsEnabled()?l(!0):d(!0)};return(0,z.tZ)("div",null,(0,z.tZ)(s.Ejs,{sx:{padding:"0 16px",margin:"0 32px 24px"}},(0,z.tZ)(s.X6q,{size:"x-small",sx:{marginTop:"16px"}},t("webapp_account_import_export_data_sub_title_export")),(0,z.tZ)(s.nvN,{size:"x-small",sx:{margin:"16px 0"},color:s.O9T.grey00},t("webapp_account_import_export_data_help_text_secure_export")),(0,z.tZ)(s.zxk,{nature:"secondary",type:"button",onClick:()=>{a?u():i({action:Ne.P7.Export,itemType:Ne.Ru.ExportData,options:{fieldsKeys:{confirm:"webapp_lock_items_export"},translated:!1},successCallback:()=>u()})}},t("webapp_account_import_export_data_secure_export_button"))),r?(0,z.tZ)(Lu,{isOpen:!0,onDismiss:()=>{l(!1)},onConfirm:()=>{l(!1),d(!0)}}):null,c?(0,z.tZ)(Fu,{isOpen:!0,onConfirm:async a=>{const n=await g.C.getPersonalDataExport({exportType:"secure-dashlane",password:a});n.success?(yu()(n.response.content,n.response.filename,"text/dash"),d(!1),o.showAlert(t("webapp_account_import_export_data_secure_success_message"),s.BLW.SUCCESS),(0,O.K)(new N.UserExportDataEvent({backupFileType:N.BackupFileType.SecureVault}))):e(new Error(`Cannot export DASH file : ${n.error.code}`))},onDismiss:()=>{d(!1)}}):null)},Gu=({onNavigateOut:e,reportError:t})=>{const{translate:a}=(0,j.Z)();return(0,z.tZ)(tr,{headingText:a("webapp_account_import_export_data_heading"),onNavigateOut:e},(0,z.tZ)("hr",{sx:{border:"none",borderTop:`1px solid ${s.O9T.grey05}`,margin:"0 24px"}}),(0,z.tZ)(Wu,{reportError:t}),(0,z.tZ)("hr",{sx:{border:"none",borderTop:`1px solid ${s.O9T.grey05}`,margin:"0 24px"}}),(0,z.tZ)(Pu,{reportError:t}))},Vu=parseInt(ds()["--edit-panel-animation-duration-enter"],10),Yu={premiumStatus:{live:g.C.livePremiumStatus,query:g.C.getPremiumStatus},accountInfo:{query:g.C.getAccountInfo}},Hu={strategies:Yu},qu=(0,Fe.$)((0,We.i)((({lee:e,premiumStatus:t,accountInfo:a,onNavigateOut:o,onClickLogout:s,onClickPremium:c,onClickTeamConsole:d,onClickFamilyDashboard:u})=>{const p=(0,n.useRef)(null),[m,_]=(0,n.useState)(!1),[g,h]=(0,n.useState)(fs.Root),b=(0,i.CN)().get("view");(0,n.useEffect)((()=>{switch(b){case"devices":h(fs.DeviceManagement);break;case"security-settings":h(fs.SecuritySettings);break;default:h(fs.Root)}}),[b]);const C=e=>{_(e)},w=()=>{h(fs.Root),p.current&&p.current.focus()};(0,n.useEffect)((()=>{p.current&&p.current.focus()}),[]);const E=(0,i.k6)();if((0,n.useEffect)((()=>{const e=E.listen((()=>{o()}));return()=>e()}),[E,o]),null===t||null===a)return null;const I=window.location.href,N=!(0,es.hy)(I);return(0,z.tZ)(ns,{className:"panel--c5aovBMKAJ",onNavigateOut:()=>o(),ignoreClickOutsideClassName:`${y.oo} alertPopup--vjSN1Q_8VK`,ignoreCloseOnEscape:m},(0,z.tZ)("div",{tabIndex:-1,ref:p},(0,z.tZ)(r.Z,null,g===fs.Root?(0,z.tZ)(l.Z,{classNames:Zd,timeout:Vu},(0,z.tZ)(Ks,{key:"for-CSSTransition-root",premiumStatus:t,triggerSwitchPanel:e=>{h(e)},onClickLogout:s,onClickPremium:c,onClickTeamConsole:d,onClickFamilyDashboard:u,subCode:$o.Maybe.maybe(e.globalState.carbon.accountInfo.subscriptionCode),secureExportEnabled:N})):null,g===fs.AccountDetails?(0,z.tZ)(l.Z,{classNames:Od,timeout:Vu,exit:!1},(0,z.tZ)(Ou,{key:"for-TransitionGroup-subpanel-account-details",onNavigateOut:()=>w(),premiumStatus:t,accountInfo:a,lee:e,onDialogSateChanged:C,onClickTeamConsole:d})):null,g===fs.DeviceManagement&&(0,z.tZ)(l.Z,{classNames:Od,timeout:Vu,exit:!1},(0,z.tZ)(br,{key:"for-TransitionGroup-subpanel-device-mngmt",onNavigateOut:()=>w(),devices:e.carbon.devices,lee:e})),g===fs.ImportExportData&&(0,z.tZ)(l.Z,{classNames:Od,timeout:Vu},(0,z.tZ)(Gu,{key:"for-TransitionGroup-subpanel-export-data",onNavigateOut:()=>w(),reportError:e.reportError})),g===fs.SecuritySettings&&(0,z.tZ)(l.Z,{classNames:Od,timeout:Vu},(0,z.tZ)(Xd,{key:"for-TransitionGroup-subpanel-security-settings",onNavigateOut:()=>w(),onDialogStateChanged:C})))))}),Hu),Yu);var Qu=a(572960),Xu=a(540124);let Ku,Ju;var $u;!function(e){e.Bad="bad",e.Okay="okay",e.Great="great"}(Ku||(Ku={})),function(e){e.RateForm="rateform",e.ThankYou="thankyou",e.WebStore="webstore"}(Ju||(Ju={}));const ep={display:"flex",alignItems:"center",backgroundColor:s.O9T.dashGreen06,padding:"16px 18px",gap:"16px"},tp={paddingRight:"16px",flex:"1",overflowX:"hidden",display:"flex",justifyContent:"center",flexDirection:"column"},ap={fontSize:"10px",textTransform:"uppercase",color:"#0e353d",letterSpacing:"0.2px",lineHeight:"100%",fontWeight:"500"},np={width:"36px",height:"36px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",backgroundColor:s.O9T.dashGreen06,":hover":{backgroundColor:s.O9T.midGreen04,svg:{fill:s.O9T.dashGreen00}}},ip=({backLink:e,displayLogo:t,domain:a,title:n,onClose:i})=>{const{translate:o}=(0,j.Z)();return(0,z.tZ)("header",{sx:ep},t?$u||($u=(0,z.tZ)(s.Kie,{"aria-hidden":!0,size:27})):null,e,(0,z.tZ)("div",{sx:tp},a?(0,z.tZ)("div",{sx:ap},a):null,(0,z.tZ)(s.X6q,{sx:{fontWeight:"500",fontSize:"16px",color:s.O9T.dashGreen00}},n)),i?(0,z.tZ)("button",{type:"button",sx:np,onClick:i,"aria-label":o("closeWindow")},(0,z.tZ)(s.Two,{"aria-hidden":!0,color:s.O9T.dashGreen02,size:20})):null)},op={backgroundColor:s.O9T.white,margin:0,overflow:"hidden",width:"380px",borderRadius:"8px",boxShadow:"0px 4px 8px rgba(0, 0, 0, 0.16)"},sp={padding:"8px"},rp=({children:e,displayHeaderLogo:t,domain:a,headerBackLink:n,onClose:i,title:o,withoutHeader:s})=>(0,z.tZ)("div",{sx:op},s?null:(0,z.tZ)(ip,{backLink:n,displayLogo:t,domain:a,title:o,onClose:i}),(0,z.tZ)("main",{sx:sp},e));var lp,cp,dp;const up=({icon:e,text:t,faceHoverColor:a,...n})=>(0,z.tZ)(s.zxk,{type:"button",nature:"ghost",sx:{height:"105px",width:"110px",":hover":{backgroundColor:s.O9T.dashGreen06,"div > div":{backgroundColor:a}}},...n},(0,z.tZ)(s.Ejs,{flexDirection:"column",alignItems:"center",gap:"16px"},(0,z.tZ)("div",{sx:{borderRadius:"30px"}},e),(0,z.tZ)(s.nvN,null,t))),pp=({formResponse:e,onClose:t})=>{const{translate:a}=(0,j.Z)();return(0,n.useEffect)((()=>{(0,O.N)(N.PageView.Review)}),[]),(0,z.tZ)(rp,{title:a("webapp_web_store_dialog_rate_form_title"),displayHeaderLogo:!0,onClose:()=>{(0,O.K)(new N.UserCallToActionEvent({callToActionList:[N.CallToAction.ReviewBad,N.CallToAction.ReviewOk,N.CallToAction.ReviewGreat],hasChosenNoAction:!0})),t()}},(0,z.tZ)(s.Ejs,{justifyContent:"space-between"},(0,z.tZ)(up,{text:a("webapp_web_store_dialog_rate_form_bad"),faceHoverColor:s.O9T.red02,icon:lp||(lp=(0,z.tZ)(s.tYR,{size:36})),onClick:()=>{e(Ku.Bad)}}),(0,z.tZ)(up,{text:a("webapp_web_store_dialog_rate_form_okay"),faceHoverColor:s.O9T.dashGreen03,icon:cp||(cp=(0,z.tZ)(s.iiB,{size:36})),onClick:()=>{e(Ku.Okay)}}),(0,z.tZ)(up,{text:a("webapp_web_store_dialog_rate_form_great"),faceHoverColor:s.O9T.validatorGreen,icon:dp||(dp=(0,z.tZ)(s.ouF,{size:36})),onClick:()=>{e(Ku.Great)}})))},mp={padding:"16px"},_p=({onClose:e})=>{const{translate:t}=(0,j.Z)();return(0,n.useEffect)((()=>{const t=setTimeout(e,2e3);return()=>{clearTimeout(t)}})),(0,z.tZ)(rp,{title:t("webapp_web_store_dialog_thank_you_title"),displayHeaderLogo:!0,onClose:e},(0,z.tZ)("div",{sx:mp},(0,z.tZ)(s.nvN,null,t("webapp_web_store_dialog_thank_you_text"))))},gp=a.p+"bfe0d95a40d2d9833f90.png";var hp;const bp={display:"flex",flexDirection:"column",padding:"16px",gap:"24px"},Cp={backgroundColor:s.O9T.dashGreen06,borderRadius:"4px",display:"flex",padding:"16px",gap:"12px"},wp={display:"flex",flexDirection:"column"},yp=({onClose:e})=>{const{translate:t}=(0,j.Z)();return n.useEffect((()=>{(0,O.N)(N.PageView.ReviewRateUsChromeWebStore)}),[]),(0,z.tZ)(rp,{title:t("webapp_web_store_dialog_web_store_title"),displayHeaderLogo:!0,onClose:()=>{(0,O.K)(new N.UserCallToActionEvent({callToActionList:[N.CallToAction.OpenChromeWebStore],hasChosenNoAction:!0})),e()}},(0,z.tZ)("div",{sx:bp},(0,z.tZ)("div",{sx:Cp},hp||(hp=(0,z.tZ)("img",{src:gp})),(0,z.tZ)("div",{sx:wp},(0,z.tZ)(s.nvN,{caps:!0,size:"x-small"},t("webapp_web_store_dialog_web_store_subtitle")),(0,z.tZ)(s.X6q,{size:"x-small"},t("webapp_web_store_dialog_web_store_store_name")))),(0,z.tZ)(s.nvN,null,t("webapp_web_store_dialog_web_store_text")),(0,z.tZ)(s.zxk,{sx:{width:"100%"},type:"button",onClick:()=>{(0,O.K)(new N.UserCallToActionEvent({callToActionList:[N.CallToAction.OpenChromeWebStore],hasChosenNoAction:!1,chosenAction:N.CallToAction.OpenChromeWebStore})),window.open("https://chrome.google.com/webstore/detail/dashlane-password-manager/fdjamakpfbbddfjaooikfcpapjohcfmg/reviews","_blank"),e()}},t("webapp_web_store_dialog_web_store_cta"),(0,z.tZ)("div",{sx:{paddingLeft:"6px"}},(0,z.tZ)(s.RTC,{color:s.O9T.white})))))};var Ep=a(864319),Ip=a(265995),Np=a(125229);const fp=async()=>{const e=await g.C.getUserMessages(),t=await g.C.getHasFeature("growthproduct_chromerating_theupsidedown"),a=void 0===e.find((e=>e.type===p.UserMessageTypes.WEB_STORE)),n=void 0===e.find((e=>{const t=!e.dismissedAt||(0,Ip.Z)(new Date,e.dismissedAt)<6;return e.type===p.UserMessageTypes.WEB_STORE&&t}));t&&(a||n)&&(0,Np.Hv)({type:p.UserMessageTypes.WEB_STORE})},vp=()=>{const[e,t]=n.useState(Ju.RateForm),a=(0,Ep.D)(),i=(0,es.eJ)(window.location.href),o=()=>{(async()=>{await(0,Np.ql)({type:p.UserMessageTypes.WEB_STORE})})()};return a.find((e=>e.type===p.UserMessageTypes.WEB_STORE&&!e.dismissedAt))&&i?(0,z.tZ)("div",{sx:{position:"absolute",bottom:"40px",right:"40px"}},e===Ju.RateForm?(0,z.tZ)(pp,{onClose:o,formResponse:e=>{switch((e=>{switch(e){case Ku.Bad:(0,O.K)(new N.UserCallToActionEvent({callToActionList:[N.CallToAction.ReviewBad,N.CallToAction.ReviewOk,N.CallToAction.ReviewGreat],hasChosenNoAction:!1,chosenAction:N.CallToAction.ReviewBad}));break;case Ku.Great:(0,O.K)(new N.UserCallToActionEvent({callToActionList:[N.CallToAction.ReviewBad,N.CallToAction.ReviewOk,N.CallToAction.ReviewGreat],hasChosenNoAction:!1,chosenAction:N.CallToAction.ReviewGreat}));break;case Ku.Okay:(0,O.K)(new N.UserCallToActionEvent({callToActionList:[N.CallToAction.ReviewBad,N.CallToAction.ReviewOk,N.CallToAction.ReviewGreat],hasChosenNoAction:!1,chosenAction:N.CallToAction.ReviewOk}))}})(e),e){case Ku.Great:t(Ju.WebStore);break;case Ku.Okay:case Ku.Bad:t(Ju.ThankYou)}}}):null,e===Ju.ThankYou?(0,z.tZ)(_p,{onClose:o}):null,e===Ju.WebStore?(0,z.tZ)(yp,{onClose:o}):null):null};async function Sp(e){await g.C.updateMigrationOnboarding(e)}const Dp=()=>{const{migrationOnboarding:e,updateMigrationOnboarding:t}={migrationOnboarding:(0,Ft.qr)({queryConfig:{query:g.C.getMigrationOnboarding},liveConfig:{live:g.C.liveMigrationOnboarding}},[]),updateMigrationOnboarding:Sp},{translate:a}=(0,j.Z)(),i=(0,it.F)("migrationSAEXNTH"),o=()=>{t(p.MigrationOnboardingStep.SEEN)};return i.status===Ft.rq.Success&&i.data&&e.status===Ft.rq.Success&&"Known"===e.data.type&&e.data.value===p.MigrationOnboardingStep.NOT_SEEN?n.createElement(os.o,{isOpen:!0,showCloseIcon:!0,footer:n.createElement(s.cNS,{primaryButtonTitle:a("webapp_migration_onboarding_dialog_primary"),primaryButtonOnClick:o}),title:a("webapp_migration_onboarding_dialog_title"),onRequestClose:o},a.markup("webapp_migration_onboarding_dialog_subtitle_markup")):null};var xp=a(108232),Mp=a(144353);const Tp={enter:"enter--CenlwbRsch",enterActive:"enterActive--OcD1DHf3Xx",exit:"exit--lVfc5jNAtS",exitActive:"exitActive--rHQkaZiYkL"},Ap={container:"container--lhpomDm_bG",content:"content--RZCsnEcRt7",alertPopup:"alertPopup--kDSCLyEaij",sideMenuTransitionGroup:"sideMenuTransitionGroup--Mu7WISZmnc"};var kp=a(783856),Zp=a(984363),Op=a(145677),Lp=a(70396);const Pp=["default_note_category_name_databases","default_note_category_name_finance","default_note_category_name_legal_documents","default_note_category_name_memberships","default_note_category_name_other","default_note_category_name_passwords","default_note_category_name_personal","default_note_category_name_server","default_note_category_name_software","default_note_category_name_wifi","default_note_category_name_work"];function zp(e){const t=Pp.map((t=>e(t)));g.C.setupDefaultNoteCategories({categories:t})}const jp=()=>{const e=Sc();return e?.status===p.TwoFactorAuthenticationInfoRequestStatus.READY&&e.shouldEnforceTwoFactorAuthentication};var Rp,Up,Bp,Fp,Wp,Gp=a(196986),Vp=a(884076),Yp=a(636349);const Hp=parseInt(ds()["--edit-panel-animation-duration-enter"],10),qp=e=>n.createElement("div",null,e.children),Qp=e=>e<=1200,Xp=e=>{(0,Yp.Y)();const t=(0,n.useRef)(document.documentElement.clientWidth),a=(0,n.useRef)((()=>{})),[o,p]=(0,n.useState)(!1),[m,_]=(0,n.useState)(Qp(t.current)),[b,C]=(0,n.useState)(!1),{routes:w}=(0,J.Xo)(),E=jp(),I=(0,Gp.a)(e.lee.dispatchGlobal),f=(0,n.useCallback)((()=>e.location.pathname?.includes("/account-settings")),[e.location.pathname]);(0,n.useEffect)((()=>{f()&&p(!0)}),[f]),(0,Vp._)(),(0,n.useEffect)((()=>{E&&(0,i.uX)(w.twoFactorAuthenticationEnforce)}),[E,w.twoFactorAuthenticationEnforce]);const v=()=>{const e=document.documentElement.clientWidth;e<t.current&&Qp(e)&&!m&&_(!0),t.current=e},S=()=>{p(!0)},D=()=>{e.lee.state.displayLogoutDialog||((0,Lp.u)(e.location.pathname,e.lee.routes),p(!1))},x=()=>{e.lee.dispatch(u.ME())},M=()=>e.history.push(e.lee.routes.teamRoutesBasePath);(0,n.useEffect)((()=>(window.addEventListener("resize",v),f()&&S(),rn(e.lee.translate),a.current=g.C.sessionSyncStatus.on((t=>{"success"===t.status&&rn(e.lee.translate)})),zp(e.lee.translate),a.current=g.C.sessionSyncStatus.on((t=>{"success"===t.status&&zp(e.lee.translate)})),()=>{window.removeEventListener("resize",v),a.current?.()})),[]);const T=e.lee.translate,{flowLoginCredentialOnWeb:A,leelooStep:k,popoverStep:Z}=e.lee.carbon.webOnboardingMode,L=A&&k===c.WebOnboardingLeelooStep.SHOW_LOGIN_USING_EXTENSION_NOTIFICATION&&null===Z,P=L&&(0,es.Sk)(window.location.href)&&!(0,es.kL)(window.location.href),z=L&&!(0,es.Sk)(window.location.href);return P&&(0,O.N)(N.PageView.NotificationOnboardingPinExtension),n.createElement(Fi,{value:{handleClickTeamConsole:M,handleOpenLogoutDialog:x,isAccountPanelOpen:o,isSidemenuCollapsed:m,openAccountPanel:S,canShowAccountRecoveryNotification:b,hideRecoveryNotifcation:()=>{C(!1)}}},n.createElement(ct.qc,{lee:e.lee},Rp||(Rp=n.createElement("div",{id:"dashlane-dialog"})),n.createElement(qa.r,null,n.createElement("div",{className:Ap.container},n.createElement(fe.D,null,n.createElement(Jo,{lee:e.lee.child(d.Z),accountInfo:e.lee.globalState.carbon.accountInfo,isCollapsed:m,doCollapseMenu:()=>_(!0),doUncollapseMenu:()=>_(!1),handleAccountClick:()=>{o?D():S()},handleClickTeamConsole:M,currentPathName:e.location.pathname}),n.createElement("main",{className:Ap.content,tabIndex:-1},n.createElement(Op.a9,null,e.children),n.createElement("div",{className:`${Ap.alertPopup} ${y.oo}`,id:"alert-popup-portal"})),Up||(Up=n.createElement("div",{id:"side-panel-portal"})),n.createElement(r.Z,{className:Ap.sideMenuTransitionGroup},o&&n.createElement(l.Z,{classNames:Tp,timeout:Hp},o&&n.createElement(qu,{key:"for-CSSTransition-account-panel",onNavigateOut:D,onClickPremium:()=>{e.lee.dispatchGlobal((0,Xu.r)())},onClickTeamConsole:M,onClickFamilyDashboard:()=>e.history.push(e.lee.routes.familyDashboard),onClickLogout:x,lee:e.lee}))),n.createElement("div",null,n.createElement(xp.v,{isOpen:e.lee.state.displayLogoutDialog,onDismiss:()=>{e.lee.dispatch(u.Ww())},onLogout:()=>{e.lee.dispatch(u.Ww()),p(!1),I()},showCloseIcon:!0}),n.createElement(os.o,{isOpen:e.lee.globalState.dialog.isOpenGoPremiumDialog,disableBackgroundPanelClose:!0,onRequestClose:()=>{e.lee.dispatchGlobal((0,Xu.C)())},footer:n.createElement(s.cNS,{primaryButtonTitle:T("webapp_get_premium_dialog_confirm"),primaryButtonOnClick:()=>{const t=e.lee.routes.userGoPremium(e.lee.globalState.carbon.accountInfo.subscriptionCode);(0,je.Yk)(t,{type:"account",subtype:"getPremium",action:"popup_free",subaction:"go_premium"})},secondaryButtonTitle:T("webapp_get_premium_dialog_dismiss"),secondaryButtonOnClick:()=>{e.lee.dispatchGlobal((0,Xu.C)())}})},T("webapp_get_premium_dialog_text")),Bp||(Bp=n.createElement(Dp,null))),n.createElement(Qu.T,{title:T("webapp_onboarding_notification_chrome_pinning_title"),secondTitle:T("webapp_onboarding_notification_chrome_pinning_subtitle"),imageSrc:kp,show:P,cancelLabel:T("webapp_onboarding_notification_chrome_pinning_cancel"),onCancel:()=>{h({popoverStep:c.WebOnboardingPopoverStep.SHOW_LOGIN_NOTIFICATION,leelooStep:null,activeOnboardingType:"loginWeb"})}}),n.createElement(Qu.T,{title:T("webapp_onboarding_notification_login_sites_title"),show:z}),n.createElement(Mp.j,{onOpenUserVault:()=>e.history.push(e.lee.routes.clientRoutesBasePath)})),Fp||(Fp=n.createElement(Zp.Y,null)),Wp||(Wp=n.createElement(vp,null))))))},Kp=({startWidgets:e,endWidget:t,className:a,...n})=>(0,z.tZ)("header",{className:w()("root--m59Holzdbx",a),...n},(0,z.tZ)(s.T5p,{gridAutoFlow:"column",gap:"8px",sx:{height:"100%"}},e?e():null),t?(0,z.tZ)("div",{className:"endWidget--my3Xw4JxNc"},t):null);var Jp=a(435105),$p=a(71066);const em="manage_subscription_tooltip_confirmation_button",tm="manage_subscription_account_recovery_activation_tooltip_description_markup",am="webapp_account_recovery_activation_sidemenu_notification_title",nm=({accountButtonSx:e,color:t})=>{const{translate:a}=(0,j.Z)(),{hideRecoveryNotifcation:i}=Wi();return(0,z.tZ)(s.ua7,{placement:"bottom",trigger:"persist",portalTarget:document.body,sx:{display:"flex",flexDirection:"column",padding:"16px"},content:(0,z.tZ)(n.Fragment,null,(0,z.tZ)(s.nvN,{color:s.O9T.white,size:"large",sx:{fontWeight:"18px",textAlign:"left"}},a(am)),(0,z.tZ)(s.nvN,{size:"x-small",color:s.O9T.white,sx:{textAlign:"left",padding:"8px 0px 16px 0px"}},a.markup(tm)),(0,z.tZ)(s.zxk,{size:"small",sx:{alignSelf:"flex-end"},type:"button",onClick:i},a(em)))},(0,z.tZ)(s.zxk,{sx:{...e,color:t},nature:"ghost",onClick:i,type:"button"},(0,z.tZ)(s.Ejs,{sx:{margin:"0 12px 0 0"}},a("webapp_account_root_header")),(0,z.tZ)(s.veu,{color:t})))},im="techWeek_web_displayLabs";var om,sm,rm,lm;const cm="manage_subscription_account_menu_admin_console",dm="webapp_account_root_item_lock",um="manage_subscription_account_menu_logout",pm="manage_subscription_account_menu_settings",mm="manage_subscription_page_title",_m="manage_subscription_plan_name_business",gm="manage_subscription_plan_name_team",hm="manage_subscription_plan_name_advanced",bm="manage_subscription_plan_name_essentials",Cm="manage_subscription_plan_name_family",wm="manage_subscription_plan_name_free",ym="manage_subscription_plan_name_premium",Em="manage_subscription_plan_name_premium_plus",Im="manage_subscription_plan_name_premium_trial",Nm={margin:"0 12px 0 0",":hover:enabled:not(:active), :focus:enabled:not(:active)":{background:"transparent",border:`1px solid ${s.O9T.dashGreen05}`}},fm=({color:e=s.O9T.dashGreen00})=>{var t,a;const o=(0,zo.Y)(),{routes:r,store:l}=(0,J.Xo)(),{translate:d}=(0,j.Z)(),u=(0,it.w)(im),p=(0,Ac.Hq)(),{lockSession:m}=(0,Gi.u7)(Jp.authenticationFlowApi),_=((0,it.w)("onboarding_web_bettertacvaultnav"),null!=(t=(0,$d.f)())?t:""),{handleOpenLogoutDialog:g,openAccountPanel:h,canShowAccountRecoveryNotification:C,handleClickTeamConsole:w}=Wi(),[y,E]=(0,n.useState)(!1);if(o.status!==Ft.rq.Success||!o.data)return null;const I=(0,b.yf)(o.data),f=(0,b.AF)(o.data),v=null!=(a=l.getState().user?.session?.permissions.tacAccessPermissions.size>0)&&a,S=(0,b.b1)(o.data),D=I||S,x=D&&!f,M=!D&&!f;let T;T=(0,b.Fz)(o.data)&&"2022_team_starter_tier"===o.data.planName?"Starter":d((e=>{if((0,b.AF)(e)){const t=(0,b.Fz)(e);return t&&(0,b.t0)(t.tier)===c.SpaceTier.Team?gm:_m}return(0,b.ry)(e)?Cm:(0,b.LF)(e)?hm:(0,b.sZ)(e)?bm:(0,b.b1)(e)?Im:(0,b.Tg)(e)?Em:(0,b.Sm)(e)?ym:wm})(o.data));const A={dropdownElement:{backgroundColor:"ds.container.expressive.neutral.supershy.idle",border:"none",color:"ds.text.neutral.standard",fontSize:"14px",":hover":{backgroundColor:"ds.container.expressive.neutral.supershy.hover"},":active":{backgroundColor:"ds.container.expressive.neutral.supershy.active"}}};return C?(0,we.tZ)(nm,{accountButtonSx:Nm,color:e}):(0,we.tZ)(n.Fragment,null,(0,we.tZ)(s.h_2,{placement:"bottom-end",sx:{width:240,zIndex:99},content:[(0,we.tZ)(s.Ejs,{key:"accountItem",flexDirection:"column",sx:{padding:"16px"},onClick:()=>{}},(0,we.tZ)($p.S,{avatarSize:36,email:_,placeholderFontSize:18,placeholderTextType:"firstTwoCharacters"}),(0,we.tZ)(s.j49,{as:"header",size:"small",color:s.O9T.grey00,sx:{margin:"12px 0 4px"}},d("manage_subscription_account_menu_email")),(0,we.tZ)(s.nvN,{sx:{fontSize:"14px",overflow:"hidden",textOverflow:"ellipsis",width:"100%"}},_)),(0,we.tZ)(s.W7o,{"data-testid":"subscriptionItem",fullWidth:!0,key:"subscriptionItem",onClick:()=>{v?(0,i.uX)(r.teamAccountRoutePath):(0,i.uX)(r.userSubscriptionManagement)},sx:A.dropdownElement},(0,we.tZ)(s.Ejs,{alignItems:"center"},(0,we.tZ)(s.k$b,{sx:{margin:"0 8px 0 0"}},d(mm)),(0,we.tZ)(s.j49,{size:"small",sx:{alignItems:"center",background:s.O9T.grey06,borderRadius:"2px",color:D?s.O9T.dashGreen01:s.O9T.grey01,display:"inline-flex",padding:"2px 4px"}},x?(0,we.tZ)(s.ebt,{size:12,sx:{margin:"0 2px 0 0"}}):null,M?(0,we.tZ)(s.I6Y,{size:12,sx:{margin:"0 2px 0 0"}}):null,T))),v?(0,we.tZ)(s.W7o,{key:"adminItem",fullWidth:!0,onClick:()=>{(0,Lo.H)(_,o.data,w)},sx:{alignItems:"flex-start",...A.dropdownElement}},(0,we.tZ)(s.Ejs,{sx:{alignItems:"center",lineHeight:"1.25rem"}},(0,we.tZ)("p",{style:{marginRight:"50px"}},d(cm)),om||(om=(0,we.tZ)(we.JO,{name:"ArrowRightOutlined",size:"small",color:"ds.text.neutral.standard"})))):null,(0,we.tZ)(s.W7o,{"data-testid":"settingsItem",fullWidth:!0,key:"settingsItem",onClick:()=>{h()},sx:A.dropdownElement},d(pm)),u?(0,we.tZ)(s.W7o,{"data-testid":"dashlane-labs-item",fullWidth:!0,key:"dashlane-labs-item",onClick:()=>{(0,i.uX)(r.dashlaneLabs)},sx:A.dropdownElement},sm||(sm=(0,we.tZ)(s.Ejs,{alignItems:"center",gap:"8px"},(0,we.tZ)(s.k$b,null,"Dashlane Labs"),(0,we.tZ)(s.k$b,null,(0,we.tZ)(s.$2U,null))))):null,(0,we.tZ)("hr",{key:"horizontal-divider",sx:{border:"none",borderTopWidth:"1px",borderTopStyle:"solid",borderTopColor:"ds.border.neutral.quiet.idle",margin:"8px 16px"}}),p?(0,we.tZ)(s.W7o,{fullWidth:!0,key:"lockItem","data-testid":"lockItem",onClick:()=>{(0,O.K)(new N.UserLockAppEvent({})),m()},sx:A.dropdownElement},(0,we.tZ)(s.Ejs,{sx:{alignItems:"center",lineHeight:"1.25rem"}},rm||(rm=(0,we.tZ)(we.JO,{name:"LockOutlined",size:"small",color:"ds.text.neutral.standard"})),(0,we.tZ)("p",{style:{marginLeft:"8px"}},d(dm)))):null,(0,we.tZ)(s.W7o,{fullWidth:!0,key:"logoutItem","data-testid":"logoutItem",onClick:()=>{Os(),g()},sx:A.dropdownElement},(0,we.tZ)(s.Ejs,{sx:{alignItems:"center",lineHeight:"1.25rem"}},lm||(lm=(0,we.tZ)(we.JO,{name:"LogOutOutlined",size:"small",color:"ds.text.neutral.standard"})),(0,we.tZ)("p",{style:{marginLeft:"8px"}},d(um))))]},(0,we.tZ)(s.zxk,{sx:{...Nm,color:e},type:"button",nature:"ghost"},(0,we.tZ)(s.Ejs,{sx:{mr:"12px"}},d("webapp_account_root_header")),(0,we.tZ)(s.veu,{color:e}))),y?(0,we.tZ)(jo,{showAdminConsoleModal:y,setShowAdminConsoleModal:E}):null)};var vm=a(549012),Sm=a(643838),Dm=a(287279);let xm;function Mm(e){return"item"===e.type}function Tm(e){return"group"===e.type}!function(e){e[e.AcceptFailed=0]="AcceptFailed",e[e.AcceptInProgress=1]="AcceptInProgress",e[e.AcceptJustSucceeded=2]="AcceptJustSucceeded",e[e.Accepted=3]="Accepted",e[e.ConfirmRefusal=4]="ConfirmRefusal",e[e.New=5]="New",e[e.Pending=6]="Pending",e[e.RefusalFailed=7]="RefusalFailed",e[e.RefusalInProgress=8]="RefusalInProgress",e[e.Refused=9]="Refused",e[e.Unshared=10]="Unshared"}(xm||(xm={}));const Am=({status:e})=>[xm.AcceptFailed,xm.AcceptInProgress,xm.AcceptJustSucceeded,xm.Unshared].includes(e),km=({status:e})=>e!==xm.Refused,Zm=({status:e})=>[xm.AcceptInProgress,xm.AcceptFailed,xm.ConfirmRefusal,xm.New,xm.Pending,xm.RefusalInProgress,xm.RefusalFailed].includes(e),Om=({status:e})=>e===xm.New||e===xm.Pending,Lm=({status:e})=>e===xm.New,Pm=({status:e})=>e===xm.AcceptInProgress||e===xm.AcceptJustSucceeded,zm=({status:e})=>e===xm.Accepted,jm=e=>{const{notification:t,actions:a,icon:n,name:i,sharedBy:o}=e,{translate:r}=(0,j.Z)(),{status:l}=t,c={padding:"0 32px",transition:"background-color 400ms ease-out, height 150ms ease-out",height:"auto",":not(:last-child) > *":{borderBottomWidth:"1px",borderBottomStyle:"solid",borderBottomColor:"ds.border.neutral.quiet.idle"}},d={whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",wordBreak:"break-all",opacity:Am(t)?.5:1};return(0,we.tZ)(s.Ejs,{alignItems:"center",sx:l===xm.New?(0,s.jMf)([c,{backgroundColor:"rgba(255, 250, 193, 0.6)"}]):c,as:"li"},(0,we.tZ)(s.Ejs,{alignItems:"center",justifyContent:"space-between",sx:{overflow:"hidden",position:"relative",height:"56px",flex:"1"}},(0,we.tZ)(s.Ejs,{alignItems:"center",justifyContent:"flex-start",flexWrap:"nowrap",sx:{minWidth:"0"}},n,l===xm.ConfirmRefusal?(0,we.tZ)(s.nvN,{size:"x-small",sx:{marginLeft:"14px",minWidth:0}},r("webapp_sharing_notifications_confirm_refuse_text")):(0,we.tZ)("div",{sx:{marginLeft:"14px",minWidth:0}},(0,we.tZ)(s.nvN,{size:"medium",color:"black",bold:!0,as:"div",sx:d},i),(0,we.tZ)(s.nvN,{size:"x-small",color:"ds.text.neutral.quiet",as:"div",sx:d},o))),(0,we.tZ)("div",{sx:{marginRight:"5px"}},a)))},Rm=({item:e})=>{if((0,c.isCredential)(e)){var t,a;const n=null!=(t=(null!=(a=e.domainIcon?.urls)?a:{})["46x30@2x"])?t:void 0,i=n&&e.domainIcon?.backgroundColor||s.O9T.midGreen02;return(0,z.tZ)("div",{sx:{flexShrink:0}},(0,z.tZ)(s.plG,{size:"small",text:e.Title,iconSource:n,backgroundColor:i}))}return(0,z.tZ)("div",{sx:{flexShrink:0}},(0,z.tZ)(Et,{noteType:e.Type}))};var Um,Bm;const Fm=({text:e,children:t,nature:a})=>{const n="failure"===a?"ds.text.danger.quiet":"ds.text.neutral.quiet";return(0,z.tZ)(s.Ejs,{alignItems:"center",sx:{bottom:0,right:0,top:0,height:"100%",position:"absolute"}},(0,z.tZ)("span",{sx:{height:"100%",width:"40px",transform:"scaleX(-1)",background:"linear-gradient(90deg, #ffffff 0%, rgba(255, 255, 255, 0) 100%)"}}),(0,z.tZ)(s.Ejs,{alignItems:"center",sx:{height:"100%",paddingLeft:"24px",backgroundColor:"white"}},"failure"===a?Um||(Um=(0,z.tZ)(s.aNP,{color:"ds.text.danger.quiet"})):Bm||(Bm=(0,z.tZ)(s.nQG,{color:"ds.text.positive.quiet"})),(0,z.tZ)(s.nvN,{size:"x-small",as:"span",color:n},e)),t)};var Wm;const Gm="webapp_sharing_notifications_accept",Vm="webapp_sharing_notifications_cancel",Ym="webapp_sharing_notifications_refuse",Hm={flexShrink:0,"> *":{marginLeft:"8px"}},qm=({notification:e,acceptPendingItemGroup:t,refusePendingItemGroup:a,removeUnsharedItem:n,confirmRefusePendingItemGroup:o,cancelRefusePendingItemGroup:r,routes:l})=>{const{translate:d}=(0,j.Z)(),{areProtectedItemsUnlocked:u,openProtectedItemsUnlocker:p}=(0,jn.t)(),{status:m}=e,_=e.itemGroup.items[0],g=(0,c.isNote)(_)&&_.Secured&&!u;switch(m){case xm.Accepted:{const e=(0,c.isCredential)(_)?l.userCredential(_.Id):l.userSecureNote(_.Id);return(0,z.tZ)(we.zx,{intensity:"quiet",mood:"brand",size:"small",onClick:()=>{g?p({action:Ne.P7.Show,itemType:Ne.Ru.SecureNote,successCallback:()=>{(0,i.uX)(e)}}):(0,i.uX)(e)},"data-close-dropdown":!0},d("webapp_sharing_notifications_see_details"))}case xm.AcceptJustSucceeded:return(0,z.tZ)(Fm,{nature:"success",text:d("webapp_sharing_notifications_accept_succeeded")});case xm.AcceptFailed:case xm.RefusalFailed:return(0,z.tZ)(Fm,{nature:"failure",text:d("webapp_sharing_notifications_accept_failed")});case xm.Unshared:return(0,z.tZ)(Fm,{nature:"failure",text:d("webapp_sharing_notifications_sender_cancelled")},(0,z.tZ)(we.zx,{"aria-label":d("_common_alert_dismiss_button"),icon:Wm||(Wm=(0,z.tZ)(s.Two,null)),intensity:"supershy",layout:"iconOnly",mood:"neutral",size:"small",onClick:()=>n(e.id),sx:{marginLeft:"8px"}}));case xm.AcceptInProgress:return(0,z.tZ)("div",{sx:Hm},(0,z.tZ)(we.zx,{intensity:"supershy",mood:"brand",size:"small",disabled:!0},d(Ym)),(0,z.tZ)(we.zx,{intensity:"quiet",mood:"brand",size:"small",disabled:!0},d(Gm)));case xm.ConfirmRefusal:return(0,z.tZ)("div",{sx:Hm},(0,z.tZ)(we.zx,{mood:"danger",size:"small",onClick:()=>o(e.id)},d(Ym)),(0,z.tZ)(we.zx,{intensity:"supershy",mood:"brand",size:"small",onClick:()=>r(e.id)},d(Vm)));case xm.RefusalInProgress:return(0,z.tZ)("div",{sx:Hm},(0,z.tZ)(we.zx,{mood:"danger",size:"small",isLoading:!0,disabled:!0},d(Ym)),(0,z.tZ)(we.zx,{intensity:"supershy",mood:"brand",size:"small",disabled:!0},d(Vm)));case xm.Pending:default:return(0,z.tZ)("div",{sx:Hm},(0,z.tZ)(we.zx,{intensity:"supershy",mood:"brand",size:"small",onClick:()=>a(e.id)},d(Ym)),(0,z.tZ)(we.zx,{intensity:"quiet",mood:"brand",size:"small",onClick:()=>t(e.id)},d(Gm)))}},Qm=e=>{const{notification:t}=e,{translate:a}=(0,j.Z)(),{referrer:n}=t.itemGroup,i=t.itemGroup.items[0],{Title:o}=i,s=a("webapp_sharing_notifications_shared_by",{referrer:n});return(0,we.tZ)(jm,{name:o,sharedBy:s,icon:(0,we.tZ)(Rm,{item:i}),actions:(0,we.tZ)(qm,{...e}),notification:t})},Xm=({disabled:e=!1})=>(0,z.tZ)(s.Ejs,{justifyContent:"space-around",alignItems:"center",sx:{minWidth:"48px",width:"48px",height:"32px",borderRadius:2,backgroundColor:s.O9T.midGreen02,flexShrink:0}},(0,z.tZ)(s.c6E,{disabled:e,color:s.O9T.white}));var Km;const Jm="webapp_sharing_notifications_accept",$m="webapp_sharing_notifications_cancel",e_="webapp_sharing_notifications_refuse",t_={flexShrink:0,"> *":{marginLeft:"8px"}},a_=({notification:e,acceptPendingUserGroup:t,refusePendingUserGroup:a,removeUnsharedUserGroup:n,confirmRefusePendingUserGroup:i,cancelRefusePendingUserGroup:o})=>{const{translate:r}=(0,j.Z)(),{id:l,status:c}=e;switch(c){case xm.Accepted:return null;case xm.AcceptJustSucceeded:return(0,z.tZ)(Fm,{nature:"success",text:r("webapp_sharing_notifications_accept_group_succeeded")});case xm.AcceptFailed:case xm.RefusalFailed:return(0,z.tZ)(Fm,{nature:"failure",text:r("webapp_sharing_notifications_accept_failed")});case xm.Unshared:return(0,z.tZ)(Fm,{nature:"failure",text:r("webapp_sharing_notifications_sender_cancelled")},(0,z.tZ)(we.zx,{"aria-label":r("_common_alert_dismiss_button"),icon:Km||(Km=(0,z.tZ)(s.Two,null)),intensity:"supershy",layout:"iconOnly",mood:"neutral",size:"small",onClick:()=>n(l),sx:{marginLeft:"8px"},"data-testid":`pending-group-notification-close-${l}`}));case xm.AcceptInProgress:return(0,z.tZ)("div",{sx:t_},(0,z.tZ)(we.zx,{intensity:"supershy",mood:"brand",size:"small",disabled:!0},r(e_)),(0,z.tZ)(we.zx,{intensity:"quiet",mood:"brand",size:"small",disabled:!0},r(Jm)));case xm.ConfirmRefusal:return(0,z.tZ)("div",{sx:t_},(0,z.tZ)(we.zx,{mood:"danger",size:"small",onClick:()=>i(l)},r(e_)),(0,z.tZ)(we.zx,{intensity:"supershy",mood:"brand",size:"small",onClick:()=>o(l)},r($m)));case xm.RefusalInProgress:return(0,z.tZ)("div",{sx:t_},(0,z.tZ)(we.zx,{mood:"danger",size:"small",isLoading:!0,disabled:!0},r(e_)),(0,z.tZ)(we.zx,{intensity:"supershy",mood:"brand",size:"small",disabled:!0},r($m)));case xm.Pending:default:return(0,z.tZ)("div",{sx:t_},(0,z.tZ)(we.zx,{intensity:"supershy",mood:"brand",size:"small",onClick:()=>a(l)},r(e_)),(0,z.tZ)(we.zx,{intensity:"quiet",mood:"brand",size:"small",onClick:()=>t(l)},r(Jm)))}},n_=e=>{const{notification:t}=e,{translate:a}=(0,j.Z)(),{userGroup:n}=t,{name:i,referrer:o}=n,s=Am(t),r=a("webapp_sharing_notifications_invited_by",{referrer:o});return(0,we.tZ)(jm,{name:i,sharedBy:r,icon:(0,we.tZ)(Xm,{disabled:s}),actions:(0,we.tZ)(a_,{...e}),notification:t})},i_=e=>btoa(JSON.stringify((e=>({filterToken:{filterCriteria:[{field:"id",type:"in",value:e}]},sortToken:{sortCriteria:[],uniqField:"id"}}))(e))),o_=e=>e.map((e=>e.itemGroup)).map((e=>{const t=(e=>e.items[0])(e);return{itemGroupId:e.itemGroupId,itemsForEmailing:[(a=t,{type:(0,c.isCredential)(a)?"password":"note",name:null!=(n=a.Title)?n:""})]};var a,n})),s_=(e,t)=>e.reduce(((e,a)=>[...e,...a.itemGroup.items.filter((e=>e.kwType===t)).map((e=>e.Id))]),[]);var r_;const l_={height:"100vh",width:"100%",alignItems:"center",justifyContent:"space-around",display:"flex",flexDirection:"column"},c_={padding:"32px"},d_={textAlign:"center",flexDirection:"column",alignItems:"center"},u_={maxWidth:"500px",color:"ds.text.neutral.standard"},p_=({isLoading:e,fullPage:t})=>{const{translate:a}=(0,j.Z)();return(0,z.tZ)("div",{sx:t?l_:void 0},(0,z.tZ)("div",{sx:t?(0,s.jMf)([c_,d_]):c_},(0,z.tZ)(s.X6q,{size:"small",color:"black",sx:{marginBottom:4,fontWeight:"bold"}},a("webapp_sharing_notifications_header")),e&&t?r_||(r_=(0,z.tZ)($e.Z,{size:50})):(0,z.tZ)(s.nvN,{sx:t?u_:void 0},a("webapp_sharing_notifications_empty_state_text"))))},m_={exit:"exit--DWS6EXLxsi",exitActive:"exitActive--dWS2bgqRYE"},__=(e,t)=>{const a=(0,n.useRef)(),i=(0,n.useRef)(),o=(0,n.useCallback)((()=>{a.current?.(),a.current=void 0,i.current?.(),i.current=void 0}),[]),s=(0,n.useCallback)(((e,t)=>{o();const n=s_(e,"KWAuthentifiant");n.length>0&&(a.current=g.C.liveCredentials.on(i_(n),t));const s=s_(e,"KWSecureNote");return s.length>0&&(i.current=g.C.liveNotes.on(i_(s),t)),()=>{a.current?.(),a.current=void 0,i.current?.(),i.current=void 0}}),[o]);(0,n.useEffect)((()=>{e.length>0?s(e,t):o()}),[e,t,s,o])};var g_;const h_={width:"100%"},b_={position:"relative",height:"100vh",overflowY:"scroll"},C_={maxHeight:"542px",minHeight:"176px",overflowY:"auto"},w_=2e3,y_=e=>{const{triggerSync:t}=e,{translate:a}=(0,j.Z)(),{routes:i}=(0,J.Xo)(),{isLoading:o,notifications:d,updateNotificationStatus:u,removeSharingNotifications:p}=(()=>{const e=(0,Gi.k$)(Sm.sharingInvitesApi,"getInvites"),[t,a]=(0,n.useState)([]),[i,o]=(0,n.useState)([]),[s,r]=(0,n.useState)([]),l=e.status===Ft.rq.Loading,c=(0,n.useCallback)((e=>{a((t=>[...t,...e.filter((({id:e})=>!t.some((t=>t.id===e))))]))}),[]),d=(0,n.useCallback)(((e,t,n)=>{a((a=>a.map((a=>!e.includes(a.id)||void 0!==n&&a.status!==n?a:{...a,status:t}))))}),[]),u=(0,n.useCallback)((e=>{o((t=>t.filter((t=>!e.includes(t))))),r((t=>t.filter((t=>!e.includes(t))))),a((t=>t.filter((t=>!e.includes(t.id)))))}),[]);return(0,n.useEffect)((()=>{if(e.status===Ft.rq.Success){const a=e.data.pendingItemGroups,n=a.map((e=>e.itemGroupId));if(!(0,X.isEqual)(i,n)){o(n),c(a.map((e=>({itemGroup:e,status:e.seen?xm.Pending:xm.New,id:e.itemGroupId,type:"item"}))));const e=t.filter((({id:e,status:t})=>i.includes(e)&&!n.includes(e)&&(t===xm.Refused||t===xm.RefusalInProgress)));e.length>0&&u(e.map((({id:e})=>e)));const s=t.filter((({id:e,status:t})=>i.includes(e)&&!n.includes(e)&&t!==xm.Accepted&&t!==xm.AcceptJustSucceeded&&t!==xm.AcceptInProgress&&t!==xm.Refused&&t!==xm.RefusalInProgress));s.length>0&&d(s.map((({id:e})=>e)),xm.Unshared)}const l=e.data.pendingUserGroups,p=l.map((e=>e.groupId));if(!(0,X.isEqual)(s,p)){r(p),c(l.map((e=>({userGroup:e,status:e.seen?xm.Pending:xm.New,id:e.groupId,type:"group"}))));const e=t.filter((({id:e,status:t})=>s.includes(e)&&!p.includes(e)&&(t===xm.Refused||t===xm.RefusalInProgress)));e.length>0&&u(e.map((({id:e})=>e)));const a=t.filter((({id:e,status:t})=>s.includes(e)&&!p.includes(e)&&t!==xm.Accepted&&t!==xm.AcceptJustSucceeded&&t!==xm.AcceptInProgress&&t!==xm.Refused&&t!==xm.RefusalInProgress));a.length>0&&d(a.map((({id:e})=>e)),xm.Unshared)}}}),[t,e,i,s,c,u,d]),{isLoading:l,notifications:t,updateNotificationStatus:d,removeSharingNotifications:u}})(),{sync:m}=(0,Gi.u7)(Ss.syncApi),{refuseItemGroupInvite:_,refuseUserGroupInvite:h}=(0,Gi.u7)(Sm.sharingInvitesApi),b=(0,n.useMemo)((()=>d.filter(Mm)),[d]),C=(0,n.useMemo)((()=>b.filter(Pm)),[b]),w=(0,n.useMemo)((()=>b.filter(zm)),[b]),y=(0,n.useRef)([]);(0,n.useEffect)((()=>{t&&m({trigger:N.Trigger.Sharing})}),[m,t]),(0,n.useEffect)((()=>{const e=d.filter(Lm),t=e.filter(Mm).filter((e=>!e.itemGroup.seen)).map((e=>e.itemGroup.itemGroupId)),a=e.filter(Tm).filter((e=>!e.userGroup.seen)).map((e=>e.userGroup.groupId));if(t.length>0||a.length>0){g.C.setPendingElementsAsSeen({pendingItemGroupIds:t,pendingUserGroupIds:a});const e=[...t,...a];y.current.push(window.setTimeout((()=>{u(e,xm.Pending,xm.New)}),w_))}}),[d,u]),(0,n.useEffect)((()=>()=>{y.current.forEach((e=>window.clearTimeout(e)))}),[]),__(C,(0,n.useCallback)((e=>{const t=e.items.map((({id:e})=>e));if(t.length>0&&C.length>0){const e=C.filter((e=>e.itemGroup.items.some((e=>t.includes(e.Id)))));u(e.map((({id:e})=>e)),xm.Accepted)}}),[C,u])),__(w,(0,n.useCallback)((e=>{const t=e.items.map((({id:e})=>e));if(w.length>0){const e=w.filter((e=>!e.itemGroup.items.some((e=>t.includes(e.Id)))));p(e.map((({id:e})=>e)))}}),[w,p]));const E=(0,n.useCallback)((async(e,t)=>{const a=t.filter((({id:t})=>e.includes(t))),n=s_(a,"KWAuthentifiant"),i=await Promise.all(n.map((e=>g.C.getCredential(e)))),o=i.filter((e=>e)).map((({id:e})=>e));if(0===o.length)return;const s=t.filter((e=>e.itemGroup.items.some((e=>o.includes(e.Id)))));if(0===s.length)return;const r=s.map((({id:e})=>e));y.current.push(window.setTimeout((()=>{u(r,xm.Accepted)}),w_))}),[u]),I=(0,n.useCallback)((e=>{const{status:t,itemGroups:a,userGroups:n}=e,i=[...a.successes,...n.successes],o=[...a.failures,...n.failures];switch(t){case c.SharingResponseStatus.Accept:u(i,xm.AcceptJustSucceeded),u(o,xm.AcceptFailed),a.successes.length>0&&E(a.successes,b);break;case c.SharingResponseStatus.Refuse:u(i,xm.Refused),u(o,xm.RefusalFailed)}o.length>0&&y.current.push(window.setTimeout((()=>{u(o,xm.Pending)}),w_))}),[E,b,u]),f=(e,t)=>{u(e,t),e.length>0&&y.current.push(window.setTimeout((()=>{u(e,xm.Pending)}),w_))},v=(0,n.useRef)();(0,n.useEffect)((()=>(v.current=g.C.sendSharingResponseResult.on(I),()=>{v.current?.()})),[I]);const S=e=>{u([e],xm.ConfirmRefusal)},D=e=>{u([e],xm.Pending)},x=e=>{p([e])},M=e=>{const t=b.filter((t=>t.itemGroup.itemGroupId===e));u([e],xm.AcceptInProgress),(0,ot.vp)(c.SharingResponseStatus.Accept,o_(t),[])},T=async e=>{if(u([e],xm.RefusalInProgress),void 0!==b.find((t=>t.itemGroup.itemGroupId===e)))try{const t=await _({itemGroupId:e});(0,Dm.d6)(t)?u([e],xm.Refused):f([e],xm.RefusalFailed)}catch(t){f([e],xm.RefusalFailed)}},A=e=>{u([e],xm.AcceptInProgress),(0,ot.vp)(c.SharingResponseStatus.Accept,[],[e])},k=async e=>{u([e],xm.RefusalInProgress);try{const t=await h({userGroupId:e});(0,Dm.d6)(t)?u([e],xm.Refused):f([e],xm.RefusalFailed)}catch(t){f([e],xm.RefusalFailed)}},Z=d.filter(km),O=Z.length>0,L=Z.filter(Mm),P=L.length>0,R=Z.filter(Tm),U=R.length>0,B=P&&U,F=Z.some(Zm);return(0,z.tZ)(n.Fragment,null,e.fullPage?g_||(g_=(0,z.tZ)(Kp,{endWidget:(0,z.tZ)(n.Fragment,null,(0,z.tZ)(fm,null),(0,z.tZ)(D_,null)),"data-testid":"sharing-notifications-fullpage-header"})):null,(0,z.tZ)("div",{sx:e.fullPage?(0,s.jMf)([h_,b_]):h_},O?(0,z.tZ)("div",{sx:e.fullPage?void 0:C_,"data-testid":"pending-invitations-list"},(0,z.tZ)(s.Ejs,{flexDirection:"row",justifyContent:"space-between",alignItems:"center",sx:{padding:"32px 32px 16px"}},(0,z.tZ)(s.X6q,{size:"small",color:"black",sx:{marginBottom:4,fontWeight:"bold"}},a("webapp_sharing_notifications_header")),F?(0,z.tZ)(we.zx,{mood:"brand",size:"small",onClick:()=>{const e=d.filter(Om),t=e.map((({id:e})=>e));if(0===t.length)return;u(t,xm.AcceptInProgress);const a=e.filter(Mm),n=e.filter(Tm);(0,ot.vp)(c.SharingResponseStatus.Accept,o_(a),n.map((({id:e})=>e)))}},a("webapp_sharing_notifications_accept_all")):null),U?(0,z.tZ)("div",null,B?(0,z.tZ)("div",{sx:{paddingLeft:"32px",marginBottom:2}},(0,z.tZ)(s.j49,{color:"ds.text.neutral.quiet"},a("webapp_sharing_notifications_groups"))):null,(0,z.tZ)("ul",{sx:{marginBottom:6}},(0,z.tZ)(r.Z,null,R.map((e=>(0,z.tZ)(l.Z,{key:e.userGroup.groupId,classNames:{...m_},timeout:150,enter:!1,unmountOnExit:!0},(0,z.tZ)(n_,{key:e.userGroup.groupId,notification:e,acceptPendingUserGroup:A,refusePendingUserGroup:S,cancelRefusePendingUserGroup:D,confirmRefusePendingUserGroup:k,removeUnsharedUserGroup:x}))))))):null,P?(0,z.tZ)("div",null,B?(0,z.tZ)("div",{sx:{paddingLeft:"32px",marginBottom:2}},(0,z.tZ)(s.j49,{color:"ds.text.neutral.quiet"},a("webapp_sharing_notifications_passwords_and_secure_notes"))):null,(0,z.tZ)("ul",{sx:{marginBottom:6}},(0,z.tZ)(r.Z,null,L.map((e=>(0,z.tZ)(l.Z,{key:e.itemGroup.itemGroupId,classNames:{...m_},timeout:150,enter:!1,unmountOnExit:!0},(0,z.tZ)(Qm,{key:e.itemGroup.itemGroupId,notification:e,acceptPendingItemGroup:M,refusePendingItemGroup:S,cancelRefusePendingItemGroup:D,confirmRefusePendingItemGroup:T,removeUnsharedItem:x,routes:i}))))))):null):(0,z.tZ)(p_,{isLoading:o,fullPage:e.fullPage})))};var E_;const I_=()=>{const{isSidemenuCollapsed:e}=Wi(),t=w()("notificationsHub--ZkqIONgeSD",{"narrow--lxNXQ_mZF0":!e});return n.createElement("div",{className:t,tabIndex:0},E_||(E_=n.createElement(y_,{fullPage:!1,triggerSync:!1})))};var N_,f_=a(49555);const v_={hasNotifications:{live:g.C.liveHasNotifications,query:g.C.getHasNotifications},notifications:{live:g.C.liveNotificationStatus,query:g.C.getNotificationStatus}},S_={strategies:v_},D_=(0,Fe.$)((0,We.i)((({color:e,hasNotifications:t})=>{const{routes:a}=(0,J.Xo)(),{translate:o}=(0,j.Z)(),[r,l]=n.useState(!1),c=(0,i.TH)(),d=n.useRef(r);n.useEffect((()=>{d.current=r}));const u=d.current;n.useEffect((()=>{r&&!u?(0,O.N)(N.PageView.NotificationSharingList):!r&&u&&(0,Lp.u)(c.pathname,a)}),[r,c,a,u]);const p=n.useCallback((e=>{l(e)}),[l]),m=n.useCallback((a=>{const i=r||!t?n.createElement(s.Dkj,{color:e,style:{pointerEvents:"none"}}):n.createElement(s.Z3$,{color:e,style:{pointerEvents:"none"}});return n.createElement("div",{className:"menuItem--UiuzA2Ip6u"},n.createElement(vm.Z,{iconButton:!0,onClick:a,label:i,"aria-label":o("webapp_sharing_notifications_view_notifications")}))}),[e,t,r,o]);return n.createElement(Ue.Lt,{alignment:Ue.oA.End,position:Ue.ir.Bottom,onToggle:p,withBackdrop:!0,renderRoot:m},N_||(N_=n.createElement(f_.Y,{autoFocus:!0},n.createElement(I_,null))))}),S_),v_);var x_,M_,T_,A_;const k_=()=>(0,we.tZ)(s.Ejs,{as:s.X6q,gap:"8px"},x_||(x_=(0,we.tZ)(s.k$b,null,"Dashlane Labs")),(0,we.tZ)(s.k$b,{sx:{display:"flex",alignItems:"center"}},M_||(M_=(0,we.tZ)(s.$2U,{color:"ds.text.brand.standard",size:30})))),Z_=()=>{const e=(0,we.tZ)(n.Fragment,null,T_||(T_=(0,we.tZ)(fm,null)),A_||(A_=(0,we.tZ)(D_,null)));return(0,we.tZ)(Kp,{startWidgets:k_,endWidget:e})};var O_=a(691974);const L_=({name:e,value:t})=>(0,we.tZ)(we.ZD,{label:e,checked:t,readOnly:!0,sx:{width:"100%",padding:"12px 0"}});var P_,z_,j_,R_,U_,B_,F_,W_,G_,V_;const Y_=({onClear:e})=>(0,we.tZ)(s.Ejs,{flexDirection:"column",alignItems:"center",gap:"24px",sx:{marginTop:"48px"}},P_||(P_=(0,we.tZ)(s.LIc,{size:48,color:"ds.text.neutral.quiet"})),z_||(z_=(0,we.tZ)(s.X6q,{size:"small",color:"ds.text.neutral.quiet"},"No feature found")),(0,we.tZ)(s.nvN,null,(0,we.tZ)(s.rUS,{sx:{color:"ds.text.neutral.quiet"},onClick:e},"Clear your search"))),H_=()=>(0,we.tZ)(s.Ejs,{alignItems:"center",justifyContent:"center",gap:"24px",sx:{marginTop:"16px",margin:"48px auto"}},j_||(j_=(0,we.tZ)(s.HoD,{strokeWidth:2,size:16,color:"ds.text.neutral.quiet"})),R_||(R_=(0,we.tZ)("span",{color:"ds.text.neutral.quiet"},"Loading features"))),q_=()=>(0,we.tZ)(s.Ejs,{flexDirection:"column",alignItems:"center",gap:"24px",sx:{marginTop:"48px"}},U_||(U_=(0,we.tZ)(s.enX,{size:48,color:"ds.text.neutral.quiet"})),B_||(B_=(0,we.tZ)(s.X6q,{size:"small",color:"ds.text.neutral.quiet"},"Error while loading features"))),Q_=({features:e,onClear:t})=>{const a=Object.entries(e);return a.length?(0,we.tZ)("div",{sx:{paddingRight:"36px"}},a.map((([e,t])=>(0,we.tZ)(L_,{name:e,value:t,key:e})))):(0,we.tZ)(Y_,{onClear:t})},X_=({features:e,onClear:t,status:a})=>a===Ft.rq.Success?(0,we.tZ)(Q_,{features:e,onClear:t}):a===Ft.rq.Error?F_||(F_=(0,we.tZ)(q_,null)):W_||(W_=(0,we.tZ)(H_,null)),K_=()=>{const[e,t]=(0,n.useState)({}),[a,i]=(0,n.useState)(""),[o,r]=(0,n.useState)(!1),l=(0,O_.h)(),c=l.status===Ft.rq.Success?l.data:void 0,d=(0,n.useRef)((0,X.debounce)(((e,a)=>((e,a)=>{if(a){const n=e.trim().toLowerCase(),i=Object.entries(a).reduce(((e,t)=>t[0].toLowerCase().includes(n)?{...e,[t[0]]:t[1]}:e),{});t(i)}r(!1)})(e,a)),200)).current,u=()=>{i(""),t(null!=c?c:{})},p=(0,n.useMemo)((()=>(0,we.tZ)(X_,{onClear:u,features:e,status:l.status})),[e]);return(0,n.useEffect)((()=>{c&&t(c)}),[c]),(0,we.tZ)(s.Ejs,{as:s.Zbd,flexDirection:"column",fullWidth:!0,sx:{padding:"24px"}},(0,we.tZ)(s.T5p,{gridTemplateColumns:"1fr 300px",alignItems:"center",sx:{position:"relative"}},G_||(G_=(0,we.tZ)(s.X6q,{size:"x-small",color:"ds.text.brand.standard"},"Experiments")),(0,we.tZ)(we.oi,{placeholder:"Search in experiments",value:a,onChange:e=>{i(e.target.value),r(!0),d(e.target.value,c)},autoFocus:!0,actionButtons:!o&&a.length?[(0,we.tZ)(we.zx,{mood:"neutral",intensity:"quiet",size:"small",key:"close",layout:"iconOnly",onClick:u,icon:V_||(V_=(0,we.tZ)(s.Two,{size:12,color:"ds.text.neutral.quiet"}))})]:[]}),o?(0,we.tZ)(s.HoD,{color:"ds.text.brand.standard",sx:{position:"absolute",top:"14px",right:"11px",zIndex:"2"}}):null),(0,we.tZ)("div",{sx:{backgroundColor:"ds.container.expressive.neutral.quiet.active",width:"100%",height:"1px",margin:"16px 0"}}),(0,we.tZ)(s.k$b,{sx:{flex:"1 1 auto",height:"0px",overflow:"auto"}},p))};var J_,$_,eg,tg,ag,ng;const ig=()=>(0,it.w)(im)?(0,we.tZ)(s.Ejs,{sx:{backgroundColor:"ds.container.agnostic.neutral.quiet",padding:"16px 0",width:"100%",height:"100%"},flexDirection:"column"},J_||(J_=(0,we.tZ)(Z_,null)),(0,we.tZ)(s.Ejs,{sx:{margin:"8px 24px",flex:"1 1 auto"}},(0,we.tZ)(s.Ejs,{sx:{width:"60%",paddingRight:"8px"}},$_||($_=(0,we.tZ)(K_,null))),(0,we.tZ)("div",{sx:{width:"40%",paddingLeft:"8px"}},(0,we.tZ)(s.Ejs,{as:s.Zbd,flexDirection:"column",fullWidth:!0,sx:{padding:"24px",marginBottom:"16px"}},eg||(eg=(0,we.tZ)(s.X6q,{size:"x-small",color:"ds.text.brand.standard"},"What is Dashlane Labs?")),(0,we.tZ)("div",{sx:{backgroundColor:"ds.container.expressive.neutral.quiet.active",width:"100%",height:"1px",margin:"16px 0"}}),tg||(tg=(0,we.tZ)(s.nvN,{color:"ds.text.neutral.standard"},'"Dashlane Labs" is a special section in the settings of our iOS, Android and Web extensions which will allow early adopters to toggle alpha or beta features on or off for themselves and to give us early feedback before we release them to production.'))),(0,we.tZ)(s.Ejs,{as:s.Zbd,flexDirection:"column",fullWidth:!0,sx:{padding:"24px"}},ag||(ag=(0,we.tZ)(s.X6q,{size:"x-small",color:"ds.text.brand.standard"},"Feedback")),(0,we.tZ)("div",{sx:{backgroundColor:"ds.container.expressive.neutral.quiet.active",width:"100%",height:"1px",margin:"16px 0"}}),ng||(ng=(0,we.tZ)(s.nvN,{color:"ds.text.neutral.standard"},"We would love to hear about what you think of Dashlane Labs! Share your feedback"," ",(0,we.tZ)(s.rUS,{target:"_blank",href:"https://forms.gle/SpSK8aNZQaBmMx3D6"},"here"))))))):null;function og({path:e}){return n.createElement(i.Vy,{path:e,component:ig,additionalProps:{}})}var sg=a(320572);var rg,lg,cg;const dg=({onMyAccountClick:e,onResetLinkClick:t})=>{const{translate:a}=(0,j.Z)(),[i,o]=n.useState(!1);return n.createElement("div",{className:"familySettings--Ilvxzy1ScB"},n.createElement(Ue.Lt,{alignment:Ue.oA.End,position:Ue.ir.Bottom,onToggle:()=>o(!i),withBackdrop:!1,renderRoot:e=>(e=>n.createElement(s.zxk,{type:"button",nature:"ghost",className:"dropdownButton--pxRyuwgjY2",onClick:e},a("webapp_family_dashboard_settings"),n.createElement("span",{className:w()("dropdownButtonIcon--BNwim_PUBt",{"dropdownButtonIconReversed--pOwhBEaOnc":i})},rg||(rg=n.createElement(s.veu,null)))))(e)},n.createElement("div",{className:"list--Xo7ruNwU9K"},n.createElement(sg.Z,{label:a("webapp_family_dashboard_settings_my_account"),"data-close-dropdown":!0,icon:lg||(lg=n.createElement(s.ewm,null)),onClick:e}),n.createElement(sg.Z,{label:a("webapp_family_dashboard_settings_reset_invitation_link"),"data-close-dropdown":!0,icon:cg||(cg=n.createElement(s.DuK,null)),onClick:t}))))};var ug=a(798783),pg=a.n(ug);const mg="copyButton--IJ12krzt1m",_g=({onClick:e,isLinkCopied:t})=>{const{translate:a}=(0,j.Z)();return n.createElement(s.zxk,{type:"button",nature:"primary",size:"large",className:t?"copiedButton--SqqSrTMtO5":mg,disabled:t,onClick:e},n.createElement("div",{className:"icon--rkOSWmpm22"},t?n.createElement(s.nQG,{color:s.O9T.white}):n.createElement(s.xPt,{color:s.O9T.white})),a(t?"webapp_family_dashboard_link_copied":"webapp_family_dashboard_link_copy"))},gg=({spots:e,invitationLink:t,statusCode:a})=>{const{translate:i}=(0,j.Z)(),o=(0,n.useRef)(null),[s,r]=(0,n.useState)(!1),[l,c]=(0,n.useState)(null),d=(0,n.useCallback)((()=>{r(!0);const e=window.setTimeout((()=>r(!1)),3e3);c(e)}),[a]);return(0,n.useEffect)((()=>{new(pg())(`.${mg}`,{text:()=>t})}),[t]),(0,n.useEffect)((()=>()=>{if(l)return clearTimeout(l)}),[l]),n.createElement("header",{className:"familyHeader--PpiRJ1IxKo"},n.createElement("h1",{className:"title--dTsoVSCtVf"},i("webapp_family_dashboard_link_title")),n.createElement("div",{className:"headerContent--d9qQSWTi4U"},n.createElement("div",{className:"linkContainer--Xhu5xMcL1q"},n.createElement("p",{className:"description--X9buaDVdBQ"},i("webapp_family_dashboard_link_description")),n.createElement("div",{className:"linkInputContainer--Q3nfY_TaXk"},n.createElement("input",{"aria-label":i("webapp_family_dashboard_link_copy"),className:"link--H_7YBuxeAV",readOnly:!0,value:t,ref:o,onClick:()=>{o&&o.current&&o.current.select()}}),n.createElement(_g,{isLinkCopied:s,onClick:d}))),n.createElement("div",{className:"spotsContainer--gZmP7Kg0kh"},i.markup("webapp_family_dashboard_spots_markup",{count:e}))))},hg=({memberLogin:e,handleRemoveMember:t,handleOnCancel:a})=>{const{translate:i}=(0,j.Z)(),[o,r]=n.useState(!0);return n.createElement(os.o,{isOpen:!0,onRequestClose:a,footer:n.createElement(s.cNS,{primaryButtonTitle:i("webapp_family_dashboard_remove_member_dialog_button_confirm"),primaryButtonOnClick:()=>t(o),secondaryButtonTitle:i("webapp_family_dashboard_remove_member_dialog_button_cancel"),secondaryButtonOnClick:a,intent:"danger"},n.createElement("div",{className:"resetLinkWrapper--w73yYZnlvj"},n.createElement("div",{className:"resetLinkCheckbox--QCeQrxpn7r"},n.createElement(s.XZJ,{"aria-label":i("webapp_family_dashboard_remove_member_dialog_body_reset_link_alt"),checked:o,onChange:()=>r(!o)})),n.createElement("div",{className:"resetLinkDescription--fxH2eBlEBT"},n.createElement("p",{className:"resetLinkTitle--SaDxnXew3V"},i("webapp_family_dashboard_remove_member_dialog_body_reset_link")),n.createElement("p",{className:"resetLinkSubtitle--uhTtkx_t5t"},i("webapp_family_dashboard_remove_member_dialog_body_reset_link_description"))))),title:i("webapp_family_dashboard_remove_member_dialog_title")},n.createElement("p",{className:"subtitle--Z1Dr1oGEhs"},i.markup("webapp_family_dashboard_remove_member_dialog_subtitle_markup",{login:`**${e}**`})))},bg=({login:e,role:t})=>{const{translate:a}=(0,j.Z)();return n.createElement("div",{className:"memberColumn--qf1diKseAh"},n.createElement("p",{className:"title--zxZhJ9Zk4h"},t===p.FamilyMemberRole.ADMIN?a("webapp_family_dashboard_admin_title"):e),n.createElement("p",{className:"role--DtFbwLXzhK"},t===p.FamilyMemberRole.ADMIN?a("webapp_family_dashboard_role_admin"):a("webapp_family_dashboard_role_regular")))},Cg=({role:e,onRemoveAction:t})=>{const{translate:a}=(0,j.Z)();return e===p.FamilyMemberRole.ADMIN?null:n.createElement("div",{className:"memberColumn--fqiNVoiRYF"},n.createElement(s.zxk,{type:"button",nature:"ghost",className:"removeMemberButton--H8VL77WRox",title:a("webapp_family_dashboard_button_remove_member_alt"),onClick:t},n.createElement(s.Two,{size:20,color:s.O9T.dashGreen03,hoverColor:s.O9T.dashGreen00})))},wg=({member:e,onRemoveAction:t})=>{const a=(0,n.useCallback)((()=>t(e)),[e,t]);return n.createElement("li",{className:"memberWrapper--T3irrTjpHF"},n.createElement("div",{className:"memberRow--qWkBWpTzfX"},n.createElement(bg,{login:e.login,role:e.role}),n.createElement(Cg,{role:e.role,onRemoveAction:a})))},yg=({admin:e,regularMembers:t,removeMember:a})=>{const[i,o]=n.useState({showDialog:!1,member:void 0}),s=e=>{o({showDialog:!0,member:e})},r=()=>{o({showDialog:!1,member:void 0})};return n.createElement(n.Fragment,null,n.createElement("ul",null,n.createElement(wg,{key:e.userId,member:e,onRemoveAction:s}),t.map((e=>n.createElement(wg,{key:e.userId,member:e,onRemoveAction:s})))),i&&i.showDialog&&i.member?n.createElement(hg,{memberLogin:i.member.login,handleRemoveMember:e=>{i.member&&a(i.member.userId,e),r()},handleOnCancel:()=>{r()}}):null)},Eg=({handleResetLink:e,handleOnCancel:t})=>{const{translate:a}=(0,j.Z)();return n.createElement(os.o,{isOpen:!0,onRequestClose:t,showCloseIcon:!0,footer:n.createElement(s.cNS,{primaryButtonTitle:a("webapp_family_dashboard_reset_link_dialog_button_confirm"),primaryButtonOnClick:e,secondaryButtonTitle:a("webapp_family_dashboard_reset_link_dialog_button_cancel"),secondaryButtonOnClick:t,intent:"danger"}),title:a("webapp_family_dashboard_reset_link_dialog_title")},a("webapp_family_dashboard_reset_link_dialog_description"))},Ig=({id:e,severity:t,message:a,onHide:i})=>{const{translate:o}=(0,j.Z)();return(0,n.useEffect)((()=>{if(!e)return;const t=setTimeout(i,5e3);return()=>clearTimeout(t)}),[e,i]),n.createElement("div",{className:"wrapper--l8s4MddvZj"},n.createElement("div",{className:"popup--mT_Ql0k4sL"},n.createElement(s.bZj,{severity:t,showIcon:!0,closeIconName:t===s.BLW.ERROR?o("_common_alert_dismiss_button"):void 0},a)))},Ng=(e,t)=>{const[a,i]=(0,n.useState)(null),o=(0,n.useCallback)((()=>{const e=Math.floor(1e6*Math.random());i(e)}),[i]),s=(0,n.useCallback)((()=>{i(null)}),[i]);return{alert:a?n.createElement(Ig,{id:a,message:e,onHide:s,severity:t}):null,show:o,hide:s}},fg=()=>{const{translate:e}=(0,j.Z)(),[t,a]=(0,n.useState)(null),[o,r]=(0,n.useState)(!1),{familyDetails:l,familyDetailsError:c,removeMemberFromFamilyDetails:d}=(()=>{const[e,t]=n.useState(null),[a,i]=n.useState(null);return n.useEffect((()=>{!async function(){try{const e=await g.C.getFamilyDetails();if(!e.success)return void i(e.error.code);t(e.response)}catch(e){i("UNKNOWN_ERROR")}}()}),[]),{familyDetails:e,familyDetailsError:a,removeMemberFromFamilyDetails:a=>{if(!e)return;const n=e.members.regular.filter((e=>e.userId!==a));t({...e,members:{...e.members,regular:n},spots:e.spots+1})}}})();(0,n.useEffect)((()=>{l&&(0,O.N)(N.PageView.FamilyDashboard)}),[l]);const u=Ng(e("webapp_family_dashboard_member_removed_success_message"),s.BLW.SUCCESS),p=Ng(e("webapp_family_dashboard_generic_failure_message"),s.BLW.ERROR),m=Ng(e("webapp_family_dashboard_member_removed_link_reset_success_message"),s.BLW.SUCCESS),_=Ng(e("webapp_family_dashboard_reset_link_confirmation_alert"),s.BLW.SUCCESS),h=Ng(e("webapp_family_dashboard_generic_failure_message"),s.BLW.ERROR),b=(0,n.useCallback)((()=>{(0,je.nL)("https://app.dashlane.com#account-settings")}),[l]),C=(0,n.useCallback)((async()=>{const e=await g.C.resetFamilyJoinToken();if(!e.success)throw new Error(e.error.code);a(e.response.joinToken)}),[a]),w=(0,n.useCallback)((()=>{r(!0)}),[l]),y=(0,n.useCallback)((async()=>{r(!1);try{await C(),_.show()}catch(e){h.show()}}),[C,_,l,h]),E=(0,n.useCallback)((()=>{r(!1)}),[l]),I=(0,n.useCallback)((async(e,t)=>{try{const a=await g.C.removeFamilyMember({userId:e});if(!a.success)throw new Error(a.error.code);d(e),t?(await C(),m.show()):u.show()}catch(e){p.show()}}),[d,l,u,C,m,p]);if(c&&(0,je.nL)("https://app.dashlane.com"),!l)return null;null===t&&l&&l.joinToken&&a(l.joinToken);const f=`https://www.dashlane.com/webapp#/family/join?accept=${t}`,{spots:v}=l;return n.createElement(n.Fragment,null,n.createElement("div",{className:"header--VuqyJozOv8"},n.createElement("div",null,n.createElement(i.rU,{to:"/",target:"_self"},n.createElement(s.D1W,{color:s.vei.DashGreen,size:s.r1z.Size39,title:e("_common_dashlane_logo_title")}))),n.createElement("div",null,n.createElement(dg,{onMyAccountClick:b,onResetLinkClick:w}))),n.createElement("div",{className:"content--KGCpkvZgvO"},n.createElement(gg,{invitationLink:f,spots:v,statusCode:l.statusCode}),l.members?n.createElement(yg,{admin:l.members.admin,regularMembers:l.members.regular,removeMember:I}):null),u.alert,p.alert,m.alert,_.alert,h.alert,o?n.createElement(Eg,{handleResetLink:y,handleOnCancel:E}):null)};function vg({path:e}){return n.createElement(i.Vy,{path:e,component:fg,additionalProps:{}})}function Sg({path:e}){return n.createElement(i.Vy,{path:e,component:y_,additionalProps:{fullPage:!0,triggerSync:!0}})}var Dg=a(329998);class xg extends n.Component{constructor(...e){super(...e),this.state={hasError:!1}}static getDerivedStateFromError(){return{hasError:!0}}componentDidCatch(){this.props.onError(),this.setState({hasError:!1})}render(){return this.state.hasError?n.createElement(i.l_,{to:this.props.redirectPath}):this.props.children}}const Mg=({redirectPath:e,children:t})=>{const a=(0,ye.V)(),{translate:i}=(0,j.Z)();return n.createElement(xg,{redirectPath:e,onError:()=>{a.showAlert(i("_common_generic_error"),s.BLW.ERROR)}},t)};var Tg=a(772630);const Ag=n.memo((({premiumStatus:e,userGoPremium:t,accountInfo:a})=>{const{translate:i}=(0,j.Z)(),o=n.useMemo((()=>e?.endDate?i.shortDate((0,qo.Z)(e.endDate),ne._T.LL):""),[e,i]);return n.useMemo((()=>!(0,b.AF)(e)&&e?.autoRenewalFailed&&(e?.statusCode===c.PremiumStatusCode.PREMIUM||e?.statusCode===c.PremiumStatusCode.PREMIUM_CANCELLED)&&e?.endDate&&(e=>{const t=(e=>{const t=new Date(0);return t.setUTCSeconds(e),t.getTime()})(e);return!!e&&t-Date.now()<6048e5})(e.endDate)),[e])?n.createElement("div",{className:"floatingNotificationsContainer--oDgjnF0aJ5"},n.createElement(l.Z,{classNames:{appear:"appear--lWLLvEmJyK",appearActive:"appearActive--Us_yYDvpH8"},timeout:{appear:300,enter:0,exit:0},appear:!0,in:!0},n.createElement(s.vDh,{title:i("webapp_payment_failure_churning_title",{endDate:o}),size:"descriptive",severity:"alert",primary:()=>{const e=t(a.subscriptionCode);(0,je.Yk)(e,{type:"PaymentFailureToast",action:"checkout"})},primaryLabel:i("webapp_payment_failure_churning_cta")}))):null})),kg={premiumStatus:{query:g.C.getPremiumStatus,live:g.C.livePremiumStatus},accountInfo:{query:g.C.getAccountInfo}},Zg={strategies:kg},Og=(0,Fe.$)((0,We.i)(Ag,Zg),kg),Lg=({editPanel:e,lee:t,children:a})=>{const{routes:o}=(0,J.Xo)();return(0,n.useEffect)((()=>{(0,Tg.o)(t.carbon)&&(0,i.uX)(o.userUpsell)}),[t,o]),n.createElement(n.Fragment,null,a,n.createElement(Og,{userGoPremium:o.userGoPremium}),e)};function Pg(e){const[t,a]=n.useState(!0),{isSidemenuCollapsed:i}=Wi();return n.useEffect((()=>{const t=()=>{const t=i?ds()["--sidemenu-collapsed-width"]:ds()["--sidemenu-uncollapsed-min-width"],n=parseInt(t,10);window.innerWidth-n<e?a(!1):a(!0)};return t(),window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)}),[e,i]),t}const zg=n.forwardRef(((e,t)=>{const a=Pg(768),{children:n,disabled:i,icon:o,isPrimary:s,layout:r="iconLeading",onClick:l,onMouseEnter:c}=e;return(0,we.tZ)(we.zx,{ref:t,sx:{whiteSpace:"nowrap"},mood:s?void 0:"neutral",intensity:s?void 0:"quiet",onClick:l,onMouseEnter:c,disabled:i,icon:o,layout:a?r:"iconOnly"},n)}));var jg;const Rg=({children:e})=>(0,we.tZ)("span",{sx:{mr:"8px"}},e),Ug=({icon:e,label:t,onClick:a})=>(0,we.tZ)(s.W7o,{fullWidth:!0,onClick:a,key:t},(0,we.tZ)(s.Ejs,{flexDirection:"row",flexWrap:"nowrap"},e?(0,we.tZ)(Rg,null,e):null,t)),Bg=({buttonLabel:e,endWidget:t,menuItemContents:a,...n})=>{var i;return(0,we.tZ)(Kp,{startWidgets:()=>(0,we.tZ)("div",{sx:{position:"relative"}},(0,we.tZ)(s.h_2,{placement:"bottom-start",sx:{minWidth:"168px"},offset:[0,4],content:a},i||(i=(0,we.tZ)(zg,{icon:jg||(jg=(0,we.tZ)(we.JO,{name:"ActionAddOutlined"})),isPrimary:!0},e)))),endWidget:t,...n})};var Fg,Wg,Gg,Vg;const Yg=()=>{const{translate:e}=(0,j.Z)(),{routes:t}=(0,J.Xo)(),a=e=>()=>{(0,i.uX)(e)},o=[{icon:Fg||(Fg=n.createElement(we.JO,{name:"ItemPaymentOutlined",color:"ds.oddity.brand"})),label:e("payments_header_add_payment_card"),onClick:a(t.userAddPaymentCard)},{icon:Wg||(Wg=n.createElement(we.JO,{name:"ItemBankAccountOutlined",color:"ds.oddity.brand"})),label:e("payments_header_add_bank_account"),onClick:a(t.userAddBankAccount)}];return n.createElement(Bg,{buttonLabel:e("payments_header_add_payment"),endWidget:n.createElement(n.Fragment,null,Gg||(Gg=n.createElement(fm,null)),Vg||(Vg=n.createElement(D_,null))),menuItemContents:o.map((({icon:e,label:t,onClick:a})=>n.createElement(Ug,{icon:e,label:t,onClick:a,key:t})))})},Hg=e=>(0,z.tZ)("div",{className:"container--LRZqvAkIza"},(0,z.tZ)("div",{className:"inner--NBIsu4Vwd7"},(0,z.tZ)("div",{className:"icon--isCFEBRoRT"},e.icon),e.title?(0,z.tZ)("h1",{className:"title--f8zF0WcT5H",style:e.titleStyle},e.title):null,(0,z.tZ)("div",{className:"children--H1FjfCUGaW",style:e.childrenStyle},e.children))),qg=({quantity:e})=>{const{translate:t}=(0,j.Z)();return n.createElement("div",{className:"sectionHeader--EcHqnW7asF"},n.createElement("div",{className:"bankTitle--yBZUl6Ym4z"},t("payments_grid_category_bank_account")," (",e,")"),n.createElement("div",{className:"bankName--OgVUHx0gCE"},t("webapp_payment_bankaccounts_list_header_bank_name")),n.createElement("div",{className:"lastUsed--CBup2XRmDZ"},t("webapp_payment_bankaccounts_list_header_last_use")))},Qg=({bankAccountName:e,bankOwner:t})=>{const{translate:a}=(0,j.Z)();return n.createElement(n.Fragment,null,n.createElement("div",{className:"thumbnailContainer--U1_j6Qd7wO"},n.createElement(s.plG,{icon:s.Uci.Bank,text:a("webapp_payment_bankaccounts_list_header_bank_name"),iconColor:s.O9T.white,size:"small",backgroundColor:s.O9T.dashGreen00})),n.createElement("div",{className:"bankAccountInfo--nlMaddsA8S"},n.createElement(s.nvN,{as:"strong",bold:!0,sx:{color:s.O9T.black},className:"bankAccountName--ZpGOxk1qvI"},e),n.createElement(s.nvN,{as:"span",size:"x-small",sx:{color:s.O9T.grey00},className:"bankAccountHolder--fJT0MlyDR4"},t)))},Xg=n.memo((({bankAccount:e,onBankAccountClick:t,reportError:a})=>{const{id:o,name:s,owner:r,bankLocalizedName:l}=e,[c,d]=n.useState(!1),{translate:u}=(0,j.Z)(),{routes:p}=(0,J.Xo)();return n.createElement("li",{className:"bankAccountListItemContainer--G6eOFjMUKR",onMouseLeave:()=>{c&&d(!1)}},n.createElement(i.rU,{className:"bankAccountListItem--bCYU4MG1Ui",onClick:t,to:p.userBankAccount(o)},n.createElement("div",{className:"bankAccountInfoContainer--u5c4qjaySk"},n.createElement(Qg,{bankAccountName:s,bankOwner:r})),n.createElement("div",{className:"bankNameContainer--P2o_GE7znH"},n.createElement("div",{className:"bankNameLabel--c1oEpr331p"},l)),n.createElement("div",{className:"lastUseContainer--WLHuWqZbVI"},e.lastUse?n.createElement(dr.Z,{date:(0,qo.Z)(e.lastUse)}):u("webapp_payment_bankaccount_list_item_never_used"))),n.createElement("div",{className:w()("actions--HnmskMB5H3")},n.createElement(Oe,{bankAccount:e,mode:Se.LIST,dropdownIsOpen:c,setDropdownIsOpen:d,reportError:a})))})),Kg=n.memo((({bankAccounts:e,reportError:t})=>n.createElement(n.Fragment,null,n.createElement(qg,{quantity:e.matchingCount}),n.createElement("div",{className:"listContainer--s5o34Wt8t3"},n.createElement("ul",{className:"list--E4_J8mP2Tq"},e.items.map((e=>n.createElement(Xg,{key:e.id,bankAccount:e,onBankAccountClick:()=>{(0,ae.Mx)(e.id)},reportError:t})))))))),Jg=({item:e,linkTo:t,onClick:a})=>{const{translate:o}=(0,j.Z)();if(!e)return null;const r=o("payments_grid_payment_card_expires"),l=(d=e)&&d.expireMonth&&d.expireYear?`${d.expireMonth}/${d.expireYear.substr(2)}`:"";var d;const u=(p=e.color,Fn(p));var p;const m=(e=>e===c.PaymentCardColor.WHITE?s.O9T.grey05:Fn(e))(e.color),_=(e=>e===c.PaymentCardColor.WHITE?s.O9T.grey00:s.O9T.white)(e.color),g=Jn(e);return n.createElement(i.rU,{className:"paymentCard--SUudUO6mnP",style:{backgroundColor:u,borderColor:m,color:_},to:t?t(e.id):"",onClick:a},n.createElement("div",{className:"itemInner--PO8PKRAI7E"},n.createElement("div",{className:"paymentCardNumber--jgTo_0jUw5"},g),n.createElement("div",{className:"paymentCardDateAndName--KKTYxPKuyU"},l?n.createElement("span",{className:"paymentCardExpirationDate--z2DvsdOUPU"},n.createElement("span",{className:"paymentCardExpirationDateLabel--tEA5TGY00Y"},r),n.createElement("span",{className:"paymentCardExpirationDateValue--szWQC1UB8v"},l)):null,e.name?n.createElement("span",null,e.name):null),e.ownerName?n.createElement("div",{className:"paymentCardOwnerName--afLnLZt95N"},e.ownerName):null))},$g=n.memo((({paymentCards:e,cardRoute:t})=>{const{translate:a}=(0,j.Z)();return n.createElement(n.Fragment,null,n.createElement("h2",{className:"sectionHeader--lbhRxSxyan"},a("payments_grid_category_payment_card")," (",e.matchingCount,")"),n.createElement("div",{className:"sectionContent--SJWw66m2Vv"},e.items.map((e=>n.createElement(Jg,{item:e,key:e.id,linkTo:t,onClick:()=>{(0,ae.GV)(e.id)}})))))}));var eh,th;const ah=()=>{const{translate:e}=(0,j.Z)();return n.createElement(Hg,{icon:eh||(eh=n.createElement("img",{src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iOTYiIGhlaWdodD0iMTAzIiB2aWV3Qm94PSIwIDAgOTYgMTAzIiBmaWxsPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgo8cGF0aCBkPSJNODAgNzQuNzc0Nkw3NC42MzY5IDc3LjA3NjNWNjQuODAwOFYzMi41NzcySDIxLjM2MzFWNzEuMzIyMUg2Ny40ODZMNjkuMjczNyA3Ny4wNzYzSDU3LjgzMjRIMTZWMjYuODIzSDgwVjc0Ljc3NDZaIiBmaWxsPSIjRTBERERBIi8+CjxwYXRoIGQ9Ik01OC45MDQ3IDQ1LjIzNjZMNTYuNzU5NCAzOS40ODI0SDU5LjI2MjJINjcuMTI4MUw2OS4yNzM0IDQ1LjIzNjZINjYuNzcwNkg1OC45MDQ3WiIgZmlsbD0iI0UwREREQSIvPgo8cGF0aCBkPSJNMjcuNzk4MiA0NS4yMzY2TDI2LjAxMDUgMzkuNDgyNEgzNy40NTE5SDQxLjAyNzNINTAuNjgwOUw1Mi40Njg2IDQ1LjIzNjZINDEuMDI3M0gzNy40NTE5SDI3Ljc5ODJaIiBmaWxsPSIjRTBERERBIi8+CjxwYXRoIGQ9Ik0yNy43OTgyIDU3Ljg5NkwyNi4wMTA1IDUyLjE0MThIMzcuNDUxOUg1Ny44MzE4SDY3LjEyNzhMNjkuMjczMSA1Ny44OTZINTcuODMxOEgzNy40NTE5SDI3Ljc5ODJaIiBmaWxsPSIjRTBERERBIi8+Cjwvc3ZnPgo="})),title:e("webapp_payment_empty_view_title")},n.createElement("p",null,e("webapp_payment_empty_view_description")))},nh=e=>n.createElement("div",{className:"contentWrapper--EMLJVEY14f"},n.Children.toArray(e.children)),ih=({paymentCards:e,bankAccounts:t})=>{const{routes:a}=(0,J.Xo)();n.useEffect((()=>{(0,O.N)(N.PageView.ItemPaymentList)}),[]);const i=t.matchingCount;return e.matchingCount+i>0?n.createElement(nh,null,e.matchingCount>0?n.createElement($g,{paymentCards:e,cardRoute:a.userPaymentCard}):null,i>0?n.createElement(Kg,{bankAccounts:t}):null):th||(th=n.createElement(nh,null,n.createElement(ah,null)))};var oh,sh=a(935813),rh=a(307973),lh=a(481159),ch=a(970818),dh=a(146581),uh=a(812803),ph=a(673093);const mh="webapp_payment_edition_field_card_action_hide",_h="webapp_payment_edition_field_card_action_show",gh="webapp_payment_edition_field_cardColor_",hh="yyyy-MM",bh=e=>t=>{t&&(0,O.K)(new N.UserCopyVaultItemFieldEvent({itemType:N.ItemType.CreditCard,field:e,itemId:t,isProtected:!0}))},Ch=({itemId:e,errors:t,paymentCardContent:a,signalEditedValues:i,showCopyAlert:o})=>{const{cardNumber:s,color:r,expireMonth:l,expireYear:d,name:u,ownerName:p,securityCode:m,personalNote:_,spaceId:g}=a,{translate:h}=(0,j.Z)(),b=Boolean(s.length),C=Boolean(m.length),w=Boolean(_.length),y=e=>t=>{const n="string"==typeof t?t:t.target.value,o="cardNumber"===e?n.replaceAll(" ",""):n;i({...a,[e]:o})},{areProtectedItemsUnlocked:E,openProtectedItemsUnlocker:I}=(0,fe.tY)(),[f,v]=n.useState(!b),S=n.useCallback((t=>{e&&(0,O.K)(new N.UserRevealVaultItemFieldEvent({field:t,isProtected:!0,itemId:e,itemType:N.ItemType.CreditCard}))}),[e]),D=n.useCallback((()=>{f||S(N.Field.CardNumber),v((e=>!e))}),[f,S]),x=n.useCallback((()=>{f||E?D():I({action:Ne.P7.Show,itemType:Ne.Ru.CreditCard,successCallback:()=>D()})}),[E,I,f,D]),M=!E,T=(t,a)=>{t(e),o&&o(h(a))},[A,k]=n.useState(""===m),[Z,L]=n.useState(""===_),P=n.useCallback((()=>{A||S(N.Field.SecurityCode),k((e=>!e))}),[A,S]),z=n.useCallback((()=>{L((e=>!e))}),[]),R=n.useCallback((()=>{A||E?P():I({action:Ne.P7.Show,itemType:Ne.Ru.CreditCard,successCallback:()=>P()})}),[E,I,A,P]),U=n.useCallback((()=>{Z||E?z():I({action:Ne.P7.Show,itemType:Ne.Ru.CreditCard,successCallback:()=>z()})}),[E,I,A,P]),B=[c.PaymentCardColor.BLUE_1,c.PaymentCardColor.BLUE_2,c.PaymentCardColor.WHITE,c.PaymentCardColor.RED,c.PaymentCardColor.ORANGE,c.PaymentCardColor.GOLD,c.PaymentCardColor.SILVER,c.PaymentCardColor.BLACK,c.PaymentCardColor.GREEN_2,c.PaymentCardColor.GREEN_1].map((e=>({label:h(gh+e),value:e}))),F=b?f?s:"   ":"",W=/^3[47]/.test(s)?"9999 999999 999999":"9999 9999 9999 99999",G=f?W:void 0,V=d&&l?`${d}-${l}`:"";return(0,we.tZ)(n.Fragment,null,(0,we.tZ)(lh.Z,{key:"ownerName",value:p,label:h("webapp_payment_edition_field_ownerName"),placeholder:h("webapp_payment_edition_field_placeholder_no_ownerName"),onChange:y("ownerName")}),(0,we.tZ)(uh.N,{enabled:b},(0,we.tZ)(lh.Z,{key:`cardNumber${f}`,label:h("webapp_payment_edition_field_cardNumber"),placeholder:h("webapp_payment_edition_field_placeholder_no_cardNumber"),dataName:"cardNumber",disabled:!f&&b,type:"text",value:F,mask:G,onChange:y("cardNumber"),error:t?.has("cardNumber")}),(0,we.tZ)(we.zx,{mood:"neutral",intensity:"quiet",sx:{marginRight:"16px"},onClick:x},h(f?mh:_h)),(0,we.tZ)(ph.m,{data:s,checkProtected:()=>M,onCopy:()=>T(bh(N.Field.CardNumber),"webapp_payment_edition_field_cardNumber_copied"),itemType:Ne.Ru.CreditCard})),(0,we.tZ)(uh.N,{enabled:C},(0,we.tZ)(lh.Z,{key:`securityCode${A}`,disabled:!A&&C,value:A?m:"",label:h("webapp_payment_edition_field_securityCode"),placeholder:h("webapp_payment_edition_field_placeholder_no_securityCode"),type:"text",onChange:y("securityCode"),error:t?.has("securityCode")}),(0,we.tZ)(we.zx,{mood:"neutral",intensity:"quiet",sx:{marginRight:"16px"},onClick:R},h(A?mh:_h)),(0,we.tZ)(ph.m,{data:m,checkProtected:()=>M,onCopy:()=>T(bh(N.Field.SecurityCode),"webapp_payment_edition_field_securityCode_copied"),itemType:Ne.Ru.CreditCard})),(0,we.tZ)(dh.j,{value:V,dateFormat:hh,yearsRange:[0,30],label:h("webapp_payment_edition_field_expireDate"),monthLabelFormatter:e=>h.shortDate(e,ne._T.MM),onChange:e=>{const t=(0,ie.Z)(e,hh,new Date);i({...a,expireMonth:(0,sh.Z)(t)?(0,rh.Z)(t,"MM"):"",expireYear:(0,sh.Z)(t)?(0,rh.Z)(t,"yyyy"):""})},hideDay:!0,allowEmpty:!0}),(0,we.tZ)("hr",{className:"separator--qhO55oU3dT"}),(0,we.tZ)(lh.Z,{key:"cardname",value:u,label:h("webapp_payment_edition_field_cardname"),placeholder:h("webapp_payment_edition_field_placeholder_no_cardname"),onChange:y("name")}),(0,we.tZ)(ch.Z,{key:`cardColor${r}`,label:h("webapp_payment_edition_field_cardColor"),placeholder:h(gh)+r,options:B,defaultOption:{label:h(gh)+r,value:r},onChange:y("color")}),(0,we.tZ)(bo,{spaceId:null!=g?g:"",labelSx:ho,onChange:e=>y("spaceId")(e)}),(0,we.tZ)(uh.N,{enabled:w},(0,we.tZ)(lh.Z,{label:h("webapp_payment_edition_field_notes"),placeholder:h("webapp_payment_edition_field_placeholder_no_notes"),dataName:"note",disabled:!Z&&w,value:Z||!w?_:"",onChange:y("personalNote"),multiLine:!0,testId:"credential_edit_note_value"}),(0,we.tZ)(we.zx,{mood:"neutral",intensity:"quiet",sx:{marginRight:"16px"},onClick:U},h(Z?mh:_h)),(0,we.tZ)(ph.m,{data:_,checkProtected:()=>M,onCopy:()=>T(bh(N.Field.Note),"webapp_payment_edition_field_notes_copied"),itemType:Ne.Ru.CreditCard})))};var wh;const yh=({lee:e})=>{const[t,a]=n.useState(!1),[o,r]=n.useState(!1),{translate:l}=(0,j.Z)(),{routes:d}=(0,J.Xo)(),u=(0,ye.V)(),m=(0,Z.B)(e.globalState),[_,h]=n.useState(),[b,C]=n.useState({name:"",cardNumber:"",ownerName:"",securityCode:"",expireMonth:"",expireYear:"",color:c.PaymentCardColor.BLUE_1,spaceId:null!=m?m:"",personalNote:""});(0,n.useEffect)((()=>{(0,O.N)(N.PageView.ItemCreditCardCreate)}),[]);const w=()=>{(0,O.N)(N.PageView.ItemPaymentList),(0,i.uX)(d.userPayments)};return n.createElement(bs,{isViewingExistingItem:!1,itemHasBeenEdited:t,onNavigateOut:()=>{w()},submitPending:o,onSubmit:async()=>{if(!o){r(!0);try{const e=await g.C.addPaymentCard({...b,name:b.name});if(e.success){const e=""===b.name?l("webapp_payment_edition_generic_save_alert"):l("webapp_payment_edition_name_save_alert",{paymentCard:b.name});u.showAlert(e,s.BLW.SUCCESS),fp(),w()}else{if(e.error?.code===p.PaymentCardSaveResultErrorCode.EMPTY_CARD_NUMBER_AND_SECURITY_CODE)h(new Set(["cardNumber","securityCode"]));else{const e=l("_common_generic_error");u.showAlert(e,s.BLW.ERROR)}r(!1)}}catch{r(!1)}}},formId:"add_paymentcard_panel",header:n.createElement(Is,{icon:wh||(wh=n.createElement(Xn,{iconSize:"large"})),iconBackgroundColor:Fn(b.color),title:l("webapp_payment_edition_header_add_payment_card")})},n.createElement(Ch,{paymentCardContent:b,signalEditedValues:e=>{C(e),a(!0)},errors:_}))};var Eh=a(820523);const Ih="webapp_payment_edition_field_bank_account_BIC",Nh="webapp_payment_edition_field_bank_account_no_BIC_placeholder",fh="webapp_payment_edition_field_bank_account_account_number",vh="webapp_payment_edition_field_bank_account_no_account_number_placeholder",Sh="webapp_payment_alert_bank_account_BIC_copied",Dh="webapp_payment_alert_bank_account_account_number_copied",xh={},Mh=e=>e!==xh,Th=[],Ah=e=>{const t=(()=>{const e=n.useRef(xh),t=(0,Ft.qr)({queryConfig:{query:g.C.getAllBanks}},[]);return Mh(e.current)||t.status!==Ft.rq.Success||(e.current=t.data),e.current})();return n.useMemo((()=>{var a;if(!Mh(t))return Th;const n=(null!=(a=t[e])?a:[]).slice();return n.sort(((e,t)=>e.localizedString.localeCompare(t.localizedString))),n}),[t,e])},kh="webapp_payment_edition_field_bank_account_action_hide",Zh="webapp_payment_edition_field_bank_account_action_show",Oh="webapp_payment_edition_field_bank_account_country",Lh="webapp_payment_edition_field_bank_account_bank_name",Ph=(e,t)=>e.find((({value:e})=>e===t)),zh=e=>null===e.buttons?(0,we.tZ)(n.Fragment,null,e.children):(0,we.tZ)(uh.N,{enabled:e.showButtonsOnHover},e.children,e.buttons),jh=(0,n.forwardRef)(((e,t)=>{var a;const{bankAccount:i,errors:o=new Set,signalEditedValues:s}=e,{bank:r,name:l,IBAN:d,BIC:u,owner:p,spaceId:m,country:_}=i,g=d.length>0,h=u.length>0,[b,C]=(0,n.useState)(!h),[w,y]=(0,n.useState)(!g),{translate:E}=(0,j.Z)(),I="edit"===e.variant?!e.areProtectedItemsUnlocked:void 0,f=e=>t=>{const a="string"==typeof t?t:t.target.value;s({...i,[e]:a})},v="edit"===e.variant?t=>{(0,O.K)(new N.UserRevealVaultItemFieldEvent({field:t,isProtected:!0,itemId:e.itemId,itemType:N.ItemType.BankStatement}))}:void 0,S="edit"===e.variant?()=>{!b&&v&&v(N.Field.Bic);const t=()=>C((e=>!e));I&&"function"==typeof e.openProtectedItemsUnlocker?e.openProtectedItemsUnlocker({action:Ne.P7.Show,itemType:Ne.Ru.BankAccount,successCallback:t}):t()}:void 0,D="edit"===e.variant?()=>{!w&&v&&v(N.Field.Iban);const t=()=>y((e=>!e));I&&"function"==typeof e.openProtectedItemsUnlocker?e.openProtectedItemsUnlocker({action:Ne.P7.Show,itemType:Ne.Ru.BankAccount,successCallback:t}):t()}:void 0,x="edit"===e.variant?(t,a,n)=>{(0,O.K)(new N.UserCopyVaultItemFieldEvent({itemType:N.ItemType.BankStatement,field:N.Field.Bic,itemId:e.itemId,isProtected:!0})),a&&e.onCopy(E(t.BIC_COPIED)),n&&"function"==typeof e.reportError&&e.reportError(n,"[bank-account-form] Unable to copy to clipboard")}:void 0,M="edit"===e.variant?(t,a,n)=>{(0,O.K)(new N.UserCopyVaultItemFieldEvent({itemType:N.ItemType.BankStatement,field:N.Field.Iban,itemId:e.itemId,isProtected:!0})),a&&e.onCopy(E(t.IBAN_COPIED)),n&&"function"==typeof e.reportError&&e.reportError(n,"[bank-account-form] Unable to copy to clipboard")}:void 0,T=Ah(_),A=T!==Th,k=(0,n.useMemo)((()=>T.map((e=>({label:e.localizedString,value:`${_}-${e.code}`})))),[T,_]);(0,n.useEffect)((()=>{void 0===Ph(k,r)&&k.length>0&&s({...i,bank:k[0].value},!0),""!==r&&!k.length&&A&&s({...i,bank:""})}),[r,i,k,A,s]);const Z=((e,t)=>e.filter((e=>!(c.Country[e]===c.Country.UNIVERSAL||c.Country[e]===c.Country.NO_TYPE))).map((e=>({label:t(`country_name_${c.Country[e]}`),value:c.Country[e]}))).sort(((e,t)=>e.label.localeCompare(t.label))))(Object.keys(c.Country),E),L=(e=>{switch(e){case c.Country.MX:return{IBAN:"webapp_payment_edition_field_bank_account_CLABE",BIC:Ih,IBAN_PLACEHOLDER:"webapp_payment_edition_field_bank_account_no_CLABE_placeholder",BIC_PLACEHOLDER:Nh,IBAN_COPIED:"webapp_payment_alert_bank_account_CLABE_copied",BIC_COPIED:Sh};case c.Country.GB:return{IBAN:fh,BIC:"webapp_payment_edition_field_bank_account_sort_code",IBAN_PLACEHOLDER:vh,BIC_PLACEHOLDER:"webapp_payment_edition_field_bank_account_no_sort_code_placeholder",IBAN_COPIED:Dh,BIC_COPIED:"webapp_payment_alert_bank_account_sort_code_copied"};case c.Country.US:return{IBAN:fh,BIC:"webapp_payment_edition_field_bank_account_routing_number",IBAN_PLACEHOLDER:vh,BIC_PLACEHOLDER:"webapp_payment_edition_field_bank_account_no_routing_number_placeholder",IBAN_COPIED:Dh,BIC_COPIED:"webapp_payment_alert_bank_account_routing_number_copied"};default:return{IBAN:"webapp_payment_edition_field_bank_account_IBAN",BIC:Ih,IBAN_PLACEHOLDER:"webapp_payment_edition_field_bank_account_no_IBAN_placeholder",BIC_PLACEHOLDER:Nh,IBAN_COPIED:"webapp_payment_alert_bank_account_IBAN_copied",BIC_COPIED:Sh}}})(_);return(0,we.tZ)(n.Fragment,null,(0,we.tZ)(lh.Z,{key:"name",value:l,label:E("webapp_payment_edition_field_bank_account_name"),placeholder:E("webapp_payment_edition_field_bank_account_no_name_placeholder"),onChange:f("name"),ref:t}),(0,we.tZ)(lh.Z,{key:"owner",value:p,label:E("webapp_payment_edition_field_bank_account_owner_name"),placeholder:E("webapp_payment_edition_field_bank_account_no_owner_name_placeholder"),onChange:f("owner")}),(0,we.tZ)(zh,{showButtonsOnHover:h,buttons:"edit"===e.variant?(0,we.tZ)(n.Fragment,null,S?(0,we.tZ)(we.zx,{mood:"neutral",intensity:"quiet",sx:{marginRight:"8px"},onClick:S},E(b?kh:Zh)):null,x&&void 0!==I?(0,we.tZ)(ph.m,{data:u,checkProtected:()=>I,onCopy:(e,t)=>x(L,e,t),itemType:Ne.Ru.BankAccount}):null):null},(0,we.tZ)(lh.Z,{key:"BIC",disabled:!b&&h,value:b?u:"",label:E(L.BIC),placeholder:E(L.BIC_PLACEHOLDER),type:"text",onChange:f("BIC"),error:o.has("BIC")})),(0,we.tZ)(zh,{showButtonsOnHover:g,buttons:"edit"===e.variant?(0,we.tZ)(n.Fragment,null,D?(0,we.tZ)(we.zx,{mood:"neutral",intensity:"quiet",sx:{marginRight:"8px"},onClick:D},E(w?kh:Zh)):null,M&&void 0!==I?(0,we.tZ)(ph.m,{data:d,checkProtected:()=>I,onCopy:(e,t)=>M(L,e,t),itemType:Ne.Ru.BankAccount}):null):null},(0,we.tZ)(lh.Z,{key:"IBAN",label:E(L.IBAN),placeholder:E(L.IBAN_PLACEHOLDER),dataName:"IBAN",disabled:!w&&g,type:"text",value:w?d:"",onChange:f("IBAN"),error:o.has("IBAN")})),(0,we.tZ)(ch.Z,{key:"country",label:E(Oh),placeholder:E(Oh)+_,onChange:f("country"),options:Z,defaultOption:{label:E(`country_name_${_}`),value:_}}),k.length>0?(0,we.tZ)(ch.Z,{key:`${_}bank`,label:E(Lh),placeholder:E(Lh)+r,onChange:f("bank"),options:k,defaultOption:null!=(a=Ph(k,r))?a:k[0]}):null,(0,we.tZ)(bo,{spaceId:m,labelSx:ho,onChange:e=>f("spaceId")(e)}))})),Rh=()=>n.createElement("div",{className:"iconWrapper--JneIZUVWyv"},n.createElement(s.QCj,{size:48,color:s.O9T.white}));var Uh;const Bh=({lee:e})=>{var t;const[a,o]=n.useState(!1),[r,l]=n.useState(!1),[d,u]=n.useState(new Set),{routes:m}=(0,J.Xo)(),_=n.useRef(null);n.useEffect((()=>{(0,O.N)(N.PageView.ItemBankStatementCreate);const e=setTimeout((()=>{_.current?.focus()}),Eh.s);return()=>clearTimeout(e)}),[]);const h=(()=>{const t=e.carbon.currentLocation.country,a=c.Country.US;var n;return t&&null!=(n=c.Country[t])?n:a})(),b=null!=(t=(0,Z.B)(e.globalState))?t:"",[C,w]=n.useState({bank:"",country:h,IBAN:"",BIC:"",name:"",owner:"",spaceId:b}),y=(e=>(e=>{if(e.status===Ft.rq.Success&&e.data.matchingCount>0){var t;const{firstName:a,lastName:n}=null!=(t=e.data.items.filter(Boolean).find((e=>""!==e.firstName.trim()||""!==e.lastName.trim())))?t:{firstName:"",lastName:""};return[a,n].join(" ").trim()}return""})((0,ni.e)(g.C.getIdentities,g.C.liveIdentities,{spaceId:e,sort:"lastUse",sortDirection:"descend"})))(b),E=""!==y;n.useEffect((()=>{""!==y&&w((e=>({...e,owner:y})))}),[E]);const{translate:I}=(0,j.Z)(),f=(0,ye.V)(),v=()=>{(0,O.N)(N.PageView.ItemPaymentList),(0,i.uX)(m.userPayments)};return n.createElement(bs,{isViewingExistingItem:!1,itemHasBeenEdited:a,formId:"bank-account-add-form",onNavigateOut:()=>{v()},onSubmit:async()=>{if(!r){l(!0);try{const t=await g.C.addBankAccount({...C,name:C.name||I("webapp_payment_edition_bank_account_name_default")});if(t.success){const e=""===C.name?I("webapp_payment_edition_bank_account_generic_save_alert"):I("webapp_payment_edition_bank_account_name_save_alert",{accountName:C.name});f.showAlert(e,s.BLW.SUCCESS),v()}else l(!1),t.error?.code===p.AddBankAccountResultErrorCode.EMPTY_BIC_AND_IBAN?u(new Set(["BIC","IBAN"])):e.reportError(new Error("[payments][add-bank-account] Unable to add bank account"),t.error?.code)}catch(t){l(!1),e.reportError(t,"[payments][add-bank-account] Unable to add bank account")}}},header:n.createElement(Is,{icon:Uh||(Uh=n.createElement(Rh,null)),iconBackgroundColor:s.O9T.dashGreen06,title:I("webapp_payment_edition_header_add_bank_account")})},n.createElement(jh,{bankAccount:C,errors:d,ref:_,signalEditedValues:(e,t=!1)=>{w(e),t||o(!0)},variant:"add"}))},Fh=()=>{const[e,t]=n.useState(""),[a,i]=n.useState(!1),o=()=>{i(!1)};return n.useEffect((()=>{if(!a)return;const e=setTimeout(o,5e3);return()=>clearTimeout(e)}),[a,e]),{isAlertVisible:a,alertMessage:e,setAlertMessage:t,hide:o,show:()=>{i(!0)}}},Wh="alertWrapper--JLZLLWrHCo";let Gh;!function(e){e[e.LastAdmin=0]="LastAdmin",e[e.GroupSharing=1]="GroupSharing",e[e.Generic=2]="Generic"}(Gh||(Gh={}));const Vh=({closeConfirmDeleteDialog:e,onDeleteConfirm:t,translations:a})=>{const{confirmDeleteSubtitle:i,confirmDeleteTitle:o,confirmDeleteDismiss:r,confirmDeleteConfirm:l}=a;return n.createElement(os.o,{isOpen:!0,disableBackgroundPanelClose:!0,footer:n.createElement(s.cNS,{primaryButtonTitle:l,primaryButtonOnClick:t,primaryButtonProps:{id:"deletion-dialog-confirm-button"},secondaryButtonTitle:r,secondaryButtonOnClick:e,secondaryButtonProps:{autoFocus:!0,id:"deletion-dialog-dismiss-button"},intent:"danger"}),onRequestClose:e,title:o},i)},Yh=({reason:e,translations:t,goToSharingAccess:a,closeCantDeleteDialog:i})=>{const o=((e,t)=>{const{groupSharingTitle:a,lastAdminTitle:n,genericErrorTitle:i}=e;switch(t){case Gh.LastAdmin:return n;case Gh.GroupSharing:return a;case Gh.Generic:return i;default:return(0,Ke.U)(t)}})(t,e),r=((e,t)=>{const{groupSharingSubtitle:a,lastAdminSubtitle:n,genericErrorSubtitle:i}=e;switch(t){case Gh.LastAdmin:return n;case Gh.GroupSharing:return a;case Gh.Generic:return i;default:return(0,Ke.U)(t)}})(t,e);return n.createElement(os.o,{isOpen:!0,showCloseIcon:!0,disableBackgroundPanelClose:!0,onRequestClose:i,title:o,footer:e===Gh.LastAdmin?n.createElement(s.cNS,{primaryButtonTitle:t.lastAdminActionLabel,primaryButtonOnClick:a,intent:"danger"}):null},r)},Hh=({lee:e,match:t})=>{const a=(e=>{const t=(0,Ft.qr)({queryConfig:{query:g.C.getPaymentCard,queryParam:e},liveConfig:{live:g.C.livePaymentCard,liveParam:e}},[e]);return t.status===Ft.rq.Success?t.data:void 0})(`{${t.params.uuid}}`),{translate:o}=(0,j.Z)(),{routes:r}=(0,J.Xo)(),l=(0,ye.V)(),c=Fh(),{protectedItemsUnlockerShown:d}=(0,fe.tY)(),u=()=>{l.showAlert(o("_common_generic_error"),s.BLW.ERROR)},[m,_]=n.useState(!1),[h,b]=n.useState(!1),[C,w]=n.useState(),[y,E]=n.useState(a);n.useEffect((()=>{(0,O.N)(N.PageView.ItemCreditCardDetails),a&&E(a)}),[a]);const I=n.useCallback((()=>{(0,O.N)(N.PageView.ItemPaymentList),(0,i.uX)(r.userPayments)}),[r]),f=n.useCallback((e=>{_(!(0,Ge.equals)(e,a)),E(e)}),[a]),v=n.useCallback((()=>{I()}),[I]),[S,D]=n.useState(!1),x=n.useCallback((()=>D(!0)),[]),M=n.useCallback((()=>D(!1)),[]),T=a?.name||o("payments_header_add_payment_card"),A=o("webapp_payment_edition_delete_text"),k={confirmDeleteConfirm:o("webapp_payment_edition_delete_confirm"),confirmDeleteDismiss:o("webapp_payment_edition_delete_dismiss"),confirmDeleteSubtitle:A,confirmDeleteTitle:o("webapp_payment_edition_delete_header")};return n.createElement(bs,{isViewingExistingItem:!0,itemHasBeenEdited:m,onNavigateOut:v,onSubmit:async()=>{if(!h&&a){b(!0);try{const e=await g.C.updatePaymentCard({...y,id:a.id});if(e.success){const e=y?.name||"",t=""===e?o("webapp_payment_edition_generic_update_alert"):o("webapp_payment_edition_name_update_alert",{paymentCard:e});l.showAlert(t,s.BLW.SUCCESS),fp(),I()}else b(!1),e.error?.code===p.PaymentCardSaveResultErrorCode.EMPTY_CARD_NUMBER_AND_SECURITY_CODE?w(new Set(["cardNumber","securityCode"])):u()}catch(e){b(!1),u()}}},onClickDelete:x,ignoreCloseOnEscape:S||d,formId:"edit_paymentcard_panel",header:n.createElement(Is,{icon:n.createElement(Xn,{paymentCardColor:y?.color,iconSize:"large"}),iconBackgroundColor:Fn(y?.color),title:T})},y&&a?n.createElement(n.Fragment,null,n.createElement(Ch,{itemId:a.id,errors:C,paymentCardContent:y,signalEditedValues:f,showCopyAlert:e=>{c.setAlertMessage(e),c.show()}}),S&&n.createElement(Vh,{closeConfirmDeleteDialog:M,onDeleteConfirm:async()=>{if(a)if((await g.C.deletePaymentCard({id:a.id})).success){const e=""===a.name?o("webapp_payment_edition_generic_delete_alert"):o("webapp_payment_edition_name_delete_alert",{paymentCard:a.name});l.showAlert(e,s.BLW.SUBTLE)}else u();I()},translations:k})):null,c.isAlertVisible&&n.createElement("div",{className:Wh},n.createElement(s.bZj,{size:s.k3y.SMALL,severity:s.BLW.SUCCESS,closeIconName:o("_common_alert_dismiss_button"),onClose:()=>{c.hide()}},c.alertMessage)))};var qh;const Qh=e=>`{${e.match.params.uuid}}`,Xh={item:{live:g.C.liveBankAccount,liveParam:Qh,query:g.C.getBankAccount,queryParam:Qh}},Kh={strategies:Xh},Jh=(0,Fe.$)((0,We.i)((({item:e,lee:t})=>{const{translate:a}=(0,j.Z)(),{routes:o}=(0,J.Xo)(),{current:r}=n.useRef([]),[l,c]=n.useState(!1),[d,u]=n.useState(!1),[m,_]=n.useState(new Set),[h,b]=n.useState(e),[C,w]=n.useState(!1),{areProtectedItemsUnlocked:y,openProtectedItemsUnlocker:E,protectedItemsUnlockerShown:I}=(0,jn.t)(),f=Fh(),v=(0,ye.V)();n.useEffect((()=>((0,O.N)(N.PageView.ItemBankStatementDetails),()=>{r.forEach((e=>e()))})),[]);const S=()=>{(0,O.N)(N.PageView.ItemPaymentList),(0,i.uX)(o.userPayments)},D=n.useRef({}),x=n.useCallback((t=>{Object.entries(t).forEach((([t,a])=>{e[t]!==a?D.current[t]=a:delete D.current[t]})),c(Object.keys(D.current).length>0),b(t)}),[e]),M=e.name,T={confirmDeleteConfirm:a("webapp_payment_edition_bank_account_delete_confirm"),confirmDeleteDismiss:a("webapp_payment_edition_bank_account_delete_dismiss"),confirmDeleteSubtitle:a("webapp_payment_edition_bank_account_delete_subtitle"),confirmDeleteTitle:a("webapp_payment_edition_bank_account_delete_title")},A=I||C;return n.createElement(bs,{onNavigateOut:()=>{S()},ignoreCloseOnEscape:A,formId:"bank-account-edit-form",onSubmit:async()=>{if(!d){u(!0);try{const n=await g.C.updateBankAccount({...D.current,id:e.id});if(!0===n.success){const e=""===h.name?a("webapp_payment_edition_bank_account_generic_update_alert"):a("webapp_payment_edition_bank_account_name_update_alert",{accountName:h.name});v.showAlert(e,s.BLW.SUCCESS),S()}else u(!1),n.error?.code===p.UpdateBankAccountResultErrorCode.EMPTY_BIC_AND_IBAN?_(new Set(["BIC","IBAN"])):t.reportError(new Error("[payments][edit-bank-account] Unable to update bank account"),n.error?.code)}catch(e){u(!1),t.reportError(e,"[payments][edit-bank-account] Unexpected exception while updating bank account")}}},header:n.createElement(Is,{icon:qh||(qh=n.createElement(Rh,null)),iconBackgroundColor:s.O9T.dashGreen06,title:M}),onClickDelete:()=>{w(!0)},itemHasBeenEdited:l,isViewingExistingItem:!0},n.createElement(jh,{itemId:e.id,bankAccount:h,errors:m,onCopy:e=>{f.setAlertMessage(e),f.show()},reportError:t.reportError,signalEditedValues:x,areProtectedItemsUnlocked:y,openProtectedItemsUnlocker:E,variant:"edit"}),f.isAlertVisible&&n.createElement("div",{className:Wh},n.createElement(s.bZj,{size:s.k3y.SMALL,severity:s.BLW.SUCCESS,closeIconName:a("_common_alert_dismiss_button"),onClose:()=>{f.hide()}},f.alertMessage)),C&&n.createElement(Vh,{closeConfirmDeleteDialog:()=>{w(!1)},onDeleteConfirm:()=>{r.push((()=>g.C.deleteBankAccount({id:e.id})));const t=""===h.name?a("webapp_payment_edition_bank_account_generic_delete_alert"):a("webapp_payment_edition_bank_account_name_delete_alert",{accountName:h.name});v.showAlert(n.createElement("strong",null,t),s.BLW.SUBTLE),S()},translations:T}))}),Kh),Xh),$h="[-a-zA-Z\\d]{36}",eb=(0,Dg.P)({Component:({lee:e,children:t})=>{const a=(e=>{const t=(0,ni.e)(g.C.getPaymentCards,g.C.livePaymentCards,{spaceId:e,sort:"name",sortDirection:"ascend"}),a=(0,ni.e)(g.C.getBankAccounts,g.C.liveBankAccounts,{spaceId:e,sort:"accountName",sortDirection:"ascend"});return t.status===Ft.rq.Success&&a.status===Ft.rq.Success?{status:Ft.rq.Success,data:{bankAccounts:a.data,paymentCards:t.data}}:t.status===Ft.rq.Error?{status:Ft.rq.Error,error:t.error}:a.status===Ft.rq.Error?{status:Ft.rq.Error,error:a.error}:{status:Ft.rq.Loading}})((0,Z.B)(e.globalState));return n.createElement(Lg,{lee:e,editPanel:t},oh||(oh=n.createElement(Yg,null)),a.status===Ft.rq.Success?n.createElement(ih,{bankAccounts:a.data.bankAccounts,paymentCards:a.data.paymentCards,reportError:e.reportError}):null)},name:"Payments list view"});function tb({path:e}){return n.createElement(i.GB,{exact:!0,path:[e,`${e}/card/add`,`${e}/card/:uuid`,`${e}/bank-account/:uuid`,`${e}/bank-account/add`],component:eb},n.createElement(Mg,{redirectPath:e},n.createElement(i.ZB,{path:`${e}/card/add`,key:"add-payment-card",component:yh}),n.createElement(i.ZB,{path:`${e}/card/:uuid(${$h})`,component:Hh}),n.createElement(i.ZB,{path:`${e}/bank-account/add`,key:"add-bank-account",component:Bh}),n.createElement(i.ZB,{path:`${e}/bank-account/:uuid(${$h})`,component:Jh})))}var ab=a(939639);const nb={container:"container--euPRntv61L",sectionHeader:"sectionHeader--x5Is6VYjOU",grid:"grid--FySkuvKXNt",item:"item--__Zn9qqCxv"};var ib=a(832070),ob=a.n(ib);const sb=({data:e,onRenderItem:t,onToggleGrid:a,itemClassname:i,innerSectionClassname:o})=>{const s=e=>{a&&a(e)};return n.createElement("div",{className:nb.container},e.map(((e,a)=>{var r;const l=null!=(r=e.render)?r:t;if(!l)throw new Error("No render function provided");const c=e.getKey,d=a,u=Number(ob()["--dashlane-credentials-grid-collapsing-duration"]);return[n.createElement("div",{key:`header-${e.key}`},n.createElement("div",{className:nb.sectionHeader,onClick:()=>s(e.key),tabIndex:0,"aria-expanded":e.open,role:"button",onKeyPress:t=>{" "!==t.key&&"Enter"!==t.key||s(e.key)}},n.createElement("h2",{className:w()({[nb.open]:e.open})},e.title))),n.createElement(ab.H,{key:`innerSection-${e.key}`,open:e.open,durationMs:u},n.createElement("div",{className:o},n.createElement("ul",{className:nb.grid},e.items.map(((t,a)=>((e,t,a,o)=>n.createElement("li",{className:w()(nb.item,i),key:a(e),style:{visibility:o.open?"visible":"hidden"}},t(e)))(t,l,c||(()=>((e,t)=>`${e}-${t}`)(d,a)),e))))))]})))};var rb;const lb=e=>n.createElement(Ce,{iconType:e,iconSize:be.largeIcon}),cb=({id:e,icon:t,title:a,text:o,onClick:s,to:r})=>n.createElement(i.rU,{key:e,className:"itemLink--U5CClTbs8w",to:r,onClick:s},t,n.createElement("div",{className:"itemInner--XdgAFcarM8"},n.createElement("div",{className:"firstLine--WvYt6YET06 _text--BNK0AF0Cg6"},a),n.createElement("div",{className:"secondLine--iYoVaynAJ6 _text--BNK0AF0Cg6"},o))),db=({currentSpaceId:e})=>null===e?{filterCriteria:[]}:{filterCriteria:[{field:"spaceId",type:"equals",value:e}]},ub=e=>({sortToken:{sortCriteria:[],uniqField:"id"},filterToken:db(e)}),pb=(0,Ge.compose)(btoa,JSON.stringify,ub),mb={addresses:{live:g.C.liveAddresses,liveParam:pb,query:g.C.getAddresses,queryParam:ub},companies:{live:g.C.liveCompanies,liveParam:pb,query:g.C.getCompanies,queryParam:ub},identities:{live:g.C.liveIdentities,liveParam:pb,query:g.C.getIdentities,queryParam:ub},personalWebsites:{live:g.C.livePersonalWebsites,liveParam:pb,query:g.C.getPersonalWebsites,queryParam:ub},emails:{live:g.C.liveEmails,liveParam:pb,query:g.C.getEmails,queryParam:ub},phones:{live:g.C.livePhones,liveParam:pb,query:g.C.getPhones,queryParam:ub}},_b={strategies:mb},gb=(0,Fe.$)((0,We.i)((e=>{const{onToggleGrid:t}=e,{translate:a}=(0,j.Z)(),i=((e,t)=>{const{addresses:a,categoryStates:i,companies:o,emails:s,identities:r,lee:l,personalWebsites:c,phones:d}=e;return[{key:"identities",open:i.identities.open,title:`${t("personal_info_grid_category_identities")} (${r.items.length})`,items:r.items,render:e=>((e,t,a)=>n.createElement(cb,{key:t.id,id:t.id,icon:lb(he.identity),text:ue(a,t),title:ce(t),onClick:()=>{(0,ae.bx)(t.id,N.ItemType.Identity)},to:e.routes.userPersonalInfoIdentity(t.id)}))(l,e,t),getKey:e=>e.id},{key:"emails",open:i.emails.open,title:`${t("personal_info_grid_category_emails")} (${s.items.length})`,items:s.items,render:e=>((e,t)=>n.createElement(cb,{key:t.id,id:t.id,icon:lb("PRO"===t.type?he.emailPro:he.email),text:t.email,title:t.name,onClick:()=>{(0,ae.bx)(t.id,N.ItemType.Email)},to:e.routes.userPersonalInfoEmail(t.id)}))(l,e),getKey:e=>e.id},{key:"phones",open:i.phones.open,title:`${t("personal_info_grid_category_phones")} (${d.items.length})`,items:d.items,render:e=>((e,t,a)=>n.createElement(cb,{key:t.id,id:t.id,icon:lb(he.phone),text:t.displayNumber,title:le(a,t),onClick:()=>{(0,ae.bx)(t.id,N.ItemType.Phone)},to:e.routes.userPersonalInfoPhone(t.id)}))(l,e,t),getKey:e=>e.id},{key:"addresses",open:i.addresses.open,title:`${t("personal_info_grid_category_addresses")} (${a.items.length})`,items:a.items,render:e=>((e,t,a)=>n.createElement(cb,{key:t.id,id:t.id,icon:lb(he.address),text:pe(t,a),title:t.addressName,onClick:()=>{(0,ae.bx)(t.id,N.ItemType.Address)},to:e.routes.userPersonalInfoAddress(t.id)}))(l,e,t),getKey:e=>e.id},{key:"companies",open:i.companies.open,title:`${t("personal_info_grid_category_companies")} (${o.items.length})`,items:o.items,render:e=>((e,t)=>n.createElement(cb,{key:t.id,id:t.id,icon:lb(he.company),text:t.jobTitle,title:t.name,onClick:()=>{(0,ae.bx)(t.id,N.ItemType.Company)},to:e.routes.userPersonalInfoCompany(t.id)}))(l,e),getKey:e=>e.id},{key:"personalWebsites",open:i.personalWebsites.open,title:`${t("personal_info_grid_category_personalWebsites")} (${c.items.length})`,items:c.items,render:e=>((e,t)=>n.createElement(cb,{key:t.id,id:t.id,icon:lb(he.website),text:t.website,title:t.name,onClick:()=>{(0,ae.bx)(t.id,N.ItemType.Website)},to:e.routes.userPersonalInfoWebsite(t.id)}))(l,e),getKey:e=>e.id}].filter((e=>e.items.length>0))})(e,a);return i.length?n.createElement(sb,{data:i,itemClassname:"item--Gb3rRTGjJe",onToggleGrid:t}):n.createElement(Hg,{icon:rb||(rb=n.createElement("img",{src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iOTYiIGhlaWdodD0iOTIiIHZpZXdCb3g9IjAgMCA5NiA5MiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTQ4LjM1NTUgNTIuNDczOEM0MS4yNDQ0IDUyLjQ3MzggMzUuNTU1NSA0Ny4wMjE5IDM1LjU1NTUgNDAuMjA3MUMzNS41NTU1IDMzLjM5MjMgNDEuMjQ0NCAyNy45NDA0IDQ4LjM1NTUgMjcuOTQwNEM1NS40NjY3IDI3Ljk0MDQgNjEuMTU1NSAzMy4zOTIzIDYxLjE1NTUgNDAuMjA3MUg1NS44MjIyQzU1LjgyMjIgMzYuNDU5IDUyLjYyMjIgMzMuMDUxNSA0OC4zNTU1IDMzLjA1MTVDNDQuMDg4OSAzMy4wNTE1IDQwLjg4ODkgMzYuMTE4MiA0MC44ODg5IDQwLjIwNzFDNDAuODg4OSA0NC4yOTYgNDQuMDg4OSA0Ny4zNjI3IDQ4LjM1NTUgNDcuMzYyN0M1MC44NDQ0IDQ3LjM2MjcgNTIuOTc3OCA0Ni4zNDA0IDU0LjQgNDQuMjk1OUw1OC42NjY3IDQ3LjM2MjdDNTYuMTc3OCA1MC40Mjk0IDUyLjI2NjcgNTIuNDczOCA0OC4zNTU1IDUyLjQ3MzhaIiBmaWxsPSIjRTBERERBIi8+CjxwYXRoIGQ9Ik0zNS45MTA2IDcxLjU1NTZIMzAuNTc3M1Y2MC45OTI3TDM3LjMzMjggNTQuNTE4Nkg1OS4zNzczTDY1Ljc3NzMgNjAuOTkyN1Y3MC44NzQySDYwLjQ0MzlWNjMuMDM3MUw1Ny4yNDM5IDU5LjYyOTdIMzkuNDY2MkwzNS45MTA2IDYzLjAzNzFWNzEuNTU1NloiIGZpbGw9IiNFMEREREEiLz4KPHBhdGggZD0iTTQ4IDc2LjY2NjZDMzAuMjIyMiA3Ni42NjY2IDE2IDYzLjAzNjkgMTYgNDUuOTk5OUMxNiAyOC45NjI5IDMwLjIyMjIgMTUuMzMzMyA0OCAxNS4zMzMzQzY1Ljc3NzggMTUuMzMzMyA4MCAyOC45NjI5IDgwIDQ1Ljk5OTlDODAgNjIuNjk2MiA2NS43Nzc4IDc2LjY2NjYgNDggNzYuNjY2NlpNNDggMjAuNDQ0NEMzMy40MjIyIDIwLjQ0NDQgMjEuMzMzMyAzMi4wMjk1IDIxLjMzMzMgNDUuOTk5OUMyMS4zMzMzIDU5Ljk3MDMgMzMuNDIyMiA3MS41NTU1IDQ4IDcxLjU1NTVDNjIuNTc3OCA3MS41NTU1IDc0LjY2NjcgNTkuOTcwMyA3NC42NjY3IDQ1Ljk5OTlDNzQuNjY2NyAzMi4wMjk1IDYyLjkzMzMgMjAuNDQ0NCA0OCAyMC40NDQ0WiIgZmlsbD0iI0UwREREQSIvPgo8L3N2Zz4K"})),title:a("webapp_personal_info_empty_view_title")},n.createElement("p",null,a("webapp_personal_info_empty_view_description")))}),_b),mb);var hb,bb;const Cb=()=>{const{routes:e}=(0,J.Xo)(),{translate:t}=(0,j.Z)(),a=(e,t)=>()=>{(0,i.uX)(t)},o=[{label:t("webapp_personal_info_header_add_name"),onClick:a(0,e.userAddPersonalInfoIdentity)},{label:t("webapp_personal_info_header_add_email"),onClick:a(0,e.userAddPersonalInfoEmail)},{label:t("webapp_personal_info_header_add_phone"),onClick:a(0,e.userAddPersonalInfoPhone)},{label:t("webapp_personal_info_header_add_address"),onClick:a(0,e.userAddPersonalInfoAddress)},{label:t("webapp_personal_info_header_add_company"),onClick:a(0,e.userAddPersonalInfoCompany)},{label:t("webapp_personal_info_header_add_website"),onClick:a(0,e.userAddPersonalInfoWebsite)}];return n.createElement(Bg,{buttonLabel:t("webapp_personal_info_header_add"),menuItemContents:o.map((({label:e,onClick:t})=>n.createElement(Ug,{label:e,onClick:t,key:e}))),endWidget:n.createElement(n.Fragment,null,hb||(hb=n.createElement(fm,null)),bb||(bb=n.createElement(D_,null)))})};var wb;const yb=({lee:e,children:t})=>{const[a,i]=n.useState({addresses:{open:!0},companies:{open:!0},emails:{open:!0},identities:{open:!0},personalWebsites:{open:!0},phones:{open:!0}});n.useEffect((()=>{const t={queries:[]};e.globalState.webapp.callingCodes||t.queries.push({type:c.StaticDataQueryType.CALLING_CODES}),e.globalState.webapp.geographicStates||t.queries.push({type:c.StaticDataQueryType.GEOGRAPHIC_STATES,level:c.GeographicStateLevel.LEVEL_0},{type:c.StaticDataQueryType.GEOGRAPHIC_STATES,level:c.GeographicStateLevel.LEVEL_1}),t.queries.length&&(0,ot.et)(t).then((t=>{const a=t.reduce(((e,t)=>{if(t.type===c.StaticDataQueryType.CALLING_CODES)return{...e,callingCodes:t.collection};if(t.type===c.StaticDataQueryType.GEOGRAPHIC_STATES){const a={...e.geographicStates};return Object.keys(t.collection).forEach((e=>{a[e]={...a[e],...t.collection[e]}})),{...e,geographicStates:a}}return(0,et.Z)(new Error(`queryStaticDataCollections: Unexpected result type (${t})`)),e}),{});e.dispatchGlobal((0,f.Bn)(a))})).catch((e=>(0,et.Z)(e))),(0,O.N)(N.PageView.ItemPersonalInfoList)}),[]);const o=(0,Z.B)(e.globalState);return n.createElement(Lg,{lee:e,editPanel:t},wb||(wb=n.createElement(Cb,null)),n.createElement(gb,{categoryStates:a,onToggleGrid:e=>{i({...a,[e]:{open:!a[e].open}})},lee:e,currentSpaceId:o}))},Eb=(0,Ge.compose)(Ge.not,Ge.isEmpty,Ge.trim,(0,Ge.defaultTo)("")),Ib=/.+@.+\..+/,Nb=e=>Ib.test(e.trim());class fb extends n.Component{constructor(e){super(e),this.setInternalState=e=>{this.setState({internal:{...this.state.internal,...e}})},this.setUpdatedValues=e=>{const{signalEditedValues:t,onValuesUpdated:a}=this.props,n={...this.state.values,...e};this.setState({values:n},(()=>{t&&t(this.hasFormBeenEdited()),a&&a(n)}))},this.handleChange=(e,t="")=>{if(e instanceof Event&&t)throw new Error("handleChange was called with both a ChangeEvent and key.");const a=e?.target?{[e.target.dataset.name]:e.target.value}:{[t]:e};this.setUpdatedValues(a)},this.handleChanges=e=>{this.setUpdatedValues(e)},this.validateValues=e=>{if(0===Object.keys(e).length)return!0;const t=(0,Ge.reduce)(((t,a)=>(t[a]=e[a]?(0,Ge.compose)(Ge.not,e[a]):()=>!1,t)),{},Object.keys(this.state.values)),a=(0,Ge.evolve)(t,this.state.values);return this.setState({errors:a}),(0,Ge.all)((0,Ge.equals)(!1),(0,Ge.values)(a))},this.hasFormBeenEdited=()=>!(0,Ge.equals)(this.state.values,this.props.currentValues),this.getValues=()=>this.state.values;const t=Object.keys(e.currentValues).reduce(((e,t)=>(e[t]=!1,e)),{});this.state={internal:{},values:e.currentValues,errors:t}}componentDidUpdate(e){(0,Ge.equals)(this.props.currentValues,e.currentValues)||this.setState({values:this.props.currentValues})}}let vb;!function(e){e[e.DEFAULT=0]="DEFAULT",e[e.WITHSTATE=1]="WITHSTATE",e[e.NORTHAMERICA=2]="NORTHAMERICA",e[e.UNITEDKINGDOM=3]="UNITEDKINGDOM",e[e.ASIA=4]="ASIA",e[e.JAPAN=5]="JAPAN"}(vb||(vb={}));const Sb=new Set([c.Country.AR,c.Country.BE,c.Country.CH,c.Country.CL,c.Country.CO,c.Country.DE,c.Country.ES,c.Country.IT,c.Country.NL,c.Country.NO,c.Country.PE,c.Country.PT,c.Country.SE,c.Country.MX]),Db=new Set([c.Country.AU,c.Country.CA,c.Country.US]),xb=new Set([c.Country.GB,c.Country.IE]),Mb=new Set([c.Country.CN,c.Country.IN,c.Country.KR,c.Country.BR]),Tb=new Set([c.Country.JP]),Ab=(0,_e.Enum)("AddressFull","City","State","Country","StreetNumber","ZipCode"),kb=e=>Sb.has(e)?vb.WITHSTATE:Db.has(e)?vb.NORTHAMERICA:xb.has(e)?vb.UNITEDKINGDOM:Mb.has(e)?vb.ASIA:Tb.has(e)?vb.JAPAN:vb.DEFAULT,Zb={container:"container--BvfulnQcuP",containerBlock:"containerBlock--lIB_8rMAqf",horizontalContainerBlock:"horizontalContainerBlock--XzyL0HxXte",secondItem:"secondItem--YxYGi1WTY5"};class Ob extends fb{isFormValid(){return this.validateValues({addressFull:Eb})}buildCountryOptionList(){return Object.keys(c.Country).filter((e=>e!==c.Country[c.Country.NO_TYPE]&&e!==c.Country[c.Country.UNIVERSAL])).map((e=>({value:c.Country[e],label:me(this.props.lee.translate,c.Country[e])}))).sort(((e,t)=>e.label.localeCompare(t.label,this.props.lee.translate.getLocale())))}buildStateOptionListForCountry(e){var t,a;const n=null!=(a=(null!=(t=this.props.lee.globalState.webapp.geographicStates)?t:{})[e])?a:{};return Object.keys(n).map((e=>({value:e,label:n[e].name}))).sort(((e,t)=>e.label<t.label?-1:1))}renderAddressFull(e){return n.createElement(lh.Z,{key:"addressFull",type:"text",label:e("full_address_label"),placeholder:e("placeholder_no_full_address"),dataName:"addressFull",value:this.state.values.addressFull,onChange:this.handleChange,error:this.state.errors.addressFull})}renderZipCode(e){return n.createElement(lh.Z,{key:"zipCode",type:"text",label:e("zip_code_label"),placeholder:e("placeholder_no_zip_code"),dataName:"zipCode",value:this.state.values.zipCode,onChange:this.handleChange})}renderCity(e){return n.createElement(lh.Z,{key:"city",type:"text",label:e("city_label"),placeholder:e("placeholder_no_city"),dataName:"city",value:this.state.values.city,onChange:this.handleChange})}renderState(e){var t;const a=this.buildStateOptionListForCountry(this.state.values.localeFormat),i=null!=(t=a.find((e=>e.value===this.state.values.state)))?t:a[0];return n.createElement(ch.Z,{key:`states_${this.state.values.localeFormat}`,label:kb(this.state.values.localeFormat)===vb.UNITEDKINGDOM?e("county_label"):e("state_label"),dataName:"state",placeholder:this.state.values.state,defaultOption:i,options:a,onChange:this.handleChange})}renderCountry(e){var t;const a=this.buildCountryOptionList(),i=null!=(t=a.find((e=>e.value===this.state.values.localeFormat)))?t:a[0];return n.createElement(ch.Z,{key:"country",label:e("country_label"),placeholder:i.label,dataName:"localeFormat",defaultOption:i,options:a,onChange:e=>{const t=e.target.value,a=this.buildStateOptionListForCountry(t);this.handleChanges({localeFormat:t,state:a&&Object.keys(a).length?Object.keys(a)[0]:""})}})}renderStreetNumber(e){return n.createElement(lh.Z,{key:"streetNumber",type:"text",label:e("street_number_label"),placeholder:e("placeholder_no_street_number"),dataName:"streetNumber",value:this.state.values.streetNumber,onChange:this.handleChange})}renderLocalizedFields(){const e=this.props.lee.translate.namespace("webapp_personal_info_edition_address_"),t={[Ab.AddressFull]:this.renderAddressFull,[Ab.City]:this.renderCity,[Ab.Country]:this.renderCountry,[Ab.ZipCode]:this.renderZipCode,[Ab.StreetNumber]:this.renderStreetNumber,[Ab.State]:this.renderState};return(e=>{const t=kb(e);return t===vb.NORTHAMERICA?[Ab.AddressFull,Ab.City,Ab.State,Ab.ZipCode,Ab.Country]:t===vb.UNITEDKINGDOM?[Ab.StreetNumber,Ab.AddressFull,Ab.City,Ab.State,Ab.ZipCode,Ab.Country]:t===vb.ASIA?[Ab.AddressFull,Ab.City,Ab.ZipCode,Ab.Country]:t===vb.JAPAN?[Ab.ZipCode,Ab.City,Ab.AddressFull,Ab.Country]:t===vb.WITHSTATE?[Ab.AddressFull,Ab.ZipCode,Ab.City,Ab.State,Ab.Country]:[Ab.AddressFull,Ab.ZipCode,Ab.City,Ab.Country]})(this.state.values.localeFormat).map((a=>a in t?t[a].call(this,e):null))}buildLinkedPhoneOptionList(e){const{additionalProps:{phones:t=[]}={}}=this.props;return[{value:"",label:e("phone_number_other")},...t.map((e=>({value:e.id,label:`${e.name} ${e.number}`,selectedLabel:n.createElement("span",null,n.createElement("span",{className:"phoneName--IP3BIyXoAF"},e.name)," ",e.number)})))]}render(){var e,t;const a=this.props.lee.translate.namespace("webapp_personal_info_edition_address_"),i=this.buildLinkedPhoneOptionList(a),o=null!=(e=i.find((e=>e.value===this.state.values.linkedPhone)))?e:i[0];return n.createElement(n.Fragment,null,n.createElement("div",{className:Zb.containerBlock},this.renderLocalizedFields()),n.createElement("div",{className:Zb.containerBlock},n.createElement(lh.Z,{type:"text",label:a("name_label"),placeholder:a("placeholder_no_name"),dataName:"addressName",value:this.state.values.addressName,onChange:this.handleChange}),n.createElement(bo,{labelSx:ho,spaceId:null!=(t=this.state.values.spaceId)?t:"",onChange:e=>this.handleChange(e,"spaceId")})),n.createElement("div",{className:Zb.containerBlock},n.createElement(lh.Z,{type:"text",label:a("receiver_label"),placeholder:a("placeholder_no_receiver"),dataName:"receiver",value:this.state.values.receiver,onChange:this.handleChange}),n.createElement("div",{className:Zb.horizontalContainerBlock},n.createElement(lh.Z,{type:"text",label:a("building_label"),placeholder:a("placeholder_no_building"),dataName:"building",value:this.state.values.building,onChange:this.handleChange}),n.createElement("div",{className:Zb.secondItem},n.createElement(lh.Z,{type:"text",label:a("floor_label"),placeholder:a("placeholder_no_floor"),dataName:"floor",value:this.state.values.floor,onChange:this.handleChange}))),n.createElement("div",{className:Zb.horizontalContainerBlock},n.createElement(lh.Z,{type:"text",label:a("door_label"),placeholder:a("placeholder_no_door"),dataName:"door",value:this.state.values.door,onChange:this.handleChange}),n.createElement("div",{className:Zb.secondItem},n.createElement(lh.Z,{type:"text",label:a("digit_code_label"),placeholder:a("placeholder_no_digit_code"),dataName:"digitCode",value:this.state.values.digitCode,onChange:this.handleChange})))),n.createElement("div",{className:Zb.containerBlock},n.createElement(ch.Z,{label:a("phone_number_label"),placeholder:"",dataName:"linkedPhone",defaultOption:o,options:i,onChange:this.handleChange})))}}const Lb=["addressFull","addressName","building","city","digitCode","door","floor","id","linkedPhone","localeFormat","receiver","spaceId","stairs","state","stateLevel2","stateNumber","streetName","streetNumber","streetTitle","zipCode"],Pb=({lee:e})=>{const t=(0,Z.B)(e.globalState);return null===t?{filterCriteria:[]}:{filterCriteria:[{type:"equals",value:t,field:"spaceId"}]}},zb=e=>({sortToken:{sortCriteria:[],uniqField:"id"},filterToken:Pb(e)}),jb=(0,Ge.compose)(btoa,JSON.stringify,zb),Rb=e=>`{${e.match.params.uuid}}`,Ub={item:{live:g.C.liveAddress,liveParam:Rb,query:g.C.getAddress,queryParam:Rb},phones:{live:g.C.livePhones,liveParam:jb,query:g.C.getPhones,queryParam:zb}},Bb={strategies:Ub},Fb=(0,Fe.$)((0,We.i)((({lee:e,match:t,item:a,phones:o})=>{var r,l,d;const u=(0,n.createRef)(),[p,m]=n.useState(!1),[_,h]=n.useState(!1),{translate:b}=(0,j.Z)(),{routes:C}=(0,J.Xo)();n.useEffect((()=>{(0,O.N)(N.PageView.ItemAddressDetails)}),[]);const w=()=>{(0,O.N)(N.PageView.ItemPersonalInfoList),(0,i.uX)(C.userPersonalInfo)},y=()=>{w()},E=Boolean(t.params?.uuid),I=null!=(r=a?.addressName)?r:"",f=b("webapp_personal_info_edition_header_address_description"),v=n.createElement(Ce,{iconSize:be.headerEditPanelIcon,iconType:he.address}),S={confirmDeleteConfirm:b("webapp_personal_info_edition_delete_confirm"),confirmDeleteDismiss:b("webapp_personal_info_edition_delete_dismiss"),confirmDeleteSubtitle:b("webapp_personal_info_edition_delete_subtitle"),confirmDeleteTitle:b("webapp_personal_info_edition_delete_title_address")},D=c.Country[e.globalState.locale.country],x=a?{...(0,Ge.pick)(Lb,a),localeFormat:null!=(l=null!=(d=a?.localeFormat)?d:D)?l:c.Country.US}:null,M={phones:o.items};return n.createElement(bs,{isViewingExistingItem:E,itemHasBeenEdited:p,onNavigateOut:y,onSubmit:async()=>{if(null==(e=u.current?.isFormValid())||!e||!a)return;var e;const t=null!=(n=u.current?.getValues())?n:null;var n;const i={kwType:"KWAddress",origin:c.SaveOrigin.MANUAL,content:{...t,id:a.id}};await g.C.savePersonalDataItem(i),y()},onClickDelete:()=>h(!0),ignoreCloseOnEscape:_,formId:"edit_address_panel",header:n.createElement(Is,{icon:v,iconBackgroundColor:s.O9T.dashGreen00,title:I,titleDescription:f})},x?n.createElement(Ob,{lee:e,currentValues:x,signalEditedValues:()=>m(!0),ref:u,additionalProps:M}):null,_?n.createElement(Vh,{closeConfirmDeleteDialog:()=>h(!1),onDeleteConfirm:()=>{a&&(g.C.removePersonalDataItem({id:a.id}),w())},translations:S}):null)}),Bb),Ub);class Wb extends fb{isFormValid(){return this.validateValues({name:Eb})}render(){var e;const t=this.props.lee.translate.namespace("webapp_personal_info_edition_company_");return n.createElement(n.Fragment,null,n.createElement(lh.Z,{label:t("name_label"),placeholder:t("placeholder_no_name"),dataName:"name",value:this.state.values.name,error:this.state.errors.name,onChange:this.handleChange}),n.createElement(lh.Z,{label:t("jobTitle_label"),placeholder:t("placeholder_no_jobTitle"),dataName:"jobTitle",value:this.state.values.jobTitle,onChange:this.handleChange}),n.createElement(bo,{labelSx:ho,spaceId:null!=(e=this.state.values.spaceId)?e:"",onChange:e=>this.handleChange(e,"spaceId")}))}}var Gb=a(418402),Vb=a.n(Gb);const Yb={DELETE_CONFIRM:"webapp_personal_info_edition_delete_confirm",DELETE_DISMISS:"webapp_personal_info_edition_delete_dismiss",DELETE_SUBTITLE:"webapp_personal_info_edition_delete_subtitle"};function Hb(e){const{getItemTypeDescription:t,getDeleteTitle:a,getTitle:o,iconType:s,kwType:r,renderForm:l}=e;return class extends n.Component{constructor(...e){super(...e),this.form=(0,n.createRef)(),this.getFormValues=()=>{var e;return null!=(e=this.form.current?.getValues())?e:null},this.isFormValid=()=>{var e;return null!=(e=this.form.current?.isFormValid())&&e},this.state={hasDataBeenModified:!1,displayConfirmDeleteDialog:!1},this.componentDidMount=()=>{const e={[c.DataModelType.KWAddress]:N.PageView.ItemAddressDetails,[c.DataModelType.KWCompany]:N.PageView.ItemCompanyDetails,[c.DataModelType.KWEmail]:N.PageView.ItemEmailDetails,[c.DataModelType.KWIdentity]:N.PageView.ItemIdentityDetails,[c.DataModelType.KWPhone]:N.PageView.ItemPhoneDetails,[c.DataModelType.KWPersonalWebsite]:N.PageView.ItemWebsiteDetails};(0,O.N)(e[r])},this.showListView=()=>{(0,O.N)(N.PageView.ItemPersonalInfoList),(0,i.uX)(this.props.lee.routes.userPersonalInfo)},this.handleEditedForm=()=>this.setState({hasDataBeenModified:!0}),this.handleNavigateOut=()=>{this.showListView()},this.handleClickDelete=()=>this.setState({displayConfirmDeleteDialog:!0}),this.closeConfirmDeleteDialog=()=>this.setState({displayConfirmDeleteDialog:!1}),this.handleDeleteConfirm=()=>{const{item:e}=this.props;e?.id&&(g.C.removePersonalDataItem({id:e.id}),this.showListView())},this.handleSubmit=async()=>{const{item:e}=this.props;if(!e?.id)return;if(!this.isFormValid())return;const t=this.getFormValues(),a={kwType:r,origin:c.SaveOrigin.MANUAL,content:{...t,id:e.id}};await g.C.savePersonalDataItem(a),fp(),this.showListView()},this.render=()=>{const{item:e,lee:{translate:i}}=this.props,{displayConfirmDeleteDialog:r,hasDataBeenModified:c}=this.state,d=Boolean(this.props.match.params?.uuid),u=e?o(e,i):"",p=a(i),m=t(i),_=n.createElement(Ce,{iconSize:be.headerEditPanelIcon,iconType:s}),g={confirmDeleteConfirm:i(Yb.DELETE_CONFIRM),confirmDeleteDismiss:i(Yb.DELETE_DISMISS),confirmDeleteSubtitle:i(Yb.DELETE_SUBTITLE),confirmDeleteTitle:p};return n.createElement(bs,{isViewingExistingItem:d,itemHasBeenEdited:c,onNavigateOut:this.handleNavigateOut,onSubmit:this.handleSubmit,onClickDelete:this.handleClickDelete,ignoreCloseOnEscape:r,formId:"edit_personalinfo_panel",header:n.createElement(Is,{icon:_,iconBackgroundColor:Vb()["--dash-green-00"],title:u,titleDescription:m})},e?l(this.props.lee,e,this.form,this.handleEditedForm):"",r?n.createElement(Vh,{closeConfirmDeleteDialog:this.closeConfirmDeleteDialog,onDeleteConfirm:this.handleDeleteConfirm,translations:g}):null)}}}}const qb=Hb({getDeleteTitle:e=>e("webapp_personal_info_edition_delete_title_company"),getItemTypeDescription:e=>e("webapp_personal_info_edition_header_company_description"),getTitle:e=>e.name,iconType:he.company,kwType:"KWCompany",renderForm:(e,t,a,i)=>{const o={jobTitle:t.jobTitle,name:t.name,spaceId:t.spaceId};return n.createElement(Wb,{lee:e,currentValues:o,signalEditedValues:i,ref:a})}}),Qb=e=>`{${e.match.params.uuid}}`,Xb={item:{live:g.C.liveCompany,liveParam:Qb,query:g.C.getCompany,queryParam:Qb}},Kb={strategies:Xb},Jb=(0,Fe.$)((0,We.i)(qb,Kb),Xb);class $b extends fb{isFormValid(){return this.validateValues({email:Nb})}render(){var e,t;const a=this.props.lee.translate.namespace("webapp_personal_info_edition_email_"),i=[{label:a("perso_type"),value:"PERSO"},{label:a("pro_type"),value:"PRO"}],o=null!=(e=(0,Ge.find)((0,Ge.propEq)("value",this.state.values.type),i))?e:(0,Ge.head)(i);return n.createElement(n.Fragment,null,n.createElement(lh.Z,{type:"email",label:a("email_label"),placeholder:a("placeholder_no_email"),dataName:"email",value:this.state.values.email,error:this.state.errors.email,onChange:this.handleChange}),n.createElement(ch.Z,{label:a("type_label"),placeholder:o.label,dataName:"type",options:i,defaultOption:o,onChange:this.handleChange}),n.createElement(lh.Z,{label:a("name_label"),placeholder:a("placeholder_no_emailName"),dataName:"emailName",value:this.state.values.emailName,onChange:this.handleChange}),n.createElement(bo,{labelSx:ho,spaceId:null!=(t=this.state.values.spaceId)?t:"",onChange:e=>this.handleChange(e,"spaceId")}))}}const eC=Hb({getDeleteTitle:e=>e("webapp_personal_info_edition_delete_title_email"),getItemTypeDescription:e=>e("webapp_personal_info_edition_header_email_description"),getTitle:e=>e.name,iconType:he.email,kwType:"KWEmail",renderForm:(e,t,a,i)=>{const o={type:t.type,emailName:t.name,email:t.email,spaceId:t.spaceId||""};return n.createElement($b,{lee:e,currentValues:o,signalEditedValues:i,ref:a})}}),tC=e=>`{${e.match.params.uuid}}`,aC={item:{live:g.C.liveEmail,liveParam:tC,query:g.C.getEmail,queryParam:tC}},nC={strategies:aC},iC=(0,Fe.$)((0,We.i)(eC,nC),aC);let oC;!function(e){e[e.TITLE=0]="TITLE",e[e.FIRSTNAME=1]="FIRSTNAME",e[e.MIDDLENAME=2]="MIDDLENAME",e[e.LASTNAME=3]="LASTNAME",e[e.LASTNAME2=4]="LASTNAME2",e[e.PSEUDO=5]="PSEUDO",e[e.BIRTHDATE=6]="BIRTHDATE",e[e.BIRTHPLACE=7]="BIRTHPLACE"}(oC||(oC={}));const sC=e=>e!==gn.n.JAPAN,rC=e=>e===gn.n.NORTH_AMERICA_AND_ASIA,lC=e=>e===gn.n.SPANISH;var cC=a(433117);const dC="webapp_personal_info_edition_identity_error",uC="yyyy-MM-dd";class pC extends fb{constructor(...e){super(...e),this.isFieldVisible=(e=>{const t=(0,gn.S)(e),a={[oC.TITLE]:sC(t),[oC.FIRSTNAME]:!0,[oC.MIDDLENAME]:rC(t),[oC.LASTNAME]:!0,[oC.LASTNAME2]:lC(t),[oC.PSEUDO]:!0,[oC.BIRTHDATE]:!0,[oC.BIRTHPLACE]:!0};return(e,t)=>a[e]||!!t})(this.props.currentValues.localeFormat)}isFormValid(){return this.validateValues({firstName:Eb,lastName:Eb})}render(){var e,t;const a=this.props.lee.translate,i=[{label:a("webapp_personal_info_edition_identity_title_mr"),value:"MR"},{label:a("webapp_personal_info_edition_identity_title_mrs"),value:"MME"},{label:a("webapp_personal_info_edition_identity_title_miss"),value:"MLLE"},{label:a("webapp_personal_info_edition_identity_title_ms"),value:"MS"},{label:a("webapp_personal_info_edition_identity_title_mx"),value:"MX"},{label:a("webapp_personal_info_edition_identity_title_none_of_these"),value:"NONE_OF_THESE"}],o=(0,Ge.uniqBy)((e=>e.label),i),s=null!=(e=o.find((({value:e})=>this.state.values.title===e)))?e:o[o.length-1];return n.createElement(n.Fragment,null,n.createElement("div",{className:Zb.containerBlock},this.isFieldVisible(oC.TITLE,this.state.values.title)&&n.createElement(ch.Z,{label:a("webapp_personal_info_edition_identity_title_label"),placeholder:s.label,dataName:"title",options:o,defaultOption:s,onChange:this.handleChange}),this.isFieldVisible(oC.FIRSTNAME,this.state.values.firstName)&&n.createElement(lh.Z,{type:"text",label:a("webapp_personal_info_edition_identity_firstname_label"),placeholder:a("webapp_personal_info_edition_identity_placeholder_no_firstname"),dataName:"firstName",value:this.state.values.firstName,error:this.state.errors.firstName?a(dC):void 0,onChange:this.handleChange}),this.isFieldVisible(oC.MIDDLENAME,this.state.values.middleName)&&n.createElement(lh.Z,{type:"text",label:a("webapp_personal_info_edition_identity_middlename_label"),placeholder:a("webapp_personal_info_edition_identity_placeholder_no_middlename"),dataName:"middleName",value:this.state.values.middleName,error:this.state.errors.middleName,onChange:this.handleChange}),this.isFieldVisible(oC.LASTNAME,this.state.values.lastName)&&n.createElement(lh.Z,{type:"text",label:a("webapp_personal_info_edition_identity_lastname_label"),placeholder:a("webapp_personal_info_edition_identity_placeholder_no_lastname"),dataName:"lastName",value:this.state.values.lastName,error:this.state.errors.lastName?a(dC):void 0,onChange:this.handleChange}),this.isFieldVisible(oC.LASTNAME2,this.state.values.lastName2)&&n.createElement(lh.Z,{type:"text",label:a("webapp_personal_info_edition_identity_lastname2_label"),placeholder:a("webapp_personal_info_edition_identity_placeholder_no_lastname2"),dataName:"lastName2",value:this.state.values.lastName2,error:this.state.errors.lastName2,onChange:this.handleChange})),n.createElement("div",{className:Zb.containerBlock},this.isFieldVisible(oC.PSEUDO,this.state.values.pseudo)&&n.createElement(lh.Z,{type:"text",label:a("webapp_personal_info_edition_identity_pseudo_label"),placeholder:a("webapp_personal_info_edition_identity_placeholder_no_pseudo"),dataName:"pseudo",value:this.state.values.pseudo,error:this.state.errors.pseudo,onChange:this.handleChange}),this.isFieldVisible(oC.BIRTHDATE,this.state.values.birthDate)&&n.createElement(dh.j,{label:a("webapp_personal_info_edition_identity_birthdate_label"),value:(0,rh.Z)((0,cC.Z)(this.state.values.birthDate),uC),monthLabelFormatter:e=>this.props.lee.translate.shortDate(e,ne._T.MMMM),dateFormat:uC,sortYears:"DESC",onChange:e=>this.handleChange(e,"birthDate")}),this.isFieldVisible(oC.BIRTHPLACE,this.state.values.birthPlace)&&n.createElement(lh.Z,{type:"textDateFieldSelect",label:a("webapp_personal_info_edition_identity_birthplace_label"),placeholder:a("webapp_personal_info_edition_identity_placeholder_no_birthplace"),dataName:"birthPlace",value:this.state.values.birthPlace,error:this.state.errors.birthPlace,onChange:this.handleChange}),n.createElement(bo,{labelSx:ho,spaceId:null!=(t=this.state.values.spaceId)?t:"",onChange:e=>this.handleChange(e,"spaceId")})))}}const mC=Hb({getDeleteTitle:e=>e("webapp_personal_info_edition_delete_title_name"),getItemTypeDescription:e=>e("webapp_personal_info_edition_header_identity_description"),getTitle:e=>ce(e)||"",iconType:he.identity,kwType:"KWIdentity",renderForm:(e,t,a,i)=>{const o=de(t.birthDate),s={birthDate:(0,rh.Z)(o,"yyyy-MM-dd"),birthPlace:t.birthPlace,firstName:t.firstName,lastName2:t.lastName2,lastName:t.lastName,localeFormat:t.localeFormat,middleName:t.middleName,pseudo:t.pseudo,spaceId:t.spaceId,title:t.title};return n.createElement(pC,{lee:e,currentValues:s,signalEditedValues:i,ref:a})}}),_C=e=>`{${e.match.params.uuid}}`,gC={item:{live:g.C.liveIdentity,liveParam:_C,query:g.C.getIdentity,queryParam:_C}},hC={strategies:gC},bC=(0,Fe.$)((0,We.i)(mC,hC),gC);function CC(e,t){const a=e.namespace("country_name_");return e=>(e=e||c.Country.US,{label:`${a(c.Country[e])} (+${t[e]})`,selectedLabel:`${e} (+${t[e]})`,value:e})}var wC=a(161964);class yC extends fb{isFormValid(){return this.validateValues({number:Eb})}render(){var e,t;const{lee:a}=this.props,i=a.translate.namespace("webapp_personal_info_edition_phone_"),o=function(e){const t=e.namespace("personal_info_");return[{label:t("phone_type_mobile"),value:c.PhoneType.PHONE_TYPE_MOBILE},{label:t("phone_type_landline"),value:c.PhoneType.PHONE_TYPE_LANDLINE},{label:t("phone_type_work_mobile"),value:c.PhoneType.PHONE_TYPE_WORK_MOBILE},{label:t("phone_type_work_landline"),value:c.PhoneType.PHONE_TYPE_WORK_LANDLINE},{label:t("phone_type_fax"),value:c.PhoneType.PHONE_TYPE_FAX},{label:t("phone_type_work_fax"),value:c.PhoneType.PHONE_TYPE_WORK_FAX},{label:t("phone_type_any"),value:c.PhoneType.PHONE_TYPE_ANY}]}(a.translate),s=null!=(e=(0,Ge.find)((0,Ge.propEq)("value",this.state.values.type),o))?e:(0,Ge.head)(o),r=a.globalState.webapp.callingCodes||{},l=function(e,t){const a=CC(e,t);return Object.keys(t).map((e=>a(c.Country[e])))}(a.translate,r),d=CC(a.translate,r)(this.state.values.localeFormat);return n.createElement(n.Fragment,null,n.createElement("div",{className:Zb.container},n.createElement("label",{className:wC.Z.label,title:i("number_label")},i("number_label")),n.createElement(ch.Z,{placeholder:d.label,dataName:"localeFormat",options:l,defaultOption:d,onChange:this.handleChange}),n.createElement(lh.Z,{type:"text",placeholder:i("placeholder_no_number"),dataName:"number",value:this.state.values.number,error:this.state.errors.number,onChange:this.handleChange})),n.createElement(lh.Z,{type:"text",label:i("phonename_label"),placeholder:i("placeholder_no_phonename"),dataName:"phoneName",value:this.state.values.phoneName,onChange:this.handleChange}),n.createElement(ch.Z,{label:i("type_label"),placeholder:s.label,dataName:"type",options:o,defaultOption:s,onChange:this.handleChange}),n.createElement(bo,{labelSx:ho,spaceId:null!=(t=this.state.values.spaceId)?t:"",onChange:e=>this.handleChange(e,"spaceId")}))}}const EC=Hb({getDeleteTitle:e=>e("webapp_personal_info_edition_delete_title_phone"),getItemTypeDescription:e=>e("webapp_personal_info_edition_header_phone_description"),getTitle:function(e,t){return t(oe.PHONE_NAME,{phoneNumberName:e.name,phoneType:re(t,e.type)})},iconType:he.phone,kwType:"KWPhone",renderForm:(e,t,a,i)=>{const o=c.Country[e.globalState.locale.country]||c.Country.US,s={...(0,Ge.pick)(["localeFormat","number","type","spaceId"],t),phoneName:t.name,localeFormat:t.localeFormat||o,type:t.type||c.PhoneType.PHONE_TYPE_MOBILE};return n.createElement(yC,{lee:e,currentValues:s,signalEditedValues:i,ref:a})}}),IC=e=>`{${e.match.params.uuid}}`,NC={item:{live:g.C.livePhone,liveParam:IC,query:g.C.getPhone,queryParam:IC}},fC={strategies:NC},vC=(0,Fe.$)((0,We.i)(EC,fC),NC);class SC extends fb{isFormValid(){return this.validateValues({website:Eb})}render(){var e;const t=this.props.lee.translate.namespace("webapp_personal_info_edition_website_");return n.createElement(n.Fragment,null,n.createElement(lh.Z,{key:"website",label:t("website_label"),placeholder:t("placeholder_no_website"),dataName:"website",value:this.state.values.website,error:this.state.errors.website,onChange:this.handleChange}),n.createElement(lh.Z,{key:"name",label:t("name_label"),placeholder:t("placeholder_no_name"),dataName:"name",value:this.state.values.name,onChange:this.handleChange}),n.createElement(bo,{labelSx:ho,spaceId:null!=(e=this.state.values.spaceId)?e:"",onChange:e=>this.handleChange(e,"spaceId")}))}}const DC=Hb({getDeleteTitle:e=>e("webapp_personal_info_edition_delete_title_website"),getItemTypeDescription:e=>e("webapp_personal_info_edition_header_website_description"),getTitle:e=>e.name,iconType:he.website,kwType:"KWPersonalWebsite",renderForm:(e,t,a,i)=>{const o={name:t.name,website:t.website,spaceId:t.spaceId};return n.createElement(SC,{lee:e,currentValues:o,signalEditedValues:i,ref:a})}}),xC=e=>`{${e.match.params.uuid}}`,MC={item:{live:g.C.livePersonalWebsite,liveParam:xC,query:g.C.getPersonalWebsite,queryParam:xC}},TC={strategies:MC},AC=(0,Fe.$)((0,We.i)(DC,TC),MC),kC={phones:{live:g.C.livePhones,liveParam:jb,query:g.C.getPhones,queryParam:zb}},ZC={strategies:kC},OC=(0,Fe.$)((0,We.i)((({lee:e,phones:t})=>{const a=(0,n.createRef)(),[o,r]=n.useState(!1),{routes:l}=(0,J.Xo)(),{translate:d}=(0,j.Z)();n.useEffect((()=>{(0,O.N)(N.PageView.ItemAddressCreate)}),[]);const u=()=>{(0,O.N)(N.PageView.ItemPersonalInfoList),(0,i.uX)(l.userPersonalInfo)},p=d.namespace("webapp_personal_info_edition_"),m=n.createElement(Ce,{iconSize:be.headerEditPanelIcon,iconType:he.address}),_=se(p,"address"),h=c.Country[e.globalState.locale.country],b=(0,Z.B)(e.globalState),C={phones:t.items},w={addressFull:"",addressName:"",building:"",city:"",digitCode:"",door:"",floor:"",linkedPhone:"",localeFormat:h||c.Country.US,receiver:"",spaceId:null!=b?b:"",stairs:"",state:"",stateLevel2:"",stateNumber:"",streetName:"",streetNumber:"",streetTitle:"",zipCode:""};return n.createElement(bs,{isViewingExistingItem:!1,itemHasBeenEdited:o,onNavigateOut:()=>{u()},onSubmit:async()=>{var e;if(null!=(e=a.current?.isFormValid())&&e)try{await(()=>{const e=null!=(t=a.current?.getValues())?t:null;var t;const n={kwType:"KWAddress",origin:c.SaveOrigin.MANUAL,content:e};return g.C.savePersonalDataItem(n)})(),u()}catch(e){console.warn(e)}},formId:"add_address_panel",header:n.createElement(Is,{icon:m,iconBackgroundColor:s.O9T.dashGreen00,title:_})},n.createElement(Ob,{lee:e,currentValues:w,signalEditedValues:()=>r(!0),ref:a,additionalProps:C}))}),ZC),kC);function LC(e){const{renderForm:t,kwType:a,iconType:o,type:s}=e;return class extends n.Component{constructor(...e){super(...e),this.form=(0,n.createRef)(),this.isFormValid=()=>Boolean(this.form.current?.isFormValid()),this.getFormValues=()=>this.form.current?.getValues(),this.state={hasDataBeenModified:!1},this.componentDidMount=()=>{const e={[c.DataModelType.KWAddress]:N.PageView.ItemAddressCreate,[c.DataModelType.KWCompany]:N.PageView.ItemCompanyCreate,[c.DataModelType.KWEmail]:N.PageView.ItemEmailCreate,[c.DataModelType.KWIdentity]:N.PageView.ItemIdentityCreate,[c.DataModelType.KWPhone]:N.PageView.ItemPhoneCreate,[c.DataModelType.KWPersonalWebsite]:N.PageView.ItemWebsiteCreate};(0,O.N)(e[a])},this.showListView=()=>{(0,O.N)(N.PageView.ItemPersonalInfoList),(0,i.uX)(this.props.lee.routes.userPersonalInfo)},this.handleEditedForm=()=>this.setState({hasDataBeenModified:!0}),this.showListViewWithLog=()=>{this.showListView()},this.savePersonalInfo=()=>{const e=this.getFormValues(),t={kwType:a,origin:c.SaveOrigin.MANUAL,content:e};return g.C.savePersonalDataItem(t)},this.submit=async()=>{if(this.isFormValid())try{await this.savePersonalInfo(),fp(),this.showListView()}catch(e){}}}render(){const e=this.props.lee.translate.namespace("webapp_personal_info_edition_"),{lee:a}=this.props,{hasDataBeenModified:i}=this.state,r=n.createElement(Ce,{iconSize:be.headerEditPanelIcon,iconType:o}),l=se(e,s),c=(0,Z.B)(a.globalState);return n.createElement(bs,{isViewingExistingItem:!1,itemHasBeenEdited:i,onNavigateOut:this.showListViewWithLog,onSubmit:this.submit,formId:"add_personalinfo_panel",header:n.createElement(Is,{icon:r,iconBackgroundColor:Vb()["--dash-green-00"],title:l})},t(a,this.form,this.handleEditedForm,c))}}}const PC=[{typePath:"addresses",AddPanel:OC,EditPanel:Fb},{typePath:"companies",AddPanel:LC({iconType:he.company,kwType:"KWCompany",renderForm:(e,t,a,i)=>{const o={jobTitle:"",name:"",spaceId:i};return n.createElement(Wb,{lee:e,currentValues:o,signalEditedValues:a,ref:t})},type:"company"}),EditPanel:Jb},{typePath:"emails",AddPanel:LC({iconType:he.email,kwType:"KWEmail",renderForm:(e,t,a,i)=>{const o={email:"",emailName:"",spaceId:i,type:"PERSO"};return n.createElement($b,{lee:e,currentValues:o,signalEditedValues:a,ref:t})},type:"email"}),EditPanel:iC},{typePath:"identities",AddPanel:LC({iconType:he.identity,kwType:"KWIdentity",renderForm:(e,t,a,i)=>{const o=c.Country[e.globalState.locale.country]||c.Country.US,s={birthDate:(0,rh.Z)(new Date,"yyyy-MM-dd"),birthPlace:"",firstName:"",lastName2:"",lastName:"",localeFormat:o,middleName:"",pseudo:"",spaceId:i,title:"MR"};return n.createElement(pC,{lee:e,currentValues:s,signalEditedValues:a,ref:t})},type:"identity"}),EditPanel:bC},{typePath:"phones",AddPanel:LC({iconType:he.phone,kwType:"KWPhone",renderForm:(e,t,a,i)=>{const o={localeFormat:c.Country[e.globalState.locale.country]||c.Country.US,number:"",phoneName:"",type:c.PhoneType.PHONE_TYPE_MOBILE,spaceId:i};return n.createElement(yC,{lee:e,currentValues:o,signalEditedValues:a,ref:t})},type:"phone"}),EditPanel:vC},{typePath:"websites",AddPanel:LC({iconType:he.website,kwType:"KWPersonalWebsite",renderForm:(e,t,a,i)=>{const o={name:"",spaceId:i,website:""};return n.createElement(SC,{lee:e,currentValues:o,signalEditedValues:a,ref:t})},type:"website"}),EditPanel:AC}],zC="[-a-zA-Z\\d]{36}";function jC({path:e}){const t=[e,...PC.map((({typePath:t})=>`${e}/${t}/add`)),...PC.map((({typePath:t})=>`${e}/${t}/:uuid`))];return n.createElement(i.GB,{exact:!0,path:t,component:yb},n.createElement(Mg,{redirectPath:e},PC.map((({typePath:t,AddPanel:a})=>n.createElement(i.ZB,{component:a,key:t,path:`${e}/${t}/add`}))),PC.map((({typePath:t,EditPanel:a})=>n.createElement(i.ZB,{component:a,key:t,path:`${e}/${t}/:uuid(${zC})`})))))}var RC=a(758887),UC=a(73526),BC=a(158668);const FC="row--IVIawcvdBd",WC="cellsWrapper--HOjG5vPRSt",GC="selected--NYsdM4B8Z4",VC="cell--Fd_GTGE84E";class YC extends n.PureComponent{constructor(...e){super(...e),this.row=n.createRef(),this.isElementInViewport=e=>{const t=e.getBoundingClientRect(),a=e.parentNode.getBoundingClientRect();return t.top>=a.top&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)},this.getCellContent=e=>this.props.renderers?.[e.key]?this.props.renderers[e.key].apply(null,e.params):e.content,this.handleClick=e=>{this.props.onClick&&this.props.onClick(e)},this.renderRowLink=(e,t)=>{const a=w()(WC,"link--cY8dzyaixe",{[GC]:this.props.selected});return(0,z.tZ)(i.rU,{className:a,to:t},e)},this.renderRowClick=e=>{const t=w()(WC,this.props.onClick?"cellOnClick--TDZdCmvheo":"",{[GC]:this.props.selected});return(0,z.tZ)("div",{className:t,onClick:this.handleClick},e)}}componentDidMount(){this.ensureVisible()}componentDidUpdate(){this.ensureVisible()}ensureVisible(){this.props.selected&&this.row.current&&!this.isElementInViewport(this.row.current)&&this.row.current?.scrollIntoView(!0)}getActions(){return this.props.actions?(0,z.tZ)("div",{className:"actionsWrapper--ER5Ws1ORhO"},this.props.actions):null}render(){var e;return(0,z.tZ)("li",{ref:this.row,style:this.props.style,className:w()(FC,y.jK),sx:{"&:hover":{backgroundColor:"ds.container.expressive.neutral.supershy.hover"}}},null!=(e=this.props.checkable)?e:null,"link"===this.props.type?this.renderRowLink(this.props.data.map((e=>(0,z.tZ)("div",{onClick:this.handleClick,tabIndex:0,key:e.key,className:w()(VC,e.className)},this.getCellContent(e)))),this.props.link):this.renderRowClick(this.props.data.map((e=>(0,z.tZ)("div",{tabIndex:0,key:e.key,className:w()(VC,e.className)},this.getCellContent(e))))),this.getActions())}}const HC="category--oWcsrPYixc",qC="created--dauicGC2_b",QC="updated--t70jeuIalI",XC="titleIcon--PMOpndUi51";var KC,JC,$C;const ew=({note:e,showTitleIcons:t=!0,tag:a})=>n.createElement("div",{className:"titleOuterWrapper--oRG289Tcma"},(e=>n.createElement("span",{className:"noteIconWrapper--rs1oSCTALZ"},n.createElement(Et,{noteType:e.color})))(e),n.createElement("div",{className:"titleWrapper--PIcEl9RepP"},n.createElement("div",{className:"title--nOmPgjhX0T"},n.createElement(Cs.Z,{tooltipText:e.title,className:"container--Y6Jg_DP22C"},e.title),a?n.createElement("div",{className:"tagPlacement--CdvFmM3ZcD"},a):null,e.sharingStatus.isShared&&t&&n.createElement("div",{className:XC},KC||(KC=n.createElement(s.kpp,{size:12}))),e.hasAttachments&&t&&n.createElement("div",{className:XC},JC||(JC=n.createElement(s.Ujz,null))),e.secured&&t&&n.createElement("div",{className:XC},$C||($C=n.createElement(s.QB,{size:13})))))),tw=(e,{createdAt:t})=>t?n.createElement(Cs.Z,null,e.shortDate((0,qo.Z)(t))):null,aw=({updatedAt:e})=>e?n.createElement(Cs.Z,null,n.createElement(dr.Z,{date:(0,qo.Z)(e)})):null,nw=({note:e})=>{const{routes:t}=(0,i.Xo)(),{areProtectedItemsUnlocked:a,openProtectedItemsUnlocker:o}=(0,fe.tY)(),s=e.secured&&!a,{translate:r}=(0,j.Z)(),l=[{key:"title",content:n.createElement(ew,{note:e})},{key:"category",content:n.createElement(Cs.Z,null,e.category?e.category.categoryName:r("webapp_secure_notes_list_row_no_category")),className:HC},{key:"createdAt",content:tw(r,e),className:qC},{key:"updatedAt",content:aw(e),className:QC}];return n.createElement(YC,{key:e.id,onClick:a=>{(0,ae.X0)(e.id),s?(a.preventDefault(),a.stopPropagation(),o({action:Ne.P7.Show,itemType:Ne.Ru.SecureNote,successCallback:()=>{(0,i.uX)(t.userSecureNote(e.id))}})):(0,i.uX)(t.userSecureNote(e.id))},data:l})};var iw,ow,sw,rw,lw;const cw={tokenEndpoint:g.C.getNotesPaginationToken,pageEndpoint:g.C.getNotesPage,batchLiveEndpoint:g.C.liveNotesBatch},dw=(0,dt.G)(cw,(e=>{const{className:t,header:a,paginatedData:n,hasNext:o,hasPrevious:r,isLoading:l,loadNext:c,loadPrevious:d}=e,u=(0,i.k6)(),{translate:p}=(0,j.Z)(),{routes:m}=(0,i.Xo)(),_=[...n.values()].flat(),g=!n.size;return[...n].some((([,e])=>e.length>0))?(0,z.tZ)("div",{className:"contentWrapper--Kh92TY3pVQ"},a,(0,z.tZ)("div",{className:t},(0,z.tZ)(ut.v,{hasNext:o,hasPrevious:r,isLoading:l,loadNext:c,loadPrevious:d},_.map((e=>(0,z.tZ)(nw,{key:`secureNotes_list_secureNoteId_${e.id}`,note:e})))))):(e.hasNext&&e.loadNext(),g?lw||(lw=(0,z.tZ)("div",null)):(0,z.tZ)(BC.QR,{mode:"fullscreen",paywall:BC.qd.SecureNote},(0,z.tZ)(Hg,{icon:iw||(iw=(0,z.tZ)("img",{"aria-hidden":!0,alt:"",src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iOTYiIGhlaWdodD0iOTciIHZpZXdCb3g9IjAgMCA5NiA5NyIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTQyLjI2NzMgNDguMTQwN1Y0Mi43NTE4SDQ4LjY2NzNINDkuNzM0QzUwLjA4OTYgNDIuNzUxOCA1MC44MDA3IDQyLjM5MjYgNTAuNDQ1MSA0My4xMTExVjQ1LjYyNTlWNDkuMjE4NVY1NC45NjY3TDQ1LjExMTggNTYuNzYzVjU0LjI0ODFWNDguODU5MlY0Ny43ODE1SDQyLjI2NzNWNDguMTQwN1oiIGZpbGw9IiNFMEREREEiLz4KPHBhdGggZD0iTTc0LjI2NjcgNzkuMDM3TDY4LjkzMzMgODAuODMzM1Y2OS4zMzcxVjM3LjcyMjJMNTIuOTMzMyAyMS41NTU1SDI3LjMzMzNWNzUuNDQ0NEg2MS40NjY3TDYzLjYgODAuODMzM0g1Mi4yMjIySDIyVjE2LjE2NjZINTUuMDY2N0w3NC4yNjY3IDM1LjIwNzRWNzkuMDM3WiIgZmlsbD0iI0UwREREQSIvPgo8L3N2Zz4K"})),title:p("webapp_secure_notes_empty_view_title")},(0,z.tZ)("p",null,p("webapp_secure_notes_empty_view_description")),ow||(ow=(0,z.tZ)("br",null)),(0,z.tZ)(s.Ejs,{gap:4,justifyContent:"center"},(0,z.tZ)(we.zx,{layout:"iconLeading",icon:sw||(sw=(0,z.tZ)(s.dtP,{color:"ds.text.inverse.catchy"})),onClick:()=>{u.push(m.userAddBlankNote)}},p("webapp_secure_notes_header_add")),(0,z.tZ)(we.zx,{layout:"iconLeading",icon:rw||(rw=(0,z.tZ)(s._8t,null)),mood:"neutral",intensity:"quiet",onClick:()=>u.push(m.importData)},p("webapp_account_root_import_data"))))))})),uw=({containerClassName:e,header:t,options:a,onSort:i})=>n.createElement("div",{className:w()(FC,"header--ILDPm2xWVq",e)},n.createElement("div",{className:WC},t.map((e=>(e=>{let t=null;if(a){const i=a.direction;t=e.key===a.field?n.createElement("img",{className:"icon--mKqDyELXwn",src:i===RC._.descending?"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI3IiBoZWlnaHQ9IjQiIHZpZXdCb3g9IjAgMCA3IDQiPgogIDxwYXRoIGZpbGw9IiM5QjlCOUIiIGQ9Ik0xLjUsNCBDMS4wNTQ1NDc1Nyw0IDAuODMxNDY0MTc5LDMuNDYxNDI5MDQgMS4xNDY0NDY2MSwzLjE0NjQ0NjYxIEw0LjE0NjQ0NjYxLDAuMTQ2NDQ2NjA5IEM0LjM0MTcwODc2LC0wLjA0ODgxNTUzNjUgNC42NTgyOTEyNCwtMC4wNDg4MTU1MzY1IDQuODUzNTUzMzksMC4xNDY0NDY2MDkgTDcuODUzNTUzMzksMy4xNDY0NDY2MSBDOC4xNjg1MzU4MiwzLjQ2MTQyOTA0IDcuOTQ1NDUyNDMsNCA3LjUsNCBMMS41LDQgWiIgdHJhbnNmb3JtPSJtYXRyaXgoMSAwIDAgLTEgLTEgNCkiLz4KPC9zdmc+Cg==":"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI3IiBoZWlnaHQ9IjQiIHZpZXdCb3g9IjAgMCA3IDQiPgogIDxwYXRoIGZpbGw9IiM5QjlCOUIiIGQ9Ik0xLjUsNCBDMS4wNTQ1NDc1Nyw0IDAuODMxNDY0MTc5LDMuNDYxNDI5MDQgMS4xNDY0NDY2MSwzLjE0NjQ0NjYxIEw0LjE0NjQ0NjYxLDAuMTQ2NDQ2NjA5IEM0LjM0MTcwODc2LC0wLjA0ODgxNTUzNjUgNC42NTgyOTEyNCwtMC4wNDg4MTU1MzY1IDQuODUzNTUzMzksMC4xNDY0NDY2MDkgTDcuODUzNTUzMzksMy4xNDY0NDY2MSBDOC4xNjg1MzU4MiwzLjQ2MTQyOTA0IDcuOTQ1NDUyNDMsNCA3LjUsNCBMMS41LDQgWiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTEpIi8+Cjwvc3ZnPgo=",alt:""}):null}const o=w()(VC,e.sortable?"sortableHeader--EJ3izhk8hw":{},e.className);return n.createElement("div",{key:e.key,className:o,"data-testid":e.key,onClick:()=>((e,t,n)=>{if(!a||!i||!n)return;const o={field:e,direction:a.field===e&&a.direction===RC._.ascending?RC._.descending:RC._.ascending};t&&(o.logSubaction=`${t}${o.direction===RC._.descending?"Reversed":""}`),i(o)})(e.key,e.logSubaction,e.sortable)},n.createElement("span",{className:"cellLabel--G0Il3_dFC2"},e.content),t)})(e))))),pw=async()=>await g.C.initSecureFilesStorageInfo();var mw=a(700120);let _w;!function(e){e.Credentials="credentials",e.SecureNotes="secureNotes",e.SharingLimit="sharingLimit"}(_w||(_w={}));const gw={background:"rgba(217, 223, 224, 0.3)",borderRadius:"4px",padding:"4px"},hw=({noticeType:e,customSx:t={}})=>{const a=(0,lt.B)(),{shouldShowAtOrOverLimitContent:i}=(0,Op.v0)(),{routes:o}=(0,J.Xo)(),{translate:r}=(0,j.Z)(),l=o.userGoPremium(a?.subscriptionCode,"monthly"),c=(0,mw.II)(["secureNotes"]),[d,u]=(0,n.useState)(void 0),p=(()=>{switch(e){case _w.Credentials:return i?(d||u("password_limit"),r.markup("webapp_paywall_password_limit_banner_markup",{link:l},{linkTarget:"_blank"})):null;case _w.SecureNotes:return c?r.markup("webapp_paywall_secure_note_banner_markup",{link:l},{linkTarget:"_blank"}):null;case _w.SharingLimit:return null;default:(0,Ke.U)(e)}})();return p?(0,z.tZ)(s.nvN,{color:s.O9T.dashGreen01,size:"small",sx:{...gw,...t}},p):null};var bw;const Cw=()=>{const{routes:e}=(0,J.Xo)(),{translate:t}=(0,j.Z)();return(0,we.tZ)(i.rU,{to:e.userPasswordHistory,tabIndex:-1},(0,we.tZ)(zg,{icon:bw||(bw=(0,we.tZ)(we.JO,{name:"HistoryBackupOutlined"}))},t("webapp_password_history_all_passwords_view_header_title")))};var ww,yw,Ew,Iw,Nw,fw=a(27429),vw=a(850793);const Sw=({tooltipPlacement:e="right",tooltipPassThrough:t,tooltipContent:a,handleAddNew:o,onAddNewHover:r,addNewDisabled:l,shareButtonElement:c,shouldDisplayPasswordHistoryButton:d=!1,shouldDisplayNewAccountImportButton:u=!1,shouldDisplayAddButton:p=!0})=>{const{translate:m}=(0,j.Z)(),{routes:_}=(0,i.Xo)(),g=(0,i.k6)(),[h,b]=(0,n.useState)(!1),C=(0,fw.E)(),w=u&&h;(0,n.useEffect)((()=>{if(C.status===Ft.rq.Success){const e=(0,qo.Z)(C.data.accountCreationDatetime),t=new Date;Math.abs((0,vw.Z)(t,e))<=30&&b(!0)}}),[C.status]);const y=(0,we.tZ)(n.Fragment,null,Iw||(Iw=(0,we.tZ)(fm,null)),Nw||(Nw=(0,we.tZ)(D_,null)));return(0,we.tZ)(Kp,{startWidgets:()=>(0,we.tZ)(n.Fragment,null,p?(0,we.tZ)(s.ua7,{placement:e,passThrough:t,content:a},(0,we.tZ)(zg,{onClick:o,onMouseEnter:r,disabled:l,icon:ww||(ww=(0,we.tZ)(we.JO,{name:"ActionAddOutlined"})),isPrimary:!0},m("credentials_header_add_password"))):null,w?(0,we.tZ)(zg,{icon:yw||(yw=(0,we.tZ)(s._8t,null)),onClick:()=>g.push(_.importData)},m("webapp_account_root_import_data")):null,c||null,d?Ew||(Ew=(0,we.tZ)(Cw,null)):null),endWidget:y})};var Dw,xw=a(997450);const Mw=({hideIcon:e=!1,sharing:t,text:a,tooltipPlacement:n="bottom-start"})=>{var i,o;const{openDialog:r,closeDialog:l}=(0,qa.R)(),c=(0,at.V)(),d=(0,nt.k)(),{translate:u}=(0,j.Z)(),p=Pg(768);return(0,z.tZ)(xw.M,{onClick:()=>{r(d&&t?i||(i=(0,z.tZ)(za,{sharing:t,onDismiss:l})):o||(o=(0,z.tZ)(ja,{closeDialog:l})))},mood:"neutral",intensity:"quiet",size:"medium",icon:!e&&(Dw||(Dw=(0,z.tZ)(we.JO,{name:"ActionShareOutlined",color:"ds.text.neutral.standard"}))),layout:p?"iconLeading":"iconOnly",disabled:!c,placement:n,content:(0,z.tZ)(s.Ejs,{flexDirection:"column",alignItems:"flex-start",sx:{padding:"16px",borderRadius:"8px",textAlign:"left"}},(0,z.tZ)("div",{sx:{paddingBottom:"8px",fontWeight:"600",fontSize:"18px"}},u("team_sharing_disabled")),(0,z.tZ)("div",null,u("team_sharing_disabled_description")))},null!=a?a:u("webapp_sharing_center_share_item"))},Tw=e=>{const t=[];return(e||""===e)&&t.push({field:"spaceId",type:"equals",value:e}),{filterCriteria:t}},Aw=e=>JSON.stringify({filterToken:Tw(e),sortToken:{sortCriteria:[],uniqField:"id"}}),kw=()=>{const e=(0,it.w)("disableSecureNotes"),t=Yt(),a=(e=>{const t=(0,Ft.qr)({queryConfig:{query:g.C.getNotesCount,queryParam:{filterToken:Tw(e),sortToken:{sortCriteria:[],uniqField:"id"}}},liveConfig:{live:g.C.liveNotesCount,liveParam:btoa(Aw(e))}},[]);return t.status===Ft.rq.Success?t.data:null})(),n=(0,zo.Y)(),o=(0,i.k6)(),{translate:s}=(0,j.Z)(),{openPaywall:r}=(0,Op.nL)(),{routes:l}=(0,i.Xo)();if(n.status!==Ft.rq.Success||null===a||null===t)return null;const c=(0,Vo.n6)(Vo.Co.SecureNotes,n.data?.capabilities),d=(()=>{if(!(t>0))return null;const e={...He(),tab:Ye.SecureNotes};return(0,we.tZ)(Mw,{sharing:e,text:s("credentials_header_share_password")})})();return(0,we.tZ)(Sw,{tooltipPassThrough:!c,tooltipContent:s("webapp_secure_notes_header_add_ui_tooltip"),handleAddNew:e=>(e=>{c?(e.preventDefault(),r(Vo.qd.SecureNote)):o.push(l.userAddBlankNote)})(e),addNewDisabled:e,shareButtonElement:d,shouldDisplayNewAccountImportButton:!!a,shouldDisplayAddButton:!!a})};var Zw;const Ow=({children:e,lee:t})=>{const[a,i]=(0,n.useState)({field:"title",direction:RC._.ascending}),{translate:o}=(0,j.Z)();(0,n.useEffect)((()=>{pw(),(()=>{const e=localStorage.getItem(UC.Ij);try{if(e){const t=JSON.parse(e);i(t.sortingOptions)}}catch(e){}})(),(0,O.N)(N.PageView.ItemSecureNoteList)}),[]);const s=()=>[{key:"title",sortable:!0,content:o("webapp_secure_notes_list_header_name"),logSubaction:"name"},{key:"category",sortable:!0,content:o("webapp_secure_notes_list_header_category"),className:HC,logSubaction:"category"},{key:"createdAt",sortable:!0,content:o("webapp_secure_notes_list_header_created"),className:qC,logSubaction:"creationDate"},{key:"updatedAt",sortable:!0,content:o("webapp_secure_notes_list_header_updated"),className:QC,logSubaction:"lastUpdated"}],r=e=>{(e=>{var t;i(e),t={sortingOptions:e},localStorage.setItem(UC.Ij,JSON.stringify(t))})(e)},l=()=>{const e=(e=>e===RC._.ascending?"ascend":"descend")(a.direction),{field:t}=a,n=[{direction:e,field:s().map((e=>e.key)).includes(t)?t:"title"}];return"category"===t?n.concat({direction:"ascend",field:"title"}):n},c=()=>{const e=(0,Z.B)(t.globalState);return null===e?[]:[{field:"spaceId",value:e,type:"equals"}]};return n.createElement(Lg,{lee:t,editPanel:e},Zw||(Zw=n.createElement(kw,null)),n.createElement(hw,{customSx:{margin:"0 32px 30px"},noticeType:_w.SecureNotes}),(()=>{const e={sortCriteria:l(),filterCriteria:c(),initialBatchSize:20},t=n.createElement(uw,{header:s(),onSort:r,options:a});return n.createElement(dw,{header:t,className:"list--JtiknoYRWD",tokenParams:e})})())},Lw=e=>e.kwType===c.DataModelType.KWAuthentifiant,Pw=e=>e.kwType===c.DataModelType.KWSecureNote,zw=e=>"userGroup"===e.type,jw=({routes:e,location:t})=>{t?.state?.entity?zw(t?.state?.entity)?(0,i.uX)(e.userSharingGroupInfo(t?.state?.entity?.groupId)):(0,i.uX)(e.userSharingUserInfo(t?.state?.entity?.alias)):(0,i.uX)(e.userSharingCenter)};let Rw;!function(e){e[e.CONTENT=0]="CONTENT",e[e.DOCUMENT_STORAGE=1]="DOCUMENT_STORAGE",e[e.MORE_OPTIONS=2]="MORE_OPTIONS",e[e.SHARED_ACCESS=3]="SHARED_ACCESS"}(Rw||(Rw={}));const Uw=({item:e,getSharing:t})=>{const{translate:a}=(0,j.Z)();if(!(e=>e&&(!e.sharingStatus.isShared||"admin"===e.sharingStatus.permission)&&!e.attachments.length)(e))return null;const i=t(e.id);return n.createElement(Mw,{tooltipPlacement:"top-start",sharing:i,text:a("webapp_sharing_invite_share")})};var Bw=a(252660);function Fw(e){const t=(0,Ft.qr)({queryConfig:{query:g.C.getFileDownloadProgress,queryParam:e},liveConfig:{live:g.C.liveFileDownloadProgress,liveParam:e}},[e]);return t.status===Ft.rq.Success?t.data:null}function Ww(){return(0,it.w)("saex_SecureNoteAttachments_forrelease")}const Gw=e=>(0,z.tZ)(s.Ejs,{justifyContent:"center"},(0,z.tZ)(s.HoD,{sx:{mr:"8px"},color:s.O9T.dashGreen00,size:18}),e),Vw=e=>e.length<=32?e:e.substring(0,32),Yw={PROGRESS_UPLOADING:"webapp_secure_file_upload_progress_loading_markup",PROGRESS_CIPHERING:"webapp_secure_file_upload_progress_ciphering_markup",UPLOAD_SUCCESS:"webapp_secure_file_upload_success_markup",UNKNOWN_ERROR:"webapp_secure_file_error_unknown",MAX_CONTENT_LENGTH_EXCEEDED:"webapp_secure_file_error_upload_max_length_excedeed",QUOTA_EXCEDEED:"webapp_secure_file_error_upload_quota_excedeed",INVALID_FILE_TYPE:"webapp_secure_file_error_file_type_not_allowed"},Hw=e=>{var t;return e&&null!=(t=Yw[e])?t:Yw.UNKNOWN_ERROR},qw=e=>{const t=(0,Bw.$)(),{translateWithMarkup:a}=(0,F.Y)(),i=function(){const e=(0,Ft.qr)({queryConfig:{query:g.C.getFileUploadProgress},liveConfig:{live:g.C.liveFileUploadProgress}},[]);return e.status===Ft.rq.Success?e.data:null}(),o=Vw(e);return(0,n.useEffect)((()=>{var e,n;const r=e=>t.showAlert(Gw(a(e)),s.BLW.SUBTLE,void 0,!1,!1);switch(i?.status){case p.FileUploadStatus.Uploading:r({key:Yw.PROGRESS_UPLOADING,params:{fileName:o,progress:Math.round(null!=(e=(null!=(n=100*i?.bytesSent)?n:0)/i?.contentLength)?e:1)}});break;case p.FileUploadStatus.Ciphering:r({key:Yw.PROGRESS_CIPHERING,params:{fileName:o}});break;case p.FileUploadStatus.Done:t.showAlert(a({key:Yw.UPLOAD_SUCCESS,params:{fileName:o}}),s.BLW.SUCCESS)}}),[t,e,i,a]),{showErrorAlert:e=>{t.showAlert(a({key:Hw(null!=e?e:"")}),s.BLW.ERROR)}}},Qw="webapp_secure_file_error_unknown",Xw="webapp_secure_file_delete_button_title",Kw="webapp_secure_file_download_button_title",Jw={cursor:"pointer",margin:"0px 10px",padding:"5px",border:"1px solid transparent","&:hover":{border:`1px solid ${s.O9T.grey05}`},borderRadius:"4px"},$w={opacity:.6},ey=({attachment:e,disableActions:t,handleFileInfoDetached:a,onModalDisplayStateChange:i,parentId:o,parentType:r})=>{const{translate:l}=(0,j.Z)(),{translateWithMarkup:c}=(0,F.Y)(),d=(0,Bw.$)(),[u,m]=(0,n.useState)(!1),_=(0,n.useCallback)((()=>d.showAlert(c(Qw),s.BLW.ERROR)),[d,c]),{deleteFile:h}=function(e,t,a,n){return{deleteFile:()=>{g.C.deleteSecureFile({id:e}).then((i=>{var o;i.success||!i.success&&i.error?.code===p.SecureFileResultErrorCode.FILE_NOT_FOUND?(n?.(e),(0,O.K)(new N.UserUpdateVaultItemAttachmentEvent({attachmentAction:N.Action.Delete,itemId:e,itemType:a}))):t(null!=(o=i.error?.code)?o:p.SecureFileResultErrorCode.INTERNAL_ERROR)}))}}}(e.id,_,r,a),b=()=>{m(!1),i?.(!1)};return(0,z.tZ)(n.Fragment,null,(0,z.tZ)(s.ua7,{placement:"left",trigger:"hover",content:c(t?"webapp_secure_file_delete_button_tooltip_content_disable":"webapp_secure_file_delete_button_tooltip_content_enable")},(0,z.tZ)("div",{sx:t?(0,s.jMf)([Jw,$w]):Jw,onClick:()=>{m(!0),i?.(!0)}},(0,z.tZ)(s.XHJ,{color:s.O9T.dashGreen00,"aria-hidden":"true",title:l(Xw),"aria-label":l(Xw)}))),(0,z.tZ)(s.VqE,{isOpen:u&&!t,onClose:b,closeIconName:"CloseIcon",modalContentClassName:y.jK},(0,z.tZ)(s.a7O,null,(0,z.tZ)(s.X6q,{size:"small",sx:{margin:"16px 0px",fontWeight:"bolder"}},c("webapp_secure_file_delete_confirm_dialog_heading")),(0,z.tZ)(s.nvN,{sx:{margin:"8px 0px"},color:s.O9T.grey00},c("webapp_secure_file_delete_confirm_dialog_paragraph"))),(0,z.tZ)(s.cNS,{primaryButtonTitle:c("webapp_secure_file_delete_confirm_dialog_action_primary_button_title"),primaryButtonOnClick:()=>{o&&(0,O.K)(new N.UserUpdateVaultItemAttachmentEvent({attachmentAction:N.Action.Delete,itemId:o,itemType:r})),h(),d.showAlert(l("webapp_secure_file_delete_success",{fileName:Vw(e.filename)}),s.BLW.SUCCESS),m(!1)},secondaryButtonTitle:c("webapp_secure_file_delete_confirm_dialog_action_secondary_button_title"),secondaryButtonOnClick:b,intent:"danger"})))},ty=({attachment:e,disableActions:t,setDisableActions:a,progress:i,parentId:o,parentType:r})=>{const{translate:l}=(0,j.Z)(),{translateWithMarkup:c}=(0,F.Y)(),d=(0,Bw.$)(),u=(0,n.useCallback)((()=>d.showAlert(c(Qw),s.BLW.ERROR)),[d,c]),{download:m}=function({id:e,filename:t,downloadKey:a,cryptoKey:i,type:o},s,r){const l=Fw(a),c=(0,n.useRef)("");return(0,n.useEffect)((()=>{l?.status===p.FileDownloadStatus.ChunkReady&&(c.current=c.current.concat(l.chunk),g.C.chunkTransferDone(a))}),[l,a]),(0,n.useEffect)((()=>{l?.status===p.FileDownloadStatus.TransferComplete&&(((e,t,a)=>{if(e){const n=new Blob([e],{type:a}),i=document.createElement("a");i.href=window.URL.createObjectURL(n),i.download=t,i.click()}})(((e,t)=>{try{const t=JSON.parse(e);return new Uint8Array(t).buffer}catch(e){return t(p.SecureFileResultErrorCode.INTERNAL_ERROR),null}})(c.current,s),t,o),c.current="",g.C.clearSecureFilesState(a),(0,O.K)(new N.UserDownloadVaultItemAttachmentEvent({itemId:e,itemType:r})))}),[l,s,t,o,a,e,r]),{download:()=>{g.C.downloadSecureFile({downloadKey:a,cryptoKey:i})}}}(e,u,r);return(0,n.useEffect)((()=>{switch(i?.status){case p.FileDownloadStatus.Downloading:a(!0);break;case p.FileDownloadStatus.TransferComplete:case p.FileDownloadStatus.Error:a(!1)}}),[i,a,c]),(0,z.tZ)(s.ua7,{placement:"left",trigger:"hover",content:c(t?"webapp_secure_file_download_button_tooltip_content_disable":"webapp_secure_file_download_button_tooltip_content_enable")},(0,z.tZ)("div",{sx:t?(0,s.jMf)([Jw,$w]):Jw,onClick:t?void 0:()=>{o&&(0,O.K)(new N.UserDownloadVaultItemAttachmentEvent({itemId:o,itemType:r})),m()}},(0,z.tZ)(s._8t,{sx:t?$w:void 0,color:s.O9T.dashGreen00,"aria-hidden":"true","aria-label":l(Kw),title:l(Kw)})))},ay=e=>{const t=Fw(e.attachment.downloadKey);return n.createElement(s.Ejs,{alignItems:"center",justifyContent:"flex-end"},n.createElement(ty,{progress:t,...e}),n.createElement(ey,{...e}))},ny=a(816583),iy={color:`${s.O9T.grey00}`,minHeight:"60px",borderBottom:`solid 1px ${s.O9T.grey05}`,position:"relative","&:hover":{"& > *:last-child":{opacity:1}}},oy={width:36,minWidth:36,height:36,borderRadius:"50%",border:"1px solid rgba(0, 0, 0, 0.1)",background:s.O9T.dashGreen06},sy={padding:"0px 8px",overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",fontWeight:"bold"},ry=({attachment:e})=>(0,z.tZ)(s.Ejs,{alignItems:"center",flexWrap:"nowrap"},(0,z.tZ)(s.Ejs,{sx:oy,alignItems:"center",justifyContent:"center"},(0,z.tZ)(s.Ujz,{size:25,color:s.O9T.midGreen00})),(0,z.tZ)(s.nvN,{sx:sy},e.filename)),ly=e=>{const{attachment:t}=e,{translate:a}=(0,j.Z)();return(e=>{const t=(0,Bw.$)(),{translateWithMarkup:a}=(0,F.Y)(),i=Fw(e.downloadKey);(0,n.useEffect)((()=>{var n,o;const r=e=>t.showAlert(Gw(a(e)),s.BLW.SUBTLE,void 0,!1,!1);switch(i?.status){case p.FileDownloadStatus.Downloading:r({key:"webapp_secure_file_download_progress_downloading_markup",params:{fileName:e.filename,progress:Math.round(null!=(n=(null!=(o=100*i?.bytesReceived)?o:0)/i?.contentLength)?n:1)}});break;case p.FileDownloadStatus.Deciphering:r({key:"webapp_secure_file_download_progress_deciphering_markup",params:{fileName:e.filename}});break;case p.FileDownloadStatus.TransferComplete:t.showAlert(a({key:"webapp_secure_file_download_progress_success_markup",params:{fileName:e.filename}}),s.BLW.SUCCESS);break;case p.FileDownloadStatus.Error:t.showAlert(a({key:"webapp_secure_file_error_unknown"}),s.BLW.ERROR)}}),[t,e,i,a])})(t),(0,z.tZ)(s.Ejs,{fullWidth:!0,alignItems:"center",sx:iy},(0,z.tZ)(s.k$b,{sx:{width:"45%"}},(0,z.tZ)(ry,{...e})),(0,z.tZ)(s.k$b,{sx:{width:"25%"}},a.shortDate((0,qo.Z)(t.creationDatetime))),(0,z.tZ)(s.k$b,{sx:{width:"10%"}},(i=t.localSize,ny(i,{decimalPlaces:0,unitSeparator:" "}))),e.isAttachmentEnabled?(0,z.tZ)(ay,{parentType:N.ItemType.SecureNote,parentId:e.noteId,...e}):null);var i},cy=a(816583),dy={padding:"16px 16px 16px 0px",borderBottom:`1px solid ${s.O9T.grey06}`,color:`${s.O9T.grey01}`,alignSelf:"center"},uy=({currentValues:e,additionalProps:t})=>{const{translate:a}=(0,j.Z)(),i=Ww(),[o,r]=(0,n.useState)(!1),l=function(){const e=(0,Ft.qr)({queryConfig:{query:g.C.getSecureFilesQuota},liveConfig:{live:g.C.liveSecureFilesQuota}},[]);return e.status===Ft.rq.Success?e.data:{max:0,remaining:0}}(),c=l.max>0&&l.remaining<78643200&&i,d=e.attachments;return(0,n.useEffect)((()=>{r(t.isUploading)}),[t.isUploading]),(0,z.tZ)(s.Ejs,{flexDirection:"column",sx:{padding:"12px 0px",flex:1,overflow:"hidden"}},(0,z.tZ)(s.Ejs,{flexDirection:"column",alignItems:"center",fullWidth:!0,sx:{flex:1,overflowY:"auto",flexWrap:"nowrap"}},d.length>0?(0,z.tZ)(s.Ejs,{fullWidth:!0,alignItems:"center"},(0,z.tZ)(s.j49,{size:"medium",sx:{...dy,width:"45%"}},a("webapp_secure_notes_addition_field_tab_attachments_table_title_name")),(0,z.tZ)(s.j49,{size:"medium",sx:{...dy,width:"25%"}},a("webapp_secure_notes_addition_field_tab_attachments_table_title_creation_date")),(0,z.tZ)(s.j49,{size:"medium",sx:{...dy,width:"30%"}},a("webapp_secure_notes_addition_field_tab_attachments_table_title_file_size"))):(0,z.tZ)(s.Ejs,{justifyContent:"center",flexDirection:"column",alignItems:"center",sx:{flex:1}},(0,z.tZ)(s.Ujz,{size:70,color:s.O9T.dashGreen04,sx:{marginBottom:"24px"}}),(0,z.tZ)(s.nvN,{sx:{textAlign:"center"}},a.markup("webapp_secure_file_empty_attachments_markup"))),d?d.map((e=>(0,z.tZ)(ly,{key:e.id,attachment:e,handleFileInfoDetached:t?.handleFileInfoDetached,isAttachmentEnabled:i,disableActions:o,setDisableActions:r,onModalDisplayStateChange:t.onModalDisplayStateChange,noteId:t?.noteId}))):null),c?(0,z.tZ)(s.vDh,{severity:"warning",title:a("webapp_secure_file_storage_quota_info",(u=l.remaining,p=l.max,{usedQuota:cy(u,{decimalPlaces:0,unitSeparator:" "}),maxQuota:cy(p,{decimalPlaces:0,unitSeparator:" "})})),sx:{flex:0,marginTop:"16px"}}):null);var u,p};var py=a(607897);function my(e){return(0,Ft.qr)({queryConfig:{query:g.C.getItemItemGroup,queryParam:e}},[])}const _y={marginBottom:"8px",fontWeight:600},gy=e=>{const{canRevoke:t,loading:a,onSelectPermission:n,permission:i,translate:o}=e;return(0,z.tZ)(_a.S,{disabled:a,groupName:"permission",value:i,onChange:e=>n(e.currentTarget.value)},(0,z.tZ)(_a.E,{value:"admin"},(0,z.tZ)("div",{sx:(0,we.jM)([_y,{color:"ds.text.neutral.catchy"}])},o("webapp_sharing_permissions_full_rights")),(0,z.tZ)(s.nvN,{color:"ds.text.neutral.quiet",size:"x-small"},o("webapp_sharing_permissions_full_rights_detail"))),(0,z.tZ)(_a.E,{value:"limited"},(0,z.tZ)("div",{sx:(0,we.jM)([_y,{color:"ds.text.neutral.catchy"}])},o("webapp_sharing_permissions_limited_rights")),(0,z.tZ)(s.nvN,{color:"ds.text.neutral.quiet",size:"x-small"},o("webapp_sharing_permissions_limited_rights_detail"))),t?(0,z.tZ)(_a.E,{value:"revoke"},(0,z.tZ)("div",{sx:(0,we.jM)([_y,{color:"ds.text.danger.quiet"}])},o("webapp_sharing_permissions_revoke")),(0,z.tZ)(s.nvN,{color:"ds.text.neutral.quiet",size:"x-small"},o("webapp_sharing_permissions_revoke_detail"))):null)};let hy,by;!function(e){e[e.ConfirmRevoke=0]="ConfirmRevoke",e[e.Failure=1]="Failure",e[e.Permission=2]="Permission",e[e.RevokeSuccess=3]="RevokeSuccess",e[e.Success=4]="Success"}(hy||(hy={})),function(e){e[e.RemoveMeWhenTypescriptIsHigherThan2dot4=0]="RemoveMeWhenTypescriptIsHigherThan2dot4",e[e.Loading=1]="Loading",e[e.Confirm=2]="Confirm",e[e.Failure=3]="Failure",e[e.Success=4]="Success"}(by||(by={}));const Cy="webapp_shared_permissions_dialog_cancel",{ConfirmRevoke:wy,Failure:yy,Permission:Ey,RevokeSuccess:Iy,Success:Ny}=hy,fy=({isOpen:e,loading:t,onCancelRevoke:a,onConfirmRevoke:n,onDismiss:i,onSelectPermission:o,onValidatePermission:r,originPermission:l,permission:d,recipient:u,step:p})=>{var m;const{translate:_}=(0,j.Z)(),g=(0,c.isGroupRecipient)(u)?u.name:u.alias;return(0,z.tZ)(s.VqE,{closeIconName:_("_common_dialog_dismiss_button"),modalContentClassName:y.Ht,isOpen:e,onClose:i,disableOutsideClickClose:!0},(0,z.tZ)(s.$N8,{title:function(){switch(p){case wy:return _("webapp_shared_permissions_dialog_confirm_revoke_title");case yy:return _("webapp_shared_permissions_dialog_failure_title");case Ey:return _("webapp_shared_permissions_dialog_edit_permissions_title");case Iy:return _("webapp_shared_permissions_dialog_revoke_success_title");case Ny:return _("webapp_shared_permissions_dialog_success_title");default:return(0,Ke.U)(p)}}()},function(){switch(p){case wy:return _("webapp_shared_permissions_dialog_confirm_revoke",{name:g});case yy:return _("webapp_shared_permissions_dialog_failure");case Ey:return null;case Iy:return _("webapp_shared_permissions_dialog_revoke_success",{name:g});case Ny:return _("admin"===d?"webapp_shared_permissions_dialog_success_full":"webapp_shared_permissions_dialog_success_limited",{name:g});default:return(0,Ke.U)(p)}}()),(0,z.tZ)(s.a7O,null,function(){switch(p){case wy:case yy:return null;case Ey:return(0,z.tZ)("div",{sx:{w:"600px",mt:"30px"}},m||(m=(0,z.tZ)(gy,{canRevoke:!0,permission:d,onSelectPermission:o,translate:_,loading:t})));case Ny:case Iy:return null;default:return(0,Ke.U)(p)}}()),(0,z.tZ)(s.cNS,{...function(){switch(p){case wy:return{primaryButtonTitle:_("webapp_shared_permissions_dialog_revoke_access"),primaryButtonOnClick:n,primaryButtonProps:{disabled:t},secondaryButtonTitle:_(Cy),secondaryButtonOnClick:a,secondaryButtonProps:{disabled:t},intent:"danger"};case yy:return null;case Ey:return{primaryButtonTitle:_("webapp_shared_permissions_dialog_change_permissions"),primaryButtonOnClick:r,primaryButtonProps:{disabled:d===l||t},secondaryButtonTitle:_(Cy),secondaryButtonOnClick:i,secondaryButtonProps:{disabled:t}};case Ny:case Iy:return null;default:return(0,Ke.U)(p)}}()}))};var vy,Sy,Dy=a(303666);const xy=({cancelStatus:e,itemGroup:t,setCancelStatus:a,userOrGroup:i})=>{const{translate:o}=(0,j.Z)(),r=e===by.Loading,l={type:"user",alias:"groupId"in i?i.groupId:i.userId};(0,n.useEffect)((()=>{let t;return e===by.Failure&&(t=window.setTimeout((()=>a(null)),2e3)),()=>{clearTimeout(t)}}),[e,a]);const c=e?()=>a(null):()=>a(by.Confirm);return e===by.Failure?(0,we.tZ)("div",{sx:{color:"ds.text.danger.standard",display:"flex",alignItems:"center"}},vy||(vy=(0,we.tZ)(s.aNP,{color:"ds.text.danger.standard"})),"",o("webapp_shared_access_cancel_failure")):(0,we.tZ)("div",null,(0,we.tZ)(we.zx,{intensity:e?"quiet":"supershy",disabled:r,onClick:c},o(e?"webapp_shared_access_cancel":"webapp_shared_access_cancel_invitation")),e?(0,we.tZ)(we.zx,{mood:"danger",intensity:"catchy",sx:{ml:"16px"},disabled:r,onClick:()=>(async()=>{a(by.Loading);const e=await(async()=>{try{const{success:e}=await g.C.revokeSharing({itemGroupId:t.groupId,recipient:l});return e}catch(e){return!1}})();a(e?by.Success:by.Failure)})()},r?Sy||(Sy=(0,we.tZ)(s.HoD,null)):o("webapp_shared_access_confirm")):null)};var My;const Ty=({isAdmin:e,itemGroup:t,openEditPermissionsDialog:a,userOrGroup:i})=>{const[o,s]=(0,n.useState)(null),r=(0,Dy.j)()?.login,{translate:l}=(0,j.Z)();if(o===by.Success)return null;const c="groupId"in i,{permission:d,status:u}=i,p=c?i.groupId:i.userId,m=c?i.name:i.alias,_=e&&r!==p,g=c?{type:"userGroup",groupId:p,name:m}:{type:"user",alias:p};let h="pending"===u?"webapp_shared_access_pending_invitation":"";h="accepted"===u?"admin"===d?"webapp_sharing_permissions_full_rights":"webapp_sharing_permissions_limited_rights":h;const b="pending"===u?(0,we.tZ)(xy,{userOrGroup:i,itemGroup:t,cancelStatus:o,setCancelStatus:s}):(0,we.tZ)(we.zx,{intensity:"supershy",onClick:()=>a(g,d)},l("webapp_shared_access_edit_permissions"));return(0,we.tZ)("li",{key:p,sx:{alignItems:"center",borderStyle:"solid",borderBottomWidth:"1px",borderColor:"ds.border.neutral.standard.idle",display:"flex",minHeight:"64px",overflow:"hidden",position:"relative"}},(0,we.tZ)(mt.r,{infoAction:_?b:null,logo:c?My||(My=(0,we.tZ)(Ia.Z,null)):(0,we.tZ)(Ea.q,{email:m,size:36}),text:l(h),title:m,disabled:o===by.Loading}))},Ay=({id:e,isAdmin:t})=>{const[a,i]=(0,n.useState)(!1),[o,r]=(0,n.useState)(null),l=my(e),d=(u=e,(0,Ft.qr)({queryConfig:{query:g.C.getUserRecipients,queryParam:u},liveConfig:{live:g.C.liveUserRecipients,liveParam:u}},[]));var u;const p=function(e){return(0,Ft.qr)({queryConfig:{query:g.C.getGroupRecipients,queryParam:e},liveConfig:{live:g.C.liveGroupRecipients,liveParam:e}},[])}(e);if(l.status!==Ft.rq.Success||d.status!==Ft.rq.Success||p.status!==Ft.rq.Success||!l.data)return(0,we.tZ)(s.HoD,{color:"ds.container.expressive.brand.catchy.idle",size:50,sx:{alignSelf:"center",m:"20px"}});const m=l.data,_=d.data,h=p.data,b=e=>{o&&r({...o,step:e})},C=async()=>{if(!o)return;const{recipient:e,permission:t}=o;i(!0);const a="revoke"===t?await(async e=>{try{const{success:t}=await g.C.revokeSharing({itemGroupId:m.groupId,recipient:e});return t}catch(e){return!1}})(e):await(async(e,t)=>{try{const{success:a}=await g.C.updateSharingPermission({itemGroupId:m?.groupId,recipient:e,permission:t});return a}catch(e){return!1}})(e,t);if(a){const e="revoke"===t?hy.RevokeSuccess:hy.Success;b(e)}else b(hy.Failure);i(!1)},w=(e,t)=>{const a={recipient:e,permission:t,originPermission:t,step:hy.Permission,name:(0,c.isGroupRecipient)(e)?e.name:e.alias};r(a)};return(0,we.tZ)("div",{sx:{flex:"1",overflowY:"auto",p:"24px"}},(0,we.tZ)("ul",{sx:{flex:"1"}},(0,py.t)(h).map((e=>(0,we.tZ)(Ty,{key:e.groupId,userOrGroup:e,isAdmin:t,itemGroup:m,openEditPermissionsDialog:w}))),(0,py.n)(_).map((e=>(0,we.tZ)(Ty,{key:e.userId,userOrGroup:e,isAdmin:t,itemGroup:m,openEditPermissionsDialog:w})))),o&&(0,we.tZ)(fy,{isOpen:!0,loading:a,onCancelRevoke:()=>{o&&r({...o,step:hy.Permission})},onConfirmRevoke:C,onDismiss:()=>r(null),onSelectPermission:e=>{o&&r({...o,permission:e})},onValidatePermission:()=>{"revoke"===o?.permission?r({...o,step:hy.ConfirmRevoke}):C()},originPermission:o.originPermission,permission:o.permission,recipient:o.recipient,step:o.step}))};class ky extends n.Component{constructor(e){super(e),this.field=n.createRef(),this.getField=()=>{if(!this.field.current)throw new Error("field ref not registered");return this.field.current},this.getValue=()=>this.getField().value,this.state={selectionRangeStart:null,selectionRangeEnd:null}}shouldComponentUpdate(e,t){return!((0,Ge.equals)(this.props.value,e.value)&&(0,Ge.equals)(this.state.selectionRangeStart,t.selectionRangeStart)&&(0,Ge.equals)(this.state.selectionRangeEnd,t.selectionRangeEnd))}componentDidUpdate(){null!==this.state.selectionRangeStart&&null!==this.state.selectionRangeEnd&&this.getField().setSelectionRange(this.state.selectionRangeStart,this.state.selectionRangeEnd)}render(){return n.createElement("div",{className:"content--AFh9bUjHyR"},n.createElement("textarea",{ref:this.field,name:this.props.name,className:"textarea--Ix1kh7fRYF",placeholder:this.props.placeholder,value:this.props.value||"",disabled:this.props.disabled,readOnly:this.props.readonly,onChange:e=>{this.props.limitContentReached||this.setState({selectionRangeStart:e.target.selectionStart,selectionRangeEnd:e.target.selectionEnd}),this.props.onChange&&this.props.onChange(e)}}))}}const Zy=({content:e,setContent:t,limitedPermissions:a,lee:i,readonly:o})=>{const[r,l]=(0,n.useState)(!1),{translate:c}=i;return n.createElement(n.Fragment,null,n.createElement(ky,{placeholder:c(o?"webapp_secure_notes_edition_disabled_label":"webapp_secure_notes_addition_field_placeholder_no_content"),value:e,disabled:a,readonly:o,limitContentReached:e.length>=Xy,onChange:({target:{value:a}})=>{const n=a.length>e.length,i=e.length>=Xy;if(n&&i)return;const o=n&&a.length>Xy,s=o?e:a;l(o),t(s)}}),r&&n.createElement("div",{className:"alertContainer--aKDAFWKb1l"},n.createElement(Ig,{id:Math.floor(1e6*Math.random()),message:c("webapp_secure_notes_addition_field_copy_past_error"),onHide:()=>{l(!1)},severity:s.BLW.WARNING})))},Oy=({maxAuthorizedSize:e,currentSize:t})=>{const{translate:a}=(0,j.Z)(),i=.95*e,o=.995*e,s=e-t,r=t>e?a("webapp_secure_notes_edition_field_text_over_limit",{overLimit:-s}):a("webapp_secure_notes_edition_field_text_max_size_reached",{charLeft:s});return t>=i?n.createElement("div",{className:w()("greyWarningCharLeft--kX7GKkrKTa",t>=o?"redWarningCharLeft--XWRHnpjz2e":{})},r):null};function Ly(e,t){return{label:t,value:("credential"===e?"":"noCategory")||""}}function Py(e,t,a){const n=t.map((e=>({label:e.name,value:e.id})));return[Ly(e,a)].concat(n)}function zy(e,t,a,n){const i=t.find((e=>e.label===a));return null!=i?i:Ly(e,n)}const jy=["BLUE","GRAY","PURPLE","PINK","RED","BROWN","GREEN","ORANGE","YELLOW"];function Ry(e,t,a){return t.filter((t=>e[t])).map((t=>({icon:a,label:`${e[t]}`,value:t})))}function Uy(e,t){const a=Ry(e,[t],null);return a.length?a[0]:{}}const By={NO_CATEGORY:"webapp_secure_notes_addition_no_category",CATEGORY_LABEL:"webapp_secure_notes_addition_field_tab_option_category_label",COLOR_LABEL:"webapp_secure_notes_addition_field_tab_option_color_label",SECURITY_LABEL:"webapp_secure_notes_addition_field_tab_option_security_label",SECURITY_TITLE:"webapp_secure_notes_addition_field_tab_option_security_title",SECURITY_DESCRIPTION:"webapp_secure_notes_addition_field_tab_option_security_description",COLORS:{BLUE:"webapp_secure_notes_addition_field_type_option_blue",BROWN:"webapp_secure_notes_addition_field_type_option_brown",GRAY:"webapp_secure_notes_addition_field_type_option_gray",GREEN:"webapp_secure_notes_addition_field_type_option_green",ORANGE:"webapp_secure_notes_addition_field_type_option_orange",PINK:"webapp_secure_notes_addition_field_type_option_pink",PURPLE:"webapp_secure_notes_addition_field_type_option_purple",RED:"webapp_secure_notes_addition_field_type_option_red",YELLOW:"webapp_secure_notes_addition_field_type_option_yellow"}},Fy={NO_CATEGORY:"webapp_secure_notes_edition_no_category",CATEGORY_LABEL:"webapp_secure_notes_edition_field_tab_option_category_label",COLOR_LABEL:"webapp_secure_notes_edition_field_tab_option_color_label",SECURITY_LABEL:"webapp_secure_notes_edition_field_tab_option_security_label",SECURITY_TITLE:"webapp_secure_notes_edition_field_tab_option_security_title",SECURITY_DESCRIPTION:"webapp_secure_notes_edition_field_tab_option_security_description",COLORS:{BLUE:"webapp_secure_notes_edition_field_type_option_blue",BROWN:"webapp_secure_notes_edition_field_type_option_brown",GRAY:"webapp_secure_notes_edition_field_type_option_gray",GREEN:"webapp_secure_notes_edition_field_type_option_green",ORANGE:"webapp_secure_notes_edition_field_type_option_orange",PINK:"webapp_secure_notes_edition_field_type_option_pink",PURPLE:"webapp_secure_notes_edition_field_type_option_purple",RED:"webapp_secure_notes_edition_field_type_option_red",YELLOW:"webapp_secure_notes_edition_field_type_option_yellow"},CHANGE_SECURED_SETTING_ON:"webapp_secure_notes_edition_unlocker_on_success",CHANGE_SECURED_SETTING_OFF:"webapp_secure_notes_edition_unlocker_off_success"},Wy={title:"webapp_secure_notes_edition_unlocker_title_on",subtitle:"webapp_secure_notes_edition_unlocker_description_on"},Gy={title:"webapp_secure_notes_edition_unlocker_title_off",subtitle:"webapp_secure_notes_edition_unlocker_description_off"},Vy=({noteCategories:e,disabled:t,data:a,isNewItem:i,saveSecureNoteOptions:o})=>{var r,l,c,d;const{translate:u}=(0,j.Z)(),p=(0,Bw.$)(),{areProtectedItemsUnlocked:m,openProtectedItemsUnlocker:_}=(0,fe.tY)(),g=(0,yd.F)(),h=i?By:Fy,b=u(h.NO_CATEGORY),[C,w]=(0,n.useState)(null!=(r=a?.category)?r:b),[y,E]=(0,n.useState)(null!=(l=a?.type)?l:"BLUE"),[I,N]=(0,n.useState)(null!=(c=a?.spaceId)?c:""),[f,v]=(0,n.useState)(null!=(d=a?.secured)&&d),S=(e=>e.map((e=>({name:e.categoryName,id:e.id}))))(e),D=Py("note",S,b),x=e.find((e=>e.id===C)),M=x?x.categoryName:b,T=jy.reduce(((e,t)=>(e[t]=u(h.COLORS[t]),e)),{}),A=Ry(T,jy,(k=y,n.createElement("span",{className:"icon--eBGJiUqyZ5",style:{backgroundColor:ht(k)}})));var k;const Z=e=>{v(e),o({category:C,type:y,spaceId:I,secured:e}),p.showAlert(u(e?Fy.CHANGE_SECURED_SETTING_ON:Fy.CHANGE_SECURED_SETTING_OFF),s.BLW.SUCCESS)};return(0,z.tZ)(s.Ejs,{flexDirection:"column"},e&&e.length>1?(0,z.tZ)(ch.Z,{key:M,disabled:t,label:u(h.CATEGORY_LABEL),placeholder:"",dataName:"category",options:D,defaultOption:zy("note",D,M,b),onChange:e=>{w(e.currentTarget.value),o({category:e.currentTarget.value,type:y,spaceId:I,secured:f})}}):null,(0,z.tZ)(bo,{labelSx:ho,spaceId:I,onChange:e=>{N(e),o({category:C,type:y,secured:f,spaceId:e})}}),(0,z.tZ)(ch.Z,{key:y,disabled:t,label:u(h.COLOR_LABEL),placeholder:"",dataName:"type",options:A,defaultOption:Uy(T,y),onChange:e=>{E(e.currentTarget.value),o({category:C,type:e.currentTarget.value,spaceId:I,secured:f})}}),g?null:(0,z.tZ)(s.Ejs,{sx:{mt:"12px"}},(0,z.tZ)(s.k$b,{sx:{fontWeight:"600",width:"173px",textAlign:"right",justifyContent:"flex-end",pr:"24px"},as:s.nvN,innerAs:"label",htmlFor:"securityToggle",size:"medium"},u(h.SECURITY_LABEL)),(0,z.tZ)(s.k$b,{sx:{display:"inline-flex",position:"relative",pl:"16px"}},(0,z.tZ)(s.T5p,{gridTemplateColumns:"auto 1fr",gridTemplateRows:"auto auto",gridTemplateAreas:"'toggle title' '. content'",justifyItems:"flex-start",alignItems:"center",gap:"8px"},(0,z.tZ)(s.ZDl,{id:"securityToggle",disabled:t,checked:f,onChange:()=>{const e=!f;m||i?Z(e):((0,fe.jF)(),_({itemType:Ne.Ru.SecureNoteSetting,options:{fieldsKeys:e?Wy:Gy,translated:!1},successCallback:()=>Z(e)}))}}),(0,z.tZ)(s.nvN,{sx:{gridArea:"title"},size:"small"},u(h.SECURITY_TITLE)),(0,z.tZ)(s.nvN,{sx:{gridArea:"content",color:s.O9T.grey01},size:"x-small"},u(h.SECURITY_DESCRIPTION))))))},{CONTENT:Yy,DOCUMENT_STORAGE:Hy,MORE_OPTIONS:qy,SHARED_ACCESS:Qy}=Rw,Xy=1e4,Ky=({activeTab:e,data:t,content:a,setContent:i,handleFileInfoDetached:o,hasAttachment:r,isAdmin:l,isSecureNoteAttachmentEnabled:c,isShared:d,isUploading:u,lee:p,noteCategories:m,onModifyData:_,onModalDisplayStateChange:g,saveSecureNoteOptions:h})=>{var b;const{translate:C}=(0,j.Z)(),w=(0,it.w)("disableSecureNotes");return(0,z.tZ)(n.Fragment,null,e===Yy&&(0,z.tZ)(n.Fragment,null,(0,z.tZ)("div",{className:"formContent--TCNgoQopo1"},(0,z.tZ)(Zy,{content:a,setContent:e=>{_(),i(e)},limitedPermissions:t.limitedPermissions,readonly:w,lee:p})),(0,z.tZ)(Oy,{maxAuthorizedSize:Xy,currentSize:a.length}),c&&(d||r)&&(0,z.tZ)(s.vDh,{severity:"subtle",size:"small",title:C(d?"webapp_secure_notes_infobox_shared":"webapp_secure_notes_infobox_has_attachments"),sx:{margin:"0px 32px 0px 8px"}})),e===Qy&&(0,z.tZ)(Ay,{isAdmin:l,id:t.id}),e===Hy&&(0,z.tZ)(uy,{currentValues:(0,Ge.pick)(["attachments"],t),lee:p,signalEditedValues:_,additionalProps:{handleFileInfoDetached:e=>{o(e)},onModalDisplayStateChange:g,noteId:t.id,isUploading:u}}),e===qy&&(0,z.tZ)(Vy,{data:{category:t.category,spaceId:null!=(b=t.spaceId)?b:"",type:t.type,secured:t.secured},noteCategories:m,isNewItem:!1,saveSecureNoteOptions:e=>{h(e)}}))},Jy=e=>({id:e.Id,type:e.Type,version:1,filename:e.Filename,downloadKey:e.DownloadKey,cryptoKey:e.CryptoKey,localSize:e.LocalSize,remoteSize:e.RemoteSize,creationDatetime:e.CreationDatetime,userModificationDatetime:e.UserModificationDatetime,owner:e.Owner}),$y=15*Math.pow(1024,2),eE={PROGRESS_CIPHERING:"webapp_secure_file_upload_progress_ciphering_markup"};function tE(e){const[t,a]=(0,n.useState)(!1),i=(0,Bw.$)(),{translateWithMarkup:o}=(0,F.Y)();return{isUploading:t,upload:(t,n)=>{if(t)if(t.size>$y)n?.({success:!1,error:{code:p.SecureFileResultErrorCode.MAX_CONTENT_LENGTH_EXCEEDED}});else{const r=Vw(t.name);i.showAlert(Gw(o({key:eE.PROGRESS_CIPHERING,params:{fileName:r}})),s.BLW.SUBTLE,void 0,!1,!1),a(!0);const l=new FileReader,c=e=>{n?.(e),a(!1)};l.onloadend=async()=>async function(e,t,a,n){if(2===e.readyState){const i=e.result,o=new Uint8Array(i),s=JSON.stringify(Array.from(o));if(t.size>$y)n?.({success:!1,error:{code:p.SecureFileResultErrorCode.MAX_CONTENT_LENGTH_EXCEEDED}});else{const e=await g.C.addSecureFile({fileName:t.name,fileType:t.type,serializedContent:s});e.success&&(0,O.K)(new N.UserUpdateVaultItemAttachmentEvent({attachmentAction:N.Action.Add,itemId:e.secureFileInfo.Id,itemType:a})),n?.(e)}}return null}(l,t,e,c),l.readAsArrayBuffer(t)}}}}var aE,nE=a(553966);const iE=({onFileUploadStarted:e,onFileUploadDone:t,isQuotaReached:a,isShared:i,itemId:o,dataType:r,disabled:l=!1})=>{var c;const d=function(e){const t=(0,it.w)("techweek_web_attachmentsForIds_v1"),a=Ww(),n=(0,mw.rp)(["secureFiles"]),i=a&&n;return e?i&&t:i}("KWIDCard"===r)&&!i,u=null!=(c=nE.dataModelTypeToItemType[r])?c:function(e){throw new Error(e)}(`Unsupported Type ${r}`),{translate:p}=(0,j.Z)(),{upload:m,isUploading:_}=tE(u),[h,b]=(0,n.useState)(""),{showErrorAlert:C}=qw(h),w=function(){const e=(0,Ft.qr)({queryConfig:{query:g.C.getSecureDocumentsExtensionsList}},[]);return e.status===Ft.rq.Success?e.data:void 0}(),y=e=>{t?.(e),e.success||C(e.error?.code)},E=async t=>{const a=await(async e=>await g.C.validateSecureFile({fileName:e.name,fileType:e.type,contentLength:e.size}))(t);a.success?(e(),b(t.name),m(t,y)):C(a?.error?.code)};return d?(0,z.tZ)(s.Ejs,null,(0,z.tZ)("input",{type:"file",id:"secureFileInput",sx:{display:"none"},onChange:e=>{e?.target?.files?.length&&E(e.target.files[0]),e.target.value=""},accept:w?.join(",")}),(0,z.tZ)(s.zxk,{key:"attach",nature:"secondary",onClick:e=>{o&&(0,O.K)(new N.UserUpdateVaultItemAttachmentEvent({attachmentAction:N.Action.Add,itemId:o,itemType:u})),document.getElementById("secureFileInput")?.click(),e.preventDefault()},type:"button",disabled:a||_||l},aE||(aE=(0,z.tZ)(s.FKb,null)),p("webapp_secure_notes_add_attachment_action_name"))):null},oE=async e=>await g.C.clearSecureFilesState(e);var sE=a(798166);const rE=({title:e,disabled:t=!1,onChange:a})=>{const{translate:i}=(0,j.Z)(),o=i("webapp_secure_notes_addition_field_placeholder_no_title");return n.createElement(Cs.Z,{className:"container--Bb3XoBtSp4",tooltipText:e||o},n.createElement("input",{className:"input--OxF_FebNld",placeholder:o,value:e||"",disabled:t,onChange:a}))};var lE;const{CONTENT:cE,DOCUMENT_STORAGE:dE,MORE_OPTIONS:uE,SHARED_ACCESS:pE}=Rw,mE=({activeTab:e,setActiveTab:t,backgroundColor:a,disabled:n,displayDocumentStorage:i,displaySharedAccess:o,recipientsCount:r,title:l,setTitle:c})=>{const{translate:d}=(0,j.Z)(),u=Ww(),p=[{active:e===cE,label:d("webapp_secure_notes_edition_field_tab_title_details"),onClick:()=>t(cE)}];if(o&&p.push({active:e===pE,label:`${d("webapp_secure_notes_edition_field_tab_title_shared_access")} (${r})`,onClick:()=>t(pE)}),i){const a=u?void 0:(0,we.tZ)(sE.Z,null,(0,we.tZ)("p",null,d("webapp_secure_notes_edition_field_tab_title_attachments_tooltips")));p.push({active:e===dE,label:d("webapp_secure_notes_edition_field_tab_title_attachments"),onClick:()=>t(dE),tabIconElement:a})}return p.push({active:e===uE,label:d("webapp_secure_notes_edition_field_tab_title_options"),onClick:()=>t(uE)}),(0,we.tZ)(Is,{icon:(0,we.tZ)("div",{className:"iconWrapper--d4t5P9vl4W"},lE||(lE=(0,we.tZ)(s.uHY,{size:40,color:"white"}))),iconBackgroundColor:ht(a),title:(0,we.tZ)(rE,{title:l,disabled:n,onChange:e=>c(e.target.value)}),tabs:p})},{CONTENT:_E,DOCUMENT_STORAGE:gE,MORE_OPTIONS:hE,SHARED_ACCESS:bE}=Rw,CE=e=>{return t=e,{...He(),selectedNotes:[t],step:Ve.Recipients};var t},wE=(0,fe.DP)((({lee:e,location:t,note:a,noteCategories:o})=>{var s;const{translate:r}=(0,j.Z)(),{routes:l}=(0,J.Xo)(),c=Ww(),[d,u]=(0,n.useState)(_E),[m,_]=(0,n.useState)(!1),[h]=(0,n.useState)(null),[b,C]=(0,n.useState)(!1),[w,y]=(0,n.useState)(null),[E,I]=(0,n.useState)(!1),[f,v]=(0,n.useState)(!1),[S,D]=(0,n.useState)(!1),[x,M]=(0,n.useState)((()=>a.content)),[T,A]=(0,n.useState)((()=>a.title)),k=n.useCallback((()=>!a&&((0,i.uX)(l.userSecureNotes),!0)),[a,l.userSecureNotes]);if(n.useEffect((()=>{k()||(0,O.N)(N.PageView.ItemSecureNoteDetails)}),[k]),n.useEffect((()=>{k()}),[k,a]),!a)return null;const Z=()=>{oE(),t?.state?.entity?jw({routes:l,location:t}):((0,O.N)(N.PageView.ItemSecureNoteList),(0,i.uX)(l.userSecureNotes))},L=async(e=!0)=>{var t;v(!0);const n=null!=h?h:{spaceId:null!=(t=a.spaceId)?t:""};await g.C.updateSecureNote({content:x,title:T,id:a.id,attachments:[...a.attachments],...n}),v(!1),e&&Z()},P=()=>{D(!0)},z=async e=>{D(!1),e.success&&(await g.C.commitSecureFile({secureFileInfo:e.secureFileInfo}),a.attachments.push(Jy(e.secureFileInfo)),L(!1))},R=()=>y(null),U=e=>y({reason:e}),B=()=>_(!0),F=a?.sharingStatus.isShared,W=c||a.attachments.length>0,G=[_E,hE];F?G.push(bE):W&&G.push(gE);const V={confirmDeleteConfirm:r("webapp_secure_notes_edition_delete_confirm"),confirmDeleteDismiss:r("webapp_credential_edition_delete_dismiss"),confirmDeleteSubtitle:r("webapp_credential_edition_confirm_delete_subtitle"),confirmDeleteTitle:r("webapp_secure_notes_edition_delete_title"),lastAdminActionLabel:r("webapp_credential_edition_change_permissions"),lastAdminTitle:r("webapp_credential_edition_last_admin_title"),lastAdminSubtitle:r("webapp_credential_edition_last_admin_subtitle"),groupSharingTitle:r("webapp_secure_notes_edition_group_sharing_title"),groupSharingSubtitle:r("webapp_credential_edition_group_sharing_subtitle"),genericErrorTitle:"webapp_account_recovery_generic_error_title",genericErrorSubtitle:"webapp_account_recovery_generic_error_subtitle"},Y={attachments:a.attachments,category:a.category?a.category.id:"noCategory",content:a.content,id:a.id,limitedPermissions:a.sharingStatus.isShared&&"limited"===a.sharingStatus.permission,secured:a.secured,spaceId:a.spaceId,title:a.title,type:a.color},H=a.sharingStatus.isShared?a.sharingStatus.recipientsCount:0;return n.createElement(bs,{isViewingExistingItem:!0,itemHasBeenEdited:m,onSubmit:()=>{L()},submitPending:f,secondaryActions:(()=>{switch(d){case _E:return[s||(s=n.createElement(Uw,{item:a,getSharing:CE,key:"shareaction"}))];case gE:return[n.createElement(iE,{isQuotaReached:!1,onFileUploadStarted:P,onFileUploadDone:z,isShared:a?.sharingStatus.isShared,itemId:a.id,key:"uploadAction",dataType:"KWSecureNote"})];default:return[]}})(),onNavigateOut:Z,onClickDelete:()=>{const{sharingStatus:e}=a;if(e.isShared){if(e.groupSharing)return void U(Gh.GroupSharing);if(e.lastAdmin)return void U(Gh.LastAdmin)}C(!0)},ignoreCloseOnEscape:b||E,formId:"edit_securenote_panel",header:n.createElement(mE,{activeTab:d,backgroundColor:Y.type,displayDocumentStorage:G.includes(gE),displaySharedAccess:G.includes(bE),recipientsCount:H,setActiveTab:u,disabled:Y.limitedPermissions,title:T,setTitle:e=>{B(),A(e)}})},n.createElement(Ky,{activeTab:d,data:Y,content:x,setContent:M,handleFileInfoDetached:e=>{a.attachments=a.attachments.filter((t=>t.id!==e)),L(!1)},hasAttachment:a.attachments.length>0,isAdmin:a.sharingStatus.isShared&&"admin"===a.sharingStatus.permission,isSecureNoteAttachmentEnabled:c,isShared:a.sharingStatus.isShared,isUploading:S,lee:e,noteCategories:o.items,onModifyData:B,onModalDisplayStateChange:I,saveSecureNoteOptions:e=>{const{category:t,spaceId:n,type:i,secured:o}=e;g.C.updateSecureNote({id:a.id,spaceId:null!=n?n:"",type:i,category:t,secured:o}),fp()}}),b&&n.createElement(Vh,{closeConfirmDeleteDialog:()=>C(!1),onDeleteConfirm:async()=>{a.attachments.forEach((async e=>{const{id:t}=e;await g.C.deleteSecureFile({id:t})}));const e=await g.C.deleteSecureNote({id:a.id});e.success?(0,i.uX)(l.userSecureNotes):e.error.code===p.DeleteSecureNoteErrorCode.LEAVE_SHARING_FORBIDDEN_GROUP_ITEM?U(Gh.GroupSharing):e.error.code===p.DeleteSecureNoteErrorCode.LEAVE_SHARING_FORBIDDEN_LAST_ADMIN?U(Gh.LastAdmin):U(Gh.Generic)},translations:V}),w&&n.createElement(Yh,{reason:w.reason,translations:V,goToSharingAccess:()=>{R(),u(Rw.SHARED_ACCESS)},closeCantDeleteDialog:R}))})),yE=e=>{if(!e.match.params)throw new Error("missing route `params`");return`{${e.match.params.uuid}}`},EE={note:{live:g.C.liveNote,liveParam:yE,query:g.C.getNote,queryParam:yE},noteCategories:{query:g.C.getNoteCategories}},IE={strategies:EE},NE=(0,Fe.$)((0,We.i)(wE,IE),EE),{CONTENT:fE,DOCUMENT_STORAGE:vE}=Rw,SE={noteCategories:{query:g.C.getNoteCategories}},DE={strategies:SE},xE=(0,Fe.$)((0,We.i)((({lee:e,noteCategories:t})=>{var a,o;const{routes:s}=(0,J.Xo)(),r=Ww(),l=(0,zo.Y)(),{openPaywall:c}=(0,Op.nL)(),d=(0,i.k6)(),[u,p]=(0,n.useState)(fE),[m,_]=(0,n.useState)(!1),[h,b]=(0,n.useState)(!1),[C,w]=(0,n.useState)([]),[y,E]=(0,n.useState)({category:"noCategory",type:"GRAY",spaceId:null!=(a=(0,Z.B)(e.globalState))?a:"",secured:!1}),[I,f]=(0,n.useState)(!1),[v,S]=(0,n.useState)(""),[D,x]=(0,n.useState)(""),M={attachments:C.map(Jy),id:"",limitedPermissions:!1,content:v,title:D,...y};if((0,n.useEffect)((()=>{(0,O.N)(N.PageView.ItemSecureNoteCreate)}),[]),l.status!==Ft.rq.Success||!l?.data)return null;const T=(0,BC.n6)(BC.Co.SecureNotes,l.data?.capabilities),A=()=>{(0,O.N)(N.PageView.ItemSecureNoteList),oE(),(0,i.uX)(s.userSecureNotes)},k=()=>_(!0);return T&&(c(BC.qd.SecureNote),d.push("/secure-notes")),n.createElement(bs,{isViewingExistingItem:!1,itemHasBeenEdited:m,submitPending:h,onSubmit:async()=>{if(!h){b(!0);try{await(async()=>{await g.C.addSecureNote({...y,content:v,title:D,attachments:M.attachments}),w([])})()}catch{b(!1)}fp(),A()}},secondaryActions:u===vE?[o||(o=n.createElement(iE,{isQuotaReached:!1,isShared:!1,onFileUploadStarted:()=>{f(!0)},onFileUploadDone:async e=>{f(!1),e.success&&(await g.C.commitSecureFile({secureFileInfo:e.secureFileInfo}),w([...C,e.secureFileInfo]),_(!0))},key:"uploadAction",dataType:"KWSecureNote"}))]:[],primaryActions:[],onNavigateOut:()=>{C.forEach((async e=>{const{Id:t}=e;await g.C.deleteSecureFile({id:t})})),oE(),w([]),A()},formId:"add_securenote_panel",header:n.createElement(mE,{activeTab:u,backgroundColor:M.type,displayDocumentStorage:!0,displaySharedAccess:!1,setActiveTab:p,title:D,setTitle:e=>{k(),x(e)}})},n.createElement(Ky,{activeTab:u,data:M,content:v,setContent:S,handleFileInfoDetached:e=>{w(C.filter((t=>t.Id!==e)))},hasAttachment:!1,isAdmin:!1,isSecureNoteAttachmentEnabled:r,isShared:!1,isUploading:I,lee:e,noteCategories:t.items,onModifyData:k,saveSecureNoteOptions:E}))}),DE),SE),ME="[-a-zA-Z\\d]{36}";function TE({path:e}){return n.createElement(i.GB,{exact:!0,path:[e,`${e}/add`,`${e}/:uuid`],component:Ow},n.createElement(Mg,{redirectPath:e},n.createElement(i.ZB,{path:`${e}/add`,component:xE}),n.createElement(i.ZB,{path:`${e}/:uuid(${ME})`,component:NE})))}var AE=a(998383),kE=a(35487);function ZE({path:e,routingSchemeOptions:t}){return n.createElement(AE.Z,{basePath:e,path:[e,`${e}/${kE.$.ACCOUNT}`,`${e}/${kE.$.ACTIVITY}`,`${e}/${kE.$.DASHBOARD}`,`${e}/${kE.$.GROUPS}`,`${e}/${kE.$.MEMBERS}`,`${e}/${kE.$.SETTINGS}`,`${e}/${kE.$.DARK_WEB_INSIGHTS}`]})}const OE="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDgiIGhlaWdodD0iNDgiIHZpZXdCb3g9IjAgMCA0OCA0OCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTAgMjRDMCAxMC43NDUyIDEwLjc0NTIgMCAyNCAwVjBDMzcuMjU0OCAwIDQ4IDEwLjc0NTIgNDggMjRWMjRDNDggMzcuMjU0OCAzNy4yNTQ4IDQ4IDI0IDQ4VjQ4QzEwLjc0NTIgNDggMCAzNy4yNTQ4IDAgMjRWMjRaIiBmaWxsPSIjQ0ZFMEU0Ii8+CjxwYXRoIGQ9Ik0zNS45OTk4IDMwLjk5NzNDMzUuOTk5MiAzMC45ODUyIDM1Ljk5NjUgMzAuOTMxMSAzNS45ODgyIDMwLjg0MjRDMzUuOTkwMyAzMC44NjUyIDM1Ljk5MjEgMzAuODg1OCAzNS45OTM2IDMwLjkwMzlDMzUuOTk3OCAzMC45NTYyIDM1Ljk5OTQgMzAuOTg4MyAzNS45OTk4IDMwLjk5NzNaIiBmaWxsPSIjMEUzNTNEIi8+CjxwYXRoIGQ9Ik0zMC43ODgxIDI5LjA1MzlDMzAuODA2NCAyOS4wNzc4IDMwLjgyNDUgMjkuMTAxOCAzMC44NDI0IDI5LjEyNTdDMzAuODM1IDI5LjExNTggMzAuODI3NiAyOS4xMDU5IDMwLjgyMDEgMjkuMDk1OUMzMC44MDk1IDI5LjA4MTkgMzAuNzk4OCAyOS4wNjc5IDMwLjc4ODEgMjkuMDUzOVoiIGZpbGw9IiMwRTM1M0QiLz4KPHBhdGggZD0iTTI3LjgxNzIgMjMuODg0NkMyNy44NjkzIDIzLjgwMTQgMjcuOTE4NyAyMy43MTY0IDI3Ljk2NTQgMjMuNjI5N0MyNy45MzIzIDIzLjY5MTIgMjcuODk3OCAyMy43NTE4IDI3Ljg2MiAyMy44MTE2QzI3Ljg0NzMgMjMuODM2MSAyNy44MzIzIDIzLjg2MDQgMjcuODE3MiAyMy44ODQ2WiIgZmlsbD0iIzBFMzUzRCIvPgo8cGF0aCBkPSJNMjkuNDk5NyAyNi45MDM5QzI5LjE0NjggMjYuOTAzOSAyOC44MjMzIDI2LjkyNzQgMjguNTI2NSAyNi45NzA3QzI4LjM4ODcgMjYuODk0NSAyOC4yNDEgMjYuODE4NCAyOC4wODIzIDI2Ljc0M0MyOC42ODUxIDI2LjI4ODYgMjkuMjAzNiAyNS43MTczIDI5LjYwNzcgMjUuMDk2NkMzMS40NjExIDI1LjExNzQgMzIuNzY0NSAyNS42NzMyIDMzLjY4MzIgMjYuNDMxQzM0LjYxMiAyNy4xOTcyIDM1LjE1NDEgMjguMTc1NCAzNS40Njk4IDI5LjAzMzFDMzUuNjcwMSAyOS41NzcgMzUuNzc4NyAzMC4wNzA4IDM1LjgzNzMgMzAuNDI4NUMzNS44NjY1IDMwLjYwNzMgMzUuODgzMiAzMC43NTE5IDM1Ljg5MjYgMzAuODUxNEwzNS44OTczIDMwLjkwMzlIMzEuOTU5MUMzMS43MTkgMzAuMzI4NSAzMS4zOTAzIDI5LjcwNDEgMzAuOTM5OSAyOS4wOTU5SDMzLjUzMjJMMzMuNDQwNSAyOC45MzEzQzMzLjE3MDQgMjguNDQ5NyAzMi43Nzg1IDI3Ljk0MTEgMzIuMTU0IDI3LjU1MzZDMzEuNTI5NCAyNy4xNjYgMzAuNjc5MyAyNi45MDM5IDI5LjQ5OTcgMjYuOTAzOVoiIGZpbGw9IiMwRTM1M0QiLz4KPHBhdGggZD0iTTIwLjE0MzQgMzEuOTc4M0MyMC4yMDk2IDMxLjg2MDMgMjAuMjgzMSAzMS43NDA5IDIwLjM2NTYgMzEuNjIyM0MyMC4zMDA0IDMxLjcxNjEgMjAuMjQwOCAzMS44MTAzIDIwLjE4NiAzMS45MDM5QzIwLjE3MTUgMzEuOTI4OCAyMC4xNTczIDMxLjk1MzYgMjAuMTQzNCAzMS45NzgzWiIgZmlsbD0iIzBFMzUzRCIvPgo8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTMwLjM5MyAzMy44NTE0TDMwLjM5NzcgMzMuOTAzOUgxNy42MDI5TDE3LjYwNzYgMzMuODUxNEMxNy42MTcgMzMuNzUxOSAxNy42MzM3IDMzLjYwNzMgMTcuNjYyOSAzMy40Mjg1QzE3LjcyMTUgMzMuMDcwOCAxNy44MzAxIDMyLjU3NyAxOC4wMzAzIDMyLjAzMzFDMTguMzQ3NyAzMS4xNzEyIDE4Ljg5MzUgMzAuMTg3NiAxOS44MzA3IDI5LjQxOThDMjAuNzY2NCAyOC42NTMyIDIyLjA5ODggMjguMDk1OSAyNC4wMDA1IDI4LjA5NTlDMjUuOTAyMiAyOC4wOTU5IDI3LjIzNDYgMjguNjUzMiAyOC4xNzAzIDI5LjQxOThDMjkuMTA3NCAzMC4xODc2IDI5LjY1MzEgMzEuMTcxMiAyOS45NzA0IDMyLjAzMzFDMzAuMTcwNiAzMi41NzY5IDMwLjI3OTIgMzMuMDcwOCAzMC4zMzc3IDMzLjQyODVDMzAuMzY2OSAzMy42MDczIDMwLjM4MzYgMzMuNzUxOSAzMC4zOTMgMzMuODUxNFpNMjAuMDQ3NCAzMS45NTM0TDE5Ljk2ODUgMzIuMDk1OUgyOC4wMzIzTDI3Ljk1MzUgMzEuOTUzNUwyNy45NDExIDMxLjkzMTJDMjcuNjcxIDMxLjQ0OTcgMjcuMjc5MiAzMC45NDExIDI2LjY1NDggMzAuNTUzNkMyNi4wMzAzIDMwLjE2NiAyNS4xODAxIDI5LjkwMzkgMjQuMDAwNSAyOS45MDM5QzIyLjgyMDkgMjkuOTAzOSAyMS45NzA3IDMwLjE2NiAyMS4zNDYxIDMwLjU1MzZDMjAuNzIxNyAzMC45NDExIDIwLjMyOTggMzEuNDQ5NyAyMC4wNTk3IDMxLjkzMTNMMjAuMDQ3NCAzMS45NTM0WiIgZmlsbD0iIzBFMzUzRCIvPgo8cGF0aCBkPSJNMjQuMDAwMyAxOC45MDM5QzIyLjU2NjYgMTguOTAzOSAyMS40MDQzIDIwLjA2NjIgMjEuNDA0MyAyMS40OTk5QzIxLjQwNDMgMjIuOTMzNyAyMi41NjY2IDI0LjA5NTkgMjQuMDAwMyAyNC4wOTU5QzI0LjMxMjYgMjQuMDk1OSAyNC42MTIzIDI0LjA0MDcgMjQuODg5OSAyMy45Mzk1TDI2LjI0MiAyNS4yOTE2QzI1LjU4NTQgMjUuNjgwNiAyNC44MTkgMjUuOTAzOSAyNC4wMDAzIDI1LjkwMzlDMjEuNTY4IDI1LjkwMzkgMTkuNTk2MyAyMy45MzIyIDE5LjU5NjMgMjEuNDk5OUMxOS41OTYzIDE5LjA2NzcgMjEuNTY4IDE3LjA5NTkgMjQuMDAwMyAxNy4wOTU5QzI2LjQzMjYgMTcuMDk1OSAyOC40MDQzIDE5LjA2NzcgMjguNDA0MyAyMS40OTk5QzI4LjQwNDMgMjIuMzE4NyAyOC4xODEgMjMuMDg1IDI3Ljc5MTkgMjMuNzQxNkwyNi40Mzk5IDIyLjM4OTVDMjYuNTQxMSAyMi4xMTE5IDI2LjU5NjMgMjEuODEyMyAyNi41OTYzIDIxLjQ5OTlDMjYuNTk2MyAyMC4wNjYyIDI1LjQzNCAxOC45MDM5IDI0LjAwMDMgMTguOTAzOVoiIGZpbGw9IiMwRTM1M0QiLz4KPHBhdGggZD0iTTMyLjA5NTkgMTguNDk5OUMzMi4wOTU5IDE3LjA2NjIgMzAuOTMzNiAxNS45MDM5IDI5LjQ5OTkgMTUuOTAzOUMyOC45OTcxIDE1LjkwMzkgMjguNTI3NCAxNi4wNDcgMjguMTI5NiAxNi4yOTQ3QzI3LjYxOTQgMTUuODk3IDI3LjA0OTIgMTUuNTcyNyAyNi40MzQ5IDE1LjMzNzVDMjcuMjI3NyAxNC41Njg5IDI4LjMwODUgMTQuMDk1OSAyOS40OTk5IDE0LjA5NTlDMzEuOTMyMiAxNC4wOTU5IDMzLjkwMzkgMTYuMDY3NyAzMy45MDM5IDE4LjQ5OTlDMzMuOTAzOSAyMC41NzAzIDMyLjQ3NTIgMjIuMzA3MiAzMC41NDk4IDIyLjc3ODFDMzAuNjMxMiAyMi4zNjQgMzAuNjczOSAyMS45MzY2IDMwLjY3MzkgMjEuNDk5OUMzMC42NzM5IDIxLjI3NDcgMzAuNjYyNiAyMS4wNTIgMzAuNjQwNiAyMC44MzI1QzMxLjUwMjMgMjAuNDEwNCAzMi4wOTU5IDE5LjUyNDYgMzIuMDk1OSAxOC40OTk5WiIgZmlsbD0iIzBFMzUzRCIvPgo8cGF0aCBkPSJNMTguNDMyMyAyNi45MDM5QzE4Ljc4NTEgMjYuOTAzOSAxOS4xMDg2IDI2LjkyNzQgMTkuNDA1NCAyNi45NzA3QzE5LjU0MzIgMjYuODk0NSAxOS42OTA5IDI2LjgxODQgMTkuODQ5NiAyNi43NDNDMTkuMjQ2OCAyNi4yODg2IDE4LjcyODQgMjUuNzE3MyAxOC4zMjQyIDI1LjA5NjZDMTYuNDcwOSAyNS4xMTc0IDE1LjE2NzQgMjUuNjczMiAxNC4yNDg3IDI2LjQzMUMxMy4zMTk5IDI3LjE5NzIgMTIuNzc3OSAyOC4xNzU0IDEyLjQ2MjEgMjkuMDMzMUMxMi4yNjE5IDI5LjU3NyAxMi4xNTMyIDMwLjA3MDggMTIuMDk0NyAzMC40Mjg1QzEyLjA2NTQgMzAuNjA3MyAxMi4wNDg3IDMwLjc1MTkgMTIuMDM5MyAzMC44NTE0TDEyLjAzNDcgMzAuOTAzOUgxNS45NzI4QzE2LjIxMjkgMzAuMzI4NSAxNi41NDE3IDI5LjcwNDEgMTYuOTkyIDI5LjA5NTlIMTQuMzk5N0wxNC40OTE0IDI4LjkzMTNDMTQuNzYxNSAyOC40NDk3IDE1LjE1MzUgMjcuOTQxMSAxNS43Nzc5IDI3LjU1MzZDMTYuNDAyNSAyNy4xNjYgMTcuMjUyNyAyNi45MDM5IDE4LjQzMjMgMjYuOTAzOVoiIGZpbGw9IiMwRTM1M0QiLz4KPHBhdGggZD0iTTE1LjgzNiAxOC40OTk5QzE1LjgzNiAxNy4wNjYyIDE2Ljk5ODMgMTUuOTAzOSAxOC40MzIgMTUuOTAzOUMxOC45MzQ5IDE1LjkwMzkgMTkuNDA0NiAxNi4wNDcgMTkuODAyMyAxNi4yOTQ3QzIwLjMxMjUgMTUuODk3IDIwLjg4MjcgMTUuNTcyNyAyMS40OTcxIDE1LjMzNzVDMjAuNzA0MiAxNC41Njg5IDE5LjYyMzQgMTQuMDk1OSAxOC40MzIgMTQuMDk1OUMxNS45OTk4IDE0LjA5NTkgMTQuMDI4IDE2LjA2NzcgMTQuMDI4IDE4LjQ5OTlDMTQuMDI4IDIwLjU3MDMgMTUuNDU2OCAyMi4zMDcyIDE3LjM4MjEgMjIuNzc4MUMxNy4zMDA3IDIyLjM2NCAxNy4yNTggMjEuOTM2NiAxNy4yNTggMjEuNDk5OUMxNy4yNTggMjEuMjc0NyAxNy4yNjkzIDIxLjA1MiAxNy4yOTE0IDIwLjgzMjVDMTYuNDI5NyAyMC40MTA0IDE1LjgzNiAxOS41MjQ2IDE1LjgzNiAxOC40OTk5WiIgZmlsbD0iIzBFMzUzRCIvPgo8cGF0aCBkPSJNMjQgNDdDMTEuMjk3NSA0NyAxIDM2LjcwMjUgMSAyNEgtMUMtMSAzNy44MDcxIDEwLjE5MjkgNDkgMjQgNDlWNDdaTTQ3IDI0QzQ3IDM2LjcwMjUgMzYuNzAyNSA0NyAyNCA0N1Y0OUMzNy44MDcxIDQ5IDQ5IDM3LjgwNzEgNDkgMjRINDdaTTI0IDFDMzYuNzAyNSAxIDQ3IDExLjI5NzUgNDcgMjRINDlDNDkgMTAuMTkyOSAzNy44MDcxIC0xIDI0IC0xVjFaTTI0IC0xQzEwLjE5MjkgLTEgLTEgMTAuMTkyOSAtMSAyNEgxQzEgMTEuMjk3NSAxMS4yOTc1IDEgMjQgMVYtMVoiIGZpbGw9ImJsYWNrIiBmaWxsLW9wYWNpdHk9IjAuMSIvPgo8L3N2Zz4K",LE="groupListCellMembers--re9DIUfVxm",PE="groupListRowCellItems--CHGTHJXJQ8",zE=({group:e,itemCount:t})=>{const{translate:a}=(0,j.Z)(),{routes:i}=(0,J.Xo)(),o={link:i.userSharingGroupInfo(e.id),type:"link",data:[{key:"name",content:n.createElement(s.Ejs,{alignItems:"center",gap:"18px"},n.createElement("img",{src:OE,width:48,height:48,className:"nameCellGroupImage--bLwtFIfXOq"}),n.createElement(s.nvN,{size:"medium",color:"ds.text.neutral.standard"},n.createElement("strong",null,e.name)))},{key:"itemsShared",content:a("webapp_sharing_center_item_shared",{count:t}),className:PE},{key:"members",content:(e=>{const t=e.users.length;return n.createElement(s.Ejs,{alignItems:"center"},n.createElement(s.Ejs,{flexDirection:"row-reverse"},e.users.slice(0,5).map((e=>n.createElement("div",{key:e.id,className:"memberIconPlacement--eNktqSBtA1"},n.createElement($p.S,{email:e.id,avatarSize:36,placeholderTextType:"firstTwoCharacters"}))))),t>5?n.createElement("p",{className:"additionalMemberText--AeGepx5H5l"},`${a("webapp_sharing_center_members_content",{count:t-5})}\n            `):null)})(e),className:LE}]};return n.createElement(YC,{...o,key:e.id})},jE=({updateGroupSortDirection:e,currentSortDirection:t})=>{const{translate:a}=(0,j.Z)(),i=[{key:"name",sortable:!0,content:a("webapp_sharing_center_group_row_group_title")},{key:"itemsShared",sortable:!1,content:a("webapp_sharing_center_row_items_title"),className:PE},{key:"members",sortable:!1,content:a("webapp_sharing_center_group_row_members_title"),className:LE}],o=n.useCallback((t=>{let a="ascend";t.direction===RC._.descending&&(a="descend"),e(a)}),[e]);return n.createElement("div",{className:"groupHeader--M7mvKaTaMt"},n.createElement(uw,{header:i,onSort:o,options:(()=>{let e=RC._.ascending;return"descend"===t&&(e=RC._.descending),{field:"name",direction:e}})()}))},RE=({userGroups:e,updateGroupSortDirection:t,currentSortDirection:a,isGroupsWithItemCountLoading:i})=>{const{translate:o}=(0,j.Z)(),[s,r]=n.useState(e.length>5),[l,c]=n.useState(5),[d,u]=n.useState([]),p=n.useRef(!1);n.useEffect((()=>{i||(u(e),p.current?p.current=!1:(r(e.length>5),c(5)))}),[e,i]);const m=n.useCallback((()=>{l+10<e.length?(r(!0),c((e=>e+10))):(r(!1),c(e.length))}),[e,l]),_=n.useCallback((e=>{p.current=!0,t(e)}),[t]);return n.createElement(n.Fragment,null,n.createElement(jE,{updateGroupSortDirection:_,currentSortDirection:a}),n.createElement("ul",{className:"groupList--Kcgos3LtjH"},d.slice(0,l).map((e=>n.createElement(zE,{key:e.id,group:e,itemCount:e.itemCount})))),s?n.createElement("div",{className:"showMoreButton--_1B1D4GXhw"},n.createElement(we.zx,{intensity:"quiet",mood:"neutral",size:"medium",onClick:m},o("webapp_sharing_center_group_pagination"))):null)},UE=({updateUserSortDirection:e,currentSortDirection:t})=>{const{translate:a}=(0,j.Z)(),i=[{key:"userId",sortable:!0,content:a("webapp_sharing_center_member_row_member_title")},{key:"itemsShared",sortable:!1,content:a("webapp_sharing_center_row_items_title"),className:"itemsShared--QSWkYv0Bky"}];return n.createElement("div",{className:"contentHeader--bNbkU0TIO8"},n.createElement(uw,{header:i,onSort:t=>{let a="ascend";t.direction===RC._.descending&&(a="descend"),e(a)},options:(()=>{let e=RC._.ascending;return"descend"===t&&(e=RC._.descending),{field:"userId",direction:e}})()}))},BE=({userLogin:e,itemCount:t})=>{var a;const{translate:i}=(0,j.Z)(),{routes:o}=(0,J.Xo)(),r={link:o.userSharingUserInfo(e),type:"link",data:[{key:"name",content:a||(a=n.createElement(s.Ejs,{alignItems:"center",gap:"18px"},n.createElement($p.S,{email:e,avatarSize:48,placeholderFontSize:24,placeholderTextType:"firstTwoCharacters"}),n.createElement(s.nvN,{size:"medium",color:"ds.text.neutral.standard"},n.createElement("strong",null,e))))},{key:"itemsShared",content:i("webapp_sharing_center_item_shared",{count:t}),className:"userRowCellItems--Q8jZaDtKHp"}]};return n.createElement(YC,{...r,key:e})},FE=({sharingUsersWithItemCount:e,isSharingUsersWithItemCountLoading:t,updateUserSortDirection:a,currentSortDirection:i,scrollContainer:o,spaceId:s})=>{const[r,l]=n.useState(30),[c,d]=n.useState(!0),[u,p]=n.useState([]);return n.useEffect((()=>{t||p(e)}),[e,t]),n.useEffect((()=>{l(30),d(!0)}),[s]),n.createElement(n.Fragment,null,n.createElement(UE,{updateUserSortDirection:a,currentSortDirection:i}),n.createElement(ut.v,{customContainer:o,loadNext:()=>{let t=r+30;t+30>e.length?(t=e.length,d(!1)):d(!0),l(t)},loadPrevious:()=>{},hasNext:c,hasPrevious:!1,isLoading:t},u.slice(0,r).map((({id:e,itemCount:t})=>n.createElement(BE,{key:e,userLogin:e,itemCount:t})))))};var WE;const GE=()=>n.createElement(Mw,{sharing:{permission:"limited",selectedCredentials:[],selectedGroups:[],selectedNotes:[],selectedUsers:[],step:Ve.Elements,tab:Ye.Passwords}}),VE=n.createElement(n.Fragment,null,n.createElement(fm,null),n.createElement(D_,null)),YE=()=>WE||(WE=n.createElement(Kp,{startWidgets:GE,endWidget:VE}));var HE;const qE=()=>{const{translate:e}=(0,j.Z)();return(0,z.tZ)(Hg,{icon:HE||(HE=(0,z.tZ)(s.kpp,{size:72,color:"ds.text.neutral.quiet"})),title:e("webapp_sharing_center_empty_title")},(0,z.tZ)("p",{className:"description--RkLCUBHbVC"},e("webapp_sharing_center_empty_description")),(0,z.tZ)(Mw,{hideIcon:!0,tooltipPlacement:"bottom",text:e("webapp_sharing_center_empty_cta"),sharing:{permission:"limited",selectedCredentials:[],selectedGroups:[],selectedNotes:[],selectedUsers:[],step:Ve.Elements,tab:Ye.Passwords}}))};var QE,XE,KE;const JE=(e,t)=>{localStorage.setItem(e,t)},$E=e=>{const t=localStorage.getItem(e);return"ascend"===(a=t)||"descend"===a?t:"ascend";var a},eI=({children:e})=>{const{currentSpaceId:t}=(0,ct.fV)(),a=n.useRef(null),{translate:i}=(0,j.Z)(),o=(0,at.a)(),r=o.status===Ft.rq.Success,l=o.data,{unseen:c,setAsSeen:d}=(0,Yo.m)(p.NotificationName.SharingCenterDisabledBanner),[u,m]=n.useState(!1),[_,h]=n.useState(!1),[b,C]=n.useState($E(UC.x5)),w=function(e,t){const a={dataQuery:{sortToken:{sortCriteria:[{field:"name",direction:e}],uniqField:"id"},filterToken:{filterCriteria:[]}},spaceId:t},n=btoa(JSON.stringify(a));return(0,Ft.qr)({queryConfig:{query:g.C.getUserGroups,queryParam:a},liveConfig:{live:g.C.liveUserGroups,liveParam:n}},[e,t])}(b,t),y=n.useCallback((e=>{JE(UC.x5,e),C(e)}),[]),[E,I]=n.useState($E(UC.J2)),N=ha(E,t),f=n.useCallback((e=>{JE(UC.J2,e),I(e)}),[]);return n.useEffect((()=>{w.status===Ft.rq.Success&&m(0!==w.data.items.length)}),[w]),n.useEffect((()=>{N.status===Ft.rq.Success&&h(0!==N.data.items.length)}),[N]),N.status!==Ft.rq.Loading&&w.status!==Ft.rq.Loading||u||_?(0,z.tZ)("div",{sx:{overflowY:"auto",height:"100%"}},(0,z.tZ)("div",null,e,XE||(XE=(0,z.tZ)(YE,null)),_||u?(0,z.tZ)("div",{ref:a},(0,z.tZ)("div",{sx:{backgroundColor:"ds.background.default",display:"grid",gridTemplateColumns:"auto"}},!l&&c&&r?(0,z.tZ)(s.vDh,{severity:"warning",size:"descriptive",layout:"inline",title:(0,z.tZ)("strong",null,i("team_sharing_disabled_banner_title")),actions:[(0,z.tZ)(s.zxk,{type:"button",nature:"secondary",key:"dismiss",onClick:d},i("team_sharing_disabled_banner_dismiss_cta"))],sx:{margin:"0 32px"}},i("team_sharing_disabled_banner_description")):null,u?(0,z.tZ)(RE,{userGroups:w.status===Ft.rq.Success?w.data.items:[],isGroupsWithItemCountLoading:w.status===Ft.rq.Loading,updateGroupSortDirection:y,currentSortDirection:b}):null,_?(0,z.tZ)(FE,{sharingUsersWithItemCount:N.status===Ft.rq.Success?N.data.items:[],isSharingUsersWithItemCountLoading:N.status===Ft.rq.Loading,updateUserSortDirection:f,currentSortDirection:E,scrollContainer:a,spaceId:t}):null)):KE||(KE=(0,z.tZ)(qE,null)))):QE||(QE=(0,z.tZ)(Hg,{icon:(0,z.tZ)($e.Z,{size:50}),title:""}))},tI=e=>{const{data:t}=(0,Gi.k$)(zc.passwordHealthApi,"compromisedCredentials",{credentialIds:e});return null!=t?t:[]};var aI=a(469198);let nI,iI;function oI(e){switch(e){case iI.All:return[{field:"riskLevel",direction:"descend"},{field:"compromisedDate",direction:"descend"},{field:"numberReused",direction:"descend"},{field:"strength",direction:"ascend"}];case iI.Compromised:return[{field:"compromisedDate",direction:"descend"}];case iI.Excluded:return[];case iI.Weak:return[{field:"strength",direction:"ascend"}];case iI.Reused:return[{field:"numberReused",direction:"descend"}];default:(0,Ke.U)(e)}}!function(e){e.Warning="warning",e.Compromised="compromised",e.None="none"}(nI||(nI={})),function(e){e.All="all",e.Compromised="compromised",e.Weak="weak",e.Reused="reused",e.Excluded="excluded"}(iI||(iI={}));let sI;!function(e){e[e.Compromised=0]="Compromised",e[e.Reused=1]="Reused",e[e.Weak=2]="Weak",e[e.None=3]="None",e[e.NotComputed=4]="NotComputed"}(sI||(sI={}));const rI=(e,t)=>({label:sI.Compromised,level:nI.Compromised,details:{domain:e,date:t}}),lI=e=>({label:sI.Reused,level:nI.Warning,count:e}),cI=e=>({label:sI.Weak,level:nI.Warning,strength:e}),dI=()=>({label:sI.None,level:nI.None}),uI=(e,t=iI.All)=>{if(!(0,aI.isEligible)(e))return dI();if(!((0,aI.isComputed)(e.value.isWeak)||(0,aI.isComputed)(e.value.similarCredentialsCount)||(0,aI.isComputed)(e.value.compromised)))return{label:sI.NotComputed,level:nI.None};const a=(0,aI.unwrapComputedValueOr)(e.value.compromised,{isCompromised:!1}),n=(0,aI.isComputedWithValue)(e.value.isWeak,!0),i=(0,aI.unwrapComputedValueOr)(e.value.strength,0),o=(0,aI.unwrapComputedValueOr)(e.value.similarCredentialsCount,0);switch(t){case iI.All:return a.isCompromised?rI(a.details.title,a.details.date):n?cI(i):o>0?lI(o):dI();case iI.Compromised:return a.isCompromised?rI(a.details.title,a.details.date):dI();case iI.Weak:return n?cI(i):dI();case iI.Reused:return o>0?lI(o):dI();default:return dI()}},pI="webapp_credentials_row_compromised_tooltip",mI=({health:e,compromised:t})=>{const{translate:a}=(0,j.Z)(),n=(0,it.w)("ims_web_ph_mv3_dev"),i=uI(e);return(n?t:i.level===nI.Compromised)?(0,z.tZ)("div",{className:"iconWrapper--MSiIM9nDUc"},(0,z.tZ)(s.ua7,{content:a(pI),placement:"bottom"},(0,z.tZ)(s.SI8,{size:24,color:s.O9T.red00,"aria-label":a(pI)}))):null},_I="categoryCell--j8xMGWmPPb",gI="lastUseCell--Umg2q48FvZ",hI=({credential:e,isCompromised:t,showTitleIcons:a,tag:i})=>{const{title:o,login:s,email:r,autoProtected:l=!1,domainIcon:c,sharingSatus:{isShared:d}}=e;return n.createElement("div",{className:"primaryInfo--_NCHrSWPmM"},n.createElement(Re.Q,{title:o,showTitleIcons:a,login:s,email:r,shared:d,autoProtected:l,domainIcon:c,tag:i,className:"credentialInfo--b6QOhdRfXC"}),n.createElement("div",{className:"compromisedWrapper--T1uD07vOYt"},n.createElement(mI,{health:e.health,compromised:t})))},bI=({isOpen:e,onDismiss:t,itemGroup:a,originPermission:i,recipient:o,isLoading:s})=>{const[r,l]=n.useState(i),[c,d]=n.useState(hy.Permission),[u,p]=n.useState(!1);n.useEffect((()=>{l(i)}),[i]);const m=async()=>{if(p(!0),"revoke"===r?await(async e=>{if(!a)return!1;try{const{success:t}=await g.C.revokeSharing({itemGroupId:a.groupId,recipient:e});return t}catch(e){return!1}})(o):await(async(e,t)=>{if(!a)return!1;try{const{success:n}=await g.C.updateSharingPermission({itemGroupId:a.groupId,recipient:e,permission:t});return n}catch(e){return!1}})(o,r)){const e="revoke"===r?hy.RevokeSuccess:hy.Success;d(e)}else d(hy.Failure);p(!1)};return n.createElement(fy,{isOpen:e,loading:u||s,onCancelRevoke:()=>{d(hy.Permission)},onConfirmRevoke:m,onDismiss:()=>{d(hy.Permission),t()},onSelectPermission:e=>{l(e)},onValidatePermission:()=>{"revoke"===r?d(hy.ConfirmRevoke):m()},originPermission:i,permission:r,recipient:o,step:c})},CI=({level:e,tooltipText:t="top",tooltipPlacement:a="right"})=>{const{translate:n}=(0,j.Z)();let i,o;return"admin"===e?(i=n("webapp_sharing_center_panel_items_full_access"),o="brand"):(i=n("webapp_sharing_center_panel_items_limited_access"),o="danger"),(0,we.tZ)(s.ua7,{placement:a,content:t,sx:{maxWidth:"200px"}},(0,we.tZ)("div",{className:"badgeContainer--yFQQT_dzao"},(0,we.tZ)(we.Ct,{mood:o,label:i})))},wI=({isDisabled:e,onClick:t,tooltipTitle:a="",tooltipPlacement:n="top"})=>{const{translate:i}=(0,j.Z)(),o=(0,z.tZ)(we.zx,{intensity:"supershy",mood:"brand",size:"medium",disabled:e,onClick:t},i("webapp_sharing_center_panel_items_edit_access"));return(0,z.tZ)(s.ua7,{passThrough:!a,placement:n,content:a,sx:{maxWidth:"170px"}},o)},yI={listContainer:"listContainer--Ce9nEZHcSS",emptyView:"emptyView--dh_itz698Y",headerLineContainer:"headerLineContainer--SFUqucl0T8",headerLine:"headerLine--oyrnuDNrbV",nameCell:"nameCell--bSMvrtpDGn",editPermissionContainer:"editPermissionContainer--nLtL29LH8S"},EI="webapp_sharing_center_panel_items_limited_access_info_user_item",II=({rowIndex:e,item:t,entity:a,isEditPermissionDisabled:o,isCredentialCompromised:r=!1})=>{var l,c;const{translate:d}=(0,j.Z)(),u=my(t.id),p=function(e,t){let a,n;return zw(t)?(n={itemId:e,groupId:t.groupId},a={queryConfig:{query:g.C.getUserGroupPermissionLevel,queryParam:n},liveConfig:{live:g.C.liveUserGroupPermissionLevel,liveParam:btoa(JSON.stringify(n))}}):(n={itemId:e,userId:t.alias},a={queryConfig:{query:g.C.getSharingUserPermissionLevel,queryParam:n},liveConfig:{live:g.C.liveSharingUserPermissionLevel,liveParam:btoa(JSON.stringify(n))}}),(0,Ft.qr)(a,[])}(t.id,a),[m,_]=n.useState(!1),{areProtectedItemsUnlocked:h,openProtectedItemsUnlocker:b}=(0,jn.t)(),C=Pw(t)&&t.secured&&!h,w=()=>{if(p.status!==Ft.rq.Success)return null;const i=p.data;if(void 0===i)return null;const o={isCredential:!0,isUserGroup:!0,isAdmin:!1},s={isCredential:!0,isUserGroup:!0,isAdmin:!0},r={isCredential:!0,isUserGroup:!1,isAdmin:!1},l={isCredential:!0,isUserGroup:!1,isAdmin:!0},c={isCredential:!1,isUserGroup:!0,isAdmin:!1},u={isCredential:!1,isUserGroup:!0,isAdmin:!0},m={isCredential:!0,isUserGroup:!0,isAdmin:!1},_={isCredential:!1,isUserGroup:!1,isAdmin:!0},g={isCredential:Lw(t),isUserGroup:zw(a),isAdmin:"admin"===i};let h=d(EI);switch(!0){case(0,Ge.equals)(s,g):h=d("webapp_sharing_center_panel_items_full_access_info_group_password");break;case(0,Ge.equals)(o,g):h=d("webapp_sharing_center_panel_items_limited_access_info_group_password");break;case(0,Ge.equals)(l,g):h=d("webapp_sharing_center_panel_items_full_access_info_user_password");break;case(0,Ge.equals)(r,g):h=d("webapp_sharing_center_panel_items_limited_access_info_user_password");break;case(0,Ge.equals)(u,g):h=d("webapp_sharing_center_panel_items_full_access_info_group_item");break;case(0,Ge.equals)(c,g):h=d("webapp_sharing_center_panel_items_limited_access_info_group_item");break;case(0,Ge.equals)(_,g):h=d("webapp_sharing_center_panel_items_full_access_info_user_item");break;case(0,Ge.equals)(m,g):h=d(EI)}return n.createElement(CI,{level:i,tooltipText:h,tooltipPlacement:0===e?"bottom":"right"})},{routes:y}=(0,J.Xo)(),E=(0,i.k6)();return n.createElement(YC,{onClick:()=>{const e=Lw(t),n=e?y.userCredential(t.id):y.userSecureNote(t.id);e?(0,ae.kb)(t.id):(0,ae.X0)(t.id),C?b({action:Ne.P7.Show,itemType:Ne.Ru.SecureNote,successCallback:()=>{E.push({pathname:n,state:{entity:a}})}}):E.push({pathname:n,state:{entity:a}})},data:[{key:"name",className:yI.nameCell,content:n.createElement(s.Ejs,{flexDirection:"row",justifyContent:"space-between"},n.createElement("div",{className:yI.titleContainer},Lw(t)?l||(l=n.createElement(hI,{credential:t,showTitleIcons:!1,tag:n.createElement(w,null),isCompromised:r})):null,Pw(t)?c||(c=n.createElement(ew,{note:t,showTitleIcons:!1,tag:n.createElement(w,null)})):null))}],actions:n.createElement("div",{className:yI.editPermissionContainer},n.createElement(wI,{onClick:()=>{_(!0)},isDisabled:o,tooltipTitle:o?Lw(t)?d("webapp_sharing_center_panel_items_limited_access_info_you_password"):d("webapp_sharing_center_panel_items_limited_access_info_you_item"):"",tooltipPlacement:0===e?"bottom":"top"}),n.createElement(bI,{isOpen:m,onDismiss:()=>_(!1),isLoading:u.status===Ft.rq.Loading||p.status===Ft.rq.Loading,itemGroup:u.status===Ft.rq.Success?u.data:void 0,originPermission:p.status===Ft.rq.Success?p.data:"limited",recipient:a})),key:t.id})},NI=e=>{const t=1===tI([e.item.id]).length;return n.createElement(II,{...e,isCredentialCompromised:t})},fI=e=>(0,it.w)("ims_web_ph_mv3_dev")&&Lw(e.item)?n.createElement(NI,{...e}):n.createElement(II,{...e});var vI;const SI=()=>{const{translate:e}=(0,j.Z)();return n.createElement(Hg,{icon:vI||(vI=n.createElement(s.LIc,{size:92,color:"ds.text.neutral.quiet"})),title:e("webapp_sharing_center_panel_empty_search_title")},n.createElement(s.nvN,null,e("webapp_sharing_center_panel_empty_search_description")))};var DI;const xI=e=>{if(Lw(e)){if(e.sharingSatus.isShared&&"admin"!==e.sharingSatus.permission)return!0}else if(e.sharingStatus.isShared&&"admin"!==e.sharingStatus.permission)return!0;return!1},MI=({credentials:e,notes:t,entity:a})=>{const i=(e=>e.sort(((e,t)=>{const a=e=>e.title;return a(e).localeCompare(a(t))})))([...e,...t]);return n.createElement("div",{className:w()(yI.listContainer,{[yI.emptyView]:0===i.length})},0===i.length?DI||(DI=n.createElement(SI,null)):n.createElement(n.Fragment,null,n.createElement("hr",{className:yI.headerLine}),i.map(((e,t)=>n.createElement(fI,{key:e.id,rowIndex:t,item:e,entity:a,isEditPermissionDisabled:xI(e)})))))},TI=({member:e})=>n.createElement(YC,{data:[{key:"name",className:"nameCell--ael8Ms1qIt",content:n.createElement(s.Ejs,{alignItems:"center"},n.createElement($p.S,{email:e.id,avatarSize:36,placeholderFontSize:18,placeholderTextType:"firstTwoCharacters"}),n.createElement("h2",{className:"nameTitle--eHwnKrh06d"},e.id))}],key:e.id}),AI=({permissionLevel:e})=>{const{translate:t}=(0,j.Z)(),a=[{key:"name",sortable:!0,content:t("admin"===e?"webapp_sharing_center_panel_members_admins":"webapp_sharing_center_panel_members_others")}];return n.createElement(uw,{header:a})};var kI,ZI,OI;const LI=({members:e})=>{const{admins:t,others:a}=e.reduce(((e,t)=>("admin"===t.permission?e.admins.push(t):e.others.push(t),e)),{admins:[],others:[]});return n.createElement("div",{className:w()("listContainer--cl74B2lgbW",{"emptyView--zOxF4QtboD":0===e.length})},0===e.length?kI||(kI=n.createElement(SI,null)):n.createElement(n.Fragment,null,t.length?n.createElement(n.Fragment,null,ZI||(ZI=n.createElement(AI,{permissionLevel:"admin"})),t.map((e=>n.createElement(TI,{key:e.id,member:e})))):null,a.length?n.createElement(n.Fragment,null,OI||(OI=n.createElement(AI,{permissionLevel:"limited"})),a.map((e=>n.createElement(TI,{key:e.id,member:e})))):null))},PI=({selectedGroups:e=[],selectedUsers:t=[],onClose:a})=>{const{translate:n}=(0,j.Z)();return(0,we.tZ)("div",{className:"bottomBarContainer--Yi0w7sxreR"},(0,we.tZ)(Mw,{sharing:{permission:"limited",selectedCredentials:[],selectedGroups:e,selectedNotes:[],selectedUsers:t,step:Ve.Elements,tab:Ye.Passwords},tooltipPlacement:"top-start",text:n("webapp_sharing_center_share_item_panel")}),(0,we.tZ)(we.zx,{intensity:"quiet",mood:"neutral",size:"medium",onClick:a},n("webapp_sharing_center_share_item_panel_close")))},zI=({input:e,children:t})=>(0,we.tZ)(s.Ejs,{flexDirection:"column",flexWrap:"nowrap",sx:{padding:"30px 0",overflow:"auto",flexGrow:1}},(0,we.tZ)("div",{sx:{marginLeft:"32px"}}," ",e),t);var jI;let RI;!function(e){e[e.ITEMS=0]="ITEMS",e[e.MEMBERS=1]="MEMBERS"}(RI||(RI={}));const UI=({onClose:e,match:t})=>{const{currentSpaceId:a}=(0,ct.fV)(),i=(o=t.params?.uuid,`{${null!=o?o:""}}`);var o;const[r,l]=(0,n.useState)(""),[c,d]=(0,n.useState)(""),[u,p]=(0,n.useState)(RI.ITEMS),[m,_]=(0,n.useState)(!1),{translate:h}=(0,j.Z)(),b=function(e){return(0,Ft.qr)({queryConfig:{query:g.C.getUserGroup,queryParam:e}},[])}(i),C=(0,ni.e)(g.C.getNotes,g.C.liveNotes,{spaceId:a,filterQuery:""===r?null:r,additionalFilters:[{field:"groupIds",type:"contains",value:i}]}),w=(0,ni.e)(g.C.getCredentials,g.C.liveCredentials,{spaceId:a,filterQuery:""===r?null:r,additionalFilters:[{field:"groupIds",type:"contains",value:i}]}),E=function(e,t,a="ascend"){const n=[];""!==t&&n.push({type:"matches",value:t});const i={groupId:e,dataQuery:{sortToken:{sortCriteria:[{field:"id",direction:a}],uniqField:"id"},filterToken:{filterCriteria:n}}};return(0,Ft.qr)({queryConfig:{query:g.C.getUserGroupMembers,queryParam:i}},[a,t])}(i,c);(0,n.useEffect)((()=>{b.status===Ft.rq.Loading||C.status===Ft.rq.Loading||w.status===Ft.rq.Loading||E.status===Ft.rq.Loading?_(!0):_(!1)}),[b,C,w,E]);const I=[{active:u===RI.ITEMS,label:h("webapp_sharing_center_panel_items_shared"),onClick:()=>{p(RI.ITEMS)}},{active:u===RI.MEMBERS,label:h("webapp_sharing_center_panel_members"),onClick:()=>{p(RI.MEMBERS)}}],N=u===RI.ITEMS?h("webapp_sharing_center_panel_items_search"):h("webapp_sharing_center_panel_members_search");return(0,we.tZ)(ns,{onNavigateOut:e,ignoreClickOutsideClassName:y.Ht},(0,we.tZ)(Is,{icon:(0,we.tZ)("img",{src:OE,width:98,height:98,className:"groupImgIcon--wwwXS0nFWg"}),title:b.status===Ft.rq.Success&&b.data?b.data.name:"",tabs:I}),(0,we.tZ)(zI,{input:(0,we.tZ)(we.oi,{"aria-label":N,placeholder:N,prefixIcon:jI||(jI=(0,we.tZ)(s.W1M,null)),width:300,onChange:e=>{u===RI.ITEMS?l(e.currentTarget.value):d(e.currentTarget.value)}})},m?(0,we.tZ)($e.Z,{size:30,containerStyle:{height:"100%"}}):u===RI.ITEMS?(0,we.tZ)(MI,{credentials:w.status===Ft.rq.Success?w.data.items:[],notes:C.status===Ft.rq.Success?C.data.items:[],entity:{type:"userGroup",name:b.status===Ft.rq.Success?b.data?.name:"",groupId:i}}):(0,we.tZ)(LI,{members:E.status===Ft.rq.Success?E.data.items:[]}),(0,we.tZ)(PI,{onClose:e,selectedGroups:[i]})))};var BI;const FI="webapp_sharing_center_panel_items_search",WI=({onClose:e,match:t})=>{var a;const{currentSpaceId:i}=(0,ct.fV)(),o=null!=(a=t.params?.id)?a:"",[r,l]=(0,n.useState)(!1),[c,d]=(0,n.useState)(""),{translate:u}=(0,j.Z)(),p=(0,ni.e)(g.C.getNotes,g.C.liveNotes,{spaceId:i,filterQuery:""===c?null:c,additionalFilters:[{field:"sharingUserIds",type:"contains",value:o}]}),m=(0,ni.e)(g.C.getCredentials,g.C.liveCredentials,{spaceId:i,filterQuery:""===c?null:c,additionalFilters:[{field:"sharingUserIds",type:"contains",value:o}]});return(0,n.useEffect)((()=>{p.status===Ft.rq.Loading||m.status===Ft.rq.Loading?l(!0):l(!1)}),[p,m]),(0,n.useEffect)((()=>{p.status===Ft.rq.Success&&m.status===Ft.rq.Success&&0===p.data.items.length&&0===m.data.items.length&&""===c&&e()}),[p,m,e]),(0,we.tZ)(ns,{onNavigateOut:e,ignoreClickOutsideClassName:y.Ht},(0,we.tZ)(Is,{icon:(0,we.tZ)($p.S,{email:o,avatarSize:98,placeholderFontSize:40,placeholderTextType:"firstTwoCharacters",avatarStyleOptions:{border:"1px solid rgba(0, 0, 0, 0.1)"}}),title:o}),(0,we.tZ)(zI,{input:(0,we.tZ)(we.oi,{"aria-label":u(FI),placeholder:u(FI),onChange:e=>d(e.target.value),prefixIcon:BI||(BI=(0,we.tZ)(s.W1M,null))})},r?(0,we.tZ)($e.Z,{size:30,containerStyle:{height:"100%"}}):(0,we.tZ)(MI,{credentials:m.status===Ft.rq.Success?m.data.items:[],notes:p.status===Ft.rq.Success?p.data.items:[],entity:{type:"user",alias:o}}),(0,we.tZ)(PI,{onClose:e,selectedUsers:[o]})))},GI=({path:e})=>{const t=()=>{(0,i.uX)(e)};return n.createElement(i.GB,{exact:!0,path:[e,`${e}/group/:uuid`,`${e}/user/:id`],component:eI},n.createElement(i.ZB,{path:`${e}/group/:uuid([-a-zA-Z\\d]{36})`,component:UI,additionalProps:{onClose:t}}),n.createElement(i.ZB,{path:`${e}/user/:id`,component:WI,additionalProps:{onClose:t}}))};var VI=a(494770);const YI={panel:"panel--N1ouXgaC8W",panelContent:"panelContent--jS21l5dIX6",container:"container--yiXjg9JYcE",panelText:"panelText--xkj8_k3Y_c",goPremiumCta:"goPremiumCta--3TYkklwo6a"};var HI,qI;const QI=e=>n.createElement(VI.Z,{classNames:[YI.goPremiumCta],onClick:()=>{(0,je.Yk)(e.target,{type:"upsellScreen",action:"goPremium"})},label:e.label}),XI=({target:e})=>{const{translate:t}=(0,j.Z)();return n.createElement("div",{className:YI.panelText},n.createElement("h1",null,t("webapp_upsell_header")),n.createElement("p",null,t("webapp_upsell_instructions_introduction")),n.createElement("ul",null,n.createElement("li",null,t.markup("webapp_upsell_instructions_bulletpoint_synchronisation_markup")),n.createElement("li",null,t.markup("webapp_upsell_instructions_bulletpoint_backup_markup")),n.createElement("li",null,t.markup("webapp_upsell_instructions_bulletpoint_sharing_markup")),n.createElement("li",null,t.markup("webapp_upsell_instructions_bulletpoint_support_markup"))),n.createElement(QI,{label:t("webapp_upsell_cta"),target:e}))},KI=()=>n.createElement("div",{className:YI.panelIllustration},HI||(HI=n.createElement("img",{src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTgwIiBoZWlnaHQ9IjE4MCIgdmlld0JveD0iMCAwIDE4MCAxODAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxwYXRoIGQ9Ik0zMy40NDkxIDk4LjIxMjNINDYuNDAzNVY5MS4yNDQzSDMzLjQ0OTFWOTguMjEyM1oiIGZpbGw9IiNFMEREREEiLz4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik00My40MTQgODAuMjk0NVY0Mi40NjhIMTU0LjAyNVYxMDYuMTc2TDE2MSA5OS4yMDc4VjM1LjVIMzYuNDUwMlYzNy4yNzQ4QzM2LjQ0MjUgMzcuMzQ1OCAzNi40Mzg2IDM3LjQxNzkgMzYuNDM4NiAzNy40OTA5VjgwLjI5NDVIMjQuNDgwN0MyMS40NTM4IDgwLjI5NDUgMTkgODIuNzQ1NyAxOSA4NS43Njk0VjEzOC41MjdDMTkgMTQxLjU1MSAyMS40NTM4IDE0NC4wMDIgMjQuNDgwNyAxNDQuMDAySDU1LjM3MTlDNTguMzk4OCAxNDQuMDAyIDYwLjg1MjYgMTQxLjU1MSA2MC44NTI2IDEzOC41MjdWMTIwLjExMkg4Mi41NDcxTDc3LjM4NDQgMTM3LjUzMkg2Ni4zMzMzVjE0NC41SDEzNy4wODRWMTM3LjUzMkgxMjcuOTg3TDEyMi4zNTUgMTIwLjExMkgxNTkuMDA3QzE1OS4wODEgMTIwLjExMiAxNTkuMTU0IDEyMC4xMDggMTU5LjIyNiAxMjAuMUgxNjFWMTEzLjE0NEw2MC44NTI2IDExMy4xNDRWODUuNzY5NEM2MC44NTI2IDgyLjc0NTcgNTguMzk4OCA4MC4yOTQ1IDU1LjM3MTkgODAuMjk0NUg0My40MTRaTTg0LjY1OTEgMTM3LjUzMkw4OS44MjE4IDEyMC4xMTJIMTE1LjAyNUwxMjAuNjU3IDEzNy41MzJIODQuNjU5MVpNMjUuOTc1NCAxMzcuMDM0Vjg3LjI2MjZINTMuODc3MlYxMzcuMDM0SDI1Ljk3NTRaIiBmaWxsPSIjRTBERERBIi8+Cjwvc3ZnPgo=",alt:""}))),JI=e=>{const{routes:t}=(0,J.Xo)(),a=t.userGoPremium(e.lee.carbon.accountInfo.subscriptionCode);return n.createElement("div",{className:YI.panel},n.createElement("div",{className:YI.panelContent},n.createElement("div",{className:YI.container},n.createElement(XI,{target:a}),qI||(qI=n.createElement(KI,null)))))};function $I({path:e}){return n.createElement(i.Vy,{path:e,component:JI})}var eN=a(15192);const tN=()=>{(0,O.K)(new N.UserOpenHelpCenterEvent({helpCenterArticleCta:N.HelpCenterArticleCta.GetAntiphishingTips}))},aN=e=>{(0,O.K)(new N.UserAntiphishingRedirectEvent({})),Promise.all([(0,N.hashDomain)((0,tn.extractRootDomain)(e)),(0,N.hashDomain)("dashlane.com")]).then((e=>{(0,O.K)(new N.AnonymousAntiphishingRedirectEvent({phishingDomain:{type:N.DomainType.Web,id:e[0]},redirectDomain:{type:N.DomainType.Web,id:e[1]}}))}))},nN=/^[_a-zA-Z0-9-\.]*$/im,iN=`${Ml.tb}/dont-take-the-bait-password-managers-can-help-shield-you-from-phishing-attacks/`,oN="app.dashlane.com",sN=({location:e})=>{const{routes:{clientRoutesBasePath:t}}=(0,J.Xo)(),{translate:a}=(0,j.Z)(),[o,r]=(0,n.useState)(!1),[l,c]=(0,n.useState)(!1),d=(0,we.tZ)(eN.l_,{to:t}),u=(0,n.useMemo)((()=>{if(!e.search)return null;const t=(0,i.zN)(e.search).get("token");return t?(e=>{try{return e?decodeURIComponent(atob(e)):null}catch(e){return null}})(t):null}),[e.search]),{isAutoRedirected:p,addToAutoRedirectedDomain:m}=(e=>{const{addAutoRedirectedDomain:t}=(0,Gi.u7)(zc.antiphishingApi);return{isAutoRedirected:(0,Gi.k$)(zc.antiphishingApi,"isAutoRedirectedDomain",{domain:e}),addToAutoRedirectedDomain:async()=>{await t({domain:e})}}})(u),_=(0,n.useMemo)((()=>!nN.test(null!=u?u:"")),[u]);return(0,n.useEffect)((()=>(0,O.N)(N.Page.AntiphishingRedirect,N.BrowseComponent.MainApp)),[]),p.status!==Gi.rq.Success?null:!u||p.data?(u&&aN(u),d):o?d:(0,we.tZ)("div",{sx:{padding:"80px 32px 16px 32px"}},(0,we.tZ)("div",{sx:{width:"100%",height:"100%",maxWidth:"560px",margin:"0 auto"}},(0,we.tZ)(s.D1W,{size:s.r1z.Size48,color:s.vei.DashGreen}),(0,we.tZ)(s.X6q,{size:"medium",sx:{marginTop:"56px",marginBottom:"16px"}},a("anti_phishing_title")),(0,we.tZ)(s.nvN,{size:"large",sx:{marginBottom:"40px"}},a.markup("anti_phishing_description_markup",{targetedDomain:oN})),(0,we.tZ)(s.Ejs,{flexDirection:"row",flexWrap:"nowrap",gap:24,sx:{marginBottom:"24px"}},(0,we.tZ)(we.oi,{value:u,label:a("anti_phishing_phishing_domain"),sx:{"> div":{borderColor:"ds.border.danger.standard.idle"},"> label":{color:"ds.text.danger.quiet"},input:{fontWeight:600}}}),(0,we.tZ)(we.oi,{value:oN,label:a("anti_phishing_targeted_domain"),sx:{"> div":{borderColor:"ds.border.positive.standard.idle"},"> label":{color:"ds.text.positive.quiet"},input:{fontWeight:600}}})),_?(0,we.tZ)(we.ke,{size:"small",title:a("anti_phishing_punycode_info")}):null,(0,we.tZ)(s.rUS,{sx:{color:"ds.text.brand.standard",margin:"40px 0",display:"block"},target:"_blank",onClick:tN,href:iN},a("anti_phishing_blog_link"),(0,we.tZ)(s.RTC,{color:"ds.text.brand.standard",size:16,sx:{marginLeft:"4px",verticalAlign:"bottom",display:"inline"}})),(0,we.tZ)(we.XZ,{sx:{marginBottom:"40px"},checked:l,onClick:()=>{c(!l)},label:a("anti_phishing_redirect_checkbox")}),(0,we.tZ)(s.Ejs,{flexDirection:"row-reverse"},(0,we.tZ)(we.zx,{type:"button",mood:"brand",onClick:async()=>{l&&await m(),aN(u),r(!0)}},a("anti_phishing_go_to_dashlane_link")))))},rN=({path:e})=>{const{routes:{clientRoutesBasePath:t}}=(0,i.Xo)();return(0,we.tZ)(Oc.h,{featureFlips:["ims_web_phishing_protect_prod"],legacy:(0,we.tZ)(i.l_,{to:t})},(0,we.tZ)(i.Vy,{path:e,component:sN}))},lN={panelsContainer:"panelsContainer--QuPEzUMzze",marketingPanel:"marketingPanel--FBBxAYPlIg",marketingInner:"marketingInner--buejDttvJa",heading:"heading--Y5zdWF6c4E",description:"description--JTzyzaTvhO",listItem:"listItem--PQ7Lq15Dod",listItemDescription:"listItemDescription--dnQy55ktYc",illustrationPanel:"illustrationPanel--wIg8QCqsIj",illustration:"illustration--wiqIBl8yXG",illustrationDescription:"illustrationDescription--inT5apE0cx",buttonWrapper:"buttonWrapper--ic0ev57iYP"},cN=parseInt(ds()["--icon-size-default"],10),dN=()=>{const{translate:e}=(0,j.Z)(),{routes:t}=(0,J.Xo)();return n.createElement("div",{className:lN.panelsContainer},n.createElement("div",{className:lN.marketingPanel},n.createElement("div",{className:lN.lockupWrapper},n.createElement(s.D1W,{color:s.vei.DashGreen,size:s.r1z.Size39,title:e("_common_dashlane_logo_title")})),n.createElement("div",{className:lN.marketingInner},n.createElement("h1",{className:lN.heading},e("chrome_welcome_marketing_panel_heading")),n.createElement("p",{className:lN.description},e("chrome_welcome_marketing_panel_description")),n.createElement("ul",{className:lN.list},n.createElement("li",{className:lN.listItem},n.createElement(s.Gn,{size:cN,color:s.O9T.midGreen00,title:"Reveal Icon"}),n.createElement("p",{className:lN.listItemDescription},e("chrome_welcome_marketing_panel_list_item_reveal_heading"))),n.createElement("li",{className:lN.listItem},n.createElement(s.HfT,{size:cN,color:s.O9T.midGreen00,title:"Password Changer Icon"}),n.createElement("p",{className:lN.listItemDescription},e("chrome_welcome_marketing_panel_list_item_open_website_heading"))),n.createElement("li",{className:lN.listItem},n.createElement(s.Gzy,{size:cN,color:s.O9T.midGreen00,title:"Web Icon"}),n.createElement("p",{className:lN.listItemDescription},e("chrome_welcome_marketing_panel_list_item_generator_heading")))))),n.createElement("div",{className:lN.illustrationPanel},n.createElement("img",{className:lN.illustration,src:"data:image/svg+xml;base64,PHN2ZyBmaWxsPSJub25lIiBoZWlnaHQ9IjM2MiIgdmlld0JveD0iMCAwIDU5OCAzNjIiIHdpZHRoPSI1OTgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPjxmaWx0ZXIgaWQ9ImEiIGNvbG9yLWludGVycG9sYXRpb24tZmlsdGVycz0ic1JHQiIgZmlsdGVyVW5pdHM9InVzZXJTcGFjZU9uVXNlIiBoZWlnaHQ9IjM3IiB3aWR0aD0iNTk4IiB4PSIwIiB5PSI0NCI+PGZlRmxvb2QgZmxvb2Qtb3BhY2l0eT0iMCIgcmVzdWx0PSJCYWNrZ3JvdW5kSW1hZ2VGaXgiLz48ZmVDb2xvck1hdHJpeCBpbj0iU291cmNlQWxwaGEiIHR5cGU9Im1hdHJpeCIgdmFsdWVzPSIwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAxMjcgMCIvPjxmZU9mZnNldCBkeT0iMSIvPjxmZUNvbG9yTWF0cml4IHR5cGU9Im1hdHJpeCIgdmFsdWVzPSIwIDAgMCAwIDAuOTM3NzI1IDAgMCAwIDAgMC45NDQxMDUgMCAwIDAgMCAwLjk1Njg2MyAwIDAgMCAxIDAiLz48ZmVCbGVuZCBpbjI9IkJhY2tncm91bmRJbWFnZUZpeCIgbW9kZT0ibm9ybWFsIiByZXN1bHQ9ImVmZmVjdDFfZHJvcFNoYWRvdyIvPjxmZUJsZW5kIGluPSJTb3VyY2VHcmFwaGljIiBpbjI9ImVmZmVjdDFfZHJvcFNoYWRvdyIgbW9kZT0ibm9ybWFsIiByZXN1bHQ9InNoYXBlIi8+PC9maWx0ZXI+PGZpbHRlciBpZD0iYiIgY29sb3ItaW50ZXJwb2xhdGlvbi1maWx0ZXJzPSJzUkdCIiBmaWx0ZXJVbml0cz0idXNlclNwYWNlT25Vc2UiIGhlaWdodD0iMTY4IiB3aWR0aD0iMzM0IiB4PSIyNjQiIHk9IjEwNy41Ij48ZmVGbG9vZCBmbG9vZC1vcGFjaXR5PSIwIiByZXN1bHQ9IkJhY2tncm91bmRJbWFnZUZpeCIvPjxmZUNvbG9yTWF0cml4IGluPSJTb3VyY2VBbHBoYSIgdHlwZT0ibWF0cml4IiB2YWx1ZXM9IjAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDEyNyAwIi8+PGZlT2Zmc2V0IGR5PSI0Ii8+PGZlR2F1c3NpYW5CbHVyIHN0ZERldmlhdGlvbj0iNCIvPjxmZUNvbG9yTWF0cml4IHR5cGU9Im1hdHJpeCIgdmFsdWVzPSIwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwLjE2IDAiLz48ZmVCbGVuZCBpbjI9IkJhY2tncm91bmRJbWFnZUZpeCIgbW9kZT0ibm9ybWFsIiByZXN1bHQ9ImVmZmVjdDFfZHJvcFNoYWRvdyIvPjxmZUJsZW5kIGluPSJTb3VyY2VHcmFwaGljIiBpbjI9ImVmZmVjdDFfZHJvcFNoYWRvdyIgbW9kZT0ibm9ybWFsIiByZXN1bHQ9InNoYXBlIi8+PC9maWx0ZXI+PGZpbHRlciBpZD0iYyIgY29sb3ItaW50ZXJwb2xhdGlvbi1maWx0ZXJzPSJzUkdCIiBmaWx0ZXJVbml0cz0idXNlclNwYWNlT25Vc2UiIGhlaWdodD0iMjQuMTg1MyIgd2lkdGg9IjIyLjQ4MjYiIHg9IjUzNS40MzciIHk9IjIwMS41Ij48ZmVGbG9vZCBmbG9vZC1vcGFjaXR5PSIwIiByZXN1bHQ9IkJhY2tncm91bmRJbWFnZUZpeCIvPjxmZUNvbG9yTWF0cml4IGluPSJTb3VyY2VBbHBoYSIgdHlwZT0ibWF0cml4IiB2YWx1ZXM9IjAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDEyNyAwIi8+PGZlT2Zmc2V0IGR5PSIxIi8+PGZlR2F1c3NpYW5CbHVyIHN0ZERldmlhdGlvbj0iMS41Ii8+PGZlQ29sb3JNYXRyaXggdHlwZT0ibWF0cml4IiB2YWx1ZXM9IjAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAuMjUgMCIvPjxmZUJsZW5kIGluMj0iQmFja2dyb3VuZEltYWdlRml4IiBtb2RlPSJub3JtYWwiIHJlc3VsdD0iZWZmZWN0MV9kcm9wU2hhZG93Ii8+PGZlQmxlbmQgaW49IlNvdXJjZUdyYXBoaWMiIGluMj0iZWZmZWN0MV9kcm9wU2hhZG93IiBtb2RlPSJub3JtYWwiIHJlc3VsdD0ic2hhcGUiLz48L2ZpbHRlcj48Y2xpcFBhdGggaWQ9ImQiPjxwYXRoIGQ9Im0wIDQ0aDU5OHYzNmgtNTk4eiIvPjwvY2xpcFBhdGg+PGNsaXBQYXRoIGlkPSJlIj48cGF0aCBkPSJtMjcyIDExMS41aDMxOHYxNTJoLTMxOHoiLz48L2NsaXBQYXRoPjxwYXRoIGQ9Im0wIDBoNTk4djM2MmgtNTk4eiIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Im0wIDBoNTk4djM2MWgtNTk4eiIgZmlsbD0iI2ZmZiIvPjxnIGNsaXAtcGF0aD0idXJsKCNkKSI+PHBhdGggZD0ibTAgMGg1OTh2MzZoLTU5OHoiIGZpbGw9IiNmNWY0ZjMiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAgNDQpIi8+PGcgZmlsdGVyPSJ1cmwoI2EpIj48cGF0aCBkPSJtMCA0NGg1OTh2MzZoLTU5OHoiIGZpbGw9IiNmZmYiLz48L2c+PHJlY3QgZmlsbD0iI2VmZjFmNCIgaGVpZ2h0PSIyOCIgcng9IjE0IiB3aWR0aD0iNDUyIiB4PSIxMDMiIHk9IjQ4Ii8+PHBhdGggZD0ibTUzNyA1NS42MjkgMS4zMTEgNC4wNjUxLjExMi4zNDczLjM2NS0uMDAwOCA0LjI3MS0uMDA5My0zLjQ2MSAyLjUwMy0uMjk2LjIxMzguMTE0LjM0NjkgMS4zMjkgNC4wNTkzLTMuNDUtMi41MTgyLS4yOTUtLjIxNTEtLjI5NS4yMTUxLTMuNDUgMi41MTgyIDEuMzI5LTQuMDU5My4xMTQtLjM0NjktLjI5Ni0uMjEzOC0zLjQ2MS0yLjUwMyA0LjI3MS4wMDkzLjM2NS4wMDA4LjExMi0uMzQ3M3oiIHN0cm9rZT0iIzRiNGQ1MiIvPjxwYXRoIGQ9Im0wIDBoMjh2MjhoLTI4eiIgZmlsbD0iI2ZmZiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNjQgNDgpIi8+PHBhdGggZD0ibTc4IDY3LjVjMi42OTYxIDAgNC45MzkxLTEuOTM5OSA1LjQwOTMtNC41aDEuNTE5OGMtLjQ4NTIgMy4zOTIzLTMuNDAyNiA2LTYuOTI5MSA2LTMuODY2IDAtNy0zLjEzNC03LTdzMy4xMzQtNyA3LTdjMi4xODc3IDAgNC4xNDEgMS4wMDM1IDUuNDI0NiAyLjU3NTRsMS41NzU0LTEuNTc1NHY1aC01bDIuMzU3LTIuMzU3Yy0xLjAwNTctMS4zMDM0LTIuNTgzMy0yLjE0My00LjM1Ny0yLjE0My0zLjAzNzYgMC01LjUgMi40NjI0LTUuNSA1LjVzMi40NjI0IDUuNSA1LjUgNS41eiIgZmlsbD0iIzRiNGQ1MiIvPjxwYXRoIGQ9Im0wIDBoMjh2MjhoLTI4eiIgZmlsbD0iI2ZmZiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMzIgNDgpIi8+PHBhdGggZD0ibTQwIDYxLjc1aDEybTAgMC01LjUtNS43NW01LjUgNS43NS01LjUgNS4yNSIgc3Ryb2tlPSIjYTlhZWI4IiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iMS41Ii8+PHBhdGggZD0ibTAgMGgyOHYyOGgtMjh6IiBmaWxsPSIjZmZmIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwIDQ4KSIvPjxwYXRoIGQ9Im0yMCA2MS43NWgtMTJtMCAwIDUuNS01Ljc1bS01LjUgNS43NSA1LjUgNS4yNSIgc3Ryb2tlPSIjNGI0ZDUyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iMS41Ii8+PHBhdGggY2xpcC1ydWxlPSJldmVub2RkIiBkPSJtNTcwIDU2YzAtMS4xMDQ2Ljg5NS0yIDItMnMyIC44OTU0IDIgMnYxaDJjMS4xMDUgMCAyIC44OTU0IDIgMnYyaDFjMS4xMDUgMCAyIC44OTU0IDIgMnMtLjg5NSAyLTIgMmgtMXYyYzAgMS4xMDQ2LS44OTUgMi0yIDJoLTJ2LTFjMC0xLjEwNDYtLjg5NS0yLTItMnMtMiAuODk1NC0yIDJ2MWgtMmMtMS4xMDUgMC0yLS44OTU0LTItMnYtMmgxYzEuMTA1IDAgMi0uODk1NCAyLTJzLS44OTUtMi0yLTJoLTF2LTJjMC0xLjEwNDYuODk1LTIgMi0yaDJ6IiBmaWxsPSIjNjA2MzY3IiBmaWxsLXJ1bGU9ImV2ZW5vZGQiLz48L2c+PHBhdGggZD0ibTAgNi40YzAtMi4yNDAyMSAwLTMuMzYwMzEuNDM1OTc0LTQuMjE1OTYuMzgzNDkzLS43NTI2NS45OTU0MTYtMS4zNjQ1NzMgMS43NDgwNjYtMS43NDgwNjYuODU1NjUtLjQzNTk3NCAxLjk3NTc1LS40MzU5NzQgNC4yMTU5Ni0uNDM1OTc0aDU4NS4yYzIuMjQgMCAzLjM2IDAgNC4yMTYuNDM1OTc0Ljc1My4zODM0OTMgMS4zNjUuOTk1NDE2IDEuNzQ4IDEuNzQ4MDY2LjQzNi44NTU2NS40MzYgMS45NzU3NS40MzYgNC4yMTU5NnYzMy42aC01OTh6IiBmaWxsPSIjZTFlNGViIi8+PHBhdGggZD0ibTMzOCAyNGgxMG0tNS01djEwIiBzdHJva2U9IiM0YjRkNTIiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLXdpZHRoPSIyIi8+PHBhdGggZD0ibTg5IDE2YzAtNC40MTgzIDMuNTgxNy04IDgtOGgyMjRjNC40MTggMCA4IDMuNTgxNyA4IDh2MjRoLTI0MHoiIGZpbGw9IiNmZmYiLz48cGF0aCBkPSJtMzEyIDIxIDYgNm0wLTYtNiA2IiBzdHJva2U9IiM0YjRkNTIiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLXdpZHRoPSIxLjUiLz48cGF0aCBkPSJtMzM3IDQwaC04di04YzAgNC40MTgzIDMuNTgyIDggOCA4eiIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Im04MSA0MGg4di04YzAgNC40MTgzLTMuNTgxNyA4LTggOHoiIGZpbGw9IiNmZmYiLz48Y2lyY2xlIGN4PSI2MSIgY3k9IjIyIiBmaWxsPSIjNjRjMjU1IiByPSI2Ii8+PGNpcmNsZSBjeD0iNjEiIGN5PSIyMiIgcj0iNS43NSIgc3Ryb2tlPSIjMDAwIiBzdHJva2Utb3BhY2l0eT0iLjE2IiBzdHJva2Utd2lkdGg9Ii41Ii8+PGNpcmNsZSBjeD0iNDEiIGN5PSIyMiIgZmlsbD0iI2ZmZDE3MSIgcj0iNiIvPjxjaXJjbGUgY3g9IjQxIiBjeT0iMjIiIHI9IjUuNzUiIHN0cm9rZT0iIzAwMCIgc3Ryb2tlLW9wYWNpdHk9Ii4xNiIgc3Ryb2tlLXdpZHRoPSIuNSIvPjxjaXJjbGUgY3g9IjIxIiBjeT0iMjIiIGZpbGw9IiNmZjc5NmYiIHI9IjYiLz48Y2lyY2xlIGN4PSIyMSIgY3k9IjIyIiByPSI1Ljc1IiBzdHJva2U9IiMwMDAiIHN0cm9rZS1vcGFjaXR5PSIuMTYiIHN0cm9rZS13aWR0aD0iLjUiLz48cGF0aCBkPSJtMCA4Mmg1OTh2Mjc5aC01OTh6IiBmaWxsPSIjOTk5NTkyIi8+PHBhdGggZD0ibTU2Ny4yNTggOTUuMDg4LTkuMjU4IDE2LjQxMmgyMmwtOS4yNTgtMTYuNDEyYy0uNzY1LTEuMzU2NS0yLjcxOS0xLjM1NjUtMy40ODQgMHoiIGZpbGw9IiNmZmYiLz48ZyBjbGlwLXBhdGg9InVybCgjZSkiIGZpbHRlcj0idXJsKCNiKSI+PHBhdGggZD0ibTAgMGgzMTh2MTUyaC0zMTh6IiBmaWxsPSIjZmZmIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyNzIgMTExLjUpIi8+PHJlY3QgZmlsbD0iI2NjYzdjMiIgaGVpZ2h0PSIxNCIgb3BhY2l0eT0iLjQiIHJ4PSIyIiB3aWR0aD0iNjUiIHg9IjI4NyIgeT0iMTMyLjUiLz48ZyBmaWxsPSIjZWJlOWU3Ij48cmVjdCBoZWlnaHQ9IjE0IiByeD0iMiIgd2lkdGg9IjEwOCIgeD0iMzEyLjc1IiB5PSIyMzYuNSIvPjxwYXRoIGQ9Im0zMDAuOTYzIDI0My41ODhjLjAyNS0uMTg4LjAzNy0uMzgyLjAzNy0uNTg4IDAtLjItLjAxMi0uNC0uMDQ0LS41ODdsMS4yNjktLjk4OGMuMTEzLS4wODcuMTQ0LS4yNTYuMDc1LS4zODFsLTEuMi0yLjA3NWMtLjA3NS0uMTM4LS4yMzEtLjE4MS0uMzY5LS4xMzhsLTEuNDkzLjZjLS4zMTMtLjIzNy0uNjQ0LS40MzctMS4wMTMtLjU4N2wtLjIyNS0xLjU4OGMtLjAyNS0uMTUtLjE1LS4yNTYtLjMtLjI1NmgtMi40Yy0uMTUgMC0uMjY5LjEwNi0uMjk0LjI1NmwtLjIyNSAxLjU4OGMtLjM2OC4xNS0uNzA2LjM1Ni0xLjAxMi41ODdsLTEuNDk0LS42Yy0uMTM3LS4wNS0uMjk0IDAtLjM2OS4xMzhsLTEuMTkzIDIuMDc1Yy0uMDc1LjEzMS0uMDUuMjk0LjA3NS4zODFsMS4yNjguOTg4Yy0uMDMxLjE4Ny0uMDU2LjM5My0uMDU2LjU4N3MuMDEzLjQuMDQ0LjU4OGwtMS4yNjkuOTg3Yy0uMTEyLjA4OC0uMTQ0LjI1Ni0uMDc1LjM4MWwxLjIgMi4wNzVjLjA3NS4xMzguMjMxLjE4Mi4zNjkuMTM4bDEuNDk0LS42Yy4zMTIuMjM3LjY0My40MzcgMS4wMTIuNTg3bC4yMjUgMS41ODhjLjAzMS4xNS4xNS4yNTYuMy4yNTZoMi40Yy4xNSAwIC4yNzUtLjEwNi4yOTQtLjI1NmwuMjI1LTEuNTg4Yy4zNjktLjE1LjcwNi0uMzUgMS4wMTItLjU4N2wxLjQ5NC42Yy4xMzguMDUuMjk0IDAgLjM2OS0uMTM4bDEuMi0yLjA3NWMuMDc1LS4xMzcuMDQ0LS4yOTMtLjA3NS0uMzgxem0tNC40NjMgMS42NjJjLTEuMjM3IDAtMi4yNS0xLjAxMi0yLjI1LTIuMjUgMC0xLjIzNyAxLjAxMy0yLjI1IDIuMjUtMi4yNSAxLjIzOCAwIDIuMjUgMS4wMTMgMi4yNSAyLjI1IDAgMS4yMzgtMS4wMTIgMi4yNS0yLjI1IDIuMjV6Ii8+PHJlY3QgaGVpZ2h0PSIxNCIgb3BhY2l0eT0iLjQiIHJ4PSIyIiB3aWR0aD0iMjg0IiB4PSIyODciIHk9IjE1MS41Ii8+PHJlY3QgaGVpZ2h0PSIxNCIgb3BhY2l0eT0iLjQiIHJ4PSIyIiB3aWR0aD0iNjUiIHg9IjI4NyIgeT0iMTcxLjUiLz48L2c+PHBhdGggZD0ibTMwMy4zNDQgMjA0LjExOWMwLS4xMDEtLjEwMS0uMjAxLS4yNDEtLjI0MWwtMS42ODQtLjYyMmMtLjI4MS0uMTItLjYwMS4wMi0uNjAxLjIyMXY3LjMyOWMuMDA3LjA1Ny4wMy4xMTEuMDY1LjE1Ni4wMzUuMDQ2LjA4Mi4wODIuMTM1LjEwNGwxLjcyNC42MjJjLjI2MS4xLjYwMi0uMDQuNjAyLS4yNjF6bS00LjI3MiA1LjU4NGMwLS4xMDEtLjEtLjIwMS0uMjQxLS4yNDFsLTEuNjg0LS42MjJjLS4yOC0uMTItLjYwMS4wMjEtLjYwMS4yMjF2NC41NzFjLjAwOC4wNTguMDMuMTEyLjA2NS4xNTcuMDM2LjA0Ni4wODIuMDgyLjEzNS4xMDRsMS43MjUuNjIyYy4yNi4xLjYwMS0uMDQuNjAxLS4yNjF6bTAtOS4zNDRjMC0uMS0uMS0uMi0uMjQxLS4yNDFsLTEuNjg0LS42MjFjLS4yOC0uMTItLjYwMS4wMi0uNjAxLjIydjQuNTcyYy4wMDguMDU3LjAzLjExMS4wNjUuMTU3LjAzNi4wNDYuMDgyLjA4MS4xMzUuMTA0bDEuNzI1LjYyMWMuMjYuMS42MDEtLjA0LjYwMS0uMjYxem0tNC4yNS0uMzUxYzAtLjEtLjEwMS0uMi0uMjQxLS4yNGwtMS42ODQtLjYyMmMtLjI4MS0uMTItLjYwMi4wMi0uNjAyLjIyMXYxNC42MzZjLjAwOC4wNTcuMDMxLjExMi4wNjYuMTU3LjAzNS4wNDYuMDgyLjA4Mi4xMzUuMTA0bDEuNzI0LjYyMmMuMjYxLjEuNjAyLS4wNDEuNjAyLS4yNjF6IiBmaWxsPSIjMGU2NDc2Ii8+PHJlY3QgZmlsbD0iIzk5OTU5MiIgaGVpZ2h0PSIxNCIgcng9IjIiIHdpZHRoPSIxNjUiIHg9IjMxMi43NSIgeT0iMjAwLjUiLz48cGF0aCBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Im01MjcuNSAyMDIuNWg3djEuNWgtMXY0bDEuNSAxLjV2MS41aC0zLjV2NC41aC0xdi00LjVoLTMuNXYtMS41bDEuNS0xLjV2LTRoLTF6bTIuMzg5IDEuNXY0LjU3N2wtLjg4OS40NjF2LjQ2Mmg0di0uNDYybC0uODg5LS40NjF2LTQuNTc3eiIgZmlsbD0iI2M0YzRjNCIgZmlsbC1ydWxlPSJldmVub2RkIi8+PHBhdGggZD0ibTUzNC41IDIwMi41aC03djEuNWgxdjRsLTEuNSAxLjV2MS41aDMuNXY0LjVoMXYtNC41aDMuNXYtMS41bC0xLjUtMS41di00aDF6IiBmaWxsPSIjNmQ5ZGU5Ii8+PHBhdGggZD0ibTU3MSAyMDQuNWMwIC41NTIuNDQ4IDEgMSAxczEtLjQ0OCAxLTEtLjQ0OC0xLTEtMS0xIC40NDgtMSAxeiIgZmlsbD0iI2M0YzRjNCIvPjxwYXRoIGQ9Im01NzEgMjA3LjVjMCAuNTUyLjQ0OCAxIDEgMXMxLS40NDggMS0xLS40NDgtMS0xLTEtMSAuNDQ4LTEgMXoiIGZpbGw9IiNjNGM0YzQiLz48cGF0aCBkPSJtNTcxIDIxMC41YzAgLjU1Mi40NDggMSAxIDFzMS0uNDQ4IDEtMS0uNDQ4LTEtMS0xLTEgLjQ0OC0xIDF6IiBmaWxsPSIjYzRjNGM0Ii8+PHBhdGggZD0ibTI3MiAyMjZoMzIxIiBzdHJva2U9IiNkYWRjZGYiLz48ZyBmaWx0ZXI9InVybCgjYykiPjxwYXRoIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0ibTU0Ny44NDEgMjE0LjAxNiA0LjY0Ni0xLjY1MS0xMi40ODctNi44NjUgMy42NCAxMy43NzYgMi43MjYtNC4xMDggMy4yNjQgNC4xNzcgMS40NzQtMS4xNTJ6IiBmaWxsPSIjMzYzYjNlIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiLz48ZyBzdHJva2U9IiNmZmYiPjxwYXRoIGQ9Im01NDguNjYyIDIxNC4yNTUgMy45OTItMS40MTkgMS4wNDktLjM3My0uOTc2LS41MzYtMTIuNDg2LTYuODY1LTEuMDIyLS41NjIuMjk4IDEuMTI4IDMuNjQgMTMuNzc2LjI4NCAxLjA3Ny42MTYtLjkyOCAyLjM0Mi0zLjUzMSAyLjgzNyAzLjYzMS4zMDguMzk0LjM5NC0uMzA4IDEuNDc0LTEuMTUyLjM5NC0uMzA3LS4zMDgtLjM5NHoiLz48cGF0aCBkPSJtNTQ4LjY2MiAyMTQuMjU1IDMuOTkyLTEuNDE5IDEuMDQ5LS4zNzMtLjk3Ni0uNTM2LTEyLjQ4Ni02Ljg2NS0xLjAyMi0uNTYyLjI5OCAxLjEyOCAzLjY0IDEzLjc3Ni4yODQgMS4wNzcuNjE2LS45MjggMi4zNDItMy41MzEgMi44MzcgMy42MzEuMzA4LjM5NC4zOTQtLjMwOCAxLjQ3NC0xLjE1Mi4zOTQtLjMwNy0uMzA4LS4zOTR6Ii8+PHBhdGggZD0ibTU0OC42NjIgMjE0LjI1NSAzLjk5Mi0xLjQxOSAxLjA0OS0uMzczLS45NzYtLjUzNi0xMi40ODYtNi44NjUtMS4wMjItLjU2Mi4yOTggMS4xMjggMy42NCAxMy43NzYuMjg0IDEuMDc3LjYxNi0uOTI4IDIuMzQyLTMuNTMxIDIuODM3IDMuNjMxLjMwOC4zOTQuMzk0LS4zMDggMS40NzQtMS4xNTIuMzk0LS4zMDctLjMwOC0uMzk0eiIvPjwvZz48L2c+PC9nPjwvc3ZnPg==",alt:e("chrome_welcome_illustration_img_alt")}),n.createElement("p",{className:lN.illustrationDescription},e("chrome_welcome_illustration_panel_description")),n.createElement("div",{className:lN.buttonWrapper},n.createElement(s.zxk,{type:"submit",size:"large",onClick:()=>{(0,i.uX)(t.userOnboarding)}},e("chrome_welcome_illustration_panel_button")))))},uN=({path:e})=>n.createElement(i.Vy,{exact:!0,path:e,component:dN});var pN=a(857323);let mN;!function(e){e[e.SECONDARY_LOGIN=0]="SECONDARY_LOGIN",e[e.OTP_CODE=1]="OTP_CODE"}(mN||(mN={}));const _N=e=>Boolean(e.values.otpUrl)||Boolean(e.values.otpSecret),gN=e=>{const{login:t,secondaryLogin:a}=e.values;return Boolean(t)||Boolean(a)},hN=e=>{const{requiresMasterPassword:t,credentialId:a,...i}=e,{areProtectedItemsUnlocked:o,openProtectedItemsUnlocker:r}=(0,fe.tY)(),l=n.useCallback((e=>e&&!o&&t&&a?new Promise(((e,t)=>{r({action:Ne.P7.Show,itemType:Ne.Ru.Password,showNeverAskOption:!0,credentialId:a,successCallback:e,cancelCallback:t})})):Promise.resolve()),[o,a,r,t]);return n.createElement(s.WUg,{...i,onPasswordVisibilityChangeRequest:l})},bN={title:"webapp_lock_items_require_master_password_for_credential_title_on",subtitle:"webapp_lock_items_require_master_password_for_credential_subtitle_on",confirm:"webapp_lock_items_require_master_password_confirm_on_for_credential"},CN={title:"webapp_lock_items_require_master_password_for_credential_title_off",subtitle:"webapp_lock_items_require_master_password_for_credential_subtitle_off",confirm:"webapp_lock_items_require_master_password_confirm_off_for_credential"},wN=({name:e,title:t,description:a,setValue:i,isMpProtected:o=!1,value:r,disabled:l=!1})=>{const{areProtectedItemsUnlocked:c,openProtectedItemsUnlocker:d}=(0,fe.tY)(),u=(0,n.useCallback)((e=>{const t=e.target.checked,a=async()=>{await i(t)};return o&&!c?((0,_d.jF)(),d({itemType:Ne.Ru.SecuritySettings,options:{fieldsKeys:t?bN:CN,translated:!1},successCallback:a})):a()}),[c,o,d,i]),p=`setting-${e}`;return(0,z.tZ)(s.Ejs,{sx:{marginTop:"-0.5em"}},(0,z.tZ)(we.XZ,{label:t,description:a,checked:r,onChange:u,id:p,disabled:l}))},yN="webapp_credential_edition_field_options_always_log_me",EN="webapp_credential_edition_field_options_always_log_me_details",IN="webapp_credential_edition_field_options_subdomain_only",NN="webapp_credential_edition_field_options_subdomain_only_details_associated",fN="webapp_credential_edition_field_options_subdomain_only_infobox",vN="webapp_credential_edition_field_options_subdomain_only_details_linked_websites",SN="webapp_credential_edition_field_options_always_require_master_password",DN="webapp_credential_edition_field_options_always_require_master_password_details",xN="webapp_credential_edition_field_options_always_require_master_password_disable_feedback_markup",MN=({credentialPreferences:e,isNewCredential:t,url:a,dashlaneDefinedLinkedWebsites:i,update:o})=>{const r=(0,on.nO)(),l=(0,it.w)("autofill_web_autologin_on_url_with_port_dev"),c=(0,md.q)(),d=(0,n.useMemo)((()=>{if(!a)return!1;try{return new URL(a),!0}catch(e){try{return new URL("https://"+a),!0}catch(e){return!1}}}),[a]),{translate:u}=(0,j.Z)(),p=(0,yd.F)(),m=t=>o({...e,requiresMp:t}),_=r?l?new an.ParsedURL(a).getHost():new an.ParsedURL(a).getHostname():pN.HQ.getAuthorityForUrl(a),g=i.length>1;return(0,z.tZ)(s.T5p,{gridTemplateColumns:"173px 1fr",alignItems:"flex-start",justifyItems:"flex-end"},(0,z.tZ)(s.nvN,{sx:{fontWeight:600,paddingRight:"24px"}},u("webapp_credential_edition_field_options")),(0,z.tZ)(s.Ejs,{gap:"24px"},d?null:(0,z.tZ)(s.vDh,{severity:"warning",size:"small",title:u("webapp_credential_edition_field_options_no_url_warning")}),(0,z.tZ)(wN,{name:"autoLogin",description:u(EN),isMpProtected:!1,title:u(yN),setValue:t=>o({...e,autoLogin:t}),value:e.autoLogin,disabled:!d}),(0,z.tZ)(wN,{name:"fixedDomain",isMpProtected:!1,title:(0,z.tZ)("span",{sx:{display:"inline-flex",flexWrap:"wrap"}},(0,z.tZ)("span",null,u(IN),""),(0,z.tZ)("span",{sx:{fontStyle:"italic",color:s.O9T.midGreen00}},_)),description:g?(0,z.tZ)(s.Ejs,null,u(NN),(0,z.tZ)(s.vDh,{severity:"subtle",size:"descriptive",title:u(fN,{associatedWebsitesLength:i.length}),expandable:!0,iconSizePx:20},(0,z.tZ)("div",{sx:{marginLeft:"32px"}},i.map((e=>(0,z.tZ)("div",{key:e},e)))))):u(vN),setValue:t=>o({...e,subDomainOnly:t}),value:e.subDomainOnly,disabled:!d}),p?null:c.status===Ft.rq.Success?(0,z.tZ)(wN,{name:"requireMP",isMpProtected:!t,title:u(SN),description:(0,z.tZ)("div",null,c.data?(0,z.tZ)("div",{sx:{marginBottom:"8px",color:s.O9T.midGreen00}},u.markup(xN)):null,(0,z.tZ)("span",null,u(DN))),setValue:m,value:!!c.data||e.requiresMp,disabled:!d||c.data}):(0,z.tZ)(wN,{name:"requireMP",isMpProtected:!t,title:u(SN),description:u(DN),setValue:m,value:e.requiresMp,disabled:!d})))};var TN,AN=a(851970);const{black:kN,midGreen00:ZN,white:ON}=s.O9T,LN={backgroundColor:ON,borderRadius:"4px",display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center"},PN={display:"flex",flexWrap:"wrap",maxWidth:"20ch",wordWrap:"break-word",fontFamily:S()["--dashlane-fontfamily-mono"],fontSize:S()["--password-font-size"],lineHeight:S()["--password-line-height"],fontWeight:S()["--dashlane-font-weight-regular"],letterSpacing:S()["--password-letter-spacing"],fontVariantLigatures:"none",fontFeatureSettings:'"calt" 0'},zN={base:{display:"flex"},numbers:{color:"#3366ff"},symbols:{color:"#c15315"},letters:{color:kN}},jN=({password:e,onRefreshPassword:t})=>{const{translate:a}=(0,j.Z)(),i=e=>"0123456789".includes(e)?zN.numbers:"&@$!#?".includes(e)?zN.symbols:zN.letters,o=(0,n.useMemo)((()=>e.split("").map(((e,t)=>(0,z.tZ)("span",{key:`char-${t}`,sx:{...zN.base,...i(e)}},e)))),[e]);return(0,z.tZ)("div",{sx:LN},(0,z.tZ)("div",{sx:{...PN,transition:"opacity 0.1s ease"}},o),(0,z.tZ)(s.zxk,{sx:{minWidth:"auto",padding:"4px",marginRight:"0"},size:"small","aria-label":a("webapp_credential_edition_field_generator_refresh"),type:"button",nature:"ghost",onClick:t},TN||(TN=(0,z.tZ)(s.DuK,{hoverColor:ZN}))))},RN="qwertyuiopasdfghjklzxcvbnmQWERTYUIOPASDFGHJKLZXCVBNM1234567890!@#$&?";function UN(e=0,t=1){return Math.floor(Math.random()*(t-e))+e}function BN(){return RN.substr(UN(0,RN.length-1),1)}function FN(e){return RN.substr(0,e).split("").map((()=>BN())).join("")}function WN(e,t=UN(0,e.length)){return e.substr(0,t)+BN()+e.substr(t+1)}const GN={0:"too_guessable",1:"very_guessable",2:"somewhat_guessable",3:"safely_unguessable",4:"very_unguessable"};function VN(e){return e>=100?4:e>=75?3:e>=50?2:e>=25?1:e>=0?0:void 0}const{midGreen03:YN,white:HN}=s.O9T,qN={margin:0,borderRadius:"4px",padding:"10px",boxSizing:"border-box",color:HN,display:"flex",flexDirection:"column",justifyContent:"space-between"},QN={boxSizing:"border-box",display:"flex",flexDirection:"column",justifyContent:"center"},XN=({isLoading:e,generatedPassword:t,passwordLength:a,onRefreshPassword:i,strength:o})=>{const{translate:r}=(0,j.Z)(),l=(0,it.w)("webplatform_web_prideColors"),c=(0,n.useMemo)((()=>function(e){return`webapp_credential_edition_field_generator_strength/${function(e){const t=VN(e);return t?GN[t]:""}(e)||"none"}`}(o)),[o]),d=(0,n.useMemo)((()=>VN(o)),[o]),{shuffledPassword:u,isPasswordShuffling:p}=function({shouldShuffle:e,passwordLength:t}){const a=(0,n.useRef)(null),[i,o]=(0,n.useState)(FN(t)),s=(0,n.useCallback)((()=>{let e=WN(i);const t=e.length/6;for(let a=0;a<t;a++)e=WN(e);o(e)}),[i]),[r,l]=(0,n.useState)(e);return(0,n.useEffect)((()=>{let t;return e?l(!0):t=window.setTimeout((()=>{l(!1)}),150),()=>window.clearTimeout(t)}),[e]),(0,n.useEffect)((()=>(i.length!==t&&o(FN(t)),r?a.current=window.setInterval(s,10):a.current&&window.clearInterval(a.current),()=>{a.current&&window.clearInterval(a.current)})),[r,t,s,i]),{shuffledPassword:i,isPasswordShuffling:r}}({shouldShuffle:e,passwordLength:a}),m=p?u:t;return(0,z.tZ)("div",{sx:qN},(0,z.tZ)("div",{sx:QN},(0,z.tZ)(jN,{onRefreshPassword:i,password:m}),(0,z.tZ)("div",{sx:{marginTop:"4px"}},(0,z.tZ)(s.YVT,{score:d,showAdditionalText:!0,additionalText:r(c),backgroundColor:YN,showQueerColors:l}))))},{grey00:KN}=s.O9T,JN=({options:e,onOptionsChanged:t})=>{const{translate:a}=(0,j.Z)(),i=(0,n.useCallback)((a=>{const n=a.currentTarget.checked;t({...e,digits:n})}),[t,e]),o=(0,n.useCallback)((a=>{const n=a.currentTarget.checked;t({...e,letters:n})}),[t,e]),r=(0,n.useCallback)((a=>{const n=a.currentTarget.checked;t({...e,symbols:n})}),[t,e]),l=(0,n.useCallback)((a=>{const n=a.currentTarget.checked;t({...e,avoidAmbiguous:!n})}),[t,e]),c=(0,n.useCallback)((e=>{const t=a(e),n=t.search(/(\(.*\))$/);if(-1===n)return t;const i=t.substring(0,n),o=t.substring(n);return(0,z.tZ)(s.nvN,{size:"small"},i,(0,z.tZ)("span",{sx:{color:KN}},o))}),[a]);return(0,z.tZ)(s.T5p,{justifyItems:"left",gap:"10px",sx:{paddingBottom:"10px"}},(0,z.tZ)(s.XZJ,{label:c("webapp_credential_edition_field_generator_use_letters"),onChange:o,checked:e.letters,disabled:e.letters&&!e.digits}),(0,z.tZ)(s.XZJ,{label:c("webapp_credential_edition_field_generator_use_digits"),onChange:i,checked:e.digits,disabled:e.digits&&!e.letters}),(0,z.tZ)(s.XZJ,{label:c("webapp_credential_edition_field_generator_use_symbols"),onChange:r,checked:e.symbols}),(0,z.tZ)(s.XZJ,{label:c("webapp_credential_edition_field_generator_similar_characters"),onChange:l,checked:!e.avoidAmbiguous}))},$N=({length:e,onLengthChanged:t})=>{const{translate:a}=(0,j.Z)(),[i,o]=(0,n.useState)(e);return(0,z.tZ)("div",{"aria-label":a("webapp_credential_edition_field_generator_min_max_a11y",{min:4,max:40})},(0,z.tZ)(s.iRW,{label:a("webapp_credential_edition_field_generator_password_length",{length:i}),min:4,max:40,step:1,onChange:e=>{o(e)},onChangeComplete:t,value:i}))},{dashGreen05:ef,dashGreen06:tf}=s.O9T,af=({options:e,handleSettingsChange:t,handleUsePassword:a})=>{const{translate:n}=(0,j.Z)();return(0,z.tZ)(s.T5p,{gap:"10px",sx:{padding:"10px"}},(0,z.tZ)(s.T5p,{gap:"10px",sx:{textAlign:"left",padding:"10px",backgroundColor:tf,borderRadius:"4px"}},(0,z.tZ)($N,{length:e.length,onLengthChanged:a=>{t({...e,length:a})}}),(0,z.tZ)("hr",{sx:{border:"none",borderBottom:`solid 1px ${ef}`,margin:"10px 0"}}),(0,z.tZ)(JN,{onOptionsChanged:e=>{t(e)},options:e})),(0,z.tZ)(s.zxk,{sx:{mx:0},type:"button",nature:"primary",size:"small",onClick:a},n("webapp_credential_edition_field_generator_use_password_button")))};var nf,of,sf;const{white:rf,dashGreen06:lf}=s.O9T,cf={length:16,digits:!0,letters:!0,symbols:!0,avoidAmbiguous:!0},df="webapp_credential_edition_field_generator_generate_tooltip",uf=({credential:e,handleChangePassword:t})=>{const[a,i]=(0,n.useState)(!1),[o,r]=(0,n.useState)(cf),{translate:l}=(0,j.Z)();(0,n.useEffect)((()=>{g.C.getPasswordGenerationSettings().then((e=>{r(e)}))}),[]);const[c,d]=(0,n.useState)(!0),[u,p]=(0,n.useState)(""),[m,_]=(0,n.useState)(25),h=e=>{d(!0),g.C.generatePassword({settings:e}).then((e=>{e.success&&(p(e.password),_(e.strength))})).finally((()=>{(0,O.K)(new N.UserGeneratePasswordEvent({hasDigits:e.digits,hasLetters:e.letters,hasSymbols:e.symbols,hasSimilar:!e.avoidAmbiguous,length:e.length})),d(!1)}))};return(0,z.tZ)(s.ua7,{sx:{width:"300px",backgroundColor:rf,padding:"0",borderRadius:"4px"},offset:[0,0],trigger:"persist",placement:"left",passThrough:!a,arrowSize:0,content:(0,z.tZ)(AN.Y,{onClickOutside:()=>i(!1),autoFocus:!1},(0,z.tZ)(s.T5p,{sx:{bg:lf}},(0,z.tZ)(s.dDn,{justifySelf:"end","aria-label":l("_common_dialog_dismiss_button"),as:s.hU,icon:nf||(nf=(0,z.tZ)(s.Two,null)),onClick:()=>i(!1)},of||(of=(0,z.tZ)(s.Two,null)))),(0,z.tZ)(s.T5p,{sx:{padding:"4px"}},(0,z.tZ)(XN,{onRefreshPassword:()=>{h(o)},isLoading:c,passwordLength:o.length,generatedPassword:u,strength:m}),(0,z.tZ)(af,{options:o,handleSettingsChange:e=>{r(e),h(e)},handleUsePassword:()=>{t(u),i(!1)}})))},(0,z.tZ)("div",null,(0,z.tZ)(s.ua7,{placement:"top",content:l(df)},(0,z.tZ)(s.zxk,{"aria-label":l(df),nature:"secondary",type:"button",onClick:()=>{a||h(o),i(!a)},disabled:e.limitedPermissions,sx:{border:"none",minWidth:"fit-content",padding:"10px"}},sf||(sf=(0,z.tZ)(we.JO,{name:"FeaturePasswordGeneratorOutlined",color:"ds.oddity.brand"}))))))},pf="linkedWebsitesList--ZSuJnbXQxS",mf="linkedWebsitesRow--WfdNXmrkL4",_f="linkedWebsitesDetails--uaFRgv0zeT",gf=({disabled:e=!1,handleOnClickAddLinkedWebsiteButton:t})=>{const{translate:a}=(0,j.Z)();return n.createElement("button",{type:"button",className:w()(_f,"addButton--z1WN5Nny3_"),onClick:t,disabled:e},n.createElement(s.dtP,{size:12,color:s.O9T.dashGreen03}),a("webapp_credential_edition_linked_websites_add_website"))};var hf,bf;const Cf="webapp_credential_linked_websites_action_delete",wf="webapp_credential_linked_websites_action_goto",yf=({linkedWebsite:e,credentialId:t,onRemoveItem:a})=>{const{translate:i}=(0,j.Z)();return n.createElement(n.Fragment,null,e.trim()?n.createElement(s.ua7,{placement:"top",content:i(wf)},n.createElement(s.zxk,{nature:"secondary",type:"button",onClick:(o=e,async()=>{const e=await(0,on.gm)(g.C)?new an.ParsedURL(o).getRootDomain():(0,je.JI)(o);(0,O.K)(new N.UserOpenExternalVaultItemLinkEvent({domainType:N.DomainType.Web,itemId:t,itemType:N.ItemTypeWithLink.Credential})),(0,O.K)(new N.AnonymousOpenExternalVaultItemLinkEvent({itemType:N.ItemTypeWithLink.Credential,domain:{id:await(0,N.hashDomain)(e),type:N.DomainType.Web}})),(0,je.Yo)((e=>/^[a-z]+:\/\//i.test(e)?e:["https://",e].join(""))(o))}),style:{border:"none",minWidth:"fit-content",padding:"10px"},role:"link",name:"hiddenAction","aria-label":i(wf),"data-testid":"open_linked_website"},hf||(hf=n.createElement(s.RTC,null)))):null,a?n.createElement(s.ua7,{placement:"top",content:i(Cf)},n.createElement(s.zxk,{nature:"secondary",type:"button",onClick:a,style:{border:"none",minWidth:"fit-content",padding:"10px"},role:"link",name:"hiddenAction","aria-label":i(Cf)},bf||(bf=n.createElement(s.XHJ,null)))):null);var o},Ef=n.memo((({label:e,linkedWebsitesList:t,areItemsLocked:a,credentialId:i,isListEditable:o=!1,isEditing:r=!1,showUrlProtocol:l=!1,updateLinkedWebsitesList:c})=>{const{translate:d}=(0,j.Z)(),u=n.useRef(null),[p,m]=n.useState(!1),[_,g]=n.useState(t.length),[h,b]=n.useState(t.map(((e,t)=>({linkedWebsite:e,id:t})))),C=e=>{m(!0);const t=_+1;b([...h,{linkedWebsite:"",id:t}]),g(t),e?.preventDefault(),e?.stopPropagation()},w=e=>{const{name:t,value:a}=e.target,n=Number(t),i=h.findIndex((e=>e.id===n));if(-1!==i){const e=K().cloneDeep(h);e[i].linkedWebsite=a,b(e)}},y=e=>{"Enter"===e.key&&(e.preventDefault(),e.stopPropagation(),C())};return n.useEffect((()=>{r&&C()}),[]),n.useEffect((()=>{_!==t.length&&u.current?.focus()}),[_]),n.useEffect((()=>{c?.(h.map((({linkedWebsite:e})=>e))),(e=>{e.every((e=>e.linkedWebsite))?m(!1):m(!0)})(h)}),[c,JSON.stringify(h)]),n.createElement("div",{className:"listContainer--njknVVuG8n"},n.createElement("div",{className:"label--ERiGGqtKHY"},a?n.createElement(s.UnL,{height:12,sx:{paddingTop:"3px"}}):null,e?` ${d(e)}`:null),n.createElement("div",{className:"addUrlContainer--OJSLm0uPSs"},o?n.createElement("div",{className:pf},h.map((({linkedWebsite:e,id:t})=>n.createElement("div",{className:mf,key:t},n.createElement(lh.Z,{placeholder:d("webapp_credential_linked_websites_new_website_placeholder"),ref:u,onChange:w,onFieldKeyDown:y,value:e,name:t.toString()}),n.createElement(yf,{linkedWebsite:e,credentialId:i,onRemoveItem:()=>(e=>{b(h.filter((t=>t.id!==e)))})(t)})))),n.createElement(gf,{disabled:p,handleOnClickAddLinkedWebsiteButton:C})):n.createElement("div",{className:pf},h.map((({linkedWebsite:e,id:t})=>n.createElement("div",{className:mf,key:t},n.createElement("div",{className:"linkedWebsitesLockedItem--RYRFapL_Jw"},l?e:(e=>{const t=e.match(/^(?:\w+:\/\/)?(.*)$/);return t&&t.length>=2?t[1]:e})(e)),n.createElement(yf,{linkedWebsite:e,credentialId:i})))))))}));var If;const Nf="webapp_credential_edition_field_website_action_goto",ff=({url:e,hasUrlError:t,editViewButtonEnabled:a,limitedPermissions:n=!1,handleChange:i,handleGoToWebsite:o})=>{const{translate:r}=(0,j.Z)();return(0,z.tZ)(uh.N,{enabled:a,disableHover:!0},(0,z.tZ)(lh.Z,{label:r("webapp_credential_edition_field_website"),placeholder:r("webapp_credential_edition_field_placeholder_no_url"),dataName:"url",value:e,error:t,readOnly:n,onChange:i}),(0,z.tZ)(s.ua7,{placement:"top",content:r(Nf)},(0,z.tZ)(we.zx,{mood:"neutral",intensity:"supershy",type:"button",onClick:o,sx:{border:"none",minWidth:"fit-content",padding:"10px"},role:"link","aria-label":r(Nf)},If||(If=(0,z.tZ)(s.RTC,null)))))},vf=({children:e,url:t,hasUrlError:a,limitedPermissions:i,editViewButtonEnabled:o,handleMainWebsiteChange:s,handleGoToWebsite:r})=>n.createElement("div",{className:Zb.containerBlock},n.createElement(ff,{url:t,hasUrlError:a,editViewButtonEnabled:o,limitedPermissions:i,handleChange:s,handleGoToWebsite:r}),e),Sf=({url:e,hasUrlError:t,linkedWebsites:a,handleMainWebsiteChange:i,handleChanges:o,handleGoToWebsite:s})=>{const[r,l]=n.useState(!1),[c,d]=n.useState([]);return n.useEffect((()=>{c.length&&l(!0),o({linkedWebsites:{...a,addedByUser:c}})}),[c]),n.createElement(vf,{url:e,hasUrlError:t,limitedPermissions:!1,editViewButtonEnabled:!1,handleMainWebsiteChange:i,handleGoToWebsite:s},n.createElement(Ef,{linkedWebsitesList:c,areItemsLocked:!1,credentialId:"",isListEditable:!0,isEditing:r,showUrlProtocol:!0,updateLinkedWebsitesList:d}))};var Df;const xf=({linkedWebsites:e,handleOnClickLinkedWebsitesCount:t})=>{const{translate:a}=(0,j.Z)(),i=e.addedByUser.length,o=(e.addedByDashlane.length>1?e.addedByDashlane.length:0)+i;return o>0?n.createElement("button",{type:"button",className:_f,onClick:t},a("webapp_credential_edition_linked_websites_title_with_count",{count:o}),Df||(Df=n.createElement(s.XCv,{size:12}))):null},Mf=({url:e,linkedWebsites:t,hasUrlError:a,editViewButtonEnabled:i,limitedPermissions:o=!1,handleChange:s,handleGoToWebsite:r,onClickAddNewWebsite:l,onClickLinkedWebsitesCount:c})=>n.createElement(vf,{url:e,hasUrlError:a,limitedPermissions:o,editViewButtonEnabled:i,handleMainWebsiteChange:s,handleGoToWebsite:r},n.createElement("div",{className:"linkedWebsitesContainer--xiS0SFSZB2"},c?n.createElement(xf,{linkedWebsites:t,handleOnClickLinkedWebsitesCount:c}):null,l&&!o?n.createElement(gf,{handleOnClickAddLinkedWebsiteButton:l}):null)),Tf=a(465343),Af="missing-url-form",kf=({credential:e,onDismiss:t,onSuccess:a})=>{const{translate:i}=(0,j.Z)(),[o,r]=n.useState(!1),[l,c]=n.useState(""),{title:d,login:u,email:p,autoProtected:m,domainIcon:_,sharingStatus:{isShared:g}}=e;return n.createElement(os.o,{isOpen:!0,onRequestClose:t,disableBackgroundPanelClose:!0,footer:n.createElement(s.cNS,{primaryButtonTitle:i(o?"webapp_change_password_dialog_no_website_add_website_submit_confirm_button_label":"webapp_change_password_dialog_no_website_add_website_submit_button_label"),primaryButtonProps:{disabled:!l,form:Af,type:"submit"},secondaryButtonTitle:i("webapp_change_password_dialog_no_website_add_website_cancel_button_label"),secondaryButtonOnClick:t,intent:"primary"}),title:i("webapp_change_password_dialog_no_website_title")},n.createElement(s.nvN,{className:"subtitle--nIhTFR8D20"},i("webapp_change_password_dialog_no_website_description")),n.createElement("div",{className:"container--MFY3l8uNj4"},d&&n.createElement(Re.Q,{title:d,login:u,email:p,shared:g,autoProtected:m,domainIcon:_,size:Re.o.SMALL,className:"credentialInfo--GTEcgmWS_C"}),n.createElement("form",{id:Af,role:"form",autoComplete:"off",noValidate:!0,onSubmit:e=>{e.preventDefault(),Tf.isFQDN(l)||Tf.isURL(l)||o?a({url:l}):r(!0)}},n.createElement(s.oil,{label:i("webapp_change_password_dialog_no_website_add_website_input_name"),fullWidth:!0,autoFocus:!0,id:"missingWebsite",value:l,onChange:e=>{const t=e.target;c(t.value)},placeholder:i("webapp_change_password_dialog_no_website_add_website_input_placeholder"),"aria-describedby":o?"missingWebsiteFormatError":void 0})),o?n.createElement(s.vDh,{size:"small",severity:"warning",className:"alert--x5VP_nOlR_",title:n.createElement("p",{role:"alert",id:"missingWebsiteFormatError"},i("webapp_change_password_dialog_no_website_add_website_input_format_error"))}):null))},Zf=({translation:e,domainIcon:t,hostname:a})=>{const[i,,o]=e.split("_"),r=t?.urls["46x30@2x"]||void 0,l=(0,pt.d)({backgroundColor:t?.backgroundColor,mainColor:t?.mainColor,iconSource:r});return n.createElement("div",null,i,n.createElement("div",{className:"thumbnailContainer--dVvtwNr7Bf"},n.createElement(s.plG,{size:"xsmall",iconSource:r,backgroundColor:l,text:a})),n.createElement("div",{className:"title--Hm6ZsOgVqP"},a),o)},Of=({credentialId:e,dismissCallback:t})=>{const{translate:a}=(0,j.Z)(),i=(e=>(0,Ft.qr)({queryConfig:{query:g.C.getCredential,queryParam:e},liveConfig:{live:g.C.liveCredential,liveParam:e}},[e]))(e),o=i.status===Ft.rq.Success&&i.data,r=n.useCallback((()=>{o&&(0,je.Yo)(o.redirectUrl),t()}),[o]);if(!o)return null;if(!o.url)return n.createElement(kf,{credential:o,onSuccess:async e=>{await g.C.updateCredential({id:o.id,update:{...e,isUrlSelectedByUser:!0}})},onDismiss:t});const{hostname:l}=new URL(o.url);return n.createElement(os.o,{isOpen:!0,onRequestClose:t,disableBackgroundPanelClose:!0,footer:n.createElement(s.cNS,{primaryButtonTitle:n.createElement(n.Fragment,null,n.createElement("div",{className:"innerIcon--Ojxhkp6Ax2"},n.createElement(s.RTC,{"aria-hidden":"true",color:s.O9T.white})),a("webapp_change_password_dialog_confirm",{domain:l})),primaryButtonOnClick:r,secondaryButtonTitle:a("webapp_change_password_dialog_dismiss"),secondaryButtonOnClick:t,intent:"primary"}),title:a("webapp_change_password_dialog_title")},n.createElement(s.nvN,{color:s.O9T.dashGreen02},a("webapp_change_password_dialog_subtitle")),n.createElement("div",{className:"container--DFtwKS2j86"},n.createElement("ol",{className:"stepsList--X7QhQ3nncy"},n.createElement("li",null,n.createElement(Zf,{hostname:l,domainIcon:o.domainIcon,translation:a("webapp_change_password_dialog_open_website",{icon:null})})),n.createElement("li",null,a("webapp_change_password_dialog_go_to_settings")),n.createElement("li",null,a("webapp_change_password_dialog_dashlane_auto_replace")))))};var Lf;const Pf=(0,n.memo)((({credential:e})=>{const{translate:t}=(0,j.Z)(),[a,i]=(0,n.useState)(null),o=(0,n.useCallback)((e=>i(e)),[]),r=(0,n.useCallback)((()=>i(null)),[]);return(0,we.tZ)(n.Fragment,null,(0,we.tZ)(s.ua7,{placement:"top",content:t("webapp_credential_edition_autochange")},(0,we.tZ)(we.zx,{mood:"neutral",intensity:"supershy",onClick:()=>o(e.id),disabled:e.limitedPermissions,sx:{border:"none",minWidth:"fit-content",padding:"10px"}},Lf||(Lf=(0,we.tZ)(s.HfT,null)))),a&&(0,we.tZ)(Of,{credentialId:a,dismissCallback:r}))}));var zf=a(793429);const jf=({credentialId:e,onCopy:t})=>{const{translate:a}=(0,j.Z)(),n=function(e){return(0,Gi.k$)(zc.otpApi,"otpCode",{credentialId:e})}(e);if(n.status!==Ft.rq.Success||void 0===n.data||null===n.data)return null;const[i,o,r]=n.status===Ft.rq.Success&&n.data?[n.data.code,n.data.validityTime,n.data.validityEndDate]:[null,3e4,1/0];return(0,z.tZ)(uh.N,{enabled:n.status===Ft.rq.Success,disableHover:!0},(0,z.tZ)(s.Ejs,{alignItems:"center",sx:{paddingRight:"18px"}},(0,z.tZ)("label",{id:"otp-label",className:w()([zf.Z.label,zf.Z.text])},a("webapp_credential_edition_field_security_code")),(0,z.tZ)(s.CnT,{alertThreshold:5e3,"aria-labelledby":"otp-label",clockSize:18,code:i,sx:{marginLeft:"18px",width:"184px"},validityPeriod:o,validityEndDate:r})),(0,z.tZ)(ph.m,{data:null!=i?i:"",onCopy:t,disabled:n.status!==Ft.rq.Success}))},Rf=({credentialId:e,onCopy:t})=>{const{translate:a}=(0,j.Z)(),i=(0,it.F)("ims_web_otp_url_prod"),o=function(e){const t=(0,Ft.qr)({queryConfig:{query:g.C.getCredentialOTP,queryParam:e},liveConfig:{live:g.C.liveCredentialOTP,liveParam:e}},[e]);return n.useEffect((()=>{const a=t.status===Ft.rq.Success?((e,t)=>{const a=(n=t,Boolean(n&&n.validityEndDate-Date.now()>=0)?t.validityEndDate-Date.now()+500:0);var n;return window.setTimeout((()=>{g.C.generateCredentialOTP(e)}),a)})(e,t.data):null;return()=>{a&&clearTimeout(a)}}),[e,t]),t}(e);if(i.status!==Ft.rq.Success)return null;if(i.data)return(0,z.tZ)(jf,{credentialId:e,onCopy:t});if(o.status===Ft.rq.Success&&void 0===o.data)return null;const[r,l,c]=o.status===Ft.rq.Success&&o.data?[o.data.code,o.data.validityTime,o.data.validityEndDate]:[null,3e4,1/0];return(0,z.tZ)(uh.N,{enabled:o.status===Ft.rq.Success,disableHover:!0},(0,z.tZ)(s.Ejs,{alignItems:"center",sx:{paddingRight:"18px"}},(0,z.tZ)("label",{id:"otp-label",className:w()([zf.Z.label,zf.Z.text])},a("webapp_credential_edition_field_security_code")),(0,z.tZ)(s.CnT,{alertThreshold:5e3,"aria-labelledby":"otp-label",clockSize:18,code:r,sx:{marginLeft:"18px",width:"184px"},validityPeriod:l,validityEndDate:c})),(0,z.tZ)(ph.m,{data:null!=r?r:"",onCopy:t,disabled:o.status!==Ft.rq.Success}))},Uf=(0,n.createContext)({}),Bf=(0,n.createContext)({}),Ff=({children:e,vaultItemId:t,spaceId:a,signalEditedValues:i})=>{const[o,s]=(0,n.useState)(""),[r,l]=(0,n.useState)(!1),{collections:c}=Qi(),[d,u]=(0,n.useState)((()=>""===t?[]:c.flatMap((e=>e.vaultItems.some((e=>e.id===t))?{...e,initiallyExisting:!0,hasBeenDeleted:!1}:[])))),p=(0,n.useMemo)((()=>d.filter((e=>!e.hasBeenDeleted))),[d]),m=c.filter((e=>e.spaceId===a&&e.name.toLowerCase().includes(o.toLowerCase())&&!p.some((t=>t.id===e.id)))),_={setInput:s,setIsInputVisible:l,onSubmit:(e=o)=>{if((e=e.trimEnd()).length<=0)return;const t=d.findIndex((t=>t.name===e));if(-1===t)u((t=>{var n;const i=[...t],o=null!=(n=c.find((t=>t.name===e&&t.spaceId===a))?.id)?n:"";return i.push({id:o,name:e,spaceId:a,vaultItems:[],initiallyExisting:!1}),Yi(i)}));else{const e=d[t];e.initiallyExisting&&e.hasBeenDeleted&&u((e=>{const a=[...e];return a[t].hasBeenDeleted=!1,a}))}i?.(!0),s("")},onDelete:e=>{const t=d.findIndex((t=>t.name===e));-1!==t&&(u((e=>{const a=[...e];return d[t].initiallyExisting?a[t].hasBeenDeleted=!0:a.splice(t,1),a})),i?.(!0))},clearVaultItemCollections:()=>u((e=>e.flatMap((e=>e.initiallyExisting?{...e,hasBeenDeleted:!0}:[]))))};return n.createElement(Uf.Provider,{value:{input:o,isInputVisible:r,filteredCollections:m,vaultItemCollections:d,vaultItemCollectionsToDisplay:p,vaultItemId:t,spaceId:a}},n.createElement(Bf.Provider,{value:_},e))},Wf=()=>(0,n.useContext)(Uf),Gf=()=>(0,n.useContext)(Bf),Vf=({credentialCategories:e,onChange:t,selectedCategoryName:a})=>{const{translate:i}=(0,j.Z)();if(!e.length)return null;a||(a=i("webapp_credential_edition_field_placeholder_no_category"));const o=e.map((e=>({name:e.categoryName,id:e.id})));return n.createElement(ch.Z,{key:a,label:i("webapp_credential_edition_field_category"),placeholder:a,dataName:"category",options:Py("credential",o,i("webapp_credential_edition_field_category_option_no_category")),defaultOption:(s="credential",r=a,l=o,c=i("webapp_credential_edition_field_category_option_no_category"),zy(s,Py(s,l,c),r,c)),onChange:t});var s,r,l,c};var Yf=a(911220);const Hf=e=>(0,we.tZ)("div",{sx:{flex:"1",display:"flex",flexDirection:"column"},...e}),qf=(0,a(481820).F4)({from:{transform:"scale3d(1, 0, 1)"},to:{transform:"scale3d(1, 1, 1)"}}),Qf=e=>(0,we.tZ)("span",{sx:{position:"absolute",top:"calc(100% - 4px)",zIndex:7,width:"100%",backgroundColor:"white",boxShadow:"0px 4px 8px rgb(0 0 0 / 25%)",border:"1px solid",borderColor:"ds.border.neutral.quiet.idle",transformOrigin:"0 0",animation:`${qf} 150ms`},...e}),Xf=e=>(0,we.tZ)("div",{sx:{display:"flex",flexDirection:"row"},...e});var Kf;const Jf=({hasMultipleCollections:e,...t})=>{const{spaceId:a}=Wf(),i=(e=>{const t=(0,Ki.E)(),{translate:a}=(0,j.Z)();return t.status!==Ft.rq.Success||0===t.data.length?"":t.data.find((t=>t.teamId===e))?.teamName||a("webapp_form_field_personal_space")})(a),{translate:o}=(0,j.Z)();return(0,we.tZ)("label",{sx:{display:"flex",width:"149px",justifyContent:"flex-end",fontWeight:"600",textAlign:"right"},...t},(0,we.tZ)("span",{sx:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},i&&(0,we.tZ)(n.Fragment,null,`${i}`,Kf||(Kf=(0,we.tZ)("br",null))),o(e?"webapp_credentials_header_row_category":"webapp_credential_edition_field_category")))},$f={"::-webkit-scrollbar":{width:"4px"},"::-webkit-scrollbar-thumb":{background:"rgba(0, 0, 0, 0.38)",borderRadius:"8px"},"::-webkit-scrollbar-thumb:hover":{background:"rgba(0, 0, 0, 0.5)"}},ev=e=>(0,we.tZ)("ul",{sx:{display:"flex",flexDirection:"column",gap:"16px",overflowY:"scroll",maxHeight:"25vh",padding:"8px",...$f},...e}),tv=({onClick:e})=>{const{translate:t}=(0,j.Z)(),{input:a,filteredCollections:n}=Wf(),i=n.some((e=>e.name===a));return!a||i?null:(0,we.tZ)("li",{sx:{display:"flex",alignItems:"center"}},(0,we.tZ)(ao,{style:{color:"ds.text.brand.standard",margin:"0 12px",overflow:"unset",width:"fit-content"}},t("webapp_collections_input_create")),(0,we.tZ)(we.zx,{onClick:()=>e(a),intensity:"quiet",mood:"neutral",sx:{overflow:"hidden"}},(0,we.tZ)(ao,null,a)))},av=({id:e,withSelection:t=!1,...a})=>{const i=(0,n.useRef)(null),{input:o,filteredCollections:s}=Wf(),{setInput:r,onSubmit:l}=Gf(),c=e=>{l(e),i.current?.focus()};return(0,we.tZ)(Xf,{sx:{gap:"16px"},...a},(0,we.tZ)("span",{sx:{position:"relative",width:"240px"}},(0,we.tZ)(oo,{ref:i,id:e,input:o,setInput:r,onSubmit:c}),t&&(s.length||o)&&(0,we.tZ)(Qf,null,(0,we.tZ)(ev,null,(0,we.tZ)(tv,{onClick:c}),s.map((t=>(0,we.tZ)("li",{key:`${e}_collection_input_${t.id}`,sx:{width:"fit-content",maxWidth:"100%"}},(0,we.tZ)(no,{onClick:()=>c(t.name),title:t.name},(0,we.tZ)(Yf.d,{text:t.name,searchValue:o})))))))))};var nv;const iv=({id:e,hasCollections:t})=>{const{translate:a}=(0,j.Z)(),{isInputVisible:n}=Wf(),{setIsInputVisible:i}=Gf();return n?(0,we.tZ)(av,{id:e,withSelection:!0,onBlur:e=>{e.currentTarget.contains(e.relatedTarget)||i(!1)}}):(0,we.tZ)(we.zx,{sx:{margin:"4px 0"},onClick:()=>i(!0),icon:nv||(nv=(0,we.tZ)(s.dtP,null)),layout:"iconLeading",intensity:"supershy"},a(t?"webapp_collections_input_placeholder_add_another":"webapp_collections_input_placeholder_add_new"))},ov="collectionsFieldId",sv=(0,n.forwardRef)(((e,t)=>{const{vaultItemCollections:a,vaultItemCollectionsToDisplay:i}=Wf(),{onDelete:o,clearVaultItemCollections:s}=Gf(),r=i?.length>0;return(0,n.useImperativeHandle)(t,(()=>({getVaultItemCollections:()=>a,clearVaultItemCollections:s}))),(0,we.tZ)(Xf,{sx:{gap:"24px",alignItems:!r&&"center"}},(0,we.tZ)(Jf,{hasMultipleCollections:i?.length>1,htmlFor:ov,sx:{marginTop:r&&"15px"}}),(0,we.tZ)(Hf,{sx:{...r&&{gap:"8px",marginTop:"10px"}}},(0,we.tZ)(co,{sx:{marginLeft:"16px"},collectionListItems:i.map((e=>(0,we.tZ)(ro,{key:`collections_field_li_${e.name}`},(0,we.tZ)(io,{onDismiss:()=>o(e.name)},e.name))))}),(0,we.tZ)(iv,{id:ov,hasCollections:r})))})),rv=(0,n.forwardRef)((({credentialCategories:e,selectedCategoryId:t,vaultItemId:a,spaceId:n,signalEditedValues:i,...o},s)=>{const{isCollectionsEnabled:r,isCollectionsLoading:l}=Qi();return r&&l?null:r?(0,we.tZ)(Ff,{vaultItemId:a,spaceId:n,signalEditedValues:i},(0,we.tZ)(sv,{ref:s})):(0,we.tZ)(Vf,{credentialCategories:e,selectedCategoryName:e.find((e=>e.id===t))?.categoryName,...o})}));class lv extends fb{constructor(e){super(e),this.passwordInitiallyEmpty=void 0,this.GENERATE_PASSWORD_FEATURE_FLIP="techweek_web_passwordGeneratorInEditView_v2",this.collectionsFieldRef=void 0,this.handleSpaceChange=e=>{this.state.values.spaceId!==e&&(this.collectionsFieldRef.current?.clearVaultItemCollections(),this.handleChange(e,"spaceId"))},this.isValueFieldVisible=(e=>{const t={[mN.OTP_CODE]:_N(e),[mN.SECONDARY_LOGIN]:gN(e)};return(e,a)=>t[e]||!!a})(this.state),this.onCopyField=async(e,t,a)=>{const n=await(0,on.gm)(g.C)?new an.ParsedURL(this.state.values.url).getRootDomain():(0,tn.extractRootDomain)(this.state.values.url);(0,O.K)(new N.UserCopyVaultItemFieldEvent({itemType:N.ItemType.Credential,field:e,itemId:this.state.values.id,isProtected:!(e!==N.Field.Password||!this.state.values.autoProtected&&!this.state.internal.credentialsGloballyRequireMP)})),(0,O.K)(new N.AnonymousCopyVaultItemFieldEvent({itemType:N.ItemType.Credential,field:e,domain:{id:await(0,N.hashDomain)(n),type:N.DomainType.Web}})),a&&this.props.lee.dispatchGlobal((0,et.Z)("[credentials-form]: unable to copy to clipboard",a))},this.handlePasswordFocused=e=>{if(!this.state.internal.isNewItemType&&this.isItemLocked()&&!this.state.internal.showingPassword){const{currentTarget:t}=e,a=()=>{t?.focus()};this.props.additionalProps?.openProtectedItemsUnlocker({action:Ne.P7.Show,itemType:Ne.Ru.Password,showNeverAskOption:!0,credentialId:this.state.values.id,successCallback:a})}},this.onCopyEmailField=this.onCopyField.bind(this,N.Field.Email),this.onCopyLoginField=this.onCopyField.bind(this,N.Field.Login),this.onCopyOtpCodeField=this.onCopyField.bind(this,N.Field.OtpCode),this.onCopyPasswordField=this.onCopyField.bind(this,N.Field.Password),this.onCopySecondaryField=this.onCopyField.bind(this,N.Field.SecondaryLogin),this.isItemLocked=()=>!this.passwordInitiallyEmpty&&(void 0!==this.props.additionalProps?.areProtectedItemsUnlocked?!this.props.additionalProps.areProtectedItemsUnlocked&&(this.state.values.autoProtected||this.state.internal.credentialsGloballyRequireMP):void 0),this.toggleShowPassword=e=>{this.setInternalState({showingPassword:e}),e&&this.logRevealPassword()},this.logRevealPassword=async()=>{const e=await(0,on.gm)(g.C)?new an.ParsedURL(this.state.values.url).getRootDomain():(0,tn.extractRootDomain)(this.state.values.url),t=!!this.state.values.autoProtected||!!this.state.internal.credentialsGloballyRequireMP;this.state.values.id&&((0,O.K)(new N.UserRevealVaultItemFieldEvent({field:N.Field.Password,isProtected:t,itemId:this.state.values.id,itemType:N.ItemType.Credential})),(0,O.K)(new N.AnonymousRevealVaultItemFieldEvent({field:N.Field.Password,itemType:N.ItemType.Credential,domain:{id:await(0,N.hashDomain)(e),type:N.DomainType.Web}})))};const{additionalProps:{activeSpaces:t,credentialCategories:a,shouldShowRequireMasterPassword:i},newItemType:o}=e,s={activeSpaces:t,credentialCategories:a,isNewItemType:!!o,shouldShowRequireMasterPassword:i,showingPassword:!1,credentialsGloballyRequireMP:void 0};this.passwordInitiallyEmpty=!this.state.values.password,this.state={...this.state,internal:{...this.state.internal,...s}},this.collectionsFieldRef=n.createRef()}componentDidMount(){g.C.arePasswordsProtected().then((e=>{this.setState((t=>({internal:{...t.internal,credentialsGloballyRequireMP:e}})))}))}isFormValid(){return!0}getVaultItemCollections(){return this.collectionsFieldRef.current?.getVaultItemCollections()}goToWebsite(e){(0,Be.k)(e),(0,je.Yo)(e.redirectUrl)}isEditViewButtonEnabled(e){const{internal:t}=this.state;return!t.isNewItemType&&Boolean(e)}isNotLimitedPermissions(){const{internal:e,values:t}=this.state;return!e.isNewItemType&&!t.limitedPermissions}render(){var e,t,a,i;const o=this.props.lee.translate.namespace("webapp_credential_edition_field_"),{internal:r,values:l,errors:c}=this.state,{credentialCategories:d=[]}=this.state.internal,u=(0,X.capitalize)(null!=(e=pN.HQ.getDomainForUrl(l.url))?e:"");let p=l.spaceId;l.forceCategorizedSpace?.details?.teamName&&(p=l.forceCategorizedSpace?.teamId);const m=r.activeSpaces?.find((e=>e.teamId===p)),_=null!=(t=m?.teamName)?t:o("space_personal");return n.createElement(n.Fragment,null,n.createElement("div",{className:Zb.containerBlock},(g=this.state,Boolean(g.internal.isNewItemType)?n.createElement(Sf,{url:l.url,hasUrlError:c.url,linkedWebsites:l.linkedWebsites,handleMainWebsiteChange:this.handleChange,handleChanges:this.handleChanges,handleGoToWebsite:()=>this.goToWebsite(l)}):null),(e=>!this.state.internal.isNewItemType)()&&n.createElement(uh.N,{enabled:this.isEditViewButtonEnabled(l.email),disableHover:!0},n.createElement(lh.Z,{label:o("email"),placeholder:o("placeholder_no_email"),dataName:"email",readOnly:l.limitedPermissions,value:l.email,onChange:this.handleChange}),n.createElement(ph.m,{data:l.email,onCopy:this.onCopyEmailField})),n.createElement(uh.N,{enabled:this.isEditViewButtonEnabled(l.login),disableHover:!0},n.createElement(lh.Z,{label:o("login"),placeholder:o("placeholder_no_login"),dataName:"login",readOnly:l.limitedPermissions,value:l.login,onChange:this.handleChange}),n.createElement(ph.m,{data:l.login,onCopy:this.onCopyLoginField})),this.isValueFieldVisible(mN.SECONDARY_LOGIN,l.secondaryLogin)&&n.createElement(uh.N,{enabled:Boolean(l.secondaryLogin),disableHover:!0},n.createElement(lh.Z,{label:o("secondary_login"),placeholder:o("placeholder_no_secondary_login"),dataName:"secondaryLogin",value:l.secondaryLogin,readOnly:l.limitedPermissions,onChange:this.handleChange}),n.createElement(ph.m,{data:l.secondaryLogin,onCopy:this.onCopySecondaryField})),n.createElement(uh.N,{enabled:!0,disableHover:!0},n.createElement("div",{className:"centeredFieldContainer--hqprAHIrBT"},n.createElement("label",{className:zf.Z.label,htmlFor:"password"},n.createElement("span",{className:zf.Z.text,title:o("password")},o("password"))),n.createElement(hN,{key:"password",className:"passwordInput--hOFtro6yVO",id:"password",requiresMasterPassword:!r.isNewItemType&&this.isItemLocked(),credentialId:l.id,value:l.password,placeholder:o("placeholder_no_password"),hidePasswordTooltipText:o("password_action_hide"),showPasswordTooltipText:o("password_action_show"),disabled:!r.isNewItemType&&l.limitedPermissions,readOnly:!r.isNewItemType&&this.isItemLocked(),onFocus:this.handlePasswordFocused,onChange:e=>this.handleChange(e.target.value,"password"),onPasswordVisibilityChanged:this.toggleShowPassword,style:{width:"240px"}})),n.createElement("div",{className:"passwordButtonsActions--sHufzyFHxV"},this.isNotLimitedPermissions()&&l.password?n.createElement(n.Fragment,null,n.createElement(ph.m,{itemId:l.id,disabled:void 0===this.isItemLocked(),data:l.password,checkProtected:this.isItemLocked,onCopy:this.onCopyPasswordField}),n.createElement(Pf,{credential:l})):null,l.password?null:n.createElement(Oc.h,{featureFlips:[this.GENERATE_PASSWORD_FEATURE_FLIP]},n.createElement(uf,{handleChangePassword:e=>this.handleChange(e,"password"),credential:l})))),this.isValueFieldVisible(mN.OTP_CODE)?n.createElement(Rf,{credentialId:this.state.values.id,onCopy:this.onCopyOtpCodeField}):null),(e=>!this.state.internal.isNewItemType)()?n.createElement(Mf,{url:l.url,linkedWebsites:l.linkedWebsites,hasUrlError:c.url,editViewButtonEnabled:this.isEditViewButtonEnabled(l.url),limitedPermissions:l.limitedPermissions,handleChange:this.handleChange,handleGoToWebsite:()=>this.goToWebsite(l),onClickAddNewWebsite:this.props.additionalProps?.onClickAddNewWebsite,onClickLinkedWebsitesCount:this.props.additionalProps?.onClickLinkedWebsitesCount}):null,n.createElement("div",{className:Zb.containerBlock},n.createElement(lh.Z,{label:o("name"),placeholder:o("placeholder_no_title"),dataName:"title",value:l.title||u,readOnly:l.limitedPermissions,onChange:this.handleChange}),(e=>{var t;return(null!=(t=e.internal.activeSpaces?.length)?t:0)>0})(this.state)?n.createElement(s.ua7,{content:o("force_categorized",{space:_}),passThrough:!l.forceCategorizedSpace},n.createElement("div",null,n.createElement(bo,{labelSx:ho,spaceId:null!=(a=this.state.values.spaceId)?a:"",isDisabled:Boolean(l.forceCategorizedSpace),onChange:this.handleSpaceChange}))):null,n.createElement(rv,{credentialCategories:d,onChange:this.handleChange,selectedCategoryId:l.category,spaceId:null!=(i=this.state.values.spaceId)?i:"",vaultItemId:l.id,ref:this.collectionsFieldRef,signalEditedValues:this.props.signalEditedValues}),n.createElement(lh.Z,{label:o("note"),placeholder:o("placeholder_no_note"),dataName:"note",value:l.note,disabled:l.limitedPermissions,onChange:this.handleChange,multiLine:!0,testId:"credential_edit_note_value"})),n.createElement(MN,{isNewCredential:!!r.isNewItemType,credentialPreferences:{autoLogin:l.autoLogin,requiresMp:!!l.autoProtected,subDomainOnly:!!l.onlyForThisSubdomain},update:e=>(this.handleChanges({autoLogin:e.autoLogin,autoProtected:e.requiresMp,protectWithMasterPassword:e.requiresMp,onlyForThisSubdomain:e.subDomainOnly}),Promise.resolve()),url:l.url,dashlaneDefinedLinkedWebsites:l.linkedWebsites.addedByDashlane}));var g}}const cv=async e=>{const t=await(0,on.gm)(g.C);return await Promise.all(e.map((e=>(0,N.hashDomain)((e=>t?new an.ParsedURL(e).getRootDomain():(0,je.JI)(e))(e)))))};var dv;const uv=n.memo((({credential:e,onClose:t,openWithNewUrlField:a,onUpdateLinkedWebsitesAddedByUser:i,hasLimitedRights:o})=>{const{translate:r}=(0,j.Z)(),[l,c]=n.useState(e.linkedWebsites.addedByUser),[d,u]=n.useState(a);return n.useEffect((()=>{const t=e.linkedWebsites.addedByUser,a=!(t.length===l.length&&t.every(((e,t)=>l[t]===e)));u(a),i(l)}),[l]),n.createElement("div",{className:Zb.form,"data-testid":"linked-websites-tab"},n.createElement("div",{className:"header--GePOOHOBzn"},n.createElement("button",{className:"backButton--ApWZZ3esh6",onClick:t},dv||(dv=n.createElement(s.wyc,{size:12}))),n.createElement(s.X6q,{size:"small"},r("webapp_credential_linked_websites_title"))),n.createElement("div",{className:Zb.containerBlock},n.createElement(Ef,{label:"webapp_credential_linked_websites_section_primary",linkedWebsitesList:[e.url],areItemsLocked:o,credentialId:e.id,isEditing:!1})),n.createElement("div",{className:Zb.containerBlock},n.createElement(Ef,{label:"webapp_credential_linked_websites_section_added_by_user",linkedWebsitesList:l,areItemsLocked:o,credentialId:e.id,isListEditable:!o,isEditing:d,showUrlProtocol:!0,updateLinkedWebsitesList:c})),e.linkedWebsites.addedByDashlane.length>1?n.createElement("div",{className:Zb.containerBlock},n.createElement(Ef,{label:"webapp_credential_linked_websites_section_added_by_dashlane",linkedWebsitesList:e.linkedWebsites.addedByDashlane,areItemsLocked:!0,credentialId:e.id,isEditing:!1})):null)})),pv=({onClose:e})=>{const{translate:t}=(0,j.Z)();return n.createElement(s.YcA,null,n.createElement(s.bZj,{size:s.k3y.SMALL,severity:s.BLW.SUCCESS,closeIconName:t("_common_alert_dismiss_button"),onClose:e},t("_common_toast_changes_saved")))},mv=({onCancel:e,onLeavePageWithoutSaving:t})=>{const{translate:a}=(0,j.Z)();return n.createElement(os.o,{isOpen:!0,showCloseIcon:!0,title:a("webapp_credential_linked_websites_discard_dialog_title"),onRequestClose:e,footer:n.createElement(s.Ejs,{justifyContent:"end",gap:"8px"},n.createElement(s.zxk,{type:"button",nature:"secondary",onClick:e},a("webapp_credential_linked_websites_discard_dialog_cancel")),n.createElement(s.zxk,{type:"button",onClick:t},a("webapp_credential_linked_websites_discard_dialog_discard")))},n.createElement(s.Ejs,{flexDirection:"column",gap:"8px",sx:{width:"576px"}},n.createElement(s.nvN,null,a.markup("webapp_credential_linked_websites_discard_dialog_description_markup"))))},_v=({duplicateData:e,onCancel:t,onSave:a})=>{const{translate:i}=(0,j.Z)(),o=e.length>1,r=o?i("webapp_credential_linked_websites_duplicate_prevention_dialog_title_multiple"):i("webapp_credential_linked_websites_duplicate_prevention_dialog_title_one",{url:e[0].linkedWebsite}),l=o?i("webapp_credential_linked_websites_duplicate_prevention_dialog_description_multiple"):i("webapp_credential_linked_websites_duplicate_prevention_dialog_description_one",{credentialName:e[0].credentialName}),c=i(o?"webapp_credential_linked_websites_duplicate_prevention_dialog_add_websites_multiple":"webapp_credential_linked_websites_duplicate_prevention_dialog_add_websites_one");return n.createElement(os.o,{isOpen:!0,showCloseIcon:!0,title:r,onRequestClose:t,footer:n.createElement(s.Ejs,{justifyContent:"end",gap:"8px"},n.createElement(s.zxk,{type:"button",nature:"secondary",onClick:t},i("webapp_credential_linked_websites_duplicate_prevention_dialog_cancel")),n.createElement(s.zxk,{type:"button",onClick:a},c))},n.createElement("div",null,n.createElement("p",null,l),o?n.createElement("ul",{className:"duplicatesList--SwGmL5ftwe"},e.map((e=>n.createElement("li",{key:e.linkedWebsite,className:"duplicateItem--mPX5urdfL2"},e.linkedWebsite)))):null))};var gv;const hv="webapp_password_history_detailed_password_view_button",bv=({credentialId:e,credHasPasswordHistory:t})=>{const{translate:a}=(0,j.Z)(),{routes:o}=(0,i.Xo)(),r=o.userPasswordHistoryFilteredByCredential(e);return t?n.createElement("div",null,n.createElement(i.rU,{to:r,tabIndex:-1},n.createElement(we.zx,{mood:"neutral",intensity:"quiet",title:a(hv),icon:gv||(gv=n.createElement(s.tru,null)),layout:"iconLeading"},a(hv)))):null};var Cv=a(373245);const wv={exit:"exit--p4spwlkedE",exitActive:"exitActive--BIpaDF7MkX",exitDone:"exitDone--KzowOK4h4K",appear:"appear--OcvlWdq5He",appearActive:"appearActive--HVwCcEJzKz",appearDone:"appearDone--KgBJPzbyTA"},yv=n.memo((({onPrimaryClick:e})=>{const{translate:t}=(0,j.Z)(),[a,i]=n.useState(!1);return n.createElement(l.Z,{appear:!0,in:!a,timeout:600,classNames:wv,onExited:e},n.createElement("div",{className:"infoboxWrapper--wv1g66AwDu"},n.createElement(s.vDh,{title:n.createElement("div",{className:"boxTitle--OPmhjIjNsk"},t("webapp_credential_edition_health_box_excluded_title")),severity:"subtle",size:"descriptive",actions:[n.createElement(s.zxk,{nature:"primary",onClick:e=>{e.preventDefault(),i(!0)},key:"primaryAction",size:"small",type:"button"},t("webapp_credential_edition_health_box_include"))]},n.createElement("div",{className:"descriptionWarning--MZGXiyazU_"},t("webapp_credential_edition_health_box_excluded_description")))))})),Ev={appear:"appear--MMCjEcRU3u",appearActive:"appearActive--LG103cUrNZ",appearDone:"appearDone--tuYaN3WTGO"},Iv="infoboxWrapper--HmImoFEcPo",Nv=n.memo((({onPrimaryClick:e,onSecondaryClick:t,riskType:a,isLimitedSharingPassword:n})=>{const{translate:i}=(0,j.Z)(),o=((e,t)=>{switch(e.label){case sI.Compromised:return{title:t("webapp_credential_edition_health_box_compromised_title"),description:t("webapp_credential_edition_health_box_compromised_description"),secondary:t("webapp_credential_edition_health_box_view_compromised")};case sI.Reused:return{title:t("webapp_credential_edition_health_box_reused_title"),description:t.markup("webapp_credential_edition_health_box_reused_description_markup",{count:e.count}),secondary:t("webapp_credential_edition_health_box_view_reused")};case sI.Weak:return{title:t("webapp_credential_edition_health_box_weak_title"),description:t("webapp_credential_edition_health_box_weak_description"),secondary:t("webapp_credential_edition_health_box_view_weak")};default:return(0,Ke.U)(e)}})(a,i),r=a.level===nI.Compromised?"warning":"brand";return(0,we.tZ)(l.Z,{in:!0,appear:!0,timeout:600,classNames:Ev},(0,we.tZ)("div",{className:Iv,sx:{backgroundColor:"ds.background.default"}},(0,we.tZ)(we.ke,{title:o.title,description:o.description,mood:r,size:"large",actions:[(0,we.tZ)(we.zx,{onClick:t,intensity:"quiet",key:"view_health",size:"small"},o.secondary),(0,we.tZ)(s.ua7,{passThrough:!n,key:"change_password",content:i("webapp_credential_edition_health_box_change_limited"),placement:"left",sx:{maxWidth:"312px",fontSize:2}},(0,we.tZ)(we.zx,{size:"small",onClick:e,disabled:n},i("webapp_credential_edition_health_box_change_password")))]})))})),fv=JSON.parse('{"v":"5.7.0","fr":30,"ip":0,"op":26,"w":240,"h":240,"nm":"Loading Light Theme","ddd":0,"assets":[],"layers":[{"ddd":0,"ind":1,"ty":3,"nm":"Null 4","sr":1,"ks":{"o":{"a":0,"k":0,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[120,122,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"ip":0,"op":150,"st":0,"bm":0},{"ddd":0,"ind":2,"ty":4,"nm":"load","parent":1,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[0,151,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[250,250,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[88,88],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"st","c":{"a":0,"k":[0.05490196078,0.2078431373,0.2392156863,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":6,"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0.5,-60.5],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Ellipse 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"tm","s":{"a":0,"k":0,"ix":1},"e":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.167],"y":[0.167]},"t":0,"s":[10]},{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.333],"y":[0]},"t":12.5,"s":[42]},{"t":25,"s":[10]}],"ix":2},"o":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.2],"y":[0]},"t":0,"s":[-19]},{"t":25,"s":[341]}],"ix":3},"m":1,"ix":2,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim","hd":false}],"ip":0,"op":106.197876042479,"st":0,"bm":0},{"ddd":0,"ind":3,"ty":4,"nm":"load 2","parent":1,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[0,151,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[250,250,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[88,88],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"st","c":{"a":0,"k":[0.9058823529,0.9215686275,0.9254901961,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":6,"ix":5},"lc":2,"lj":1,"ml":4,"bm":0,"nm":".","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0.5,-60.5],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Ellipse 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":106.197876042479,"st":0,"bm":0}],"markers":[]}'),vv="healthInfoContainer--Oetnuw7mbu",Sv="loader--q4x90RGHZr",Dv=n.memo((({onPrimaryClick:e,onSecondaryClick:t,isLimitedSharingPassword:a,corruptionData:n})=>{const{translate:i}=(0,j.Z)();if(!n)return null;const o=((e,t)=>{const{riskType:a}=e;switch(a){case zc.RiskType.Compromised:return{title:t("webapp_credential_edition_health_box_compromised_title"),description:t("webapp_credential_edition_health_box_compromised_description"),secondary:t("webapp_credential_edition_health_box_view_compromised")};case zc.RiskType.Reused:return{title:t("webapp_credential_edition_health_box_reused_title"),description:t.markup("webapp_credential_edition_health_box_reused_description_markup",{count:e.reuseCount}),secondary:t("webapp_credential_edition_health_box_view_reused")};case zc.RiskType.Weak:return{title:t("webapp_credential_edition_health_box_weak_title"),description:t("webapp_credential_edition_health_box_weak_description"),secondary:t("webapp_credential_edition_health_box_view_weak")};default:return(0,Ke.U)(a)}})(n,i),r=n.severity===zc.CorruptionDataSeverity.STRONG?"warning":"brand";return(0,we.tZ)(l.Z,{in:!0,appear:!0,timeout:600,classNames:Ev},(0,we.tZ)("div",{className:Iv,sx:{backgroundColor:"ds.background.default"}},(0,we.tZ)(we.ke,{title:o.title,description:o.description,mood:r,size:"large",actions:[(0,we.tZ)(we.zx,{onClick:t,intensity:"quiet",key:"view_health",size:"small"},o.secondary),(0,we.tZ)(s.ua7,{passThrough:!a,key:"change_password",content:i("webapp_credential_edition_health_box_change_limited"),placement:"left",sx:{maxWidth:"312px",fontSize:2}},(0,we.tZ)(we.zx,{size:"small",onClick:e,disabled:a},i("webapp_credential_edition_health_box_change_password")))]})))})),xv=()=>{const{updateIsCredentialExcluded:e}=(0,Gi.u7)(zc.passwordHealthApi);return{updateIsCredentialExcluded:(t,a)=>{e({credentialId:t,excluded:a})}}},Mv=({credential:e})=>{const t=(0,i.k6)(),{routes:a}=(0,J.Xo)(),o=uI(e.health),[s,r]=(0,n.useState)(null),l=(0,n.useCallback)((e=>r(e)),[]),c=(0,n.useCallback)((()=>r(null)),[]),d=e.sharingStatus?.isShared&&"limited"===e.sharingStatus.permission||!1,u=(0,n.useCallback)((t=>{t.preventDefault(),l(e.id)}),[e.domainIcon,e.id,e.title,e.url,e.redirectUrl,l,o.label]),p=(0,n.useCallback)((e=>{e.preventDefault(),t.push(a.userPasswordHealth)}),[t,a.userPasswordHealth]),{updateIsCredentialExcluded:m}=xv(),{healthData:_}=(e=>{const{data:t}=(0,Gi.k$)(zc.passwordHealthApi,"credentialHealthData",{credentialId:e});return{healthData:t}})(e.id),g=(0,n.useCallback)((()=>{m(e.id,!1)}),[e.id,m]);return null===_?null:_?n.createElement("div",{className:vv},s?n.createElement(Of,{credentialId:s,dismissCallback:c}):null,n.createElement("div",{className:Sv},n.createElement(Cv.Z,{height:24,width:24,animationParams:{renderer:"svg",loop:!0,autoplay:!0,animationData:fv}})),_.excluded?n.createElement(yv,{onPrimaryClick:g}):n.createElement(Dv,{onPrimaryClick:u,onSecondaryClick:p,isLimitedSharingPassword:d,corruptionData:_.corruptionData})):n.createElement("div",{className:vv},n.createElement("div",{className:Sv},n.createElement(Cv.Z,{height:24,width:24,animationParams:{renderer:"svg",loop:!0,autoplay:!0,animationData:fv}})))},Tv=({credential:e})=>{const t=(0,i.k6)(),{routes:a}=(0,J.Xo)(),o=uI(e.health),[s,r]=(0,n.useState)(null),l=(0,n.useCallback)((e=>r(e)),[]),c=(0,n.useCallback)((()=>r(null)),[]),d=e.sharingStatus?.isShared&&"limited"===e.sharingStatus.permission||!1,u=(0,n.useCallback)((t=>{t.preventDefault(),l(e.id)}),[e.domainIcon,e.id,e.title,e.url,e.redirectUrl,l,o.label]),p=(0,n.useCallback)((e=>{e.preventDefault(),t.push(a.userPasswordHealth)}),[t,a.userPasswordHealth]),m=(0,n.useCallback)((async()=>{await g.C.updateCredential({id:e.id,update:{isExcludedFromHealth:!1}})}),[e.id]);return o.label!==sI.None||e.isExcludedFromHealth?o.label===sI.NotComputed?n.createElement("div",{className:vv},n.createElement("div",{className:Sv},n.createElement(Cv.Z,{height:24,width:24,animationParams:{renderer:"svg",loop:!0,autoplay:!0,animationData:fv}}))):n.createElement("div",{className:vv},s?n.createElement(Of,{credentialId:s,dismissCallback:c}):null,n.createElement("div",{className:Sv},n.createElement(Cv.Z,{height:24,width:24,animationParams:{renderer:"svg",loop:!0,autoplay:!0,animationData:fv}})),o.label===sI.None?n.createElement(yv,{onPrimaryClick:m}):n.createElement(Nv,{onPrimaryClick:u,onSecondaryClick:p,riskType:o,isLimitedSharingPassword:d})):null},Av=({credential:e})=>(0,it.w)("ims_web_ph_mv3_dev")?n.createElement(Mv,{credential:e}):n.createElement(Tv,{credential:e}),kv="icon--gEZfcCvjSg",{SHARED_ACCESS:Zv,ACCOUNT_DETAILS:Ov}=nn,Lv=["160x106@2x","118x98@2x"],Pv=({activeTab:e,credential:t,displayTabs:a,changeTab:n,showSecurityScore:i})=>{const{translate:o}=(0,j.Z)(),r=t.strength,l=(0,we.tZ)("div",null,(0,we.tZ)("img",{className:kv,src:r<70?"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+Cjxzdmcgd2lkdGg9IjE2cHgiIGhlaWdodD0iMThweCIgdmlld0JveD0iMCAwIDE2IDE4IiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPgogICAgPCEtLSBHZW5lcmF0b3I6IFNrZXRjaCAzOS4xICgzMTcyMCkgLSBodHRwOi8vd3d3LmJvaGVtaWFuY29kaW5nLmNvbS9za2V0Y2ggLS0+CiAgICA8dGl0bGU+aWNvbi1zZXQvcGFzc3dvcmQtc3RyZW5naHQtZmxhZzwvdGl0bGU+CiAgICA8ZGVzYz5DcmVhdGVkIHdpdGggU2tldGNoLjwvZGVzYz4KICAgIDxkZWZzPjwvZGVmcz4KICAgIDxnIGlkPSJQYXNzd29yZHMiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGlkPSJXZWJBcHBfcGFzc3dvcmRzXzE0NDB4OTAwX2RldGFpbHMtdmlldzJfbWNfdjMuMCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTk5Mi4wMDAwMDAsIC0xMzYuMDAwMDAwKSIgZmlsbD0iI0ZGRkZGRiI+CiAgICAgICAgICAgIDxnIGlkPSJEZXRhaWxzLVZpZXciIHRyYW5zZm9ybT0idHJhbnNsYXRlKDgwMC4wMDAwMDAsIDYwLjAwMDAwMCkiPgogICAgICAgICAgICAgICAgPGcgaWQ9IkVkaXQiPgogICAgICAgICAgICAgICAgICAgIDxnIGlkPSJIZWFkZXIiPgogICAgICAgICAgICAgICAgICAgICAgICA8ZyBpZD0ic3RyZW5ndGgiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDE5Mi4wMDAwMDAsIDc0LjAwMDAwMCkiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGcgaWQ9Imljb24tc2V0L3Bhc3N3b3JkLXN0cmVuZ2h0LWZsYWciIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAuMDAwMDAwLCAyLjAwMDAwMCkiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xNC43MTY4NzEyLDExLjc0ODMwNzYgQzEyLjYyMzkwNTksMTYuNjA0MzQ2OSA4LjAxMDc1NjY1LDE3Ljk5NTc4NjUgOCwxOCBDNy45ODkyNDMzNSwxNy45OTU3ODY1IDMuMzc2MDk0MDcsMTYuNjA0MzQ2OSAxLjI4MzEyODgzLDExLjc0ODMwNzYgQzAuMzUsOS41ODMyNzI0NyAwLDYuNTQ0NTA4NDMgMCwyLjY2NDQ4MDM0IEMwLjE3NjI1NzY2OSwyLjYwNTI1OTgzIDgsMCA4LDAgQzgsMCAxNS44MjM3NDIzLDIuNjA1MjU5ODMgMTYsMi42NjQ0ODAzNCBDMTYsNi41NDQ1MDg0MyAxNS42NDk5Nzk2LDkuNTgzMjcyNDcgMTQuNzE2ODcxMiwxMS43NDgzMDc2IFogTTEwLjk2NTYyMzMsMTAuNDgxNzI3OCBDMTAuOTY1NjIzMywxMC40ODE3Mjc4IDcuOTk4MjQyNTYsMTAuNDgxNzI3OCA3Ljk5ODI0MjU2LDkuODkyNDc5ODUgQzcuOTk4MjQyNTYsOS41MzEzNDA0OCA2Ljg2OTk2MDkxLDkuMzk4NzAwOTkgNS45OTkxOTI5Niw5LjM1MDE4MzkgTDUuOTk5MTkyOTYsMTQgTDUsMTQgTDUsNCBMNS45OTkxOTI5Niw0IEw1Ljk5OTE5Mjk2LDQuMDUyMDM4NSBDNi44NzE2MjAxNSw0LjEzMzAzMDc1IDcuOTk4MjQyNTYsNC4zNDE5NjcyOSA3Ljk5ODI0MjU2LDQuODg0MjYzMjQgQzcuOTk4MjQyNTYsNS43NjgxMzUyMiAxMC45ODEyMjAxLDUuMTk3Mjc2NzggMTAuOTk2ODE3LDUuODA0OTE0MzEgQzExLjAxMjQxMzgsNi40MTI1NTE4NCAxMC45NjU2MjMzLDEwLjQ4MTcyNzggMTAuOTY1NjIzMywxMC40ODE3Mjc4IFoiIGlkPSJDb21iaW5lZC1TaGFwZSI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9nPgogICAgICAgICAgICAgICAgICAgICAgICA8L2c+CiAgICAgICAgICAgICAgICAgICAgPC9nPgogICAgICAgICAgICAgICAgPC9nPgogICAgICAgICAgICA8L2c+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N2Zz4K":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+Cjxzdmcgd2lkdGg9IjE2cHgiIGhlaWdodD0iMThweCIgdmlld0JveD0iMCAwIDE2IDE4IiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPgogICAgPCEtLSBHZW5lcmF0b3I6IFNrZXRjaCAzOS4xICgzMTcyMCkgLSBodHRwOi8vd3d3LmJvaGVtaWFuY29kaW5nLmNvbS9za2V0Y2ggLS0+CiAgICA8dGl0bGU+aWNvbi1zZXQvcGFzc3dvcmQtc3RyZW5naHQtc3Ryb25nPC90aXRsZT4KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPgogICAgPGRlZnM+PC9kZWZzPgogICAgPGcgaWQ9IlBhc3N3b3JkcyIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+CiAgICAgICAgPGcgaWQ9IldlYkFwcF9wYXNzd29yZHNfMTQ0MHg5MDBfZGV0YWlscy12aWV3X21jX3YzLjAiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC05OTIuMDAwMDAwLCAtMTM2LjAwMDAwMCkiIGZpbGw9IiNGRkZGRkYiPgogICAgICAgICAgICA8ZyBpZD0iRGV0YWlscy1WaWV3IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg4MDAuMDAwMDAwLCA2MC4wMDAwMDApIj4KICAgICAgICAgICAgICAgIDxnIGlkPSJFZGl0Ij4KICAgICAgICAgICAgICAgICAgICA8ZyBpZD0iSGVhZGVyIj4KICAgICAgICAgICAgICAgICAgICAgICAgPGcgaWQ9InN0cmVuZ3RoIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxOTIuMDAwMDAwLCA3NC4wMDAwMDApIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxnIGlkPSJpY29uLXNldC9wYXNzd29yZC1zdHJlbmdodC1zdHJvbmciIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAuMDAwMDAwLCAyLjAwMDAwMCkiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xNC43MTY4NzEyLDExLjc0ODMwNzYgQzEyLjYyMzkwNTksMTYuNjA0MzQ2OSA4LjAxMDc1NjY1LDE3Ljk5NTc4NjUgOCwxOCBDNy45ODkyNDMzNSwxNy45OTU3ODY1IDMuMzc2MDk0MDcsMTYuNjA0MzQ2OSAxLjI4MzEyODgzLDExLjc0ODMwNzYgQzAuMzUsOS41ODMyNzI0NyAwLDYuNTQ0NTA4NDMgMCwyLjY2NDQ4MDM0IEMwLjE3NjI1NzY2OSwyLjYwNTI1OTgzIDgsMCA4LDAgQzgsMCAxNS44MjM3NDIzLDIuNjA1MjU5ODMgMTYsMi42NjQ0ODAzNCBDMTYsNi41NDQ1MDg0MyAxNS42NDk5Nzk2LDkuNTgzMjcyNDcgMTQuNzE2ODcxMiwxMS43NDgzMDc2IFogTTMuOTExOTQzOTgsOS4yODcwMTA5NyBDMy44NDM2NjM4Nyw5LjIxNzc2MDk3IDMuODA5NTIzODEsOS4xMTM4ODU5NyAzLjgwOTUyMzgxLDkuMDQ0NjM1OTcgQzMuODA5NTIzODEsOC45NzUzODU5NyAzLjg0MzY2Mzg3LDguODcxNTEwOTYgMy45MTE5NDM5OCw4LjgwMjI2MDk2IEw0LjM4OTkwNDc4LDguMzE3NTEwOTUgQzQuNTI2NDY1MDEsOC4xNzkwMTA5NCA0LjczMTMwNTM1LDguMTc5MDEwOTQgNC44Njc4NjU1OCw4LjMxNzUxMDk1IEw0LjkwMjAwNTYzLDguMzUyMTM1OTUgTDYuNzc5NzA4NzcsMTAuMzk1MDExIEM2Ljg0Nzk4ODg4LDEwLjQ2NDI2MSA2Ljk1MDQwOTA1LDEwLjQ2NDI2MSA3LjAxODY4OTE2LDEwLjM5NTAxMSBMMTEuNTkzNDU2OCw1LjU4MjEzNTg3IEwxMS42Mjc1OTY5LDUuNTgyMTM1ODcgQzExLjc2NDE1NzEsNS40NDM2MzU4NyAxMS45Njg5OTc0LDUuNDQzNjM1ODcgMTIuMTA1NTU3Nyw1LjU4MjEzNTg3IEwxMi41ODM1MTg0LDYuMDY2ODg1ODkgQzEyLjcyMDA3ODcsNi4yMDUzODU4OSAxMi43MjAwNzg3LDYuNDEzMTM1OSAxMi41ODM1MTg0LDYuNTUxNjM1OSBMNy4xMjExMDkzMywxMi4yOTkzODYxIEM3LjA1MjgyOTIyLDEyLjM2ODYzNjEgNi45ODQ1NDkxMSwxMi40MDMyNjExIDYuODgyMTI4OTQsMTIuNDAzMjYxMSBDNi43Nzk3MDg3NywxMi40MDMyNjExIDYuNzExNDI4NjUsMTIuMzY4NjM2MSA2LjY0MzE0ODU0LDEyLjI5OTM4NjEgTDMuOTgwMjI0MDksOS4zOTA4ODU5OCBMMy45MTE5NDM5OCw5LjI4NzAxMDk3IEwzLjkxMTk0Mzk4LDkuMjg3MDEwOTcgWiIgaWQ9IkNvbWJpbmVkLVNoYXBlIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2c+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvZz4KICAgICAgICAgICAgICAgICAgICA8L2c+CiAgICAgICAgICAgICAgICA8L2c+CiAgICAgICAgICAgIDwvZz4KICAgICAgICA8L2c+CiAgICA8L2c+Cjwvc3ZnPgo="}),Math.round(r),"%",(0,we.tZ)("img",{className:kv,src:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+Cjxzdmcgd2lkdGg9IjE2cHgiIGhlaWdodD0iMTZweCIgdmlld0JveD0iMCAwIDE2IDE2IiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPgogICAgPCEtLSBHZW5lcmF0b3I6IFNrZXRjaCAzOS4xICgzMTcyMCkgLSBodHRwOi8vd3d3LmJvaGVtaWFuY29kaW5nLmNvbS9za2V0Y2ggLS0+CiAgICA8dGl0bGU+aWNvbi1zZXQvaW5mbzwvdGl0bGU+CiAgICA8ZGVzYz5DcmVhdGVkIHdpdGggU2tldGNoLjwvZGVzYz4KICAgIDxkZWZzPgogICAgICAgIDxjaXJjbGUgaWQ9InBhdGgtMSIgY3g9IjgiIGN5PSI4IiByPSI4Ij48L2NpcmNsZT4KICAgICAgICA8bWFzayBpZD0ibWFzay0yIiBtYXNrQ29udGVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgbWFza1VuaXRzPSJvYmplY3RCb3VuZGluZ0JveCIgeD0iMCIgeT0iMCIgd2lkdGg9IjE2IiBoZWlnaHQ9IjE2IiBmaWxsPSJ3aGl0ZSI+CiAgICAgICAgICAgIDx1c2UgeGxpbms6aHJlZj0iI3BhdGgtMSI+PC91c2U+CiAgICAgICAgPC9tYXNrPgogICAgPC9kZWZzPgogICAgPGcgaWQ9IlBhc3N3b3JkcyIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+CiAgICAgICAgPGcgaWQ9IldlYkFwcF9wYXNzd29yZHNfMTQ0MHg5MDBfZGV0YWlscy12aWV3X21jX3YzLjAiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0xMDYxLjAwMDAwMCwgLTEzNi4wMDAwMDApIj4KICAgICAgICAgICAgPGcgaWQ9IkRldGFpbHMtVmlldyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoODAwLjAwMDAwMCwgNjAuMDAwMDAwKSI+CiAgICAgICAgICAgICAgICA8ZyBpZD0iRWRpdCI+CiAgICAgICAgICAgICAgICAgICAgPGcgaWQ9IkhlYWRlciI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxnIGlkPSJzdHJlbmd0aCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTkyLjAwMDAwMCwgNzQuMDAwMDAwKSI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZyBpZD0iaWNvbi1zZXQvaW5mbyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNjkuMDAwMDAwLCAyLjAwMDAwMCkiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxnPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dXNlIGlkPSJPdmFsLTIiIHN0cm9rZT0iI0ZGRkZGRiIgbWFzaz0idXJsKCNtYXNrLTIpIiBzdHJva2Utd2lkdGg9IjIiIHhsaW5rOmhyZWY9IiNwYXRoLTEiPjwvdXNlPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNOS43ODIzMjE0MywxMS44ODcxNDI5IEw5LjY0MzEyNSwxMi40NTYxNjA3IEM5LjIyNTUzNTcxLDEyLjYyMDk4MjEgOC44OTE5NjQyOSwxMi43NDY0Mjg2IDguNjQzNTcxNDMsMTIuODMyNjc4NiBDOC4zOTQ5MTA3MSwxMi45MTkxOTY0IDguMTA1OTgyMTQsMTIuOTYyMjMyMSA3Ljc3Njc4NTcxLDEyLjk2MjIzMjEgQzcuMjcxMjUsMTIuOTYyMjMyMSA2Ljg3ODAzNTcxLDEyLjgzODM5MjkgNi41OTc1ODkyOSwxMi41OTI0MTA3IEM2LjMxNzE0Mjg2LDEyLjM0NTQ0NjQgNi4xNzY4NzUsMTIuMDMyNSA2LjE3Njg3NSwxMS42NTI4NTcxIEM2LjE3Njg3NSwxMS41MDU4OTI5IDYuMTg3MDUzNTcsMTEuMzU0NzMyMSA2LjIwODIxNDI5LDExLjIwMDcxNDMgQzYuMjI5NTUzNTcsMTEuMDQ2NTE3OSA2LjI2MzQ4MjE0LDEwLjg3Mjg1NzEgNi4zMDk5MTA3MSwxMC42Nzg3NSBMNi44MzE3ODU3MSw4LjgzMTYwNzE0IEM2Ljg3ODIxNDI5LDguNjU0NzMyMTQgNi45MTc2Nzg1Nyw4LjQ4NzE0Mjg2IDYuOTQ5Mjg1NzEsOC4zMjg2NjA3MSBDNi45ODEzMzkyOSw4LjE3MTE2MDcxIDYuOTk2Nzg1NzEsOC4wMjYyNSA2Ljk5Njc4NTcxLDcuODk1ODAzNTcgQzYuOTk2Nzg1NzEsNy42NTk5MTA3MSA2Ljk0Nzk0NjQzLDcuNDk0OTEwNzEgNi44NTA3MTQyOSw3LjQwMjE0Mjg2IEM2Ljc1MzQ4MjE0LDcuMzA5NjQyODYgNi41Njc5NDY0Myw3LjI2MjY3ODU3IDYuMjkyNSw3LjI2MjY3ODU3IEM2LjE1NzU4OTI5LDcuMjYyNjc4NTcgNi4wMTg5Mjg1Nyw3LjI4NDI4NTcxIDUuODc3NTg5MjksNy4zMjYwNzE0MyBDNS43MzU2MjUsNy4zNjgwMzU3MSA1LjYxNDI4NTcxLDcuNDA4NTcxNDMgNS41MTI0MTA3MSw3LjQ0NjI1IEw1LjY1MTk2NDI5LDYuODc2Nzg1NzEgQzUuOTkzODM5MjksNi43Mzc1ODkyOSA2LjMyMDYyNSw2LjYxODM5Mjg2IDYuNjMzMjE0MjksNi41MTk0NjQyOSBDNi45NDU4MDM1Nyw2LjQyMDI2Nzg2IDcuMjQxMTYwNzEsNi4zNzA2MjUgNy41MjA1MzU3MSw2LjM3MDYyNSBDOC4wMjI1ODkyOSw2LjM3MDYyNSA4LjQxLDYuNDkxOTY0MjkgOC42ODIwNTM1Nyw2LjczNDY0Mjg2IEM4Ljk1NDEwNzE0LDYuOTc3NSA5LjA5MDA4OTI5LDcuMjkyMzIxNDMgOS4wOTAwODkyOSw3LjY4MDI2Nzg2IEM5LjA5MDA4OTI5LDcuNzYwNTM1NzEgOS4wODExNjA3MSw3LjkwMTk2NDI5IDkuMDYxOTY0MjksOC4xMDQxMDcxNCBDOS4wNDMyMTQyOSw4LjMwNjY5NjQzIDkuMDA4MzAzNTcsOC40OTIzMjE0MyA4Ljk1NzQxMDcxLDguNjYxMTYwNzEgTDguNDM3NzY3ODYsMTAuNTAwODkyOSBDOC4zOTUxNzg1NywxMC42NDg2NjA3IDguMzU2ODc1LDEwLjgxNzU4OTMgOC4zMjM1NzE0MywxMS4wMDc2Nzg2IEM4LjI4OTE5NjQzLDExLjE5NjUxNzkgOC4yNzI3Njc4NiwxMS4zNDA4MDM2IDguMjcyNzY3ODYsMTEuNDM3NTg5MyBDOC4yNzI3Njc4NiwxMS42ODE4NzUgOC4zMjcyMzIxNCwxMS44NDg2NjA3IDguNDM2NDI4NTcsMTEuOTM3MzIxNCBDOC41NDY0Mjg1NywxMi4wMjU5ODIxIDguNzM1ODkyODYsMTIuMDcwMDg5MyA5LjAwNSwxMi4wNzAwODkzIEM5LjEzMTMzOTI5LDEyLjA3MDA4OTMgOS4yNzUwODkyOSwxMi4wNDc2Nzg2IDkuNDM0ODIxNDMsMTIuMDAzNjYwNyBDOS41OTQxMDcxNCwxMS45NTk2NDI5IDkuNzEwMjY3ODYsMTEuOTIwOTgyMSA5Ljc4MjMyMTQzLDExLjg4NzE0MjkgTDkuNzgyMzIxNDMsMTEuODg3MTQyOSBMOS43ODIzMjE0MywxMS44ODcxNDI5IFogTTkuOTE0MTA3MTQsNC4xNjMzOTI4NiBDOS45MTQxMDcxNCw0LjQ4MzkyODU3IDkuNzkzMzAzNTcsNC43NTc2Nzg1NyA5LjU1MDUzNTcxLDQuOTgyNzY3ODYgQzkuMzA4MzkyODYsNS4yMDg2NjA3MSA5LjAxNjYwNzE0LDUuMzIxNjk2NDMgOC42NzUyNjc4Niw1LjMyMTY5NjQzIEM4LjMzMjg1NzE0LDUuMzIxNjk2NDMgOC4wNDAzNTcxNCw1LjIwODY2MDcxIDcuNzk1NDQ2NDMsNC45ODI3Njc4NiBDNy41NTA5ODIxNCw0Ljc1NzU4OTI5IDcuNDI4NDgyMTQsNC40ODM5Mjg1NyA3LjQyODQ4MjE0LDQuMTYzMzkyODYgQzcuNDI4NDgyMTQsMy44NDM0ODIxNCA3LjU1MDk4MjE0LDMuNTY5Mjg1NzEgNy43OTU0NDY0MywzLjM0MTMzOTI5IEM4LjAzOTkxMDcxLDMuMTEzNzUgOC4zMzI5NDY0MywzIDguNjc1MjY3ODYsMyBDOS4wMTY1MTc4NiwzIDkuMzA4MzkyODYsMy4xMTQwMTc4NiA5LjU1MDUzNTcxLDMuMzQxMzM5MjkgQzkuNzkzNDgyMTQsMy41NjkyODU3MSA5LjkxNDEwNzE0LDMuODQzNTcxNDMgOS45MTQxMDcxNCw0LjE2MzM5Mjg2IEw5LjkxNDEwNzE0LDQuMTYzMzkyODYgTDkuOTE0MTA3MTQsNC4xNjMzOTI4NiBaIiBpZD0iU2hhcGUiIGZpbGw9IiNGRkZGRkYiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2c+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2c+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvZz4KICAgICAgICAgICAgICAgICAgICA8L2c+CiAgICAgICAgICAgICAgICA8L2c+CiAgICAgICAgICAgIDwvZz4KICAgICAgICA8L2c+CiAgICA8L2c+Cjwvc3ZnPgo="})),c=t.sharingStatus.isShared?t.sharingStatus.recipientsCount:0,d=[{active:e===Ov,label:o("webapp_credential_edition_account_details"),onClick:()=>n(Ov)},{active:e===Zv,label:`${o("webapp_credential_edition_shared_access")} (${c})`,onClick:()=>n(Zv)}],{domainIcon:u,title:p}=t,m=Lv.reduce(((e,t)=>e||u?.urls[t]),void 0),_=(0,pt.d)({backgroundColor:u?.backgroundColor,mainColor:u?.mainColor,iconSource:m,variant:pt.$.HEADER});return(0,we.tZ)(Is,{icon:(0,we.tZ)(s.plG,{size:"large",text:p,iconSource:m,backgroundColor:_}),title:t.title,tabs:a?d:void 0},i&&l)},{SHARED_ACCESS:zv,ACCOUNT_DETAILS:jv,LINKED_WEBSITES:Rv}=nn,Uv=e=>`{${e.match.params?.uuid||""}}`,Bv={query:g.C.getActiveSpaces},Fv={query:g.C.getShouldShowRequireMasterPassword},Wv={activeSpaces:Bv,credential:{live:g.C.liveCredential,liveParam:Uv,query:g.C.getCredential,queryParam:Uv},credentialCategories:{query:g.C.getCredentialCategories},shouldShowRequireMasterPassword:Fv,credHasPasswordHistory:{query:g.C.getHasPasswordHistory,queryParam:Uv}},Gv={strategies:Wv},Vv=(0,fe.DP)((({lee:e,location:t,activeSpaces:a,credential:o,credentialCategories:r,shouldShowRequireMasterPassword:l,onClose:d,credHasPasswordHistory:u,protectedItemsUnlockerShown:p,areProtectedItemsUnlocked:m,openProtectedItemsUnlocker:_})=>{var h;const{translate:b}=(0,j.Z)(),{routes:C}=(0,i.Xo)(),y=(0,ye.V)(),{createCollection:E,updateCollection:I}=(0,Gi.u7)(Vi.vaultOrganizationApi),f=n.createRef(),v=n.useRef(null),[S,D]=n.useState((()=>{var e;const t=(0,i.CN)();return ln[null!=(e=t.get("tab"))?e:"account-details"]})()),[x,M]=n.useState(jv),[T,A]=n.useState(!1),[k,Z]=n.useState(null!=(h=o?.linkedWebsites.addedByUser)?h:[]),[L,P]=n.useState(!1),[z,R]=n.useState(!1),[U,B]=n.useState([]),[F,W]=n.useState(!1),[G,V]=n.useState(!1),[Y,H]=n.useState(!1),[q,Q]=n.useState(null),[X,K]=n.useState(!1),{current:J}=n.useRef({confirmDeleteConfirm:b("webapp_credential_edition_delete_confirm"),confirmDeleteDismiss:b("webapp_credential_edition_delete_dismiss"),confirmDeleteSubtitle:b("webapp_credential_edition_confirm_delete_subtitle"),confirmDeleteTitle:b("webapp_credential_edition_confirm_delete_title"),lastAdminActionLabel:b("webapp_credential_edition_change_permissions"),lastAdminTitle:b("webapp_credential_edition_last_admin_title"),lastAdminSubtitle:b("webapp_credential_edition_last_admin_subtitle"),groupSharingTitle:b("webapp_credential_edition_group_sharing_title"),groupSharingSubtitle:b("webapp_credential_edition_group_sharing_subtitle")});if(n.useEffect((()=>{o||d()}),[o,d]),n.useEffect((()=>()=>{v.current&&clearTimeout(v.current)}),[]),n.useEffect((()=>{var e,t,a;t=k,a=null!=(e=o?.linkedWebsites.addedByUser)?e:[],[...t,...a].filter(Boolean).some((e=>!(t.includes(e)&&a.includes(e))))&&A(!0)}),[k,o?.linkedWebsites.addedByUser]),!o)return null;const $=e=>{T?(M(e),V(!0)):D(e)},ee=()=>{V(!1),W(!1),B([])},te=e=>{P(e),$(Rv)},ae=()=>{D(jv),A(!1),ee()},ne=e=>{e?.preventDefault(),T?(M(jv),W(!0)):ae()},ie=async()=>{(await g.C.updateLinkedWebsites({credentialId:o.id,updatedLinkedWebsitesDomainList:k})).success&&(v.current=window.setTimeout((()=>H(!1)),5e3),H(!0),(async(e,t)=>{const a=t.filter((t=>t&&!e.linkedWebsites.addedByUser.includes(t))),n=e.linkedWebsites.addedByUser.filter((e=>e&&!t.includes(e))),i=await(0,on.gm)(g.C)?new an.ParsedURL(e.url).getRootDomain():(0,je.JI)(e.url);(0,O.K)(new N.AnonymousUpdateCredentialEvent({action:N.Action.Edit,associatedWebsitesAddedList:await cv(a),associatedWebsitesRemovedList:await cv(n),fieldList:[N.Field.AssociatedWebsitesList],domain:{type:N.DomainType.Web,id:await(0,N.hashDomain)(i)},space:e.spaceId?N.Space.Professional:N.Space.Personal})),(0,O.K)(new N.UserUpdateVaultItemEvent({action:N.Action.Edit,itemId:e.id,itemType:N.ItemType.Credential,fieldsEdited:[N.Field.AssociatedWebsitesList],space:e.spaceId?N.Space.Professional:N.Space.Personal}))})(o,k)),ae()},oe=S===Rv?(e,t)=>ne(t):()=>{t?.state?.entity?jw({routes:C,location:t}):d()},se=z||p;return n.createElement(Xi,null,n.createElement(bs,{isViewingExistingItem:!0,itemHasBeenEdited:T,isSomeDialogOpen:F||U.length>0||G,onSubmit:async()=>{if(S===Rv)return void(async()=>{const e=await(async(e,t)=>{const a=await(0,on.gm)(g.C),n=t.filter((t=>t&&!e.linkedWebsites.addedByUser.includes(t))).map((e=>a?new an.ParsedURL(e).getRootDomain():(0,tn.extractRootDomain)(e))),i=n.map((async t=>await g.C.getCredentialsByDomain(((e,t)=>({domain:e,sortToken:{sortCriteria:[{field:"lastUse",direction:"descend"}],uniqField:"id"},filterToken:{filterCriteria:[{field:"email",value:t,type:"equals"}]}}))(t,e.email))));return(await Promise.all(i)).map(((e,t)=>({...e,linkedWebsite:n[t]}))).filter((e=>e.matchingCount>0)).map((e=>({credentialName:e.items[0].title,linkedWebsite:e.linkedWebsite})))})(o,k);B(e),S!==Rv||e.length||ie()})();if(!f.current?.isFormValid())return;const e=f.current?.getValues();if(!e)return;var t;K(!0),e.autoProtected&&e.autoProtected!==o.autoProtected&&(0,_d.ih)(e.autoProtected,o.id,o.url,null!=(t=e.spaceId)?t:void 0);const a=f.current?.getVaultItemCollections(),n={kwType:"KWAuthentifiant",origin:c.SaveOrigin.MANUAL,content:{...e,id:o.id}},i=await g.C.savePersonalDataItem(n);i.success&&a&&((e,t)=>{for(const a of t)a.initiallyExisting&&!a.hasBeenDeleted||(a.vaultItems=[{id:e,type:c.DataModelType.KWAuthentifiant}],a.id?I({id:a.id,collection:a,operationType:a.hasBeenDeleted?Vi.OperationType.SUBSTRACT:Vi.OperationType.APPEND}):E({content:a}))})(i.itemId,a),y.showAlert(b("_common_toast_changes_saved"),s.BLW.SUCCESS),K(!1),fp(),d()},secondaryActions:S===Rv?[]:[n.createElement(bv,{key:"pwhist",credentialId:o.id,credHasPasswordHistory:u}),n.createElement(Uw,{item:o,getSharing:e=>qe(e),key:"shareaction"})],onNavigateOut:oe,onClickDelete:()=>{const{sharingStatus:e}=o;if(e.isShared){if(e.groupSharing)return void Q({reason:Gh.GroupSharing});if(e.lastAdmin)return void Q({reason:Gh.LastAdmin})}R(!0)},withoutDeleteButton:S===Rv,withoutConfirmationDialog:S===Rv,ignoreCloseOnEscape:se,formId:"edit_credential_panel",submitPending:X,header:n.createElement(Pv,{activeTab:S,credential:o,displayTabs:o.sharingStatus.isShared,changeTab:$,showSecurityScore:!1})},o.sharingStatus.isShared&&S===zv?n.createElement(Ay,{isAdmin:"admin"===o.sharingStatus.permission,id:o.id}):null,S===jv?n.createElement("div",{className:"healthEditContainer--lJ8iSk3hnU"},n.createElement(Av,{credential:o}),n.createElement("div",{className:w()(Zb.form,"formWithHealth--rKaIE4Sw6v")},n.createElement(lv,{ref:f,currentValues:(e=>{var t,a;const n=e.sharingStatus.isShared&&"limited"===e.sharingStatus.permission;return{autoLogin:e.autoLogin,autoProtected:e.autoProtected,category:null!=(t=e.category?.id)?t:"",email:e.email,id:e.id,forceCategorizedSpace:e.forceCategorizedSpace,limitedPermissions:n,login:e.login,note:e.note,onlyForThisSubdomain:e.subdomainOnly,otpSecret:e.otpSecret,otpUrl:e.otpUrl,password:e.password,protectWithMasterPassword:e.autoProtected,secondaryLogin:null!=(a=e.secondaryLogin)?a:"",spaceId:e.spaceId,subdomainOnly:e.subdomainOnly,title:e.title,type:e.kwType,url:e.url,redirectUrl:e.redirectUrl,linkedWebsites:e.linkedWebsites}})(o),lee:e,signalEditedValues:e=>{A(e)},additionalProps:{activeSpaces:a,credentialCategories:r.items,areProtectedItemsUnlocked:m,openProtectedItemsUnlocker:_,protectedItemsUnlockerShown:p,shouldShowRequireMasterPassword:l,onClickLinkedWebsitesCount:()=>te(!1),onClickAddNewWebsite:()=>te(!0)}}))):null,S===Rv?n.createElement(uv,{credential:o,onClose:ne,openWithNewUrlField:L,onUpdateLinkedWebsitesAddedByUser:Z,hasLimitedRights:o.sharingStatus.isShared&&"limited"===o.sharingStatus.permission}):null,z?n.createElement(Vh,{closeConfirmDeleteDialog:()=>R(!1),onDeleteConfirm:async()=>{const e=f.current?.getValues();e&&(await g.C.removePersonalDataItem({id:o.id}),d())},translations:J}):null,q?n.createElement(Yh,{reason:q.reason,translations:J,goToSharingAccess:()=>{Q(null),$(zv)},closeCantDeleteDialog:()=>Q(null)}):null,F?n.createElement(mv,{onCancel:()=>W(!1),onLeavePageWithoutSaving:ae}):null,U.length>0?n.createElement(_v,{duplicateData:U,onCancel:()=>B([]),onSave:ie}):null,G?n.createElement(ss,{onDismissClick:()=>V(!1),onConfirmClick:()=>{D(x),A(!1),ee()}}):null,Y?n.createElement(pv,{onClose:()=>H(!1)}):null))})),Yv=(0,Fe.$)((0,We.i)(Vv,Gv),Wv);var Hv,qv,Qv,Xv;const Kv=({onClickAddNew:e})=>{const{translate:t}=(0,j.Z)(),{routes:a}=(0,i.Xo)(),o=(0,i.k6)();return n.createElement(Hg,{icon:Hv||(Hv=n.createElement("img",{"aria-hidden":!0,alt:"",src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iOTYiIGhlaWdodD0iOTYiIHZpZXdCb3g9IjAgMCA5NiA5NiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTY2LjY5MzMgMzYuMDE2Nkw2MS4zNzI3IDM3Ljc5MDFWMzUuNjYxOUM2MS4zNzI3IDM0Ljk1MjUgNjEuMzcyNyAzNC41OTc4IDYxLjM3MjcgMzMuODg4NEM2MS4zNzI3IDMzLjUzMzcgNjEuMzcyNyAzMi44MjQzIDYxLjM3MjcgMzIuNDY5NkM2MS4zNzI3IDMxLjQwNTQgNjEuMDE4IDMwLjM0MTQgNjAuNjYzMyAyOS42MzJDNTkuOTUzOSAyNy44NTg0IDU4LjUzNTEgMjYuMDg0OCA1Ny4xMTYzIDI0LjY2NkM1NC4yNzg2IDIxLjgyODMgNTAuMDIyMiAyMC43NjQyIDQ1Ljc2NTcgMjEuNDczN0M0MS44NjM5IDIyLjE4MzEgMzguMzE2OSAyNS4wMjA3IDM2LjU0MzMgMjguNTY3OEMzNS40NzkyIDMwLjM0MTMgMzUuMTI0NSAzMi40Njk2IDM1LjEyNDUgMzQuMjQzMVYzNS42NjE5TDI5LjQ0OTIgMzguMTQ0OVYzNS42NjE5QzI5LjQ0OTIgMzMuMTc4OSAyOS44MDM5IDMwLjM0MTQgMzAuODY4IDI3Ljg1ODRDMzEuOTMyMiAyNS4zNzU1IDMzLjM1MSAyMi44OTI1IDM1LjQ3OTIgMjEuMTE4OUMzOS4zODEgMTcuMjE3MiA0NS4wNTYzIDE1LjQ0MzcgNTAuMzc2OSAxNi4xNTMxQzU1LjY5NzQgMTYuODYyNSA2MC42NjMzIDIwLjA1NDggNjMuNTAxIDI0LjY2NkM2NC45MTk4IDI2Ljc5NDIgNjUuOTgzOSAyOS42MzE5IDY2LjMzODYgMzIuMTE0OEM2Ni4zMzg2IDMyLjgyNDIgNjYuMzM4NiAzMy41MzM3IDY2LjMzODYgMzQuMjQzMUw2Ni42OTMzIDM2LjAxNjZaIiBmaWxsPSIjRTBERERBIi8+CjxwYXRoIGQ9Ik00Mi4yMTg5IDYwLjg0NTdWNTUuNTI1MUg0Ny4xODQ4SDQ5LjMxM0g1MC4zNzcxQzUwLjM3NzEgNTUuODc5OCA1MC4zNzcxIDU2LjIzNDUgNTAuMzc3MSA1Ni41ODkyVjYwLjg0NTdWNjUuMTAyMkw0NS4wNTY1IDY2Ljg3NTdWNjQuMzkyN1Y2MC44NDU3SDQyLjIxODlaIiBmaWxsPSIjRTBERERBIi8+CjxwYXRoIGQ9Ik03My43ODcgNzguMjI2NUw2OC40NjY1IDgwVjY4LjY0OTVWNDcuNzIxOEgyNy4zMjA2Vjc0LjY3OTRINjEuMzcyM0w2My4xNDU5IDgwSDUxLjc5NTNIMjJWNDIuNDAxMkg3My43ODdWNzguMjI2NVoiIGZpbGw9IiNFMEREREEiLz4KPC9zdmc+Cg=="})),title:t("webapp_credentials_empty_view_title")},n.createElement("p",null,t("webapp_credentials_empty_view_description")),qv||(qv=n.createElement("br",null)),n.createElement(s.Ejs,{gap:4,justifyContent:"center"},n.createElement(we.zx,{layout:"iconLeading",icon:Qv||(Qv=n.createElement(we.JO,{name:"ActionAddOutlined"})),onClick:e},t("credentials_header_add_password")),n.createElement(we.zx,{layout:"iconLeading",icon:Xv||(Xv=n.createElement(s._8t,null)),mood:"neutral",intensity:"quiet",onClick:()=>o.push(a.importData)},t("webapp_account_root_import_data"))))},Jv=(0,n.createContext)({}),$v=(0,n.createContext)({}),eS=({children:e})=>{const[t,a]=(0,n.useState)([]),i=(0,it.F)("webproduct_multi_select_delete_release"),o=(e,t)=>{const a=t.findIndex((t=>t.id===e.id));-1===a?t.push(e):t.splice(a,1)},s=(0,n.useMemo)((()=>({clearSelection:()=>a([]),toggleSelectItem:e=>{a((t=>{const a=[...t];return o(e,a),a}))},toggleSelectItems:e=>{a((t=>{const a=[...t];return e.forEach((e=>{e.sharingSatus.isShared||o(e,a)})),a}))}})),[]);if(i.status!==Ft.rq.Success)return null;const r={selectedItems:t,isMultiselectEnabled:i.data};return n.createElement(Jv.Provider,{value:r},n.createElement($v.Provider,{value:s},e))},tS=()=>(0,n.useContext)(Jv),aS=()=>(0,n.useContext)($v);var nS,iS=a(22827),oS=a.n(iS);const{dashGreen00:sS,dashGreen02:rS}=s.O9T,lS=n.memo((({dispatchGlobal:e,userCredentialRoute:t,credential:a})=>{const{translate:i}=(0,j.Z)(),o=!a.url,r=i("webapp_credentials_row_no_website_tooltip");return n.createElement("div",{className:"quickActionContainer--qigA5HmYM2"},n.createElement("div",{className:"actionContainer--UzhPOlbmHF"},n.createElement(s.ua7,{content:r,placement:"bottom",passThrough:!o},n.createElement(vm.Z,{"aria-label":o?r:void 0,label:i("webapp_credentials_row_open_website"),type:"button",name:"hiddenAction",disabled:o,classNames:["disabledCursorButton--L4_yEP6Hi4"],onClick:()=>{(e=>{(0,Be.k)(e),(0,je.Yo)(e.redirectUrl)})(a)},icon:n.createElement(s.RTC,{color:o?rS:sS})}))),n.createElement(dn,{credential:a,dispatchGlobal:e,userCredentialRoute:t,renderRoot:e=>n.createElement(vm.Z,{iconButton:!0,"aria-label":i("webapp_credentials_row_accessibility_actions_menu"),label:nS||(nS=n.createElement(oS(),null)),onClick:e})}))})),cS=(0,n.createContext)({}),dS=(0,n.createContext)({}),uS=({children:e})=>{const[t,a]=(0,n.useState)([]),i=(0,n.useMemo)((()=>({clearSelection:()=>a([]),toggleSelectCollection:e=>{a((t=>{const a=[...t];return((e,t)=>{const a=t.findIndex((t=>t.id===e.id));-1===a?t.push(e):t.splice(a,1)})(e,a),a}))}})),[]);return n.createElement(cS.Provider,{value:{selectedCollections:t,isCollectionSelected:e=>t.some((t=>t.id===e))}},n.createElement(dS.Provider,{value:i},e))},pS=()=>(0,n.useContext)(cS),mS=()=>{const{isCollectionsEnabled:e,collections:t}=Qi(),{selectedCollections:a,isCollectionSelected:i}=pS(),{toggleSelectCollection:o}=(0,n.useContext)(dS);return e?(0,we.tZ)(co,{sx:{marginLeft:"32px",...a.length>0?{visibility:"visible"}:{visibility:"hidden",maxHeight:"0px"}},collectionListItems:t.map((e=>(0,we.tZ)(ro,{key:`selected_collections_list_${e.id}`,isVisible:i(e.id)},(0,we.tZ)(no,{onClick:()=>o(e)},e.name))))}):null},_S=({vaultItemId:e,categoryName:t})=>{const{translate:a}=(0,j.Z)(),{collections:n,isCollectionsEnabled:i}=Qi();if(!i)return(0,we.tZ)(Cs.Z,null,t||a("webapp_credentials_row_no_category"));if(!n.length)return null;const o=n.filter((t=>t.vaultItems.some((t=>t.id===e))));return(0,we.tZ)(co,{sx:{margin:"14px 0"},collectionListItems:o.map((e=>(0,we.tZ)(ro,{key:`vault_row_item_collections_list_${e.id}`},(0,we.tZ)(io,null,e.name))))})};let gS;const hS=e=>(gS||(gS=e.dispatchGlobal),gS),bS=(0,n.memo)((({credential:e,isCompromised:t,lee:a,onSelectCredential:n,isSelectable:o,isSelected:r})=>{const{translate:l}=(0,j.Z)(),{routes:c}=(0,i.Xo)(),{pathname:d}=(0,i.TH)();return(0,z.tZ)(YC,{link:c.userCredential(e.id,d),type:"link",style:r?{backgroundColor:s.O9T.grey06}:void 0,checkable:o&&(0,z.tZ)(s.ua7,{passThrough:!e.sharingSatus.isShared,placement:"right",content:l("webapp_multiselect_disabled_checkbox_tooltip"),sx:{maxWidth:"200px",whiteSpace:"normal"}},(0,z.tZ)("span",{sx:{marginRight:"16px"}},(0,z.tZ)(we.XZ,{"aria-label":""!==e.url?e.url:e.login,sx:{position:"relative",gap:"0"},checked:r,onChange:()=>n(e),readOnly:e.sharingSatus.isShared}))),data:[{key:"title",content:(0,z.tZ)(hI,{credential:e,isCompromised:t})},{key:"lastUse",content:(0,z.tZ)(Cs.Z,null,e.lastUse?(0,z.tZ)(dr.Z,{date:(0,qo.Z)(e.lastUse)}):l("webapp_credentials_row_last_used_never")),className:gI},{key:"category",content:(0,z.tZ)(_S,{categoryName:e.category?.categoryName,vaultItemId:e.id}),className:_I}],actions:(0,z.tZ)(lS,{dispatchGlobal:hS(a),userCredentialRoute:c.userCredential,credential:e}),onClick:()=>{(0,O.N)(N.PageView.ItemCredentialDetails),(0,ae.kb)(e.id)}})})),CS=({credential:e,isCompromised:t,...a})=>{const{isMultiselectEnabled:n,selectedItems:i}=tS(),{toggleSelectItem:o}=aS(),s=i.some((t=>t.id===e.id));return s&&e.sharingSatus.isShared?(o(e),null):(0,z.tZ)(bS,{credential:e,isCompromised:t,isSelectable:n,isSelected:s,...a})},wS=({lee:e,credentials:t,compromisedCredentials:a=[],...i})=>{const{toggleSelectItem:o,toggleSelectItems:s}=aS(),r=(0,n.useRef)(!1),l=(0,n.useRef)(0);(0,n.useEffect)((()=>{const e=e=>{e.shiftKey&&(r.current=!0)},t=()=>{r.current=!1};return document.addEventListener("keydown",e),document.addEventListener("keyup",t),()=>{document.removeEventListener("keydown",e),document.removeEventListener("keyup",t)}}),[]);const c=e=>{const a=t.findIndex((t=>t.id===e.id));if(!r.current)return l.current=a,void o(e);let n,i;a>l.current?(n=a,i=l.current+1):(n=l.current,i=a),l.current=a,s(t.slice(i,n+1))},d=e=>a.some((t=>t===e));return(0,z.tZ)("div",{sx:{height:"100%",overflow:"hidden"}},(0,z.tZ)(ut.v,{hasNext:i.hasNext,hasPrevious:i.hasPrevious,isLoading:i.isLoading,loadNext:i.loadNext,loadPrevious:i.loadPrevious},t.map((t=>(0,z.tZ)(CS,{key:`credentials_list_credentialId_${t.id}`,isCompromised:d(t.id),credential:t,onSelectCredential:c,lee:e})))))},yS=({credentials:e,...t})=>{const a=tI(e.map((e=>e.id)));return(0,z.tZ)(wS,{credentials:e,...t,compromisedCredentials:a})},ES={tokenEndpoint:g.C.getCredentialsPaginationToken,pageEndpoint:g.C.getCredentialsPage,batchLiveEndpoint:g.C.liveCredentialsBatch},IS=(0,dt.G)(ES,(e=>{const t=[...e.paginatedData.values()].flat();return(0,it.w)("ims_web_ph_mv3_dev")?(0,z.tZ)(yS,{credentials:t,...e}):(0,z.tZ)(wS,{credentials:t,...e})})),NS="16px",fS=({children:e,positioning:t,withArrow:a})=>(0,we.tZ)("aside",{sx:{display:"flex",flexDirection:"column",gap:NS,position:"absolute",...t,maxWidth:"400px",maxHeight:"60vh",padding:NS,borderRadius:"4px",backgroundColor:"ds.container.agnostic.inverse.standard",whiteSpace:"normal","&:before":a&&{content:'""',position:"absolute",top:"14px",left:"0",transform:"translate(-100%)",border:"10px solid transparent",borderRightColor:"ds.container.agnostic.inverse.standard"},"@keyframes fadeIn":{"0%":{opacity:0,transform:"scale3d(0, 0, 1)"},"100%":{opacity:1,transform:"scale3d(1, 1, 1)"}},animation:"fadeIn 250ms ease-out",transformOrigin:"top"}},e),vS=({description:e,image:t,notificationName:a,title:n,positioning:i,withArrow:o=!1})=>{const{translate:r}=(0,j.Z)(),{interacted:l,setAsInteracted:c}=(0,Yo.d)(a),d=Pg(656);return l?null:(0,we.tZ)(fS,{positioning:i,withArrow:o},(0,we.tZ)(s.X6q,{size:"x-small",as:"h2",color:"ds.text.inverse.catchy"},n),(0,we.tZ)("p",{sx:{color:"ds.text.inverse.standard"}},e),d&&t,(0,we.tZ)(s.zxk,{type:"button",onClick:c,sx:{alignSelf:"end"}},r("webapp_credentials_multiselect_shift_tooltip_button")))};var SS;const DS=()=>SS||(SS=n.createElement("svg",{width:"100%",height:"100%",viewBox:"0 0 360 227",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("rect",{width:"360",height:"227",rx:"2",fill:"#EFF0F0"}),n.createElement("rect",{x:"43.5",y:"204",width:"273",height:"3",rx:"1.5",fill:"#6EA2AD",fillOpacity:"0.2"}),n.createElement("path",{d:"M66.5 46.0617C66.5 37.7434 73.2434 31 81.5617 31H277.288C285.601 31 292.342 37.7346 292.35 46.0474L292.5 204H66.5V46.0617Z",fill:"#6EA2AD",fillOpacity:"0.2"}),n.createElement("path",{d:"M76.5 51.0412C76.5 45.4956 80.9956 41 86.5412 41H272.459C278.004 41 282.5 45.4956 282.5 51.0412V204H76.5V51.0412Z",fill:"white"}),n.createElement("path",{d:"M76.5 90H282.5V118H76.5V90Z",fill:"#A2A3A3",fillOpacity:"0.2"}),n.createElement("path",{d:"M76.5 145H282.5V173H76.5V145Z",fill:"#A2A3A3",fillOpacity:"0.2"}),n.createElement("rect",{x:"118.5",y:"158",width:"143",height:"2",rx:"1",fill:"#232425",fillOpacity:"0.92"}),n.createElement("rect",{x:"118.5",y:"185",width:"143",height:"2",rx:"1",fill:"#232425",fillOpacity:"0.92"}),n.createElement("rect",{x:"118.5",y:"104",width:"143",height:"2",rx:"1",fill:"#232425",fillOpacity:"0.92"}),n.createElement("rect",{x:"118.5",y:"132",width:"143",height:"2",rx:"1",fill:"#232425",fillOpacity:"0.92"}),n.createElement("rect",{x:"87.5",y:"177",width:"19",height:"19",rx:"2.5",fill:"#6EA2AD",fillOpacity:"0.1"}),n.createElement("rect",{x:"88.1276",y:"177.628",width:"17.7449",height:"17.7449",rx:"1.87243",stroke:"#5B97A6",strokeOpacity:"0.4",strokeWidth:"1.25514"}),n.createElement("rect",{x:"87.5",y:"150",width:"19",height:"19",rx:"2.5",fill:"#6EA2AD",fillOpacity:"0.1"}),n.createElement("rect",{x:"88.1276",y:"150.628",width:"17.7449",height:"17.7449",rx:"1.87243",stroke:"#5B97A6",strokeOpacity:"0.4",strokeWidth:"1.25514"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M102.542 152.375H91.4583C90.5875 152.375 89.875 153.087 89.875 153.958V165.042C89.875 165.913 90.5875 166.625 91.4583 166.625H102.542C103.413 166.625 104.125 165.913 104.125 165.042V153.958C104.125 153.087 103.413 152.375 102.542 152.375ZM95.4167 163.458L91.4583 159.652L92.5667 158.587L95.4167 161.327L101.433 155.542L102.542 156.607L95.4167 163.458Z",fill:"#0E6173"}),n.createElement("rect",{x:"87.5",y:"123",width:"19",height:"19",rx:"2.5",fill:"#6EA2AD",fillOpacity:"0.1"}),n.createElement("rect",{x:"88.1276",y:"123.628",width:"17.7449",height:"17.7449",rx:"1.87243",stroke:"#5B97A6",strokeOpacity:"0.4",strokeWidth:"1.25514"}),n.createElement("rect",{x:"87.5",y:"95",width:"19",height:"19",rx:"2.5",fill:"#6EA2AD",fillOpacity:"0.1"}),n.createElement("rect",{x:"88.1276",y:"95.6276",width:"17.7449",height:"17.7449",rx:"1.87243",stroke:"#5B97A6",strokeOpacity:"0.4",strokeWidth:"1.25514"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M102.542 97.375H91.4583C90.5875 97.375 89.875 98.0875 89.875 98.9583V110.042C89.875 110.913 90.5875 111.625 91.4583 111.625H102.542C103.413 111.625 104.125 110.913 104.125 110.042V98.9583C104.125 98.0875 103.413 97.375 102.542 97.375ZM95.4167 108.458L91.4583 104.652L92.5667 103.587L95.4167 106.327L101.433 100.542L102.542 101.607L95.4167 108.458Z",fill:"#0E6173"}),n.createElement("path",{d:"M87.5 52C87.5 49.7909 89.2909 48 91.5 48H267.5C269.709 48 271.5 49.7909 271.5 52V78C271.5 80.2091 269.709 82 267.5 82H91.5C89.2909 82 87.5 80.2091 87.5 78V52Z",fill:"#F5F5F5"}),n.createElement("rect",{x:"100.5",y:"64",width:"66",height:"2",rx:"1",fill:"#232425",fillOpacity:"0.92"}),n.createElement("path",{d:"M261.5 60H243.5V62H245.5H261.5V60Z",fill:"#0E6173"}),n.createElement("path",{d:"M247.5 58V56H257.5V58H247.5Z",fill:"#0E6173"}),n.createElement("path",{d:"M255.5 65.0168L253.5 65.0168V70.2001L255.5 69.0001L255.5 65.0168Z",fill:"#0E6173"}),n.createElement("path",{d:"M251.5 65H249.5V70.2001L251.5 69.0001V65Z",fill:"#0E6173"}),n.createElement("path",{d:"M255.7 75L254.5 73H247.5V62H245.5V75H255.7Z",fill:"#0E6173"}),n.createElement("path",{d:"M257.5 75H259.5V62H257.5V75Z",fill:"#0E6173"})));var xS;const MS=()=>{const{translate:e}=(0,j.Z)();return n.createElement(vS,{description:e("webapp_multiselect_guide_tooltip_description_delete"),image:xS||(xS=n.createElement(DS,null)),notificationName:p.NotificationName.MultiselectGuideDelete,title:e("webapp_multiselect_guide_tooltip_title_delete"),positioning:{top:"66px",left:"68px"},withArrow:!0})};var TS;const AS=()=>TS||(TS=n.createElement("svg",{width:"100%",height:"100%",viewBox:"0 0 368 227",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("rect",{width:"368",height:"227",rx:"2",fill:"#EFF0F0"}),n.createElement("rect",{x:"47.5",y:"204",width:"273",height:"3",rx:"1.5",fill:"#6EA2AD",fillOpacity:"0.2"}),n.createElement("path",{d:"M70.5 46.0617C70.5 37.7434 77.2434 31 85.5617 31H281.288C289.601 31 296.342 37.7346 296.35 46.0474L296.5 204H70.5V46.0617Z",fill:"#6EA2AD",fillOpacity:"0.2"}),n.createElement("path",{d:"M80.5 51.0412C80.5 45.4956 84.9956 41 90.5412 41H276.459C282.004 41 286.5 45.4956 286.5 51.0412V204H80.5V51.0412Z",fill:"white"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M51.6395 103.303L45.9415 97.986L46.9981 97L54.5 104L46.9981 111L45.9415 110.014L51.6395 104.697L38.5 104.697L38.5 103.303L51.6395 103.303Z",fill:"#0E6173"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M51.6395 158.303L45.9415 152.986L46.9981 152L54.5 159L46.9981 166L45.9415 165.014L51.6395 159.697L38.5 159.697L38.5 158.303L51.6395 158.303Z",fill:"#0E6173"}),n.createElement("rect",{x:"65.5",y:"90",width:"83",height:"2",rx:"0.999998",transform:"rotate(90 65.5 90)",fill:"#0E6173"}),n.createElement("path",{d:"M80.5 90H286.5V173H80.5V90Z",fill:"#A2A3A3",fillOpacity:"0.2"}),n.createElement("rect",{x:"122.5",y:"158",width:"143",height:"2",rx:"1",fill:"#232425",fillOpacity:"0.92"}),n.createElement("rect",{x:"122.5",y:"185",width:"143",height:"2",rx:"1",fill:"#232425",fillOpacity:"0.92"}),n.createElement("rect",{x:"122.5",y:"104",width:"143",height:"2",rx:"1",fill:"#232425",fillOpacity:"0.92"}),n.createElement("rect",{x:"122.5",y:"132",width:"143",height:"2",rx:"1",fill:"#232425",fillOpacity:"0.92"}),n.createElement("rect",{x:"91.5",y:"177",width:"19",height:"19",rx:"2.5",fill:"#6EA2AD",fillOpacity:"0.1"}),n.createElement("rect",{x:"92.1276",y:"177.628",width:"17.7449",height:"17.7449",rx:"1.87243",stroke:"#5B97A6",strokeOpacity:"0.4",strokeWidth:"1.25514"}),n.createElement("rect",{x:"91.5",y:"150",width:"19",height:"19",rx:"2.5",fill:"#6EA2AD",fillOpacity:"0.1"}),n.createElement("rect",{x:"92.1276",y:"150.628",width:"17.7449",height:"17.7449",rx:"1.87243",stroke:"#5B97A6",strokeOpacity:"0.4",strokeWidth:"1.25514"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M106.542 152.375H95.4583C94.5875 152.375 93.875 153.087 93.875 153.958V165.042C93.875 165.913 94.5875 166.625 95.4583 166.625H106.542C107.413 166.625 108.125 165.913 108.125 165.042V153.958C108.125 153.087 107.413 152.375 106.542 152.375ZM99.4167 163.458L95.4583 159.652L96.5667 158.587L99.4167 161.327L105.433 155.542L106.542 156.607L99.4167 163.458Z",fill:"#0E6173"}),n.createElement("rect",{x:"91.5",y:"123",width:"19",height:"19",rx:"2.5",fill:"#6EA2AD",fillOpacity:"0.1"}),n.createElement("rect",{x:"92.1276",y:"123.628",width:"17.7449",height:"17.7449",rx:"1.87243",stroke:"#5B97A6",strokeOpacity:"0.4",strokeWidth:"1.25514"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M106.542 125.375H95.4583C94.5875 125.375 93.875 126.087 93.875 126.958V138.042C93.875 138.913 94.5875 139.625 95.4583 139.625H106.542C107.413 139.625 108.125 138.913 108.125 138.042V126.958C108.125 126.087 107.413 125.375 106.542 125.375ZM99.4167 136.458L95.4583 132.652L96.5667 131.587L99.4167 134.327L105.433 128.542L106.542 129.607L99.4167 136.458Z",fill:"#0E6173"}),n.createElement("rect",{x:"91.5",y:"95",width:"19",height:"19",rx:"2.5",fill:"#6EA2AD",fillOpacity:"0.1"}),n.createElement("rect",{x:"92.1276",y:"95.6276",width:"17.7449",height:"17.7449",rx:"1.87243",stroke:"#5B97A6",strokeOpacity:"0.4",strokeWidth:"1.25514"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M106.542 97.375H95.4583C94.5875 97.375 93.875 98.0875 93.875 98.9583V110.042C93.875 110.913 94.5875 111.625 95.4583 111.625H106.542C107.413 111.625 108.125 110.913 108.125 110.042V98.9583C108.125 98.0875 107.413 97.375 106.542 97.375ZM99.4167 108.458L95.4583 104.652L96.5667 103.587L99.4167 106.327L105.433 100.542L106.542 101.607L99.4167 108.458Z",fill:"#0E6173"}),n.createElement("path",{d:"M91.5 52C91.5 49.7909 93.2909 48 95.5 48H271.5C273.709 48 275.5 49.7909 275.5 52V78C275.5 80.2091 273.709 82 271.5 82H95.5C93.2909 82 91.5 80.2091 91.5 78V52Z",fill:"#F5F5F5"}),n.createElement("rect",{x:"104.5",y:"64",width:"66",height:"2",rx:"1",fill:"#232425",fillOpacity:"0.92"}),n.createElement("path",{d:"M265.5 60H247.5V62H249.5H265.5V60Z",fill:"#0E6173"}),n.createElement("path",{d:"M251.5 58V56H261.5V58H251.5Z",fill:"#0E6173"}),n.createElement("path",{d:"M259.5 65.0168L257.5 65.0168V70.2001L259.5 69.0001L259.5 65.0168Z",fill:"#0E6173"}),n.createElement("path",{d:"M255.5 65H253.5V70.2001L255.5 69.0001V65Z",fill:"#0E6173"}),n.createElement("path",{d:"M259.7 75L258.5 73H251.5V62H249.5V75H259.7Z",fill:"#0E6173"}),n.createElement("path",{d:"M261.5 75H263.5V62H261.5V75Z",fill:"#0E6173"}),n.createElement("g",{filter:"url(#filter0_d_66_45098)"},n.createElement("rect",{x:"35.5",y:"44",width:"62",height:"35",rx:"4",fill:"#0E6173",shapeRendering:"crispEdges"}),n.createElement("path",{d:"M59.6505 66.1121C59.2583 66.1121 58.8754 66.0635 58.5018 65.9664C58.1283 65.8655 57.7884 65.718 57.4821 65.5237C57.1795 65.3258 56.9274 65.0811 56.7257 64.7897C56.5239 64.4946 56.4007 64.151 56.3559 63.7588H57.7678C57.8276 64.0314 57.9453 64.2612 58.1208 64.4479C58.2964 64.6347 58.5149 64.7767 58.7764 64.8738C59.0416 64.9709 59.3311 65.0195 59.6449 65.0195C59.9811 65.0195 60.2836 64.9746 60.5526 64.885C60.8253 64.7953 61.0401 64.6646 61.1969 64.4928C61.3576 64.3209 61.4379 64.1099 61.4379 63.8596C61.4379 63.6392 61.38 63.4525 61.2642 63.2993C61.1484 63.1461 60.9859 63.021 60.7767 62.9239C60.5713 62.823 60.3303 62.7427 60.0539 62.683L58.5635 62.358C57.9621 62.2347 57.4858 61.9956 57.1347 61.6408C56.7836 61.2859 56.6043 60.8134 56.5968 60.2232C56.5931 59.7339 56.7219 59.308 56.9834 58.9457C57.2486 58.5796 57.6091 58.2976 58.0648 58.0996C58.5205 57.8979 59.036 57.797 59.6113 57.797C60.2836 57.797 60.8496 57.9072 61.309 58.1276C61.7722 58.3443 62.1215 58.6356 62.3568 59.0017C62.5959 59.3678 62.7173 59.7693 62.721 60.2064H61.3426C61.309 59.8851 61.2119 59.6293 61.0513 59.4388C60.8944 59.2482 60.6927 59.1119 60.4461 59.0297C60.1996 58.9475 59.9269 58.9065 59.6281 58.9065C59.4039 58.9065 59.1948 58.9326 59.0005 58.9849C58.8063 59.0372 58.6363 59.1138 58.4906 59.2146C58.345 59.3155 58.231 59.4388 58.1489 59.5844C58.0704 59.7264 58.0312 59.8889 58.0312 60.0719C58.0312 60.3334 58.1171 60.5463 58.2889 60.7107C58.4645 60.8713 58.7913 61.0076 59.2695 61.1197L60.7263 61.4447C61.1783 61.5343 61.5425 61.6688 61.8189 61.8481C62.0953 62.0274 62.3064 62.2328 62.452 62.4644C62.5977 62.6923 62.6948 62.9258 62.7434 63.1648C62.792 63.4039 62.8162 63.6318 62.8162 63.8484C62.8162 64.2705 62.6855 64.6534 62.424 64.997C62.1663 65.3407 61.8002 65.6134 61.3258 65.8151C60.8552 66.0131 60.2967 66.1121 59.6505 66.1121ZM69.6702 62.4028H65.748V66H64.3864V57.8979H65.748V61.243H69.6702V57.8979H71.0317V66H69.6702V62.4028ZM72.9881 57.8979H74.3496V66H72.9881V57.8979ZM76.3149 57.8979H81.6155L81.6099 59.0521H77.6989V61.383H81.1504V62.5205H77.6989V66H76.3149V57.8979ZM82.683 59.125V57.8979H89.0034V59.125H86.5716V66H85.2044V59.125H82.683Z",fill:"white"}),n.createElement("path",{d:"M47.4535 57.2369C47.5235 57.1622 47.6081 57.1025 47.7021 57.0618C47.7961 57.021 47.8974 57 47.9999 57C48.1023 57 48.2037 57.021 48.2977 57.0618C48.3917 57.1025 48.4763 57.1622 48.5463 57.2369L53.2957 62.3044C53.7448 62.782 53.4049 63.5642 52.7492 63.5642H50.6197V65.8097C50.6197 66.0082 50.5408 66.1986 50.4005 66.339C50.2601 66.4794 50.0697 66.5582 49.8712 66.5582H46.1286C45.9301 66.5582 45.7397 66.4794 45.5993 66.339C45.4589 66.1986 45.3801 66.0082 45.3801 65.8097V63.5642H43.2498C42.5956 63.5642 42.2558 62.782 42.7034 62.3037L47.4535 57.2369ZM52.75 62.8156L47.9999 57.7489L43.2498 62.8156H45.3801C45.5786 62.8156 45.769 62.8945 45.9094 63.0349C46.0497 63.1753 46.1286 63.3656 46.1286 63.5642V65.8097H49.8712V63.5642C49.8712 63.3656 49.95 63.1753 50.0904 63.0349C50.2308 62.8945 50.4212 62.8156 50.6197 62.8156H52.75Z",fill:"white"}),n.createElement("path",{d:"M47.4535 57.2369C47.5235 57.1622 47.6081 57.1025 47.7021 57.0618C47.7961 57.021 47.8974 57 47.9999 57C48.1023 57 48.2037 57.021 48.2977 57.0618C48.3917 57.1025 48.4763 57.1622 48.5463 57.2369L53.2957 62.3044C53.7448 62.782 53.4049 63.5642 52.7492 63.5642H50.6197V65.8097C50.6197 66.0082 50.5408 66.1986 50.4005 66.339C50.2601 66.4794 50.0697 66.5582 49.8712 66.5582H46.1286C45.9301 66.5582 45.7397 66.4794 45.5993 66.339C45.4589 66.1986 45.3801 66.0082 45.3801 65.8097V63.5642H43.2498C42.5956 63.5642 42.2558 62.782 42.7034 62.3037L47.4535 57.2369ZM52.75 62.8156L47.9999 57.7489L43.2498 62.8156H45.3801C45.5786 62.8156 45.769 62.8945 45.9094 63.0349C46.0497 63.1753 46.1286 63.3656 46.1286 63.5642V65.8097H49.8712V63.5642C49.8712 63.3656 49.95 63.1753 50.0904 63.0349C50.2308 62.8945 50.4212 62.8156 50.6197 62.8156H52.75Z",stroke:"black"})),n.createElement("defs",null,n.createElement("filter",{id:"filter0_d_66_45098",x:"27.5",y:"40",width:"78",height:"51",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},n.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),n.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),n.createElement("feOffset",{dy:"4"}),n.createElement("feGaussianBlur",{stdDeviation:"4"}),n.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),n.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.16 0"}),n.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_66_45098"}),n.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_66_45098",result:"shape"})))));var kS;const ZS=()=>{const{translate:e}=(0,j.Z)();return n.createElement(vS,{description:e("webapp_multiselect_guide_tooltip_description_shift"),image:kS||(kS=n.createElement(AS,null)),notificationName:p.NotificationName.MultiselectGuideShift,title:e("webapp_multiselect_guide_tooltip_title_shift"),positioning:{top:"24px",right:"30px"}})};var OS,LS;const PS=()=>{const{isMultiselectEnabled:e,selectedItems:t}=tS();return e?(0,we.tZ)(n.Fragment,null,OS||(OS=(0,we.tZ)(MS,null)),!(0,Fo.isFirefox)()&&!!t.length&&(LS||(LS=(0,we.tZ)(ZS,null)))):null},zS=({amountToBeDeleted:e})=>{const{translate:t}=(0,j.Z)();return(0,z.tZ)("header",null,(0,z.tZ)(s.X6q,{size:"small",sx:{marginBottom:"14px"}},t("webapp_credentials_multiselect_delete_confirm_dialog_title",{count:e})),(0,z.tZ)(s.nvN,{color:"ds.text.neutral.quiet"},t("webapp_credentials_multiselect_delete_confirm_dialog_desc")))},jS=({credentialsToBeDeleted:e,onConfirm:t,onCancel:a,isLoading:i})=>{const{translate:o}=(0,j.Z)();return i?(0,z.tZ)(s.HoD,{color:"ds.text.brand.standard",size:"60px",sx:{margin:"40px auto 20px"}}):(0,z.tZ)(n.Fragment,null,(0,z.tZ)("ul",{sx:{margin:"16px 0",marginRight:"-16px",overflowY:"auto",maxHeight:"50vh",...$f}},e.map((e=>(0,z.tZ)("li",{key:`bulkdelete_dialog_list_${e.id}`,sx:{borderBottom:"1px solid",borderBottomColor:"ds.border.neutral.quiet.idle",padding:"12px 0",marginRight:"32px","&:last-child":{borderBottom:"none"}}},(0,z.tZ)(Re.Q,{size:Re.o.SMALL,sx:{overflow:"hidden",userSelect:"none"},title:e.title,email:e.email,login:e.login,domainIcon:e.domainIcon,shared:e.sharingSatus.isShared}))))),(0,z.tZ)("footer",null,(0,z.tZ)(s.cNS,{intent:"danger",primaryButtonTitle:o("webapp_credentials_multiselect_delete_confirm_dialog_delete_button"),primaryButtonOnClick:t,secondaryButtonTitle:o("webapp_credentials_multiselect_delete_confirm_dialog_cancel_button"),secondaryButtonOnClick:a})))},RS=({credentialsToBeDeleted:e,onClose:t,clearMultiSelection:a})=>{const{translate:i}=(0,j.Z)(),o=(0,ye.V)(),[r,l]=(0,n.useState)(!1);return n.createElement(s.VqE,{isOpen:!0,disableOutsideClickClose:!0,disableScrolling:!0,closeIconName:r?void 0:i("_common_dialog_dismiss_button"),onClose:t},n.createElement(zS,{amountToBeDeleted:e.length}),n.createElement(jS,{credentialsToBeDeleted:e,isLoading:r,onCancel:t,onConfirm:async()=>{l(!0);const n=e.map((e=>e.id));g.C.deleteCredentialsInBulk({credentialList:n}).then((t=>{t.success?(a(),o.showAlert(i("webapp_credentials_multiselect_delete_success_alert",{count:e.length}),s.BLW.SUCCESS)):t.notRemoved?o.showAlert(i("webapp_credentials_multiselect_delete_warning_alert_items_deleted",{loginsDeleted:e.length-t.notRemoved,totalNumberOfLogins:e.length}),s.BLW.WARNING):o.showAlert(i("webapp_credentials_multiselect_delete_error_alert",{count:e.length}),s.BLW.ERROR)})).finally((()=>{l(!1),t()}))}}))},US=({visible:e,children:t})=>(0,z.tZ)("div",{sx:{position:"absolute",top:"0",left:"0",right:"0",zIndex:"50",display:"flex",flexDirection:"row",alignItems:"center",padding:"10px 16px",margin:"8px",borderRadius:"8px",backgroundColor:"inherit",backgroundImage:`linear-gradient(${we.uH.colors.ds.container.expressive.neutral.quiet.idle} 100%, white)`,visibility:e?"visible":"hidden",transform:e?"scale3d(1,1,1)":"scale3d(1,0,1)",transformOrigin:"top",transition:"all 250ms"}},t);var BS;const FS=({onClick:e})=>{const{translate:t}=(0,j.Z)();return n.createElement(we.zx,{size:"small",layout:"iconLeading",mood:"neutral",onClick:e,icon:BS||(BS=n.createElement(s.XHJ,{color:"ds.background.default"}))},t("webapp_panel_edition_generic_delete"))},WS={ACTIONS_LIST:{display:"flex",gap:"16px",alignItems:"center",marginLeft:"auto"},CLOSE_BUTTON:{cursor:"pointer",backgroundColor:"transparent"},CLOSE_ICON:{fill:"ds.text.neutral.quiet",transition:"fill 250ms","&:hover":{fill:"ds.text.neutral.catchy"}}},GS=()=>{const{translate:e}=(0,j.Z)(),{isMultiselectEnabled:t,selectedItems:a}=tS(),{clearSelection:i}=aS(),{openBulkDeletionDialog:o}=(()=>{const{openDialog:e,closeDialog:t}=(0,qa.R)();return{openBulkDeletionDialog:(0,n.useCallback)(((a,i)=>{e(n.createElement(RS,{credentialsToBeDeleted:a,onClose:t,clearMultiSelection:i}))}),[e,t])}})(),r=a.length,l=()=>{o(a,i)};return(0,n.useEffect)((()=>{const e=e=>{const{key:t}=e;("Backspace"===t||"Delete"===t)&&r>0&&l()};return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}}),[r]),t?(0,z.tZ)(US,{visible:r>0},(0,z.tZ)("span",null,e("webapp_credentials_multiselect_selected_count",{count:r||1})),(0,z.tZ)("ul",{sx:WS.ACTIONS_LIST},(0,z.tZ)("li",null,(0,z.tZ)(FS,{onClick:l})),(0,z.tZ)("li",{sx:{display:"flex"}},(0,z.tZ)("button",{sx:WS.CLOSE_BUTTON,onClick:i,"data-testid":"closeButton"},(0,z.tZ)(s.ua7,{content:e("webapp_credentials_multiselect_menu_close_button"),placement:"bottom"},(0,z.tZ)(s.Two,{sx:WS.CLOSE_ICON})))))):null};var VS,YS,HS;const qS=({lee:e,additionalCredentialFilterCriteriums:t})=>{const{translate:a}=(0,j.Z)(),[i,o]=(0,n.useState)({field:"title",direction:RC._.ascending}),{selectedCollections:s}=pS(),{currentSpaceId:r}=(0,ct.fV)(),l=(0,it.w)("vault_web_collection_labelling_dev"),c=(0,it.w)("vault_web_collection_labelling_prod")||l;(0,n.useEffect)((()=>{const e=localStorage.getItem(UC.bC);try{if(e){const t=JSON.parse(e);o(t)}}catch(e){}}),[]);const d={sortCriteria:(e=>{const{field:t,direction:a}=e;return[{direction:a===RC._.ascending?"ascend":"descend",field:t}]})(i),filterCriteria:(()=>{const e=[];return null!==r&&e.push({field:"spaceId",type:"equals",value:r}),s.forEach((t=>{e.push({field:"collectionIds",type:"contains",value:t.id})})),t&&e.push(...t),e})(),initialBatchSize:20};return n.createElement(n.Fragment,null,VS||(VS=n.createElement(GS,null)),n.createElement("div",{style:{position:"relative",height:"100%",overflow:"hidden",display:"flex",flexDirection:"column"}},YS||(YS=n.createElement(mS,null)),n.createElement(uw,{header:[{key:"title",sortable:!0,content:a("webapp_credentials_header_row_name"),logSubaction:"name"},{key:"lastUse",sortable:!0,content:a("webapp_credentials_header_row_last_used"),className:gI,logSubaction:"lastUsed"},{key:"category",sortable:!c,content:a("webapp_credentials_header_row_category"),className:_I,logSubaction:"category"}],onSort:e=>{o(e),(e=>{localStorage.setItem(UC.bC,JSON.stringify(e))})(e)},options:i,containerClassName:"credentialHeaderContainer--QyO0Nl8Kfg"}),n.createElement(IS,{lee:e,tokenParams:d}),HS||(HS=n.createElement(PS,null))))},QS=e=>n.createElement(eS,null,n.createElement(Xi,null,n.createElement(uS,null,n.createElement(qS,{...e})))),XS=n.createElement(n.Fragment,null,n.createElement(fm,null),n.createElement(D_,null));var KS;const JS=({collectionId:e})=>{const{translate:t}=(0,j.Z)(),[a,i]=(0,n.useState)(!1);return n.createElement(Kp,{startWidgets:()=>n.createElement(n.Fragment,null,n.createElement(zg,{onClick:()=>i(!0),icon:KS||(KS=n.createElement(we.JO,{name:"ActionDeleteOutlined"}))},t("collections_delete_button_text")),n.createElement(Co,{collectionId:e,isOpen:a,onClose:()=>i(!1)})),endWidget:XS})},$S=({lee:e})=>{const{routes:t}=(0,i.Xo)(),a=(0,eN.k6)(),o=`{${(0,eN.UO)().collectionId}}`,{currentSpaceId:s}=(0,ct.fV)(),{data:r,status:l}=(0,Gi.k$)(Vi.vaultOrganizationApi,"queryCollections",{ids:[o]});if(l!==Ft.rq.Success)return null;const c=r.collections[0];return!c||null!==s&&c.spaceId!==s?n.createElement(eN.l_,{to:t.userCredentials}):n.createElement(n.Fragment,null,n.createElement(JS,{collectionId:c.id}),c?.vaultItems.length>0?n.createElement(QS,{lee:e,additionalCredentialFilterCriteriums:[{field:"collectionIds",type:"contains",value:o}]}):n.createElement(Kv,{onClickAddNew:()=>a.push(t.userAddWebsiteCredential)}))},eD=({path:e})=>{const{pathname:t}=(0,i.TH)();return n.createElement(n.Fragment,null,n.createElement(i.Vy,{path:`${e}/:collectionId`,component:$S}),n.createElement(Mg,{redirectPath:e},n.createElement(i.ZB,{exact:!0,path:`${e}/:collectionId/credential/:uuid`,component:Yv,additionalProps:{onClose:()=>{(0,i.uX)(t.substring(0,t.indexOf("/credential/")))}}})))};var tD=a(250866),aD=a(970449),nD=a(78740),iD=a(428390),oD=a(426025);const sD=new N.UserCallToActionEvent({callToActionList:[N.CallToAction.AllOffers,N.CallToAction.PremiumOffer],hasChosenNoAction:!1,chosenAction:N.CallToAction.AllOffers}),rD=new N.UserCallToActionEvent({callToActionList:[N.CallToAction.AllOffers,N.CallToAction.PremiumOffer],hasChosenNoAction:!1,chosenAction:N.CallToAction.PremiumOffer}),lD=new N.UserCallToActionEvent({callToActionList:[N.CallToAction.AllOffers,N.CallToAction.PremiumOffer],hasChosenNoAction:!0}),cD=({isVisible:e,handleDismiss:t})=>{const a=(0,lt.B)(),{routes:i}=(0,J.Xo)(),{translate:o}=(0,j.Z)();(0,n.useEffect)((()=>{e&&(0,O.N)(N.PageView.PaywallPasswordLimit)}),[e,O.N]);const r={type:oD.w2.PREMIUM_PROMPT,subtype:oD.X3.PASSWORD_LIMIT,action:oD.nS.GO_PREMIUM};return n.createElement(os.o,{isOpen:e,onRequestClose:()=>{t(),(0,O.K)(lD)},showCloseIcon:!0,disableBackgroundPanelClose:!0,title:o("webapp_paywall_password_limit_dialog_header"),footer:n.createElement(s.cNS,{primaryButtonTitle:o("webapp_paywall_upgrade_premium"),primaryButtonOnClick:()=>{var e;const t=null!=(e=a?.subscriptionCode)?e:"",n=(0,nD.c)(a?.premiumStatus?.autoRenewInfo);(0,iD.HE)("",t,r,!1,n),(0,O.K)(rD)},secondaryButtonTitle:o("webapp_paywall_password_limit_dialog_secondary_cta"),secondaryButtonOnClick:()=>{(0,je.Yk)(i.userGoPlans,r),(0,O.K)(sD)}})},n.createElement(s.nvN,{color:s.O9T.dashGreen01},o("webapp_paywall_password_limit_dialog_subtitle")))},dD=({children:e,lee:t,credentialsCount:a,shareableCredentialsCount:o})=>{const[s,r]=(0,n.useState)(t.carbon.webOnboardingMode),{translate:l}=(0,j.Z)(),{routes:d}=(0,i.Xo)(),{shouldShowAtOrOverLimitContent:u}=(0,Op.v0)(),p=(0,aD.s)(),m=(0,i.k6)(),[_,g]=(0,n.useState)(!1),b=a>0,C=()=>{u?g(!0):m.push(d.userAddWebsiteCredential)};(0,n.useEffect)((()=>{t.dispatch(tD.CG()),(0,O.N)(N.PageView.ItemCredentialList)}),[]),(0,n.useEffect)((()=>{{const e=t.carbon.webOnboardingMode;if(!s||!e)return void r(e);r(e)}}),[t.carbon.webOnboardingMode]);const w=()=>{h({activeOnboardingType:"loginWeb",leelooStep:c.WebOnboardingLeelooStep.SHOW_LOGIN_USING_EXTENSION_NOTIFICATION})};return n.createElement(Lg,{lee:t,editPanel:e},n.createElement(n.Fragment,null,n.createElement(Sw,{tooltipPassThrough:!u,tooltipContent:l("webapp_paywall_password_limit_tooltip"),handleAddNew:C,addNewDisabled:!p||u,shareButtonElement:(()=>{if(o<=0)return null;const e={...He(),tab:Ye.Passwords};return n.createElement(Mw,{sharing:e,text:l("credentials_header_share_password")})})(),shouldDisplayPasswordHistoryButton:!0,shouldDisplayAddButton:b,shouldDisplayNewAccountImportButton:b}),n.createElement(hw,{noticeType:_w.Credentials,customSx:{margin:"0 32px 30px"}}),n.createElement(cD,{isVisible:_,handleDismiss:()=>{g(!1)}})),n.createElement("div",{className:"contentWrapper--tSoFLe_2_Z"},(()=>{const{leelooStep:e,completedSteps:a}=t.carbon.webOnboardingMode;return n.createElement(Qu.T,{style:{left:"32px",top:"190px"},arrowPosition:"topLeft",title:l("webapp_onboarding_notification_password_save_success_title"),description:l("webapp_onboarding_notification_password_save_success_description"),show:a?.saveCredentialOnWeb&&e===c.WebOnboardingLeelooStep.SHOW_PASSWORD_SAVE_SUCCESS,confirmLabel:l("webapp_onboarding_notification_password_save_success_confirmation"),onConfirm:w})})(),b?n.createElement(QS,{lee:t}):n.createElement(Kv,{onClickAddNew:C})))};var uD;const pD={sortToken:{sortCriteria:[],uniqField:"id"},filterToken:{filterCriteria:[]}},mD=()=>pD,_D=(0,Ge.compose)(btoa,JSON.stringify,mD),gD={query:g.C.getCredentialsCount,queryParam:mD,live:g.C.liveCredentialsCount,liveParam:_D},hD=()=>({...pD,filterToken:{filterCriteria:[{field:"hasAttachments",type:"equals",value:!1},{field:"isLimited",type:"equals",value:!1}]}}),bD=(0,Ge.compose)(btoa,JSON.stringify,hD),CD={credentialsCount:gD,shareableCredentialsCount:{query:g.C.getCredentialsCount,queryParam:hD,live:g.C.liveCredentialsCount,liveParam:bD}},wD={strategies:CD},yD=(0,Fe.$)((0,We.i)((e=>n.createElement(n.Fragment,null,uD||(uD=n.createElement("div",{id:"dashlane-credentials-dialog"})),n.createElement(qa.r,{dialogId:"dashlane-credentials-dialog"},n.createElement(dD,{...e})))),wD),CD),ED="dateColumn--xOHe67QYup",ID="passwordColumn--ibAEmvyDWZ",ND="itemNameColumn--eqIcwW5vZ3",fD="primaryInfo--D1zuLwgNZb",vD="credentialInfo--SSBHEt2MQX",SD="webapp_password_history_item_some_url_subtitle",DD=e=>{const{item:t,onCreateNewCredential:a}=e,{translate:o}=(0,j.Z)(),{routes:r}=(0,i.Xo)(),l=(0,i.k6)(),c=(0,on.nO)();if(t.type===p.PasswordHistoryItemType.Credential){const e=()=>{l.push(r.userCredentialFromPasswordHistory(t.credentialId)),(0,ae.kb)(t.credentialId)},a=t.secondaryInfo||o(SD);return n.createElement("div",{className:fD,onClick:e},n.createElement(Re.Q,{title:t.primaryInfo,login:a,shared:t.sharingStatus.isShared,className:vD,domainIcon:t.icons,lightTheme:!0}))}if(d=t.primaryInfo,c?new an.ParsedURL(d).isUrlValid():(0,tn.isUrl)(d)){const e=()=>a(t.password,t.primaryInfo),i=o("webapp_password_history_item_some_url_main",{domain:t.primaryInfo}),r=o(SD);return n.createElement("div",{className:fD,onClick:e},n.createElement(Re.Q,{title:i,login:r,className:vD,nativeIcon:s.Uci.Generator,lightTheme:!0}))}var d;const u=o("webapp_password_history_item_no_url_main"),m=o("webapp_password_history_item_no_url_subtitle");return n.createElement("div",{className:fD,onClick:()=>a(t.password)},n.createElement(Re.Q,{title:u,login:m,className:vD,nativeIcon:s.Uci.Generator,lightTheme:!0}))},xD="*".repeat(20),MD=({item:e,isProtected:t})=>{const[a,i]=n.useState(!1),{translate:o}=(0,j.Z)(),{areProtectedItemsUnlocked:r,openProtectedItemsUnlocker:l}=(0,fe.tY)(),c=n.useCallback((a=>a&&t&&!r?(e.type,p.PasswordHistoryItemType.Credential,new Promise(((e,t)=>{l({action:Ne.P7.Show,itemType:Ne.Ru.GeneratedPassword,successCallback:e,cancelCallback:t})}))):Promise.resolve()),[r,t,e,l]);return n.createElement(s.WUg,{hidePasswordTooltipText:o("webapp_password_history_item_password_input_hide"),showPasswordTooltipText:o("webapp_password_history_item_password_input_show"),onPasswordVisibilityChanged:a=>{i(a),a&&(0,O.K)(new N.UserRevealVaultItemFieldEvent({field:N.Field.Password,isProtected:t,itemId:e.id,itemType:N.ItemType.Credential}))},onPasswordVisibilityChangeRequest:c,value:a?e.password:xD,readOnly:!0})},TD=(0,n.memo)((({item:e,onPasswordCopied:t,onOpenRestorePasswordDialog:a,isProtected:i})=>{const{translate:o}=(0,j.Z)(),{areProtectedItemsUnlocked:r,openProtectedItemsUnlocker:l}=(0,fe.tY)(),[c,d]=(0,n.useState)(!1);(0,n.useEffect)((()=>{e.type===p.PasswordHistoryItemType.Credential?(async()=>{const t=await g.C.getCredential(e.credentialId),a=t.sharingStatus.isShared&&"limited"===t.sharingStatus.permission;d(!a)})():d(!1)}),[e]);const u=async()=>{const a=await navigator.clipboard.writeText(e.password).then((()=>!0)).catch((e=>((0,et.Z)("[quick-actions-menu]: unable to copy to clipboard",e),!1)));t({success:a,isProtected:i,itemId:e.id})};return(0,z.tZ)(s.Ejs,{alignItems:"center",justifyContent:"center",className:WC},c?(0,z.tZ)(s.ua7,{content:o("webapp_password_history_quick_action_restore_password_button_tooltip"),placement:"left"},(0,z.tZ)(s.zxk,{type:"button",name:"hiddenAction",nature:"ghost",className:"restoreButton--tIW6CrlT8K",onClick:()=>{a(e)}},(0,z.tZ)(s.wHS,{color:s.O9T.dashGreen00}))):null,(0,z.tZ)(s.ua7,{content:o("webapp_password_history_quick_action_copy_password_button_tooltip"),placement:"left"},(0,z.tZ)(s.zxk,{type:"button",name:"hiddenAction",nature:"ghost",className:"copyButton--DsmI_H7mvR",onClick:()=>{if(i&&!r)return l({action:Ne.P7.Copy,itemType:Ne.Ru.GeneratedPassword,successCallback:u});u()}},(0,z.tZ)(s.TIy,{color:s.O9T.dashGreen00}))))}));let AD;!function(e){e.All="all",e.Saved="saved",e.Unsaved="unsaved"}(AD||(AD={}));const kD=e=>[{key:"primaryInfo",sortable:!0,content:e("webapp_password_history_column_label_name"),className:ND},{key:"password",sortable:!1,content:e("webapp_password_history_column_label_password"),className:ID},{key:"timestamp",sortable:!0,content:e("webapp_password_history_column_label_date"),className:ED}],ZD=(e,t,a)=>{const n=[];return e!==AD.All&&n.push({field:"type",value:e===AD.Saved?p.PasswordHistoryItemType.Credential:p.PasswordHistoryItemType.Generated,type:"equals"}),a&&n.push({field:"credentialId",type:"equals",value:`{${a}}`}),t&&n.push({value:t,type:"matches"}),n},OD=e=>[{field:e.field,direction:"ascending"===e.direction?"ascend":"descend"}],LD=(e,t)=>{if(t.status!==Ft.rq.Success)return e.type!==p.PasswordHistoryItemType.Credential||e.isProtected;const a=t.data;return e.type===p.PasswordHistoryItemType.Credential&&e.isProtected||a},PD=({item:e,onPasswordCopied:t,onCreateNewCredential:a,onOpenRestorePasswordDialog:i})=>{const o=(0,md.q)(),s=((e,t,a,i,o)=>{var s,r;return{renderers:{primaryInfo:()=>s||(s=n.createElement(DD,{item:e,onCreateNewCredential:i})),password:()=>r||(r=n.createElement(MD,{item:e,isProtected:a})),timestamp:()=>n.createElement(Cs.Z,null,n.createElement(dr.Z,{date:(0,qo.Z)(e.timestamp)}))},data:[{key:"primaryInfo",className:ND},{key:"password",className:ID},{key:"timestamp",className:ED}],actions:n.createElement(TD,{item:e,onPasswordCopied:t,onOpenRestorePasswordDialog:o,isProtected:a})}})(e,t,LD(e,o),a,i);return n.createElement(YC,{...s,key:e.id})},zD=({isLoading:e,hasNext:t,loadNext:a,hasPrevious:n=!1,loadPrevious:i=(()=>{}),paginatedDataItems:o,onPasswordCopied:r,onCreateNewCredential:l,onOpenRestorePasswordDialog:c})=>(0,z.tZ)(s.Ejs,{flexDirection:"column",sx:{overflow:"hidden"}},(0,z.tZ)(ut.v,{hasNext:t,hasPrevious:n,isLoading:e,loadNext:a,loadPrevious:i},o.map((e=>(0,z.tZ)(PD,{key:[e.id,e.timestamp].join(""),item:e,onPasswordCopied:r,onCreateNewCredential:l,onOpenRestorePasswordDialog:c}))))),jD={marginLeft:"auto",marginRight:"16px",paddingBottom:0},RD=({activeFilter:e,onFilterChanged:t})=>{const{translate:a}=(0,j.Z)(),n=e=>{let t="";switch(e){case AD.All:t="webapp_password_history_filter_all";break;case AD.Saved:t="webapp_password_history_filter_saved";break;case AD.Unsaved:t="webapp_password_history_filter_unsaved"}return a(t)};return(0,z.tZ)(s.G8v,{sx:jD},Object.keys(AD).map((a=>(0,z.tZ)(s.OTy,{key:a,onClick:()=>{t(AD[a])},selected:e===AD[a],size:"small",label:n(AD[a])}))))};var UD;const BD=({paginatedData:e,onSort:t,sortingOptions:a,onFilterChanged:i,activeFilter:o,onPasswordCopied:r,onSearchChange:l,onClearSearchChange:c,onCreateNewCredential:d,onOpenRestorePasswordDialog:u,searchWasCleared:p,searchValue:m})=>{const _=(0,n.useRef)(null),{translate:g}=(0,j.Z)(),h=0===e.items.length&&o===AD.All&&""===m&&!p,b=0===e.items.length&&""!==m;if(h)return(0,z.tZ)(Hg,{icon:(0,z.tZ)(s.NSO,{size:75,color:s.O9T.dashGreen04})},(0,z.tZ)("p",null,g("webapp_password_history_empty_state_message")));const C="kw_search_string";return(0,z.tZ)(s.Ejs,{flexDirection:"column",flexWrap:"nowrap",sx:{overflow:"hidden"}},(0,z.tZ)(s.Ejs,{alignItems:"center",sx:{margin:"32px",marginBottom:"20px"}},(0,z.tZ)(s.Ejs,{as:"h2",sx:{color:s.O9T.dashGreen02,textTransform:"uppercase",fontSize:"12px"}},g("webapp_password_history_title")),(0,z.tZ)(RD,{activeFilter:o,onFilterChanged:i}),(0,z.tZ)(s.G8v,null,(0,z.tZ)(s.oil,{role:"search",ref:_,value:m,onChange:()=>{l(_.current?.value||"")},placeholder:g("webapp_password_history_search_placeholder"),onClick:()=>{(0,O.K)(new N.UserClickEvent({button:N.Button.SearchBar}))},endAdornment:m.length>0?(0,z.tZ)("button",{className:"clearSearchButton--yqMc06gCgM",onClick:c},(0,z.tZ)(s.Two,{size:20,color:Vb()["--grey-02"],hoverColor:Vb()["--grey-01"]})):UD||(UD=(0,z.tZ)(s.W1M,null))}))),b?null:(0,z.tZ)(uw,{header:kD(g),onSort:t,options:a}),b?(0,z.tZ)(Hg,{icon:(0,z.tZ)(s.Cmj,{size:75,color:s.O9T.dashGreen04})},(0,z.tZ)("span",null,(e=>{const t=g("webapp_password_history_search_result_empty",{query:C}),[a,n]=t.split(C);return(0,z.tZ)("span",null,a,(0,z.tZ)("span",{className:"noSearchResult--qcwmR3UTzm"},e),n)})(m))):(0,z.tZ)(zD,{paginatedDataItems:e.items,hasNext:e.hasNextPage,loadNext:e.loadNextPage,isLoading:e.isNextPageLoading,onPasswordCopied:r,onCreateNewCredential:d,onOpenRestorePasswordDialog:u}))};var FD,WD,GD;const VD=()=>{const{translate:e}=(0,j.Z)(),{routes:t}=(0,i.Xo)();return(0,z.tZ)(Kp,{sx:{margin:"16px 0"},startWidgets:()=>(0,z.tZ)(s.Ejs,{as:s.X6q,size:"small",alignItems:"center",gap:"20px"},(0,z.tZ)(i.rU,{to:t.userCredentials,"aria-label":e("_common_action_back")},FD||(FD=(0,z.tZ)(s.xCe,null))),e("webapp_password_history_title")),endWidget:(0,z.tZ)(n.Fragment,null,WD||(WD=(0,z.tZ)(fm,null)),GD||(GD=(0,z.tZ)(D_,null)))})},YD=({setAsInteracted:e})=>{const{translate:t}=(0,j.Z)();return(0,z.tZ)(s.vDh,{title:t("webapp_password_history_dismissable_infobox_title"),severity:"subtle",size:"descriptive",layout:"inline",actions:[(0,z.tZ)(s.zxk,{type:"button",nature:"primary",key:"primary",onClick:e},t("webapp_password_history_dismissable_infobox_button"))],sx:{margin:"0px 32px 16px 32px"}},t("webapp_password_history_dismissable_infobox_content"))},HD=({item:e,isOpen:t,onCloseRestorePasswordDialog:a,onPasswordRestored:i})=>{const{translate:o}=(0,j.Z)(),{areProtectedItemsUnlocked:r,openProtectedItemsUnlocker:l}=(0,jn.t)(),c=(0,md.q)(),d=LD(e,c),u=()=>{g.C.updateCredential({id:e.credentialId,update:{password:e.password}}).then((t=>i(e,t.success)))};return n.createElement(os.o,{showCloseIcon:!0,title:o("webapp_password_history_quick_action_restore_password_dialog_title"),isOpen:t,onRequestClose:a,footer:n.createElement(s.Ejs,{justifyContent:"end",gap:"8px"},n.createElement(s.zxk,{type:"button",nature:"secondary",onClick:()=>{if(a(),d&&!r)return l({action:Ne.P7.Copy,itemType:Ne.Ru.GeneratedPassword,successCallback:u});u()}},o("webapp_password_history_quick_action_restore_password_dialog_button_ok")),n.createElement(s.zxk,{type:"button",onClick:a},o("webapp_password_history_quick_action_restore_password_dialog_button_cancel")))},n.createElement(s.Ejs,{flexDirection:"column",gap:"8px",sx:{width:"576px"}},n.createElement(s.nvN,null,o("webapp_password_history_quick_action_restore_password_dialog_content",{domain:e.primaryInfo}))))},qD=({success:e,successMessage:t,errorMessage:a,onClose:i})=>{const{translate:o}=(0,j.Z)();return n.createElement(s.YcA,null,n.createElement(s.bZj,{severity:e?s.BLW.SUCCESS:s.BLW.ERROR,closeIconName:o("_common_alert_dismiss_button"),onClose:i},o(e?t:a)))};var QD;const XD=(0,n.createContext)({password:""}),KD=({lee:e,children:t})=>{const{shouldShowAtOrOverLimitContent:a}=(0,Op.v0)(),{routes:o}=(0,J.Xo)(),r=(0,i.k6)(),[l,c]=(0,n.useState)({field:"timestamp",direction:RC._.descending}),{interacted:d,setAsInteracted:u}=(0,Yo.d)(p.NotificationName.PasswordHistoryBanner),[m,_]=(0,n.useState)(AD.All),[h,b]=(0,n.useState)(""),[C,w]=(0,n.useState)(""),[y,E]=(0,n.useState)(!1),[I,f]=(0,n.useState)(""),[v,S]=(0,n.useState)(!1),[D,x]=(0,n.useState)(),[M,T]=(0,n.useState)(!1),[A,k]=(0,n.useState)(!1),[Z,L]=(0,n.useState)(!0),[P,j]=(0,n.useState)(0),[R,U]=(0,n.useState)(!1),[B,F]=(0,n.useState)(!0),[W,G]=(0,n.useState)(0),{credentialId:V}=(0,i.UO)(),Y=(0,n.useRef)({status:Ft.rq.Loading});(0,n.useEffect)((()=>((0,O.N)(N.PageView.PasswordHistory),(()=>{const e=localStorage.getItem(UC.R2);try{if(e){const t=JSON.parse(e);c(t)}}catch(e){}})(),()=>{window.clearTimeout(P),window.clearTimeout(W)})),[]);const H=(0,n.useMemo)((()=>(0,X.debounce)((e=>{w(e)}),100)),[]);(0,n.useEffect)((()=>{H(h)}),[H,h]);const q={sortCriteria:OD(l),filterCriteria:ZD(m,C,V)},Q=(0,Ft.Cc)({batchLiveEndpoint:g.C.livePasswordHistoryBatch,pageEndpoint:g.C.getPasswordHistoryPage,tokenEndpoint:g.C.getPasswordHistoryPaginationToken,tokenEndpointParam:q},[l,m,V,C]);Q.status!==Ft.rq.Loading&&(Y.current=Q);const K=Y.current.status!==Ft.rq.Success?null:Y.current.data;return(0,z.tZ)(XD.Provider,{value:{password:I}},(0,z.tZ)(Lg,{lee:e,editPanel:t},(0,z.tZ)(s.Ejs,{fullWidth:!0,flexDirection:"column",flexWrap:"nowrap",sx:{height:"100%",overflow:"auto",bg:s.O9T.dashGreen06}},QD||(QD=(0,z.tZ)(VD,null)),d?null:(0,z.tZ)(YD,{setAsInteracted:u}),(0,z.tZ)(s.Ejs,{flexDirection:"column",flexWrap:"nowrap",sx:{position:"relative",overflow:"hidden",minWidth:"fit-content",maxWidth:"100%",minHeight:"85%",maxHeight:"100%",bg:"white",borderColor:s.O9T.dashGreen05,borderStyle:"solid",borderWidth:"thin",mx:"32px"}},K?(0,z.tZ)(BD,{paginatedData:K,onSort:e=>{c(e),(e=>{localStorage.setItem(UC.R2,JSON.stringify(e))})(e)},sortingOptions:l,activeFilter:m,onFilterChanged:e=>{switch(_(e),e){case AD.All:(0,O.N)(N.PageView.PasswordHistoryAll);break;case AD.Saved:(0,O.N)(N.PageView.PasswordHistorySaved);break;case AD.Unsaved:(0,O.N)(N.PageView.PasswordHistoryUnsaved)}},onPasswordCopied:({success:e,isProtected:t,itemId:a})=>{W&&window.clearTimeout(W),U(!0),F(e),G(window.setTimeout((()=>{U(!1)}),5e3)),(0,O.K)(new N.UserCopyVaultItemFieldEvent({field:N.Field.Password,isProtected:t,itemType:N.ItemType.Credential,itemId:a}))},onSearchChange:e=>{b(e)},onClearSearchChange:()=>{b(""),w(""),E(!0)},onCreateNewCredential:(e,t)=>{a?S(!0):(r.push(o.userAddWebsiteCredentialWithPrefilledParameters({website:t})),f(e))},onOpenRestorePasswordDialog:e=>{x(e),T(!0)},searchWasCleared:y,searchValue:h}):null),R?(0,z.tZ)(qD,{success:B,successMessage:"webapp_password_history_quick_action_copy_password_success_message",errorMessage:"webapp_credentials_quick_actions_copy_password_feedback_not_ok",onClose:()=>U(!1)}):null,A?(0,z.tZ)(qD,{success:Z,successMessage:"webapp_password_history_quick_action_restore_password_success_message",errorMessage:"_common_generic_error",onClose:()=>k(!1)}):null,D&&M?(0,z.tZ)(HD,{isOpen:M,item:D,onCloseRestorePasswordDialog:()=>{T(!1)},onPasswordRestored:(e,t)=>{P&&window.clearTimeout(P),k(!0),L(t),j(window.setTimeout((()=>{k(!1)}),5e3)),t&&(0,O.K)(new N.UserUpdateVaultItemEvent({action:N.Action.Edit,itemId:e.credentialId,itemType:N.ItemType.Credential,space:e.spaceId?N.Space.Professional:N.Space.Personal})),x(void 0)}}):null,(0,z.tZ)(cD,{isVisible:v,handleDismiss:()=>{S(!1)}}))))},JD=()=>{const{translate:e}=(0,j.Z)();return(0,we.tZ)(Is,{icon:(0,we.tZ)("div",{className:w()(kv,"dummyIcon--ix6eIwyFEN")}),title:e("webapp_credential_addition_website")})};var $D;const ex=["name","website"],tx={name:"title",website:"url"},ax=()=>({filterToken:{filterCriteria:[]},sortToken:{sortCriteria:[],uniqField:"id"}}),nx={live:g.C.liveCredentialsCount,liveParam:(0,Ge.compose)(btoa,JSON.stringify,ax),query:g.C.getCredentialsCount,queryParam:ax},ix={query:g.C.getActiveSpaces},ox={live:g.C.livePremiumStatus,query:g.C.getPremiumStatus},sx={activeSpaces:ix,credentialCategories:{query:g.C.getCredentialCategories},credentialsCount:nx,shouldShowRequireMasterPassword:{query:g.C.getShouldShowRequireMasterPassword},premiumStatus:ox},rx={strategies:sx},lx=(0,fe.DP)((({activeSpaces:e,lee:t,premiumStatus:a,credentialCategories:o,shouldShowRequireMasterPassword:s,onClose:r,protectedItemsUnlockerShown:l,openProtectedItemsUnlocker:d,areProtectedItemsUnlocked:u})=>{const p=(0,n.createRef)(),{routes:m}=(0,i.Xo)(),{currentSpaceId:_}=(0,ct.fV)(),h=(0,n.useRef)(!1),{createCollection:b,updateCollection:C}=(0,Gi.u7)(Vi.vaultOrganizationApi),[w,y]=(0,n.useState)(!1),[E,I]=(0,n.useState)(!1),[f,v]=(0,n.useState)(""),S=(0,n.useContext)(XD),D=()=>{const{capabilities:e}=a;return Boolean(e?.passwordsLimit?.info?.limit)},x=async()=>{const e=await g.C.getCredentialsCount({filterToken:{filterCriteria:[]},sortToken:{sortCriteria:[],uniqField:"id"}}),t=(e=>{var t;return null!=(t=e?.capabilities?.passwordsLimit?.info?.limit)?t:0})(a);return t-e},M=()=>{(0,O.N)(N.PageView.ItemCredentialList),r?r():(0,i.uX)(m.userCredentials)};n.useEffect((()=>{g.C.getIsForcedDomainsEnabled().then((e=>h.current=e)),D()&&(async()=>{await x()<=0&&I(!0)})(),S.password&&(v(S.password),y(!0)),(0,O.N)(N.PageView.ItemCredentialCreate)}),[]);const T={...(()=>{const e=(0,i.CN)();return ex.reduce(((t,a)=>(t[tx[a]||a]=e.get(a),t)),{})})(),password:f},A={...(e=>({autoLogin:!0,autoProtected:!1,category:"",email:"",id:"",limitedPermissions:!1,login:"",note:"",onlyForThisSubdomain:!1,otpSecret:"",otpUrl:"",password:"",protectWithMasterPassword:!1,secondaryLogin:"",spaceId:e,subdomainOnly:!1,title:"",type:"KWAuthentifiant",url:"",redirectUrl:"",linkedWebsites:{addedByDashlane:[],addedByUser:[]}}))(_),...T};return n.createElement(Xi,null,n.createElement(bs,{isViewingExistingItem:!1,itemHasBeenEdited:w,onSubmit:async()=>{const e=p.current?.getValues();Boolean(p.current?.isFormValid())&&e&&(await(async e=>{const t=p.current?.getVaultItemCollections(),a={kwType:"KWAuthentifiant",origin:c.SaveOrigin.MANUAL,content:e},n=await g.C.savePersonalDataItem(a);n.success&&t?.length&&((e,t)=>{const a=t.map((t=>(t.vaultItems=[{id:e,type:c.DataModelType.KWAuthentifiant}],t.id?C({id:t.id,collection:t,operationType:Vi.OperationType.APPEND}):b({content:t}))));Promise.allSettled(a)})(n.itemId,t)})(e),fp(),D()&&await x()<=0?I(!0):M())},onNavigateOut:M,formId:"add_credential_panel",header:$D||($D=n.createElement(JD,null))},n.createElement(lv,{ref:p,currentValues:A,lee:t,newItemType:"credential",signalEditedValues:()=>y(!0),additionalProps:{activeSpaces:e,credentialCategories:o.items,areProtectedItemsUnlocked:u,openProtectedItemsUnlocker:d,protectedItemsUnlockerShown:l,shouldShowRequireMasterPassword:s}}),E&&n.createElement(cD,{isVisible:E,handleDismiss:()=>M()})))})),cx=(0,Fe.$)((0,We.i)(lx,rx),sx),dx=({path:e})=>n.createElement(i.GB,{exact:!0,path:[e,`${e}/account-settings`,`${e}/add`,`${e}/:uuid`],component:yD,reducer:tD.ZP},n.createElement(Mg,{redirectPath:e},n.createElement(i.ZB,{path:`${e}/add`,component:cx}),n.createElement(i.ZB,{path:`${e}/:uuid([-a-zA-Z\\d]{36})`,component:Yv,additionalProps:{onClose:()=>{(0,O.N)(N.PageView.ItemCredentialList),(0,i.uX)(e)}}}))),ux=({path:e})=>{const t=()=>{(0,i.uX)(e)};return n.createElement(i.GB,{exact:!0,path:[e,`${e}/add`,`${e}/filter/:credentialId`,`${e}/credential/:uuid`],component:KD},n.createElement(i.ZB,{path:`${e}/add`,component:cx,additionalProps:{onClose:t}}),n.createElement(i.ZB,{path:`${e}/credential/:uuid([-a-zA-Z\\d]{36})`,component:Yv,additionalProps:{onClose:t}}))},px="monitoredEmail--sHhuob4G1t",mx=({email:e})=>{const{translate:t}=(0,j.Z)(),{setAsSeen:a}=(0,Yo.m)(p.NotificationName.DWMb2bAutoEnrollTooltip);return(0,z.tZ)(s.ua7,{placement:"left",trigger:"persist",sx:{display:"flex",flexDirection:"column",padding:"16px",zIndex:1},content:(0,z.tZ)(n.Fragment,null,(0,z.tZ)(s.nvN,{size:"large",color:s.O9T.white,sx:{textAlign:"left",fontWeight:"bold"}},t("webapp_darkweb_bussiness_email_monitoring_title")),(0,z.tZ)(s.nvN,{size:"x-small",color:s.O9T.white,sx:{textAlign:"left",padding:"8px 0px 16px 0px"}},t.markup("webapp_darkweb_bussiness_email_monitoring_description_markup",{email:e})),(0,z.tZ)(s.zxk,{size:"small",sx:{alignSelf:"flex-end"},type:"button",onClick:a},t("webapp_darkweb_bussiness_email_notification_ok")))},(0,z.tZ)("div",null,(0,z.tZ)(Ea.q,{email:e,size:36})))},_x=({email:e,handleOnDismiss:t})=>{const{translate:a}=(0,j.Z)();return(0,z.tZ)(s.Ejs,{flexDirection:"column",alignItems:"flex-start",sx:{textAlign:"left",padding:"16px",width:"100%"}},(0,z.tZ)(s.Ejs,{flexWrap:"nowrap",alignItems:"center"},(0,z.tZ)(s.tWY,{size:24,color:s.O9T.dashGreen00}),(0,z.tZ)(s.X6q,{size:"x-small",sx:{ml:"10px",fontWeight:"600",color:s.O9T.black}},a("webapp_darkweb_email_verify_email_title"))),(0,z.tZ)(s.nvN,{sx:{mt:"8px",color:s.O9T.dashGreen01}},a("webapp_darkweb_email_sent_email")),(0,z.tZ)(s.nvN,{sx:{fontWeight:"900",mt:"8px",mr:"24px",color:s.O9T.midGreen00,textOverflow:"ellipsis",whiteSpace:"nowrap",maxWidth:"327px",overflow:"hidden"},title:e},e),(0,z.tZ)(s.nvN,{sx:{mt:"8px",color:s.O9T.dashGreen01}},a("webapp_darkweb_email_verify_email_content")),(0,z.tZ)(s.zxk,{sx:{mt:"32px",mr:"16px",alignSelf:"flex-end"},type:"submit",onClick:t},a("webapp_darkweb_email_verify_email_confirmation")))},gx=({children:e,email:t,handleOnClosePendingNotification:a})=>(0,z.tZ)(s.ua7,{"data-testid":"Pending notification tooltip",placement:"bottom-start",trigger:"persist",content:(0,z.tZ)(_x,{email:t,handleOnDismiss:a}),sx:{minWidth:"376px",bg:"white","> div":{borderColor:"white"}}},(0,z.tZ)("div",{sx:{width:"min-content"}},e)),hx=({children:e})=>{const{translate:t}=(0,j.Z)();return(0,z.tZ)(s.ua7,{"data-testid":"Pending verification tooltip",placement:"bottom",content:t("webapp_darkweb_email_pending_tooltip"),sx:{fontSize:3,maxWidth:"296px"}},(0,z.tZ)("div",{sx:{width:"min-content"}},e))},bx=e=>{const{children:t,showPendingNotification:a,showPendingTooltip:i}=e;return i?(0,z.tZ)(hx,{...e},t):a?(0,z.tZ)(gx,{...e},t):(0,z.tZ)(n.Fragment,null,t)};var Cx,wx;const yx=e=>{switch(e){case p.DataLeaksEmailStatus.ACTIVE:case p.DataLeaksEmailStatus.DISABLED:return"textColorActive--w7oNmEniuS";case p.DataLeaksEmailStatus.PENDING:return"textColorInactive--BJa2CEfdes";default:return null}},Ex=()=>{const{translate:e}=(0,j.Z)();return(0,z.tZ)(s.ua7,{content:e("webapp_darkweb_bussiness_email_tooltip"),placement:"bottom","data-testid":"autoEnroll-tooltip"},Cx||(Cx=(0,z.tZ)(s.uMt,{size:16,"data-testid":"b2b-auto-enroll-email"})))},Ix=({statusText:e,textClass:t,enabledRemoval:a})=>{const{translate:n}=(0,j.Z)();return a?(0,z.tZ)("span",{className:w()("status--cetuyUm4w0",t)},e):(0,z.tZ)("div",null,(0,z.tZ)(s.nvN,{size:"small",sx:{display:"flex",position:"relative",width:"max-content",fontSize:"12px"},className:w()(t)},e,"  ",n("webapp_darkweb_bussiness_email_monitoring_info")))},Nx=({children:e,enabledRemoval:t})=>t?(0,z.tZ)(n.Fragment,null,e):(0,z.tZ)(s.Ejs,{sx:{gap:"5px"}},e,wx||(wx=(0,z.tZ)(Ex,null))),fx=e=>{var t;const{translate:a}=(0,j.Z)(),{state:n,canEmailBeRemoved:i}=e,o=(e=>{switch(e){case p.DataLeaksEmailStatus.ACTIVE:return"webapp_darkweb_email_active_monitoring";case p.DataLeaksEmailStatus.DISABLED:return"webapp_darkweb_email_disabled_monitoring";case p.DataLeaksEmailStatus.PENDING:return"webapp_darkweb_email_pending_verification";default:return null}})(n),s={textClass:null!=(t=yx(n))?t:"",statusText:o?a(o):"",enabledRemoval:i};return(0,z.tZ)(Nx,{enabledRemoval:i},n===p.DataLeaksEmailStatus.PENDING?(0,z.tZ)(bx,{...e},(0,z.tZ)(Ix,{...s})):(0,z.tZ)(Ix,{...s}))};var vx;const Sx="webapp_darkweb_email_remove_tooltip",Dx=({email:e,state:t,handleOnRemoveClick:a,handleOnClosePendingNotification:i,showPendingTooltip:o,showPendingNotification:r,canEmailBeRemoved:l})=>{const{translate:c}=(0,j.Z)(),{unseen:d}=(0,Yo.m)(p.NotificationName.DWMb2bAutoEnrollTooltip),u=(0,n.useCallback)((()=>a(e)),[a,e]);return(0,z.tZ)("li",{className:px},!l&&d?(0,z.tZ)(mx,{email:e}):(0,z.tZ)(Ea.q,{email:e,size:36}),(0,z.tZ)("div",{className:"emailData--MaUXzDzHAA"},l?(0,z.tZ)(s.nvN,{sx:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",fontSize:"16px",color:s.O9T.dashGreen01,marginRight:"8px"}},e):(0,z.tZ)(s.Ejs,null,(0,z.tZ)(s.nvN,{sx:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",fontSize:"16px",color:s.O9T.dashGreen01,marginRight:"8px"}},e),(0,z.tZ)(s.UnL,{size:16,sx:{paddingTop:"3px"}})),(0,z.tZ)(fx,{email:e,state:t,showPendingTooltip:o,showPendingNotification:r,canEmailBeRemoved:l,handleOnClosePendingNotification:i})),l?(0,z.tZ)(s.ua7,{content:c(Sx),placement:"left",sx:{marginLeft:"16px"}},(0,z.tZ)(s.hU,{"aria-label":c(Sx),icon:vx||(vx=(0,z.tZ)(s.Two,null)),onClick:u,disabled:!l})):null)},xx=({active:e=!1})=>n.createElement("div",{className:e?"iconActive--dWzG4K62Od":"iconInactive--roWQJlNbft"},n.createElement(s.d3S,{color:e?Vb()["--white"]:Vb()["--dash-green-00"],size:20}));var Mx;const Tx=()=>{const{translate:e}=(0,j.Z)(),t=w()("emailAddress--NOKtoY9UJo","inactive--yGikd42i66");return n.createElement("li",{className:px},Mx||(Mx=n.createElement(xx,null)),n.createElement("span",{className:t},e("webapp_darkweb_email_placeholder")))},Ax=({email:e,handleOnRemoveEmail:t,handleOnCloseDialog:a})=>{const{translate:i}=(0,j.Z)(),o=n.useCallback((()=>{t(e)}),[e,t]);return n.createElement(os.o,{isOpen:!0,onRequestClose:a,footer:n.createElement(s.cNS,{primaryButtonTitle:i("webapp_darkweb_email_stop_monitoring_action"),primaryButtonOnClick:o,secondaryButtonTitle:i("webapp_darkweb_email_removal_cancel_action"),secondaryButtonOnClick:a,intent:"danger"}),title:i("webapp_darkweb_email_stop_monitoring_dialog_title")},n.createElement(s.nvN,{className:"subtitle--HrSBLmvZhD"},i.markup("webapp_darkweb_email_stop_monitoring_dialog_content_markup",{email:e})))},kx="monitoredEmails--cmnmuS8cX2",Zx="header--id1g9gUw6E",Ox="title--FkW0uYekCm",Lx="infoIcon--ST0NaV2pyG",Px="list--IPf9w0CS6n",zx="footer--JvaaiTQZWB",jx="availableSpots--kfVyS5s39p",Rx="addButtonWrapper--PeXUoz1WUx",Ux="addButton--_rlOFw_YnO",Bx=()=>{const e=(0,Gi.k$)(zc.emailMonitoringApi,"emailList"),t=(0,Ki.E)(),{optinEmail:a,optoutEmail:n}=(0,Gi.u7)(zc.emailMonitoringApi),i=e=>a({email:e}),o=e=>n({email:e});if(t.status===Ft.rq.Loading||e.status===Ft.rq.Loading)return{isLoading:!0,limit:5,b2bAssociatedEmail:null,optinEmail:i,optoutEmail:o};const s=t.status===Ft.rq.Success&&t.data.length>0?t?.data[0].associatedEmail:null;return{isLoading:!1,emails:e.data,limit:5,b2bAssociatedEmail:s,optinEmail:i,optoutEmail:o}};var Fx;const Wx=(e,t)=>!t||e<=0,Gx=({emails:e,b2bAssociatedEmail:t,availableEmailSpots:a,onOpenAddDialog:i,removalOutcomeAlert:o,setNewlyAddedEmail:r,newlyAddedEmail:l,hasDataLeakCapability:c})=>{const{translate:d}=(0,j.Z)(),{optoutEmail:u}=Bx(),[p,m]=(0,n.useState)(null),_=e=>{m(e)},g=(0,n.useCallback)((()=>{r(null)}),[r]),h=(0,n.useCallback)((()=>{m(null)}),[m]),b=(0,n.useCallback)((e=>{o.setMessage(d("webapp_darkweb_email_stop_monitoring_dialog_email_success_alert",{email:e})),o.setSeverity(s.BLW.SUCCESS),o.show()}),[d,o]),C=(0,n.useCallback)((()=>{o.setMessage(d("webapp_darkweb_email_stop_monitoring_dialog_error")),o.setSeverity(s.BLW.ERROR),o.show()}),[d,o]);return(0,z.tZ)(n.Fragment,null,(0,z.tZ)(s.Zbd,{className:kx},(0,z.tZ)("header",{className:Zx},(0,z.tZ)("h2",{className:Ox},d("webapp_darkweb_email_monitored_emails_title")),(0,z.tZ)("div",{className:Lx},(0,z.tZ)(s.ua7,{content:d((()=>{switch(e?.length){case 0:return"webapp_darkweb_email_monitored_emails_tooltip_zero";case 1:return"webapp_darkweb_email_monitored_emails_tooltip_one";default:return"webapp_darkweb_email_monitored_emails_tooltip"}})()),placement:"bottom"},Fx||(Fx=(0,z.tZ)(s.uMt,{size:16}))))),(0,z.tZ)("ul",{className:Px},e?e.map((({email:e,state:a})=>(0,z.tZ)(Dx,{key:e,email:e,state:a,canEmailBeRemoved:e!==t,handleOnRemoveClick:_,handleOnClosePendingNotification:g,showPendingNotification:e===l,showPendingTooltip:e!==l}))):null,[...Array(a)].map(((e,t)=>(0,z.tZ)(Tx,{key:t})))),(0,z.tZ)("footer",{className:zx},(0,z.tZ)("div",{className:jx},a>0?d.markup("webapp_darkweb_email_available_spots_count_markup",{count:a}):d("webapp_darkweb_email_no_available_spots")),(0,z.tZ)("div",{className:Rx},(0,z.tZ)(s.zxk,{type:"button",nature:"secondary",disabled:Wx(a,c),onClick:i,className:Ux},d("webapp_darkweb_email_add_action"))))),p?(0,z.tZ)(Ax,{email:p,handleOnCloseDialog:()=>{h()},handleOnRemoveEmail:async e=>{const t=await u(e);h(),(0,Dm.d6)(t)?b(e):C()}}):null)};var Vx=a(631069);const Yx=({domain:e})=>{const{icon:t}=(0,Vx.z)(e),a=t?.urls["46x30@2x"],i=(0,pt.d)({backgroundColor:t?.backgroundColor,mainColor:t?.mainColor,iconSource:a});return n.createElement(s.plG,{size:"small",backgroundColor:i,text:null!=e?e:"?",iconSource:a||void 0})};let Hx;!function(e){e[e.DAY=0]="DAY",e[e.MONTH=1]="MONTH",e[e.YEAR=2]="YEAR",e[e.INVALID=3]="INVALID"}(Hx||(Hx={}));const qx=(e,t,a)=>{const n=(e=>{switch(e.length){case 4:return Hx.YEAR;case 7:return Hx.MONTH;case 10:return Hx.DAY;default:return Hx.INVALID}})(e);if(n===Hx.INVALID)return{date:"",precision:Hx.INVALID};const i=a.shortDate(new Date(e),((e,t)=>{switch(e){case Hx.DAY:return"short"===t?ne._T.ll:ne._T.LL;case Hx.MONTH:return"short"===t?ne._T.MMM_YYYY:ne._T.MMMM_YYYY;case Hx.YEAR:return ne._T.YYYY;case Hx.INVALID:return;default:return(0,Ke.U)(e)}})(n,t));return{date:i,precision:n}};function Qx(e){return e.name?e.name:function({domains:e}){return e?e.find((e=>e)):void 0}(e)}const Xx="privateBreachRow--V1s7MOrhUy",Kx="new--fqt2e6uMEb",Jx="hoverActions--wLslwMyiJW",$x="privateBreachStatus--FFsQ8FVN7U",eM="privateBreachContent--k649NbXxDZ",tM="privateBreachInfo--D5JLfLPn3f",aM="privateBreachTextInfo--KnU5_zFcJW",nM="privateBreachTitle--V1FFrWZkCX",iM="privateBreachEmail--E2jV5v97_Z",oM="privateBreachStatusIcon--AQWIqdJvun",sM="privateBreachActions--Sfay0iYP9P",rM="privateBreachDynamicHoverContent--iEahOqWfQI",lM=e=>{(0,O.K)(new N.UserDismissSecurityAlertEvent({itemTypesAffected:[N.ItemType.SecurityBreach],securityAlertItemId:e,securityAlertType:N.SecurityAlertType.DarkWeb}))},cM=e=>{(0,O.K)(new N.UserReceiveSecurityAlertEvent({itemTypesAffected:[N.ItemType.SecurityBreach],securityAlertItemId:e,securityAlertType:N.SecurityAlertType.DarkWeb}))},dM=()=>{const{dismissBreach:e,markBreachAsSeen:t}=(0,Gi.u7)(zc.breachesApi);return{dismissBreach:t=>(lM(t),e({id:t})),markBreachAsSeen:e=>(cM(e),t({id:e}))}};var uM;const pM="webapp_darkweb_leaks_view_delete_alert",mM=({eventDate:e,status:t})=>{const{translate:a}=(0,j.Z)(),{date:i,precision:o}=qx(e,"short",a);return t===p.BreachStatus.ACKNOWLEDGED?n.createElement(n.Fragment,null,n.createElement("span",{className:oM},n.createElement(s.rE2,{size:20,color:s.O9T.validatorGreen})),a("webapp_darkweb_leaks_acknowledged_status")):n.createElement(n.Fragment,null,n.createElement("span",{className:oM},n.createElement(s.SI8,{size:20,color:s.O9T.red00})),(()=>{switch(o){case Hx.INVALID:return null;case Hx.DAY:return a.markup("webapp_darkweb_leaks_breached_markup",{date:i});case Hx.MONTH:return a("webapp_darkweb_leaks_breached_markup_month_year",{date:i});case Hx.YEAR:return a("webapp_darkweb_leaks_breached_markup_year",{date:i});default:return(0,Ke.U)(o)}})())},_M=({onDelete:e,onView:t})=>{const{translate:a}=(0,j.Z)();return n.createElement("div",{className:sM},n.createElement(s.zxk,{type:"button",nature:"secondary",onClick:t},a("webapp_darkweb_leaks_view_details_button")),n.createElement(s.ua7,{content:a(pM),placement:"left"},n.createElement(s.hU,{"aria-label":a(pM),size:"medium",icon:uM||(uM=n.createElement(s.Two,null)),onClick:e})))},gM=({breachItemView:e,handleOnViewDetails:t})=>{const{translate:a}=(0,j.Z)(),{dismissBreach:i}=dM(),{domains:o,eventDate:s,impactedEmails:r,status:l}=e,c=n.useCallback((()=>{(0,O.N)(N.Page.ToolsDarkWebMonitoringAlert),t(e)}),[t,e]);return n.createElement("li",{className:w()(Xx,{[Kx]:l===p.BreachStatus.PENDING})},n.createElement("div",{className:eM},n.createElement("div",{className:tM},n.createElement(Yx,{domain:o?.[0]}),n.createElement("div",{className:aM},n.createElement("strong",{className:nM},Qx(e)||a("webapp_darkweb_leaks_unknown_website_title")),r.length>0?n.createElement("span",{className:iM},r.length>1?a("webapp_darkweb_leaks_view_multiple_emails",{count:r.length}):r[0]):null)),n.createElement("div",{className:rM},n.createElement("div",{className:Jx},n.createElement(_M,{onDelete:()=>{i(e.id)},onView:c})),n.createElement("div",{className:$x},n.createElement(mM,{eventDate:s,status:l})))))},hM={[p.BreachLeakedDataType.Address]:"webapp_darkweb_alert_data_address",[p.BreachLeakedDataType.CreditCard]:"webapp_darkweb_alert_data_credit_card",[p.BreachLeakedDataType.Email]:"webapp_darkweb_alert_data_email",[p.BreachLeakedDataType.IP]:"webapp_darkweb_alert_data_ip_address",[p.BreachLeakedDataType.Location]:"webapp_darkweb_alert_data_location",[p.BreachLeakedDataType.Password]:"webapp_darkweb_alert_data_password",[p.BreachLeakedDataType.PersonalInfo]:"webapp_darkweb_alert_data_personal_info",[p.BreachLeakedDataType.Phone]:"webapp_darkweb_alert_data_phone",[p.BreachLeakedDataType.SocialNetwork]:"webapp_darkweb_alert_data_social_network_info",[p.BreachLeakedDataType.SSN]:"webapp_darkweb_alert_data_social_security_number",[p.BreachLeakedDataType.Username]:"webapp_darkweb_alert_data_username"},bM=(e,t,a)=>e.filter((e=>!a||e!==p.BreachLeakedDataType.Password)).map((e=>t(hM[e]))).join(", "),CM={content:"content--hsAExhurDX",section:"section--c0g_oZOVGf",adviceBox:"adviceBox--D3gL8EuMA5",dialogHeader:"dialogHeader--N0g8c8SDR8",dialogSubtitle:"dialogSubtitle--eAhJErKbF4",icon:"icon--n3hEQ1zuwq",title:"title--FdlzAT3fXG"},wM=({passwords:e,leakedData:t,domain:a})=>{const{translate:i}=(0,j.Z)();return(0,z.tZ)(n.Fragment,null,(0,z.tZ)("section",{className:CM.section},(0,z.tZ)(s.j49,{as:"header",size:"small",color:"primaries.5",sx:{marginBottom:"4px"}},i("webapp_darkweb_alert_label_password2",{count:e.length})),e.map((e=>(0,z.tZ)(s.WUg,{key:e,hidePasswordTooltipText:i("webapp_darkweb_alert_password_hide"),showPasswordTooltipText:i("webapp_darkweb_alert_password_show"),value:e,readOnly:!0}))),(0,z.tZ)(s.vDh,{className:CM.adviceBox,title:i(void 0===a?"webapp_darkweb_alert_advice_avoid_password":"webapp_darkweb_alert_advice_change_password",{count:e.length})})),t.length>1?(0,z.tZ)("section",{className:CM.section},(0,z.tZ)(s.j49,{as:"header",size:"small",color:"primaries.5",sx:{marginBottom:"4px"}},i("webapp_darkweb_alert_label_other_data")),(0,z.tZ)("div",{className:w()(CM.content,CM.data)},bM(t,i,!0))):null)},yM=({isPasswordLeaked:e,isCreditCardLeaked:t,leakedData:a,domain:n})=>{const{translate:i}=(0,j.Z)();return(0,z.tZ)("section",{className:CM.section},(0,z.tZ)(s.j49,{as:"header",size:"small",color:"primaries.5",sx:{marginBottom:"4px"}},i("webapp_darkweb_alert_label_data")),(0,z.tZ)("div",{className:w()(CM.content,CM.data)},bM(a,i)),e||t?(0,z.tZ)(s.vDh,{className:CM.adviceBox,title:e?i(void 0===n?"webapp_darkweb_alert_advice_avoid_password":"webapp_darkweb_alert_advice_change_password",{count:1}):i("webapp_darkweb_alert_advice_reach_out_credit_card",{domain:n})}):null)},EM=({breachId:e,onDismissClick:t})=>{const{translate:a}=(0,j.Z)(),{breach:i}=(e=>{const{data:t}=(0,Gi.k$)(zc.breachesApi,"breach",{id:e});return{breach:null!=t?t:null}})(e),[o,r]=(0,n.useState)(null),l=(0,n.useCallback)((e=>r(e)),[]),c=(0,n.useCallback)((()=>{r(null),t()}),[t]);if(!i)return null;const{eventDate:d,leakedData:u,domains:m,impactedEmails:_,leakedPasswords:g,compromisedCredentialIds:h}=i,[b]=m,C=u.includes(p.BreachLeakedDataType.Password),w=u.includes(p.BreachLeakedDataType.CreditCard),{date:y}=qx(d,"long",a);return(0,z.tZ)(n.Fragment,null,o?(0,z.tZ)(Of,{credentialId:o,dismissCallback:c}):null,(0,z.tZ)(s.VqE,{closeIconName:a("_common_dialog_dismiss_button"),isOpen:!0,onClose:t,disableOutsideClickClose:!!o},(0,z.tZ)(s.$N8,null,(0,z.tZ)("div",{className:CM.dialogHeader},(0,z.tZ)("div",{className:CM.icon},(0,z.tZ)(Yx,{domain:b})),(0,z.tZ)("div",{className:CM.title},null!=b?b:a("webapp_darkweb_alert_header_unknown_website")))),(0,z.tZ)(s.a7O,null,(0,z.tZ)("section",{className:CM.dialogSubtitle},a("webapp_darkweb_alert_description")),(0,z.tZ)("section",{className:CM.section},(0,z.tZ)(s.j49,{as:"header",size:"small",color:"primaries.5",sx:{marginBottom:"4px"}},a("webapp_darkweb_alert_label_date")),(0,z.tZ)("div",{className:CM.content},y)),(0,z.tZ)("section",{className:CM.section},(0,z.tZ)(s.j49,{as:"header",size:"small",color:"primaries.5",sx:{marginBottom:"4px"}},a("webapp_darkweb_alert_label_email2",{count:_.length})),(0,z.tZ)("div",{className:CM.content},(0,z.tZ)("ul",null,_.map((e=>(0,z.tZ)("li",{key:e},e)))))),0===g.length?(0,z.tZ)(yM,{isPasswordLeaked:C,isCreditCardLeaked:w,leakedData:u,domain:b}):(0,z.tZ)(wM,{passwords:g,leakedData:u,domain:b})),1===h.length?(0,z.tZ)(s.cNS,{primaryButtonTitle:a("webapp_darkweb_alert_action_dismiss"),primaryButtonOnClick:t,secondaryButtonTitle:a("webapp_darkweb_alert_action_change_password"),secondaryButtonOnClick:()=>{l(h[0])}}):(0,z.tZ)(s.cNS,{primaryButtonTitle:a("webapp_darkweb_alert_action_close"),primaryButtonOnClick:t})))},IM=n.createContext({openBreachDetailsDialog:()=>{}}),NM=({children:e})=>{const[t,a]=n.useState(null),i=n.useCallback((()=>{a(null)}),[]);return n.createElement(IM.Provider,{value:{openBreachDetailsDialog:({breach:e})=>{a(e)}}},e,t&&n.createElement(EM,{breachId:t,onDismissClick:i}))},fM=({emails:e,availableEmailSpots:t,hasDataLeakCapability:a,onOpenAddDialog:i,premiumUrl:o})=>{const{translate:r}=(0,j.Z)(),l=n.useCallback((()=>a?0===e?.length?"webapp_darkweb_leaks_empty_leaks_no_email":"webapp_darkweb_leaks_empty_leaks_no_leak":"webapp_darkweb_leaks_empty_leaks_go_premium_text"),[e,a]);if(!e)return null;const c=a&&0===e?.length,d=!a,u=a&&t>0;return n.createElement("div",{className:"container--wF8euccGYE"},n.createElement(s.blU,{size:96,color:s.O9T.dashGreen04}),n.createElement("div",{className:"textInfo--EnuvHMqDbk"},r(l())),c?n.createElement(s.zxk,{nature:"primary",type:"button",disabled:!u,onClick:i},r("webapp_darkweb_leaks_empty_leaks_add_email")):null,d?n.createElement(s.zxk,{nature:"primary",onClick:e=>{e.preventDefault(),(0,je.Yk)(o,{type:"darkWebMonitoring",action:"goPremium"})},type:"button"},r("webapp_darkweb_leaks_empty_leaks_go_premium_button")):null)},vM=()=>{const{translate:e}=(0,j.Z)();return jc()?(0,z.tZ)(we.ke,{title:e("webapp_darkweb_leaked_master_password_title"),description:e("webapp_darkweb_leaked_master_password_description"),mood:"danger",size:"large",sx:{marginBottom:"8px"},actions:[(0,z.tZ)(we.zx,{key:"hc-link",mood:"danger",intensity:"quiet",onClick:()=>(0,je.Yo)(Ml.dx),size:"small"},e("webapp_darkweb_leaked_master_password_blog_link")),(0,z.tZ)(we.zx,{key:"settings",mood:"danger",onClick:()=>(0,je.nL)("https://app.dashlane.com/#security-settings"),size:"small"},e("webapp_darkweb_leaked_master_password_action_open_settings"))]}):null},SM="monitoredLeaks--o1VOaUlpF5",DM="header--YJ_59hVxMS",xM="title--EteOKWvXES",MM="listContainer--hyFi8EzHwi";var TM;const AM={tokenEndpoint:g.C.getBreachesPaginationToken,pageEndpoint:g.C.getBreachesPage,batchLiveEndpoint:g.C.liveBreachesBatch},kM=(0,dt.G)(AM,(({hasDataLeakCapability:e,hasNext:t,hasPrevious:a,isLoading:i,loadNext:o,loadPrevious:s,paginatedData:r,emails:l,availableEmailSpots:c,onOpenAddDialog:d,premiumUrl:u})=>{var m;const{translate:_}=(0,j.Z)(),{markBreachAsSeen:g}=dM(),{openBreachDetailsDialog:h}=n.useContext(IM),b=n.useMemo((()=>[...r.values()]),[r]),C=n.useCallback((e=>{h({breach:e.id})}),[h]);n.useEffect((()=>{(0,O.N)(N.PageView.ToolsDarkWebMonitoringList)}),[]),n.useEffect((()=>{b.reduce(((e,t)=>[...e,...t.filter((e=>e.status===p.BreachStatus.PENDING))]),[]).forEach((e=>{g(e.id)}))}),[b,g]);const w=n.useCallback((e=>e.map((e=>n.createElement(gM,{key:e.id,breachItemView:e,handleOnViewDetails:C})))),[C]);return n.createElement("section",{className:SM},n.createElement("header",{className:DM},n.createElement("h2",{className:xM},_("webapp_darkweb_leaks_monitored_leaks_title"))),n.createElement(Oc.h,{featureFlips:["ims_web_leaked_mp_prod"]},TM||(TM=n.createElement(vM,null))),(()=>{const r=b.some((e=>e.length>0));return n.createElement(ut.v,{hasNext:t,hasPrevious:a,isLoading:i,loadNext:o,loadPrevious:s},n.createElement("div",{className:MM},r?b.map(w):m||(m=n.createElement(fM,{hasDataLeakCapability:e,availableEmailSpots:c,emails:l,onOpenAddDialog:d,premiumUrl:u}))))})())})),ZM={sortCriteria:[{field:"eventDate",direction:"descend"}],filterCriteria:[{field:"breachType",type:"equals",value:"private"},{field:"status",type:"differs",value:p.BreachStatus.ACKNOWLEDGED}],initialBatchSize:20},OM=e=>n.createElement(kM,{tokenParams:ZM,...e}),LM={tips:"tips--niSDjxY5xc",header:"header--tUWuYKOgbA",title:"title--mT2BKHyi4u",description:"description--jqvJUVhSWn"},PM=()=>{const{translate:e}=(0,j.Z)();return n.createElement(s.Zbd,{className:LM.tips},n.createElement("header",{className:LM.header},n.createElement("h2",null,e("webapp_darkweb_tips_monitored_tips_title"))),n.createElement("div",{className:LM.content},n.createElement("h3",{className:LM.title},e("webapp_darkweb_tips_monitored_tips_base_card_title")),n.createElement("span",{className:LM.description},e("webapp_darkweb_tips_monitored_tips_base_card_description"))))},zM="webapp_darkweb_add_email_dialog_error_already_monitoring",jM="webapp_darkweb_add_email_dialog_error_already_pending",RM="webapp_darkweb_add_email_dialog_error_invalid_email",UM="webapp_darkweb_add_email_dialog_error_generic",BM="webapp_darkweb_add_email_dialog_input_placeholder_text",FM="webapp_darkweb_add_email_dialog_first_description_info",WM={TITLE:"webapp_darkweb_add_email_dialog_title",DESCRIPTION:"webapp_darkweb_add_email_dialog_description_count_markup",CANCEL_BUTTON:"webapp_darkweb_add_email_dialog_cancel",CONFIRM_BUTTON:"webapp_darkweb_add_email_dialog_confirm"},GM={TITLE:"webapp_darkweb_add_email_dialog_first_title",DESCRIPTION:"webapp_darkweb_add_email_dialog_first_description_markup",CANCEL_BUTTON:"webapp_darkweb_add_email_dialog_first_close",CONFIRM_BUTTON:"webapp_darkweb_add_email_dialog_first_confirm"};var VM;!function(e){e[e.EMAIL_ALREADY_MONITORED=0]="EMAIL_ALREADY_MONITORED",e[e.EMAIL_ALREADY_PENDING=1]="EMAIL_ALREADY_PENDING",e[e.NONE=2]="NONE"}(VM||(VM={}));const YM=({availableSpots:e,userLogin:t,existingEmails:a,error:i,resetError:o,handleOnAddEmail:r,handleOnCloseDialog:l})=>{const{translate:c}=(0,j.Z)(),d=a&&a.length>0,[u,p]=n.useState(d?null:t),[m,_]=n.useState(VM.NONE),g=n.useCallback((e=>{const t=e.target.value;let n=VM.NONE;if(a&&t&&(0,Ca.vV)(t)){const e=a.find((e=>e.email===t));if(e)switch(e.state){case zc.DataLeaksEmailStatus.ACTIVE:n=VM.EMAIL_ALREADY_MONITORED;break;case zc.DataLeaksEmailStatus.PENDING:n=VM.EMAIL_ALREADY_PENDING}}_(n),p(t)}),[a,p]),h=n.useCallback((()=>{null!==i&&o()}),[i,o]),b=n.useCallback((()=>{null!==u&&(0,Ca.vV)(u)&&r(u)}),[u,r]),C=n.useCallback((e=>{e.preventDefault(),b()}),[b]),w=null===u||!(0,Ca.vV)(u)||m!==VM.NONE,y=d?WM:GM;return n.createElement(os.o,{isOpen:!0,onRequestClose:l,footer:n.createElement(s.cNS,{primaryButtonTitle:c(y.CONFIRM_BUTTON),primaryButtonOnClick:b,primaryButtonProps:{disabled:w},secondaryButtonTitle:c(y.CANCEL_BUTTON),secondaryButtonOnClick:l,intent:"primary"}),title:c(y.TITLE)},(()=>{const t=function(e){if(!e)return null;switch(e){case zc.OptinDataLeaksResultErrorCode.INVALID_EMAIL:return RM;case zc.OptinDataLeaksResultErrorCode.ALREADY_SUBSCRIBED:return zM;default:return UM}}(i)||(()=>{switch(m){case VM.EMAIL_ALREADY_MONITORED:return zM;case VM.EMAIL_ALREADY_PENDING:return jM;case VM.NONE:default:return null}})();return n.createElement("div",{className:"dialog--jL7pxdADK2"},n.createElement("p",{className:"description--YBrfIzqkak"},c.markup(y.DESCRIPTION,{count:e})),!d&&n.createElement("div",{className:"firstEmailInfo--gty7qXFic5"},n.createElement(s.vDh,{title:c(FM)})),n.createElement("form",{onSubmit:C},n.createElement(s.oil,{autoFocus:!0,fullWidth:!0,feedbackType:t?"error":void 0,feedbackText:t?c(t):void 0,onChange:g,onInput:h,placeholder:c(BM),defaultValue:u||void 0})))})())},HM=()=>{const[e,t]=n.useState(!1),[a,i]=n.useState(null);return{isOpen:e,open:n.useCallback((()=>{i(null),t(!0)}),[i]),optInError:a,close:n.useCallback((()=>{i(null),t(!1)}),[i]),setOptInError:i}},qM={margin:"32px 0 0 32px"},QM={marginBottom:"76px"},XM={marginBottom:"100px"},KM={width:"100%",height:"100%",position:"absolute",top:"0px",overflow:"auto",backgroundColor:"ds.text.brand.standard",zIndex:2},JM={display:"flex",flexDirection:"column",justifyContent:"center",borderRadius:"4px",background:"ds.container.agnostic.neutral.supershy",padding:"88px"},$M=({title:e,contentTitle:t,contentSubtitle:a,children:n,actions:i,daysRemaining:o})=>{const{translate:r}=(0,j.Z)(),l=(0,we.jM)([qM,o?QM:XM]);return(0,we.tZ)("div",{sx:KM},(0,we.tZ)("div",{sx:l},(0,we.tZ)(s.X6q,{color:s.O9T.white},e),void 0!==o?(0,we.tZ)("div",{sx:{color:"#fe9d85",marginTop:"4px",lineHeight:"20px"}},r("webapp_darkweb_onboarding_free_trial_warning",{days:o})):null),(0,we.tZ)("div",{sx:{display:"flex",justifyContent:"center"}},(0,we.tZ)("div",{sx:{display:"flex",justifyContent:"center",margin:" 0 10% 0 10%",maxWidth:"784px"}},(0,we.tZ)("div",{sx:JM},(0,we.tZ)(s.X6q,null,t),(0,we.tZ)("div",{sx:{color:"ds.text.neutral.quiet",marginTop:"8px"}},a),n,i))))},eT=({onActionClick:e,premiumDaysRemaining:t})=>{const{translate:a}=(0,j.Z)(),n=(0,we.tZ)("div",{sx:{display:"flex",justifyContent:"flex-end",marginTop:" 36px"}},(0,we.tZ)(s.zxk,{type:"button",nature:"primary",onClick:e},a("webapp_darkweb_onboarding_premium_cta")));return(0,we.tZ)($M,{title:a("webapp_darkweb_onboarding_title"),contentTitle:a("webapp_darkweb_onboarding_premium_title"),contentSubtitle:a("webapp_darkweb_onboarding_description"),actions:n,daysRemaining:t},(0,we.tZ)("ul",{sx:{marginTop:"8px"}},(0,we.tZ)("li",{sx:{marginTop:"16px"}},(0,we.tZ)(s.Ejs,{alignItems:"center",justifyContent:"space-around",flexWrap:"nowrap",gap:6},(0,we.tZ)(s.k$b,null,(0,we.tZ)(s.blU,{"aria-hidden":!0,size:35,color:s.O9T.dashGreen02})),(0,we.tZ)(s.k$b,null,(0,we.tZ)(s.j49,{size:"large",caps:!1},a("webapp_darkweb_onboarding_surveillance_title")),(0,we.tZ)(s.nvN,{color:s.O9T.dashGreen02},a("webapp_darkweb_onboarding_surveillance_description"))))),(0,we.tZ)("li",{sx:{marginTop:"16px"}},(0,we.tZ)(s.Ejs,{alignItems:"center",justifyContent:"space-around",flexWrap:"nowrap",gap:6},(0,we.tZ)(s.k$b,null,(0,we.tZ)(s._uz,{"aria-hidden":!0,size:35,color:s.O9T.dashGreen02})),(0,we.tZ)(s.k$b,null,(0,we.tZ)(s.j49,{size:"large",caps:!1},a("webapp_darkweb_onboarding_alerts_title")),(0,we.tZ)(s.nvN,{color:s.O9T.dashGreen02},a("webapp_darkweb_onboarding_alerts_description"))))),(0,we.tZ)("li",{sx:{marginTop:"16px"}},(0,we.tZ)(s.Ejs,{alignItems:"center",justifyContent:"space-around",flexWrap:"nowrap",gap:6},(0,we.tZ)(s.k$b,null,(0,we.tZ)(s.tWY,{"aria-hidden":!0,size:35,color:s.O9T.dashGreen02})),(0,we.tZ)(s.k$b,null,(0,we.tZ)(s.j49,{size:"large",caps:!1},a("webapp_darkweb_onboarding_advice_title")),(0,we.tZ)(s.nvN,{color:s.O9T.dashGreen02},a("webapp_darkweb_onboarding_advice_description")))))))},tT="rootContainer--nwbgtUxWaI",aT="content--XG5DmrQ5M5",nT="leftContent--LqnhR7ejcQ",iT="rightContent--hknph8sGqY",oT="onboardingContainer--sBwlMOv7X3",sT="freeTrialWarning--Cujl3rZdLJ";var rT,lT,cT;const dT=({lee:e})=>{var t;const{translate:a}=(0,j.Z)(),i=(0,zo.Y)(),r=(0,lt.B)(),{isLoading:l,emails:c,limit:d,b2bAssociatedEmail:u,optinEmail:p}=Bx(),{close:m,setOptInError:_,isOpen:g,optInError:h,open:C}=HM(),{onboardingState:w,updateOnboardingState:y}=(()=>{const{dismissOnboardingNotification:e}=(0,Gi.u7)(zc.emailMonitoringApi);return{updateOnboardingState:e,onboardingState:(0,Gi.k$)(zc.emailMonitoringApi,"onboardingNotificationState")}})(),E=(0,s.VYq)({message:"",dismissDelay:5e3,closeIconName:a("_common_alert_dismiss_button")}),I=(0,mw.gW)(["dataLeak"]);(0,n.useEffect)((()=>{(0,O.N)(N.PageView.ToolsDarkWebMonitoring)}),[]);const[f,v]=(0,n.useState)(null),S=(0,n.useCallback)((()=>{null!==h&&_(null)}),[h,_]);if(i.status===Ft.rq.Loading||I.status===Ft.rq.Loading||w.status===Ft.rq.Loading||null===r||l)return(0,z.tZ)($e.Z,{size:50,containerStyle:{height:"100%"}});const D=I.status===Ft.rq.Success&&I.data,x=w.status===Ft.rq.Success&&w.data===zc.DarkWebOnboardingState.NOT_SEEN,M=(null!=c?c:[]).filter((e=>e.email!==u)).length>0,T=D&&x&&!M,A=null!=c?c:[],k=Math.max(d-(null!=(t=c?.length)?t:0),0),{login:Z}=e.globalState.carbon.loginStatus,L=(0,Ns.aH)(o.G9,r?.subscriptionCode),P=i.status===Ft.rq.Success&&i.data?(0,b.B$)(i.data):void 0;return(0,z.tZ)(Lg,{lee:e},(0,z.tZ)(NM,null,(0,z.tZ)(Vo.QR,{mode:"fullscreen",paywall:Vo.qd.DarkWebMonitoring},(0,z.tZ)("div",{className:oT},T&&(0,z.tZ)(eT,{onActionClick:()=>{y(),C()},premiumDaysRemaining:P}),(0,z.tZ)("div",{className:tT},T?null:(0,z.tZ)(Kp,{startWidgets:()=>(0,z.tZ)(s.Ejs,{flexDirection:"column"},(0,z.tZ)(s.X6q,null,a("webapp_darkweb_dashboard_title")),void 0!==P?(0,z.tZ)("div",{className:sT},a("webapp_darkweb_dashboard_title_free_trial_warning",{days:P})):null),endWidget:(0,z.tZ)(n.Fragment,null,rT||(rT=(0,z.tZ)(fm,null)),lT||(lT=(0,z.tZ)(D_,null)))}),(0,z.tZ)("div",{className:aT},(0,z.tZ)("div",{className:nT},(0,z.tZ)(OM,{hasDataLeakCapability:D,availableEmailSpots:k,emails:A,onOpenAddDialog:C,premiumUrl:L})),(0,z.tZ)("div",{className:iT},(0,z.tZ)(Gx,{emails:A,b2bAssociatedEmail:u,availableEmailSpots:k,onOpenAddDialog:C,removalOutcomeAlert:E,newlyAddedEmail:f,setNewlyAddedEmail:v,hasDataLeakCapability:D}),cT||(cT=(0,z.tZ)(PM,null)),g?(0,z.tZ)(YM,{existingEmails:A,userLogin:Z,availableSpots:k,error:h,resetError:S,handleOnCloseDialog:()=>{m()},handleOnAddEmail:async e=>{const t=await p(e);(0,Dm.d6)(t)?(m(),setTimeout((()=>{v(e)}),800)):_(t?.error?.tag)}}):null)))),(0,z.tZ)(s.YcA,null,E.alert))))};var uT;const pT=(e,t)=>!t||e<=0,mT=({emails:e,b2bAssociatedEmail:t,refreshEmails:a,availableEmailSpots:i,onOpenAddDialog:o,removalOutcomeAlert:r,setNewlyAddedEmail:l,newlyAddedEmail:c,hasDataLeakCapability:d})=>{const{translate:u}=(0,j.Z)(),[m,_]=(0,n.useState)(null),h=e=>{_(e)},b=(0,n.useCallback)((()=>{l(null)}),[l]),C=(0,n.useCallback)((()=>{_(null)}),[_]),w=(0,n.useCallback)((e=>{r.setMessage(u("webapp_darkweb_email_stop_monitoring_dialog_email_success_alert",{email:e})),r.setSeverity(s.BLW.SUCCESS),r.show()}),[u,r]),y=(0,n.useCallback)((()=>{r.setMessage(u("webapp_darkweb_email_stop_monitoring_dialog_error")),r.setSeverity(s.BLW.ERROR),r.show()}),[u,r]),E=(0,n.useCallback)((async e=>{try{await async function(e){if(!(await g.C.optoutDataLeaksMonitoring({email:e})).success)throw new Error("email optout error")}(e),w(e),await a()}catch(e){y()}C()}),[C,w,a,y]);return(0,n.useEffect)((()=>{if(e?.some((({state:e})=>e===p.DataLeaksEmailStatus.PENDING))){const e=setInterval(a,6e4);return()=>clearInterval(e)}}),[e,a]),(0,z.tZ)(n.Fragment,null,(0,z.tZ)(s.Zbd,{className:kx},(0,z.tZ)("header",{className:Zx},(0,z.tZ)("h2",{className:Ox},u("webapp_darkweb_email_monitored_emails_title")),(0,z.tZ)("div",{className:Lx},(0,z.tZ)(s.ua7,{content:u((()=>{switch(e?.length){case 0:return"webapp_darkweb_email_monitored_emails_tooltip_zero";case 1:return"webapp_darkweb_email_monitored_emails_tooltip_one";default:return"webapp_darkweb_email_monitored_emails_tooltip"}})()),placement:"bottom"},uT||(uT=(0,z.tZ)(s.uMt,{size:16}))))),(0,z.tZ)("ul",{className:Px},e?e.map((({email:e,state:a})=>(0,z.tZ)(Dx,{key:e,email:e,state:a,canEmailBeRemoved:e!==t,handleOnRemoveClick:h,handleOnClosePendingNotification:b,showPendingNotification:e===c,showPendingTooltip:e!==c}))):null,[...Array(i)].map(((e,t)=>(0,z.tZ)(Tx,{key:t})))),(0,z.tZ)("footer",{className:zx},(0,z.tZ)("div",{className:jx},i>0?u.markup("webapp_darkweb_email_available_spots_count_markup",{count:i}):u("webapp_darkweb_email_no_available_spots")),(0,z.tZ)("div",{className:Rx},(0,z.tZ)(s.zxk,{type:"button",nature:"secondary",disabled:pT(i,d),onClick:o,className:Ux},u("webapp_darkweb_email_add_action"))))),m?(0,z.tZ)(Ax,{email:m,handleOnCloseDialog:()=>{C()},handleOnRemoveEmail:E}):null)},_T=({domain:e,domainIcon:t})=>{const a=t?.urls["46x30@2x"],i=(0,pt.d)({backgroundColor:t?.backgroundColor,mainColor:t?.mainColor,iconSource:a});return n.createElement(s.plG,{size:"small",backgroundColor:i,text:null!=e?e:"?",iconSource:a||void 0})};var gT;const hT="webapp_darkweb_leaks_view_delete_alert",bT=({eventDate:e,status:t})=>{const{translate:a}=(0,j.Z)(),{date:i,precision:o}=qx(e,"short",a);return t===p.BreachStatus.ACKNOWLEDGED?n.createElement(n.Fragment,null,n.createElement("span",{className:oM},n.createElement(s.rE2,{size:20,color:s.O9T.validatorGreen})),a("webapp_darkweb_leaks_acknowledged_status")):n.createElement(n.Fragment,null,n.createElement("span",{className:oM},n.createElement(s.SI8,{size:20,color:s.O9T.red00})),(()=>{switch(o){case Hx.INVALID:return null;case Hx.DAY:return a.markup("webapp_darkweb_leaks_breached_markup",{date:i});case Hx.MONTH:return a("webapp_darkweb_leaks_breached_markup_month_year",{date:i});case Hx.YEAR:return a("webapp_darkweb_leaks_breached_markup_year",{date:i});default:return(0,Ke.U)(o)}})())},CT=({onDelete:e,onView:t})=>{const{translate:a}=(0,j.Z)();return n.createElement("div",{className:sM},n.createElement(s.zxk,{type:"button",nature:"secondary",onClick:t},a("webapp_darkweb_leaks_view_details_button")),n.createElement(s.ua7,{content:a(hT),placement:"left"},n.createElement(s.hU,{"aria-label":a(hT),size:"medium",icon:gT||(gT=n.createElement(s.Two,null)),onClick:e})))},wT=({breachItemView:e,handleOnViewDetails:t})=>{const{translate:a}=(0,j.Z)(),{domains:i,domainIcon:o,eventDate:s,impactedEmails:r,status:l}=e,c=n.useCallback((()=>{(0,O.N)(N.Page.ToolsDarkWebMonitoringAlert),t(e)}),[t,e]),d=n.useCallback((()=>{lM(e.id),g.C.updateBreachStatus({id:e.id,status:p.BreachStatus.ACKNOWLEDGED})}),[e]);return n.createElement("li",{className:w()(Xx,{[Kx]:l===p.BreachStatus.PENDING})},n.createElement("div",{className:eM},n.createElement("div",{className:tM},n.createElement(_T,{domain:i?.[0],domainIcon:o}),n.createElement("div",{className:aM},n.createElement("strong",{className:nM},Qx(e)||a("webapp_darkweb_leaks_unknown_website_title")),r.length>0?n.createElement("span",{className:iM},r.length>1?a("webapp_darkweb_leaks_view_multiple_emails",{count:r.length}):r[0]):null)),n.createElement("div",{className:rM},n.createElement("div",{className:Jx},n.createElement(CT,{onDelete:d,onView:c})),n.createElement("div",{className:$x},n.createElement(bT,{eventDate:s,status:l})))))},yT=({breachId:e,onDismissClick:t})=>{const{translate:a}=(0,j.Z)(),[i,o]=n.useState(null),r=n.useCallback((e=>o(e)),[]),l=n.useCallback((()=>{o(null),t()}),[t]),c=(e=>(0,Ft.qr)({queryConfig:{query:g.C.getBreach,queryParam:e},liveConfig:{live:g.C.liveBreach,liveParam:e}},[e]))(e);if(c.status!==Ft.rq.Success||!c.data)return null;const{eventDate:d,leakedData:u,domainIcon:m,domains:_,impactedEmails:h,leakedPasswords:b,compromisedCredentialIds:C}=c.data,[w]=_,y=u.includes(p.BreachLeakedDataType.Password),E=u.includes(p.BreachLeakedDataType.CreditCard),{date:I}=qx(d,"long",a);return(0,z.tZ)(n.Fragment,null,i?(0,z.tZ)(Of,{credentialId:i,dismissCallback:l}):null,(0,z.tZ)(s.VqE,{closeIconName:a("_common_dialog_dismiss_button"),isOpen:!0,onClose:t,disableOutsideClickClose:!!i},(0,z.tZ)(s.$N8,null,(0,z.tZ)("div",{className:CM.dialogHeader},(0,z.tZ)("div",{className:CM.icon},(0,z.tZ)(_T,{domain:_?.[0],domainIcon:m})),(0,z.tZ)("div",{className:CM.title},null!=w?w:a("webapp_darkweb_alert_header_unknown_website")))),(0,z.tZ)(s.a7O,null,(0,z.tZ)("section",{className:CM.dialogSubtitle},a("webapp_darkweb_alert_description")),(0,z.tZ)("section",{className:CM.section},(0,z.tZ)(s.j49,{as:"header",size:"small",color:"primaries.5",sx:{marginBottom:"4px"}},a("webapp_darkweb_alert_label_date")),(0,z.tZ)("div",{className:CM.content},I)),(0,z.tZ)("section",{className:CM.section},(0,z.tZ)(s.j49,{as:"header",size:"small",color:"primaries.5",sx:{marginBottom:"4px"}},a("webapp_darkweb_alert_label_email2",{count:h.length})),(0,z.tZ)("div",{className:CM.content},(0,z.tZ)("ul",null,h.map((e=>(0,z.tZ)("li",{key:e},e)))))),0===b.length?(0,z.tZ)(yM,{isPasswordLeaked:y,isCreditCardLeaked:E,leakedData:u,domain:w}):(0,z.tZ)(wM,{passwords:b,leakedData:u,domain:w})),1===C.length?(0,z.tZ)(s.cNS,{primaryButtonTitle:a("webapp_darkweb_alert_action_dismiss"),primaryButtonOnClick:t,secondaryButtonTitle:a("webapp_darkweb_alert_action_change_password"),secondaryButtonOnClick:()=>{r(C[0])}}):(0,z.tZ)(s.cNS,{primaryButtonTitle:a("webapp_darkweb_alert_action_close"),primaryButtonOnClick:t})))},ET=n.createContext({openBreachDetailsDialog:()=>{}}),IT=({children:e})=>{const[t,a]=n.useState(null),i=n.useCallback((()=>{a(null)}),[]);return n.createElement(ET.Provider,{value:{openBreachDetailsDialog:({breach:e})=>{a(e)}}},e,t&&n.createElement(yT,{breachId:t,onDismissClick:i}))};var NT;const fT={tokenEndpoint:g.C.getBreachesPaginationToken,pageEndpoint:g.C.getBreachesPage,batchLiveEndpoint:g.C.liveBreachesBatch},vT=(0,dt.G)(fT,(({hasDataLeakCapability:e,hasNext:t,hasPrevious:a,isLoading:i,loadNext:o,loadPrevious:s,paginatedData:r,emails:l,availableEmailSpots:c,onOpenAddDialog:d,premiumUrl:u})=>{var m;const{translate:_}=(0,j.Z)(),{openBreachDetailsDialog:h}=n.useContext(ET),b=n.useMemo((()=>[...r.values()]),[r]),C=n.useCallback((e=>{h({breach:e.id})}),[h]);n.useEffect((()=>{(0,O.N)(N.PageView.ToolsDarkWebMonitoringList)}),[]),n.useEffect((()=>{b.reduce(((e,t)=>[...e,...t.filter((e=>e.status===p.BreachStatus.PENDING))]),[]).forEach((e=>{g.C.updateBreachStatus({id:e.id,status:p.BreachStatus.VIEWED}),cM(e.id)}))}),[b]);const w=n.useCallback((e=>e.map((e=>n.createElement(wT,{key:e.id,breachItemView:e,handleOnViewDetails:C})))),[C]);return n.createElement("section",{className:SM},n.createElement("header",{className:DM},n.createElement("h2",{className:xM},_("webapp_darkweb_leaks_monitored_leaks_title"))),n.createElement(Oc.h,{featureFlips:["ims_web_leaked_mp_prod"]},NT||(NT=n.createElement(vM,null))),(()=>{const r=b.some((e=>e.length>0));return n.createElement(ut.v,{hasNext:t,hasPrevious:a,isLoading:i,loadNext:o,loadPrevious:s},n.createElement("div",{className:MM},r?b.map(w):m||(m=n.createElement(fM,{hasDataLeakCapability:e,availableEmailSpots:c,emails:l,onOpenAddDialog:d,premiumUrl:u}))))})())})),ST={sortCriteria:[{field:"eventDate",direction:"descend"}],filterCriteria:[{field:"breachType",type:"equals",value:"private"},{field:"status",type:"differs",value:p.BreachStatus.ACKNOWLEDGED}],initialBatchSize:20},DT=e=>n.createElement(vT,{tokenParams:ST,...e});async function xT(e){await g.C.updateDarkWebOnboardingState(e)}var MT,TT,AT;const kT=({lee:e})=>{const{translate:t}=(0,j.Z)(),a=(0,zo.Y)(),{emails:i,getEmails:r,limit:l,b2bAssociatedEmail:d}=(()=>{const e=(()=>{const e=(0,Ki.E)();return e.status===Gi.rq.Success&&e.data.length>0?e?.data[0].associatedEmail:null})(),[t,a]=(0,n.useState)(null);async function i(){try{await g.C.refreshDataLeaksEmailStatusList();const e=await g.C.getDataLeaksEmailStatusList();a(e)}catch(e){a([])}}return n.useEffect((()=>{i()}),[]),{emails:t,getEmails:i,limit:5,b2bAssociatedEmail:e}})(),{close:u,setOptInError:m,isOpen:_,optInError:h,open:C}=HM(),{onboardingState:w,updateOnboardingState:y}={updateOnboardingState:xT,onboardingState:(0,Ft.qr)({queryConfig:{query:g.C.getDarkWebOnboardingState},liveConfig:{live:g.C.liveDarkWebOnboardingState}},[])},E=(0,s.VYq)({message:"",dismissDelay:5e3,closeIconName:t("_common_alert_dismiss_button")}),I=(0,Ns.aH)(o.G9,e.carbon.accountInfo.subscriptionCode),f=Math.max(l-(i?.length||0),0),[v,S]=(0,n.useState)(null),D=(0,n.useCallback)((async e=>{const t=await g.C.optinDataLeaksMonitoring({email:e});t.success?(await r(),u(),setTimeout((()=>{S(e)}),800)):m(t.error?.code||"GENERIC_ERROR")}),[u,r,m]),x=(0,n.useCallback)((()=>{null!==h&&m(null)}),[h,m]),{login:M}=e.globalState.carbon.loginStatus;(0,n.useEffect)((()=>{(0,O.N)(N.PageView.ToolsDarkWebMonitoring)}),[]);const T=a.status===Ft.rq.Success&&a.data?(0,b.B$)(a.data):void 0,A=(0,mw.gW)(["dataLeak"]),k=A.status===Ft.rq.Success&&A.data,Z=a.status===Ft.rq.Loading||A.status===Ft.rq.Loading||w.status===Ft.rq.Loading,L=w.status===Ft.rq.Success&&w.data===p.DarkWebOnboardingState.NOT_SEEN,P=k&&L;return Z?null:(0,z.tZ)(Lg,{lee:e},(0,z.tZ)(IT,null,(0,z.tZ)(Vo.QR,{mode:"fullscreen",paywall:Vo.qd.DarkWebMonitoring},(0,z.tZ)("div",{className:oT},P&&(0,z.tZ)(eT,{onActionClick:()=>{a.status===Ft.rq.Success&&a.data&&(a.data.statusCode!==c.PremiumStatusCode.NO_PREMIUM?(y(p.DarkWebOnboardingState.SEEN),C()):(0,je.Yk)(I,{type:"DarkWebMonitoring",action:"goPremium"}))}}),(0,z.tZ)("div",{className:tT},!P&&(0,z.tZ)(Kp,{startWidgets:()=>(0,z.tZ)(s.Ejs,{flexDirection:"column"},(0,z.tZ)(s.X6q,null,t("webapp_darkweb_dashboard_title")),void 0!==T?(0,z.tZ)("div",{className:sT},t("webapp_darkweb_dashboard_title_free_trial_warning",{days:T})):null),endWidget:(0,z.tZ)(n.Fragment,null,MT||(MT=(0,z.tZ)(fm,null)),TT||(TT=(0,z.tZ)(D_,null)))}),(0,z.tZ)("div",{className:aT},(0,z.tZ)("div",{className:nT},(0,z.tZ)(DT,{hasDataLeakCapability:k,availableEmailSpots:f,emails:i,onOpenAddDialog:C,premiumUrl:I})),(0,z.tZ)("div",{className:iT},(0,z.tZ)(mT,{emails:i,b2bAssociatedEmail:d,refreshEmails:r,availableEmailSpots:f,onOpenAddDialog:C,removalOutcomeAlert:E,newlyAddedEmail:v,setNewlyAddedEmail:S,hasDataLeakCapability:k}),AT||(AT=(0,z.tZ)(PM,null)),_?(0,z.tZ)(YM,{existingEmails:i,userLogin:M,availableSpots:f,error:h,resetError:x,handleOnCloseDialog:()=>{u()},handleOnAddEmail:D}):null)))),(0,z.tZ)(s.YcA,null,E.alert))))},ZT=({path:e})=>n.createElement(Oc.h,{featureFlips:["ptu_web_dwm_mv3"],legacy:n.createElement(i.Vy,{path:e,component:kT})},n.createElement(i.Vy,{path:e,component:dT}));var OT;const LT={borderRadius:"4px",margin:"12px 12px 12px 0",cursor:"pointer",width:"336px",padding:"8px",".card-quick-actions":{display:"none"},":focus":{outline:"none",boxShadow:e=>`\n    0 0 0 2px ${e.colors.ds.container.expressive.neutral.quiet.hover},\n    0 0 0 3px ${e.colors.ds.container.expressive.neutral.quiet.active}\n  `},":focus:not(:focus-visible)":{outline:"none",boxShadow:"none"},":hover, :focus, :focus-within":{bg:"ds.container.expressive.neutral.quiet.hover",".card-quick-actions":{display:"inherit"},".card-contents":{display:"none"}}},PT=({text:e})=>e?(0,z.tZ)(s.nvN,{as:"span",size:"x-small",color:"ds.text.neutral.quiet",sx:{marginBottom:"4px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},e):null,zT=({text:e,criticality:t})=>{const a="normal"!==t;return e?(0,z.tZ)(s.nvN,{as:"span",size:"x-small",color:(n=t,n?["expired","daysleft"].includes(n)?"ds.text.danger.quiet":"monthsleft"===t?"ds.text.warning.quiet":"ds.text.neutral.quiet":"ds.text.neutral.quiet"),bold:a},e):null;var n},jT=(0,n.memo)((({itemId:e,title:t,description:a,country:n,additionalDescription:o,criticalityDescription:r,editRoute:l,hasAttachment:c,type:d,copiableValue:u})=>{const{translate:p}=(0,j.Z)(),m=(0,it.w)("techweek_web_attachmentsForIds_v1");return(0,z.tZ)(s.Ejs,{flexDirection:"row",flexWrap:"nowrap",alignItems:"center",tabIndex:0,sx:LT,onClick:()=>{(0,ae.Q_)(e,ae.Ab[d]),(0,i.uX)(l)},as:"article"},(0,z.tZ)(En,{size:Ln.Large,country:n,type:d}),(0,z.tZ)(s.Ejs,{flexDirection:"column",flexWrap:"nowrap",sx:{height:"100%",minWidth:0,padding:"16px",width:"100%"}},(0,z.tZ)(i.rU,{sx:{marginBottom:"4px",outline:"none",textDecoration:"none"},to:l,title:t},(0,z.tZ)(s.nvN,{bold:!0,as:"strong",sx:{display:"block",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},t||Si(d,n,p))),(0,z.tZ)(s.Ejs,{className:"card-contents",flexDirection:"column",flexWrap:"nowrap",sx:{minWidth:0}},(0,z.tZ)(PT,{text:a}),(0,z.tZ)(zT,{text:o,criticality:r}),m&&c&&(OT||(OT=(0,z.tZ)(s.FKb,{size:12})))),(0,z.tZ)("span",{sx:{marginTop:"4px"},className:"card-quick-actions"},(0,z.tZ)(Mn,{itemId:e,copyValue:u,editRoute:l,variant:"list",type:d}))))})),RT=({item:e,route:t})=>{const a=e.country===c.Country.FR?e.teledeclarantNumber:void 0;return n.createElement(jT,{itemId:e.id,title:e.idNumber,hasAttachment:e.hasAttachments,description:a,country:e.country,type:"fiscalIds",editRoute:t(e.id),copiableValue:e.idNumber})},UT={alignItems:"center",color:s.O9T.dashGreen03,background:s.O9T.white,borderBottomColor:s.O9T.grey05,borderBottomStyle:"solid",borderBottomWidth:1,bottom:"12px",display:"flex",height:"60px",margin:"0 32px",userSelect:"none"},BT={padding:"0 32px 16px 32px"},FT=(0,n.memo)((({headerTitle:e,items:t,render:a})=>(0,z.tZ)(n.Fragment,null,(0,z.tZ)(s.j49,{sx:UT,as:"h2"},e),(0,z.tZ)(s.Ejs,{flexWrap:"wrap",justifyContent:"start",sx:BT},t.map(a)))));var WT=a(328290);let GT;!function(e){e.EXPIRED="expired",e.DAYSLEFT="daysleft",e.MONTHSLEFT="monthsleft"}(GT||(GT={}));const VT=(e,t,a,n)=>{if(!e)return[void 0,void 0];const i=(0,WT.Z)(new Date(1e3*e),new Date),o=(0,Ip.Z)(new Date(1e3*e),new Date),s=a?((e,t)=>e<0?GT.EXPIRED:0===t?GT.DAYSLEFT:t<6?GT.MONTHSLEFT:void 0)(i,o):void 0,r=s?((e,t,a,n)=>e===GT.EXPIRED?n(a.EXPIRED):e===GT.DAYSLEFT?n(a.EXPIRES_DAYS):e===GT.MONTHSLEFT?n(a.EXPIRES_MONTHS,{months:(t+1).toString()}):void 0)(s,o,t,n):n(t.EXPIRES,{date:(0,rh.Z)(1e3*e,"MM/yy")});return[r,s]},YT={EXPIRES:"webapp_ids_id_cards_id_card_expires",EXPIRED:"webapp_ids_id_cards_id_card_expired",EXPIRES_DAYS:"webapp_ids_id_cards_id_card_expires_days",EXPIRES_MONTHS:"webapp_ids_id_cards_id_card_expires_months"},HT=({item:e,route:t})=>{const{translate:a}=(0,j.Z)(),i=(0,it.w)("techweek_web_expiredLabelforID_dev"),[o,s]=VT(e.expirationDate,YT,i,a);return n.createElement(jT,{itemId:e.id,title:e.name,hasAttachment:e.hasAttachments,description:e.idNumber,additionalDescription:o,criticalityDescription:s,country:e.country,type:"idCards",editRoute:t(e.id),copiableValue:e.idNumber})},qT=({item:e,route:t})=>{const{translate:a}=(0,j.Z)(),i=e.country!==c.Country.UNIVERSAL&&e.country!==c.Country.NO_TYPE?e.country:void 0;return n.createElement(jT,{itemId:e.id,title:e.name,hasAttachment:e.hasAttachments,description:e.idNumber,additionalDescription:i?a(`country_name_${i}`):void 0,country:e.country,type:"passports",editRoute:t(e.id),copiableValue:e.idNumber})},QT=({item:e,route:t})=>n.createElement(jT,{itemId:e.id,title:e.name,hasAttachment:e.hasAttachments,description:e.idNumber,country:e.country,type:"socialSecurityIds",editRoute:t(e.id),copiableValue:e.idNumber}),XT={EXPIRES:"webapp_ids_id_cards_id_card_expires",EXPIRED:"webapp_ids_driver_licences_driver_licence_expired",EXPIRES_DAYS:"webapp_ids_driver_licences_driver_licence_expires_days",EXPIRES_MONTHS:"webapp_ids_driver_licences_driver_licence_expires_months"},KT=({item:e,route:t})=>{const{translate:a}=(0,j.Z)(),i=(0,it.w)("techweek_web_expiredLabelforID_dev"),[o,s]=VT(e.expirationDate,XT,i,a);return n.createElement(jT,{itemId:e.id,title:e.name,hasAttachment:e.hasAttachments,description:e.idNumber,additionalDescription:o,criticalityDescription:s,country:e.country,type:"driverLicenses",editRoute:t(e.id),copiableValue:e.idNumber})};var JT,$T;const eA=e=>n.createElement("div",{className:"contentWrapper--LXdkyZYTqP","data-testid":"ids-documents-grid-items"},n.Children.toArray(e.children)),tA=()=>{const{translate:e}=(0,j.Z)();return n.createElement(Hg,{icon:JT||(JT=n.createElement("img",{src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iOTYiIGhlaWdodD0iOTYiIHZpZXdCb3g9IjAgMCA5NiA5NiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTI1LjAwMDIgMzZIMzEuMDAwMlY0MkgyNS4wMDAyVjM2WiIgZmlsbD0iI0UwREREQSIvPgo8cGF0aCBkPSJNNzcgMzBMNzcuMDAwMiA3Mkw4MyA3Mkw4MyAyNEgxM0wxMyA3Mkw3MS4wMDAyIDcyTDY3LjAwMDIgNjZMMTkgNjZMMTkgMzBMNzcgMzBaIiBmaWxsPSIjRTBERERBIi8+CjxwYXRoIGQ9Ik02My4wMDAyIDQySDM3VjM2SDY3TDYzLjAwMDIgNDJaIiBmaWxsPSIjRTBERERBIi8+CjxwYXRoIGQ9Ik02My4yNTAxIDU1SDM3VjQ5SDY3TDYzLjI1MDEgNTVaIiBmaWxsPSIjRTBERERBIi8+Cjwvc3ZnPgo=",alt:""})),title:e("webapp_ids_empty_view_title")},n.createElement("p",null,e("webapp_ids_empty_view_description")))},aA=({currentSpaceId:e,userEditDocumentRoute:t,currentCountry:a})=>{const{translate:i}=(0,j.Z)(),o=fi(e,"idCards"),s=fi(e,"socialSecurityIds"),r=fi(e,"driverLicenses"),l=fi(e,"passports"),c=fi(e,"fiscalIds");n.useEffect((()=>{(0,O.N)(N.PageView.ItemIdList)}),[]);const d=n.useCallback((e=>n.createElement(HT,{item:e,key:e.id,route:t.bind(null,"idCards")})),[t]),u=n.useCallback((e=>n.createElement(QT,{item:e,key:e.id,route:t.bind(null,"socialSecurityIds")})),[t]),p=n.useCallback((e=>n.createElement(KT,{item:e,key:e.id,route:t.bind(null,"driverLicenses")})),[t]),m=n.useCallback((e=>n.createElement(qT,{item:e,key:e.id,route:t.bind(null,"passports")})),[t]),_=n.useCallback((e=>n.createElement(RT,{item:e,key:e.id,route:t.bind(null,"fiscalIds")})),[t]),g=[{data:o,key:"webapp_ids_id_cards_grid_header_title",render:d},{data:s,key:"webapp_ids_social_security_ids_grid_header_title",render:u},{data:r,key:"webapp_ids_driver_licences_grid_header_title",label:r.status===Ft.rq.Success?(h=i.getLocale(),b=a,C=r.data.matchingCount,xi.has(b)&&"en"===h?1===C?"Driver's licence":`Driver's licences (${C})`:null):null,render:p},{data:l,key:"webapp_ids_passports_grid_header_title",render:m},{data:c,key:"webapp_ids_fiscal_ids_grid_header_title",render:_}];var h,b,C;return g.some((e=>e.data.status===Ft.rq.Success&&e.data.data.matchingCount>0))?n.createElement(eA,null,g.map((e=>{var t;return e.data.status===Ft.rq.Success&&e.data.data.matchingCount>0?n.createElement(FT,{key:e.key,headerTitle:null!=(t=e.label)?t:i(e.key,{count:e.data.data.matchingCount}),items:e.data.data.items,render:e.render}):null}))):g.some((e=>e.data.status===Ft.rq.Loading))?null:$T||($T=n.createElement(tA,null))};var nA,iA,oA,sA,rA,lA,cA;const dA={[c.Country.BR]:"webapp_id_creation_socialsecurity_new_btn_br",[c.Country.CA]:"webapp_id_creation_socialsecurity_new_btn_ca",[c.Country.GB]:"webapp_id_creation_socialsecurity_new_btn_gb",[c.Country.IE]:"webapp_id_creation_socialsecurity_new_btn_ie",[c.Country.IT]:"webapp_id_creation_socialsecurity_new_btn_it",[c.Country.JP]:"webapp_id_creation_socialsecurity_new_btn_jp",[c.Country.NL]:"webapp_id_creation_socialsecurity_new_btn_nl",[c.Country.NO]:"webapp_id_creation_socialsecurity_new_btn_no",[c.Country.PT]:"webapp_id_creation_socialsecurity_new_btn_pt",[c.Country.SE]:"webapp_id_creation_socialsecurity_new_btn_se"},uA=({currentLocation:e})=>{var t;const{translate:a}=(0,j.Z)(),{routes:o}=(0,J.Xo)(),s=Di(e),r=e=>()=>{(0,i.uX)(o.userAddIdDocument(e))},l=[{icon:nA||(nA=n.createElement(we.JO,{name:"ItemIdOutlined",color:"ds.oddity.brand"})),label:a("webapp_id_creation_idcard_new_btn_default"),onClick:r("idCards")},{icon:iA||(iA=n.createElement(we.JO,{name:"ItemSocialSecurityOutlined",color:"ds.oddity.brand"})),label:a(null!=(t=dA[s])?t:"webapp_id_creation_socialsecurity_new_btn_default"),onClick:r("socialSecurityIds")},{icon:oA||(oA=n.createElement(we.JO,{name:"ItemDriversLicenseOutlined",color:"ds.oddity.brand"})),label:a("webapp_id_creation_driverlicense_new_btn_default"),onClick:r("driverLicenses")},{icon:sA||(sA=n.createElement(we.JO,{name:"ItemPassportOutlined",color:"ds.oddity.brand"})),label:a("webapp_id_creation_passport_new_btn_default"),onClick:r("passports")},{icon:rA||(rA=n.createElement(we.JO,{name:"ItemTaxNumberOutlined",color:"ds.oddity.brand"})),label:a("webapp_id_creation_fiscalid_new_btn_default"),onClick:r("fiscalIds")}];return n.createElement(Bg,{buttonLabel:a("webapp_id_creation_header_btn"),endWidget:n.createElement(n.Fragment,null,lA||(lA=n.createElement(fm,null)),cA||(cA=n.createElement(D_,null))),menuItemContents:l.map((({icon:e,label:t,onClick:a})=>n.createElement(Ug,{icon:e,label:t,onClick:a,key:t})))})};var pA=a(164671);const mA=n.memo((({country:e,description:t,title:a,type:i,tabs:o})=>n.createElement(Is,{icon:n.createElement(En,{size:Ln.Large,country:e,type:i}),iconBackgroundColor:s.O9T.dashGreen06,title:a,titleDescription:t?.toUpperCase(),tabs:o}))),_A=new Set([c.Country.AU,c.Country.GB,c.Country.IE,c.Country.NZ]),gA={NAME_LABEL:"webapp_id_form_field_label_name",NAME_PLACEHOLDER:"webapp_id_form_field_placeholder_name",ID_NUMBER_LABEL:"webapp_id_form_field_label_id_number",ID_NUMBER_PLACEHOLDER:"webapp_id_form_field_placeholder_id_number",COUNTRY_LABEL:"webapp_id_form_field_label_country",GENERIC_SELECT_PLACEHOLDER:"webapp_id_form_field_placeholder_select",EXPIRATION_DATE_LABEL_US:"webapp_id_form_field_label_expiration_date_us",EXPIRATION_DATE_LABEL_UK:"webapp_id_form_field_label_expiration_date_uk",ISSUE_DATE_LABEL:"webapp_id_form_field_label_issue_date"},hA=e=>null===e.buttons?n.createElement(n.Fragment,null,e.children):n.createElement(uh.N,{enabled:e.showButtonsOnHover},e.children,e.buttons),bA=n.forwardRef((({name:e,label:t,placeholder:a,disabled:i},o)=>n.createElement(_l.gN,{name:e},(({field:e,meta:s})=>n.createElement(lh.Z,{key:e.name,label:t,placeholder:a,disabled:i,...e,value:e.value,error:void 0!==s.error,ref:o}))))),CA=n.memo(bA),wA=n.memo(n.forwardRef((({name:e,label:t,placeholder:a,handleCopy:i},o)=>{const{values:s}=(0,_l.u6)();return n.createElement(hA,{showButtonsOnHover:!!s[e],buttons:i?n.createElement(ph.m,{data:s[e],onCopy:i}):null},n.createElement(CA,{name:e,label:t,placeholder:a,ref:o}))}))),yA=n.memo((({name:e,label:t})=>{const{translate:a}=(0,j.Z)(),{setFieldValue:i}=(0,_l.u6)(),o=t=>i(e,""===t?null:Number.parseInt(t,10));return n.createElement(_l.gN,{name:e},(({field:e})=>{var i;return n.createElement(dh.j,{value:`${null!=(i=e.value)?i:""}`,label:t,dateFormat:"t",onChange:o,monthLabelFormatter:e=>a.shortDate(e,ne._T.M),yearsRange:[-100,100],allowEmpty:!0})}))})),EA=n.memo((({name:e})=>{const{setFieldValue:t}=(0,_l.u6)();return n.createElement(_l.gN,{name:e},(({field:a})=>n.createElement(bo,{labelSx:ho,spaceId:a.value,onChange:a=>{t(e,a)}})))})),IA=(e,t="")=>({label:e(gA.GENERIC_SELECT_PLACEHOLDER),value:t}),NA=({name:e,label:t,placeholder:a,options:i,defaultOption:o})=>n.createElement(_l.gN,{name:e},(({field:e})=>n.createElement(ch.Z,{label:t,placeholder:a,options:i,defaultOption:o,...e}))),fA=n.memo((({name:e,label:t,placeholder:a,handleCopy:i})=>{const{setFieldValue:o,values:s}=(0,_l.u6)();return n.useEffect((()=>{"FR"!==s.country&&o(e,"")}),[e,o,s.country]),"FR"!==s.country?null:n.createElement(wA,{name:e,label:t,placeholder:a,handleCopy:i})})),vA=Object.keys(c.Country),SA=n.memo((({name:e,label:t})=>{var a;const{translate:i}=(0,j.Z)(),{values:o}=(0,_l.u6)(),{current:s}=n.useRef((e=>{const t=vA.filter((e=>!(c.Country[e]===c.Country.UNIVERSAL||c.Country[e]===c.Country.NO_TYPE))).map((t=>({label:e(`country_name_${c.Country[t]}`),value:c.Country[t]}))).sort(((e,t)=>e.label.localeCompare(t.label)));return[IA(e,c.Country.UNIVERSAL),...t]})(i)),r=s[0],l=o[e],d=null!=(a=s?.find((({value:e})=>e===l)))?a:l&&l!==c.Country.UNIVERSAL&&l!==c.Country.NO_TYPE?{label:l,value:l}:r;return n.createElement(NA,{name:e,label:t,placeholder:r.value,options:s,defaultOption:d})})),DA={queries:[{type:c.StaticDataQueryType.GEOGRAPHIC_STATES,level:c.GeographicStateLevel.LEVEL_0}]},xA=new Set(["AU","CA","US"]);function MA(e,t){const a=function(e){const[t,a]=n.useState(null);return n.useEffect((()=>{(async function(){const[e]=await(0,ot.et)(DA);e?.type===c.StaticDataQueryType.GEOGRAPHIC_STATES&&a(e.collection)})().catch((t=>e(new Error(`[useStates] ${t}`))))}),[]),t}(t),i=n.useMemo((()=>{if(!a)return null;if(!e)return;const t=null===e?void 0:c.Country[e];if(!t)return;if(!xA.has(t))return;const n=a[t];return void 0!==n?function(e){return e.sort(((e,t)=>e.name.localeCompare(t.name))).map((({name:e,code:t})=>({label:e,value:t})))}(Object.values(n)):void 0}),[a,e]);return i}const TA="country",AA="state",kA=n.memo((e=>{var t;const{translate:a}=(0,j.Z)(),{initialValues:i,setFieldValue:o,values:s}=(0,_l.u6)(),r=i[AA],l=s[AA],c=i[TA],d=s[TA],u=c!==d,p=MA(d,e.handleError),{current:m}=n.useRef(IA(a)),_=n.useMemo((()=>p?[m,...p]:void 0),[p,m]),g=null!=(t=_?.find((({value:e})=>e===l)))?t:l?{label:l,value:l}:m;return n.useEffect((()=>{o("state",u?m.value:r)}),[u,m.value,r,o]),n.createElement(n.Fragment,null,n.createElement(SA,{name:TA,label:e.countryFieldLabel}),m&&_?n.createElement(NA,{key:d,name:AA,label:e.stateFieldLabel,options:_,defaultOption:g,placeholder:m.label}):null)}));var ZA,OA;const LA={...gA,STATE_LABEL:"webapp_id_form_field_label_state"},PA=n.memo((({variant:e,handleCopy:t,handleError:a,values:i})=>{const{translate:o}=(0,j.Z)(),s=n.useRef(null);return n.useEffect("add"===e?()=>{const e=setTimeout((()=>{s.current?.focus()}),Eh.s);return()=>clearTimeout(e)}:()=>{},[]),n.createElement(n.Fragment,null,n.createElement(CA,{name:"name",label:o(LA.NAME_LABEL),placeholder:o(LA.NAME_PLACEHOLDER),ref:s}),n.createElement(wA,{name:"idNumber",label:o(LA.ID_NUMBER_LABEL),placeholder:o(LA.ID_NUMBER_PLACEHOLDER),handleCopy:"edit"===e?t:void 0}),n.createElement(yA,{name:"issueDate",label:o(LA.ISSUE_DATE_LABEL)}),n.createElement(yA,{name:"expirationDate",label:o(_A.has(i.country)?LA.EXPIRATION_DATE_LABEL_UK:LA.EXPIRATION_DATE_LABEL_US)}),n.createElement(kA,{countryFieldLabel:o(LA.COUNTRY_LABEL),stateFieldLabel:o(LA.STATE_LABEL),handleError:a}),ZA||(ZA=n.createElement(lu.c,{height:24})),OA||(OA=n.createElement(EA,{name:"spaceId"})))})),zA={form:"form--wPOcxT5leQ"};function jA({children:e,...t}){const{formId:a,formRef:i,initialValues:o,handleSubmit:s}=t;return n.createElement(_l.J9,{innerRef:i,initialValues:o,onSubmit:s},(({values:t})=>n.createElement(_l.l0,{autoComplete:"off",className:zA.form,id:a,noValidate:!0},e(t))))}const RA=({formId:e,handleCancel:t,hasDataBeenModified:a,isSubmitting:n})=>{const{translate:i}=(0,j.Z)();return(0,z.tZ)(s.Ejs,{sx:{padding:"24px"},as:"footer",justifyContent:"flex-end",flexDirection:"row",flexWrap:"nowrap"},a?(0,z.tZ)(s.zxk,{type:"submit",form:e,disabled:n},i("webapp_panel_edition_generic_save_changes")):null,(0,z.tZ)(s.zxk,{sx:{marginLeft:"16px"},nature:"secondary",onClick:t,type:"button"},i("webapp_panel_edition_generic_cancel_changes")))},UA="id-add-form",BA={GENERIC_ERROR:"_common_generic_error"};function FA({addItem:e,children:t,initialValues:a,listRoute:o,reportError:r,countryToKeys:l,header:c,type:d}){const{translate:u}=(0,j.Z)(),[m,_]=n.useState(!1),[g,h]=n.useState(!1),[b,C]=n.useState(a.country),w=(0,ye.V)();n.useEffect((()=>{const e={driverLicenses:N.PageView.ItemDriverLicenceCreate,fiscalIds:N.PageView.ItemFiscalStatementCreate,idCards:N.PageView.ItemIdCardCreate,passports:N.PageView.ItemPassportCreate,socialSecurityIds:N.PageView.ItemSocialSecurityStatementCreate};(0,O.N)(e[d])}),[d]);const y=()=>{(0,O.N)(N.PageView.ItemIdList),(0,i.uX)(o)},E=n.useRef((e=>{if(null!==e){const{dirty:t,isSubmitting:a,values:n}=e;_(t),h(a),C(n.country)}}));return n.createElement(n.Fragment,null,c(b),n.createElement(jA,{formId:UA,formRef:E.current,handleSubmit:async(t,{setSubmitting:a,setFieldError:n})=>{try{const i=await e(t);!0===i.success?(w.showAlert(u(l(b).success),s.BLW.SUCCESS),fp(),y()):(a(!1),i.error?.code===p.AddIdResultErrorCode.MISSING_ID_NUMBER?n("idNumber",""):(w.showAlert(u(BA.GENERIC_ERROR),s.BLW.ERROR),r(new Error("[ids][add] Unable to add id"),i.error?.code)))}catch(e){a(!1),w.showAlert(u(BA.GENERIC_ERROR),s.BLW.ERROR),r(e,"[ids][add] Unexpected exception while add id")}},initialValues:a,variant:"add"},(e=>t({values:e}))),n.createElement(RA,{formId:UA,handleCancel:()=>{y()},hasDataBeenModified:m,isSubmitting:g}))}const WA="driverLicenses",GA=()=>({title:"webapp_id_creation_driverlicense_title_default",success:"webapp_id_creation_driverlicense_alert_add_success_default"}),VA=e=>g.C.addDriverLicense(e),YA=(e,t,a)=>{const n={};return a.forEach((a=>{e[a]!==t[a]&&(n[a]=t[a])})),n};function HA(e){return"object"==typeof e&&("name",e.hasOwnProperty("name"))&&"string"==typeof e.name?e.name:e.idNumber}const qA={idCards:{query:g.C.getIdCard,live:g.C.liveIdCard},socialSecurityIds:{query:g.C.getSocialSecurityId,live:g.C.liveSocialSecurityId},driverLicenses:{query:g.C.getDriverLicense,live:g.C.liveDriverLicense},passports:{query:g.C.getPassport,live:g.C.livePassport},fiscalIds:{query:g.C.getFiscalId,live:g.C.liveFiscalId}};var QA,XA;const KA={...gA},JA=n.memo((({variant:e,handleCopy:t,values:a})=>{const{translate:i}=(0,j.Z)(),o=n.useRef(null);return n.useEffect("add"===e?()=>{const e=setTimeout((()=>{o.current?.focus()}),Eh.s);return()=>clearTimeout(e)}:()=>{},[]),n.createElement(n.Fragment,null,n.createElement(CA,{name:"name",label:i(KA.NAME_LABEL),placeholder:i(KA.NAME_PLACEHOLDER),ref:o}),n.createElement(wA,{name:"idNumber",label:i(KA.ID_NUMBER_LABEL),placeholder:i(KA.ID_NUMBER_PLACEHOLDER),handleCopy:"edit"===e?t:void 0}),n.createElement(yA,{name:"issueDate",label:i(KA.ISSUE_DATE_LABEL)}),n.createElement(yA,{name:"expirationDate",label:i(_A.has(a.country)?KA.EXPIRATION_DATE_LABEL_UK:KA.EXPIRATION_DATE_LABEL_US)}),n.createElement(SA,{name:"country",label:i(KA.COUNTRY_LABEL)}),QA||(QA=n.createElement(lu.c,{height:24})),XA||(XA=n.createElement(EA,{name:"spaceId"})))})),$A={HEADER_DESCRIPTION:"webapp_id_edition_idcard_header_description",DIALOG_DELETE_TITLE:"webapp_id_edition_idcard_dialog_delete_title",ALERT_DELETE:"webapp_id_edition_idcard_alert_delete",ALERT_EDIT:"webapp_id_edition_idcard_alert_edit",COPY_SUCCESS:"webapp_id_copy_success_id_card_number"},ek=e=>async()=>(await g.C.deleteIdCard({id:e})).success,tk=(e,t)=>a=>{const n=YA(t,a,Tn);return g.C.editIdCard({...n,id:e})};let ak;async function nk(e,t){switch(t){case"idCards":await g.C.editIdCard(e);break;case"driverLicenses":await g.C.editDriverLicense(e);break;case"fiscalIds":await g.C.editFiscalId(e);break;case"passports":await g.C.editPassport(e);break;case"socialSecurityIds":await g.C.editSocialSecurityId(e);break;default:throw new Error(`Unsupported id type ${t}`)}}!function(e){e[e.DETAILS=0]="DETAILS",e[e.ATTACHMENTS=1]="ATTACHMENTS"}(ak||(ak={}));const ik=a(816583),ok={padding:"0px 8px",overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",fontWeight:"bold"},sk=({attachment:e,isUploading:t,type:a,handleFileInfoDetached:i})=>{const{translate:o}=(0,j.Z)(),[r,l]=(0,n.useState)(!1);return(0,n.useEffect)((()=>{l(t)}),[t]),n.createElement(s.Ejs,{key:e.id,fullWidth:!0,alignItems:"center"},n.createElement(s.k$b,{sx:{width:"45%"}},n.createElement(s.Ejs,{alignItems:"center",flexWrap:"nowrap"},n.createElement(s.Ejs,{alignItems:"center",justifyContent:"center"},n.createElement(s.Ujz,{size:25,color:s.O9T.midGreen00})),n.createElement(s.nvN,{sx:ok},e.filename))),n.createElement(s.k$b,{sx:{width:"25%"}},o.shortDate((0,qo.Z)(e.creationDatetime))),n.createElement(s.k$b,{sx:{width:"10%"}},(c=e.localSize,ik(c,{decimalPlaces:0,unitSeparator:" "}))),n.createElement(s.k$b,null,n.createElement(ay,{attachment:e,disableActions:r,setDisableActions:l,parentType:ae.Ab[a],parentId:e.id,handleFileInfoDetached:i})));var c};var rk,lk;const ck="webapp_panel_edition_generic_close",dk="webapp_panel_edition_generic_delete",uk=({formId:e,handleCancel:t,handleDelete:a,hasDataBeenModified:n,isSubmitting:i,focusAttachmentTab:o})=>{const{translate:r}=(0,j.Z)();return(0,z.tZ)(s.Ejs,{sx:{padding:"24px"},as:"footer",justifyContent:"flex-start",flexDirection:"row",flexWrap:"nowrap"},(0,z.tZ)(s.zxk,{nature:"secondary",onClick:a,type:"button",disabled:i,sx:{marginRight:"16px"}},rk||(rk=(0,z.tZ)(s.XHJ,null)),r(dk)),!!o&&(0,z.tZ)(s.zxk,{key:"attach",nature:"secondary",onClick:o,type:"button"},lk||(lk=(0,z.tZ)(s.FKb,null)),r("webapp_secure_notes_add_attachment_action_name")),n?(0,z.tZ)(s.Ejs,{flexDirection:"row",flexWrap:"nowrap",sx:{marginLeft:"auto"}},(0,z.tZ)(s.zxk,{type:"submit",form:e,disabled:i},r("webapp_panel_edition_generic_save_changes")),(0,z.tZ)(s.zxk,{sx:{marginLeft:"16px"},nature:"secondary",onClick:t,type:"button"},r("webapp_panel_edition_generic_cancel_changes"))):(0,z.tZ)(s.zxk,{nature:"secondary",onClick:t,type:"button",sx:{marginLeft:"auto"}},r(ck)))};var pk;const mk=({handleOnFileUploadStarted:e,handleOnSecureFileUploadDone:t,item:a,openConfirmDeleteDialog:i,showListView:o})=>{const{translate:r}=(0,j.Z)();return n.createElement("div",{className:"attach-files--QN144Fxmty"},n.createElement(s.zxk,{nature:"secondary",onClick:i,type:"button"},pk||(pk=n.createElement(s.XHJ,null)),r(dk)),n.createElement(iE,{isQuotaReached:!1,isShared:!1,onFileUploadStarted:e,onFileUploadDone:t,itemId:a.id,key:"uploadAction",dataType:"KWIDCard",disabled:!1}),n.createElement(s.zxk,{nature:"secondary",onClick:o,type:"button"},r(ck)))};var _k;const gk={padding:"16px 16px 16px 0px",borderBottom:`1px solid ${s.O9T.grey06}`,color:`${s.O9T.grey01}`,alignSelf:"center"},hk=({item:e,type:t,focusAttachment:a,openConfirmDeleteDialog:i,showListView:o})=>{var r;const{translate:l}=(0,j.Z)(),{isUploading:c,handleOnFileUploadStarted:d,handleOnSecureFileUploadDone:u}=function(e,t){const[a,i]=(0,n.useState)(!1);return{isUploading:a,handleOnFileUploadStarted:()=>{i(!0)},handleOnSecureFileUploadDone:async a=>{if(i(!1),a.success){var n;await g.C.commitSecureFile({secureFileInfo:a.secureFileInfo});const i=Jy(a.secureFileInfo),o={...e,attachments:[...null!=(n=e?.attachments)?n:[],i]};await nk(o,t)}}}}(e,t),p=null!=(r=e?.attachments)?r:[],m=n=>{e.attachments=e.attachments?.filter((e=>e.id!==n)),nk(e,t),a()};return n.createElement(n.Fragment,null,c&&(_k||(_k=n.createElement($e.Z,{size:30,mode:"light"}))),n.createElement("div",{"data-testid":"ids-attachment-tab",className:"attachments--O3erxs5K4f"},n.createElement(s.Ejs,{flexDirection:"column",alignItems:"center",fullWidth:!0,sx:{flex:1,overflowY:"auto",flexWrap:"nowrap",margin:"20px;"}},p.length>0?n.createElement(s.Ejs,{fullWidth:!0,alignItems:"center"},n.createElement(s.j49,{size:"medium",sx:{...gk,width:"45%"}},l("webapp_secure_notes_addition_field_tab_attachments_table_title_name")),n.createElement(s.j49,{size:"medium",sx:{...gk,width:"25%"}},l("webapp_secure_notes_addition_field_tab_attachments_table_title_creation_date")),n.createElement(s.j49,{size:"medium",sx:{...gk,width:"30%"}},l("webapp_secure_notes_addition_field_tab_attachments_table_title_file_size"))):n.createElement("div",{className:"no-attachment--wiK7rV2UW7"},n.createElement(s.Ujz,{size:70,color:s.O9T.dashGreen04,sx:{marginBottom:"24px"}}),n.createElement(s.nvN,{sx:{textAlign:"center"}},l("webapp_secure_notes_add_attachment_action_name"))),p?p.map((e=>n.createElement(sk,{key:e.id,attachment:e,isUploading:c,type:t,handleFileInfoDetached:m}))):null),n.createElement(mk,{handleOnFileUploadStarted:d,handleOnSecureFileUploadDone:u,item:e,openConfirmDeleteDialog:i,showListView:o})))},bk=e=>`id-edit-panel-${e.id}`,Ck=e=>{const t=window.sessionStorage.getItem(bk(e));return t?parseInt(t,10):null},wk="id-edit-form",yk=({itemId:e,type:t,editItem:a,openConfirmDeleteDialog:i,editAlertTranslation:o,reportError:r,initialValues:l,hasUnsavedData:c,setHasUnsavedData:d,setCurrentCountry:u,copySuccessKey:m,hasTabs:_,focusAttachment:g,children:h,showListView:b})=>{const{translate:C}=(0,j.Z)(),[w,y]=n.useState(!1),E=n.useRef((e=>{if(null!==e){const{dirty:t,isSubmitting:a,values:n}=e;d(t),y(a),u(n.country)}})),I=(0,ye.V)(),f=Fh(),v=(a,n)=>{var i;(0,O.K)(new N.UserCopyVaultItemFieldEvent({itemType:In[t],field:Nn[t],itemId:e,isProtected:!1})),a&&(i=C(m),f.setAlertMessage(i),f.show()),n&&"function"==typeof r&&r(n,"[id-form] Unable to copy to clipboard")};return n.createElement(n.Fragment,null,n.createElement(jA,{formId:wk,formRef:E.current,handleSubmit:async(e,{setSubmitting:t,setFieldError:n})=>{try{t(!0);const i=await a(e);!0===i.success?(I.showAlert(C(o),s.BLW.SUCCESS),b()):(t(!1),i.error?.code===p.UpdateIdResultErrorCode.MISSING_ID_NUMBER?n("idNumber",""):(I.showAlert(C("_common_generic_error"),s.BLW.ERROR),r(new Error("[ids][edit] Unable to update id"),i.error?.code)))}catch(e){t(!1),r(e,"[ids][edit] Unexpected exception while updating id")}},initialValues:l,variant:"edit"},(e=>h({handleCopy:v,values:e}))),n.createElement(uk,{formId:wk,handleCancel:()=>{b()},handleDelete:i,hasDataBeenModified:c,isSubmitting:w,focusAttachmentTab:_?g:void 0}),f.isAlertVisible?n.createElement("div",{className:"alertWrapper--nRxrtdhB5p"},n.createElement(s.bZj,{size:s.k3y.SMALL,severity:s.BLW.SUCCESS,closeIconName:C("_common_alert_dismiss_button"),onClose:()=>{f.hide()}},f.alertMessage)):null)},Ek={DIALOG_DELETE_SUBTITLE:"webapp_id_edition_dialog_delete_subtitle",DIALOG_DELETE_DISMISS:"webapp_id_edition_dialog_delete_dismiss",DIALOG_DELETE_CONFIRM:"webapp_id_edition_dialog_delete_confirm",GENERIC_ERROR:"_common_generic_error"};function Ik({getDescription:e,title:t,...a}){const{translate:o}=(0,j.Z)(),{item:r,initialValues:l,type:c,children:d,showConfirmDelete:u,openConfirmDeleteDialog:p,closeConfirmDeleteDialog:m,deleteDialogTitle:_,deleteItem:h,deleteAlertTranslation:b,listRoute:C}=a,{hasTabs:w,activeTab:y,tabs:E,focusAttachment:I,cleanActiveTab:f}=function(e){var t;const a=(0,it.w)("techweek_web_attachmentsForIds_v1"),i=(0,n.useRef)(null),[o,s]=(0,n.useState)(null!=(t=Ck(e))?t:ak.DETAILS),r=(0,n.useCallback)((t=>{window.sessionStorage.setItem(bk(e),t.toString()),s(t)}),[e]),l=(0,n.useCallback)((()=>{window.sessionStorage.removeItem(bk(e))}),[e]),c=(0,n.useCallback)((()=>r(ak.ATTACHMENTS)),[r]),{translate:d}=(0,j.Z)(),u=(0,n.useMemo)((()=>[{active:o===ak.DETAILS,label:d("webapp_secure_notes_addition_tab_title_details"),onClick:()=>r(ak.DETAILS)},{active:o===ak.ATTACHMENTS,label:d("webapp_secure_notes_edition_field_tab_title_attachments"),onClick:c}]),[o,c,d,r]);return(0,n.useEffect)((()=>{const e=e=>{i.current&&!i.current.contains(e.target)&&l()};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}}),[l,i]),{editPanelRef:i,hasTabs:a,activeTab:o,tabs:u,focusAttachment:c,cleanActiveTab:l}}(r),[v,S]=n.useState(l.country);n.useEffect((()=>{pw()}),[]),n.useEffect((()=>{const e={driverLicenses:N.PageView.ItemDriverLicenceDetails,fiscalIds:N.PageView.ItemFiscalStatementDetails,idCards:N.PageView.ItemIdCardDetails,passports:N.PageView.ItemPassportDetails,socialSecurityIds:N.PageView.ItemSocialSecurityStatementDetails};(0,O.N)(e[c])}),[c]);const D=n.useMemo((()=>({confirmDeleteConfirm:o(Ek.DIALOG_DELETE_CONFIRM),confirmDeleteDismiss:o(Ek.DIALOG_DELETE_DISMISS),confirmDeleteSubtitle:o(Ek.DIALOG_DELETE_SUBTITLE),confirmDeleteTitle:o(_)})),[_,o]),x=(0,ye.V)(),M=()=>{f(),(0,O.N)(N.PageView.ItemIdList),(0,i.uX)(C)},T=w&&ak.ATTACHMENTS===y,A=!w||ak.DETAILS===y;return n.createElement(n.Fragment,null,n.createElement(mA,{country:v,description:e(v),title:t,type:c,tabs:w?E:void 0}),T?n.createElement(hk,{item:r,type:c,focusAttachment:I,showConfirmDelete:u,openConfirmDeleteDialog:p,closeConfirmDeleteDialog:m,showListView:M}):null,A?n.createElement(yk,{...a,setCurrentCountry:S,hasTabs:w,focusAttachment:I,cleanActiveTab:f,showListView:M},d):null,u?n.createElement(Vh,{closeConfirmDeleteDialog:m,onDeleteConfirm:async function(){let e;try{r.attachments.forEach((async e=>{const{id:t}=e;await g.C.deleteSecureFile({id:t})})),e=await h()}catch(t){e=!1}e?(x.showAlert(o(b),s.BLW.SUBTLE),fp(),M()):x.showAlert(o(Ek.GENERIC_ERROR),s.BLW.ERROR)},translations:D}):null)}const Nk=({ID_TYPE:e,I18N_KEYS:t,listRoute:a,id:i,setDialogActive:o,lee:s,hasUnsavedData:r,setHasUnsavedData:l,deleteItem:c,editItem:d,children:u})=>{const{translate:p}=(0,j.Z)(),m=function(e,t){const a=function(e){return qA[e]}(e),n=a.query,i=a.live;return(0,Ft.qr)({queryConfig:{query:n,queryParam:t},liveConfig:{live:i,liveParam:t}},[t])}(e,i),{showConfirmDelete:_,openConfirmDeleteDialog:g,closeConfirmDeleteDialog:h}=function(e){const[t,a]=n.useState(!1);return{showConfirmDelete:t,openConfirmDeleteDialog:()=>{a(!0),e(!0)},closeConfirmDeleteDialog:()=>{a(!1),e(!1)}}}(o);if(m.status===Ft.rq.Success&&void 0!==m.data){const o=m.data;return n.createElement(Ik,{itemId:i,item:m.data,copySuccessKey:t.COPY_SUCCESS,deleteAlertTranslation:t.ALERT_DELETE,deleteDialogTitle:t.DIALOG_DELETE_TITLE,deleteItem:c(m.data.id),editAlertTranslation:t.ALERT_EDIT,editItem:d(m.data.id,o),initialValues:o,listRoute:a,reportError:s.reportError,showConfirmDelete:_,openConfirmDeleteDialog:g,closeConfirmDeleteDialog:h,hasUnsavedData:r,setHasUnsavedData:l,type:e,getDescription:e=>Mi(p(t.HEADER_DESCRIPTION),p.getLocale(),e),title:HA(m.data)},u)}return null},fk={HEADER_DESCRIPTION:"webapp_id_edition_driverlicense_header_description",ALERT_DELETE:"webapp_id_edition_driverlicense_alert_delete",ALERT_EDIT:"webapp_id_edition_driverlicense_alert_edit",DIALOG_DELETE_TITLE:"webapp_id_edition_driverlicense_dialog_delete_title",COPY_SUCCESS:"webapp_id_copy_success_driverlicence_number"},vk=e=>async()=>(await g.C.deleteDriverLicense({id:e})).success,Sk=(e,t)=>a=>{const n=YA(t,a,kn);return g.C.editDriverLicense({...n,id:e})};var Dk,xk;const Mk={...gA,TELEDECLARANT_NUMBER_LABEL:"webapp_id_form_field_label_teledeclarant_number",TELEDECLARANT_NUMBER_PLACEHOLDER:"webapp_id_form_field_placeholder_teledeclarant_number",TAX_NUMBER_LABEL_DEFAULT:"webapp_id_form_field_label_tax_number"},Tk=n.memo((({variant:e,handleCopy:t})=>{const{translate:a}=(0,j.Z)(),i=n.useRef(null);return n.useEffect("add"===e?()=>{const e=setTimeout((()=>{i.current?.focus()}),Eh.s);return()=>clearTimeout(e)}:()=>{},[]),n.createElement(n.Fragment,null,n.createElement(wA,{name:"idNumber",label:a(Mk.TAX_NUMBER_LABEL_DEFAULT),placeholder:a(Mk.ID_NUMBER_PLACEHOLDER),handleCopy:"edit"===e?t:void 0,ref:i}),n.createElement(fA,{name:"teledeclarantNumber",label:a(Mk.TELEDECLARANT_NUMBER_LABEL),placeholder:a(Mk.TELEDECLARANT_NUMBER_PLACEHOLDER),handleCopy:"edit"===e?t:void 0}),n.createElement(SA,{name:"country",label:a(Mk.COUNTRY_LABEL)}),Dk||(Dk=n.createElement(lu.c,{height:24})),xk||(xk=n.createElement(EA,{name:"spaceId"})))})),Ak={HEADER_DESCRIPTION:"webapp_id_edition_fiscalid_header_description",ALERT_DELETE:"webapp_id_edition_fiscalid_alert_delete",ALERT_EDIT:"webapp_id_edition_fiscalid_alert_edit",DIALOG_DELETE_TITLE:"webapp_id_edition_fiscalid_dialog_delete_title",COPY_SUCCESS:"webapp_id_copy_success_fiscalid_number"},kk=e=>async()=>(await g.C.deleteFiscalId({id:e})).success,Zk=(e,t)=>a=>{const n=YA(t,a,Zn);return g.C.editFiscalId({...n,id:e})},Ok="idCards",Lk=()=>({title:"webapp_id_creation_idcard_title_default",success:"webapp_id_creation_idcard_alert_add_success_default"}),Pk=e=>g.C.addIdCard(e);var zk,jk;const Rk={...gA,PLACE_OF_ISSUE_LABEL:"webapp_id_form_field_label_place_of_issue",PLACE_OF_ISSUE_PLACEHOLDER:"webapp_id_form_field_placeholder_place_of_issue"},Uk=n.memo((({variant:e,handleCopy:t,values:a})=>{const{translate:i}=(0,j.Z)(),o=n.useRef(null);return n.useEffect("add"===e?()=>{const e=setTimeout((()=>{o.current?.focus()}),Eh.s);return()=>clearTimeout(e)}:()=>{},[]),n.createElement(n.Fragment,null,n.createElement(CA,{name:"name",label:i(Rk.NAME_LABEL),placeholder:i(Rk.NAME_PLACEHOLDER),ref:o}),n.createElement(wA,{name:"idNumber",label:i(Rk.ID_NUMBER_LABEL),placeholder:i(Rk.ID_NUMBER_PLACEHOLDER),handleCopy:"edit"===e?t:void 0}),n.createElement(yA,{name:"issueDate",label:i(Rk.ISSUE_DATE_LABEL)}),n.createElement(yA,{name:"expirationDate",label:i(_A.has(a.country)?Rk.EXPIRATION_DATE_LABEL_UK:Rk.EXPIRATION_DATE_LABEL_US)}),n.createElement(SA,{name:"country",label:i(Rk.COUNTRY_LABEL)}),n.createElement(CA,{name:"deliveryPlace",label:i(Rk.PLACE_OF_ISSUE_LABEL),placeholder:i(Rk.PLACE_OF_ISSUE_PLACEHOLDER)}),zk||(zk=n.createElement(lu.c,{height:24})),jk||(jk=n.createElement(EA,{name:"spaceId"})))})),Bk={HEADER_DESCRIPTION:"webapp_id_edition_passport_header_description",ALERT_DELETE:"webapp_id_edition_passport_alert_delete",ALERT_EDIT:"webapp_id_edition_passport_alert_edit",DIALOG_DELETE_TITLE:"webapp_id_edition_passport_dialog_delete_title",COPY_SUCCESS:"webapp_id_copy_success_passport_number"},Fk=e=>async()=>(await g.C.deletePassport({id:e})).success,Wk=(e,t)=>a=>{const n=YA(t,a,On);return g.C.editPassport({...n,id:e})};var Gk,Vk;const Yk={...gA},Hk=n.memo((({variant:e,handleCopy:t})=>{const{translate:a}=(0,j.Z)(),i=n.useRef(null);return n.useEffect("add"===e?()=>{const e=setTimeout((()=>{i.current?.focus()}),Eh.s);return()=>clearTimeout(e)}:()=>{},[]),n.createElement(n.Fragment,null,n.createElement(CA,{name:"name",label:a(Yk.NAME_LABEL),placeholder:a(Yk.NAME_PLACEHOLDER),ref:i}),n.createElement(wA,{name:"idNumber",label:a(Yk.ID_NUMBER_LABEL),placeholder:a(Yk.ID_NUMBER_PLACEHOLDER),handleCopy:"edit"===e?t:void 0}),n.createElement(SA,{name:"country",label:a(Yk.COUNTRY_LABEL)}),Gk||(Gk=n.createElement(lu.c,{height:24})),Vk||(Vk=n.createElement(EA,{name:"spaceId"})))}));var qk;const Qk="socialSecurityIds",Xk={[c.Country.BR]:{title:"webapp_id_creation_socialsecurity_title_br",success:"webapp_id_creation_socialsecurity_alert_add_success_br"},[c.Country.CA]:{title:"webapp_id_creation_socialsecurity_title_ca",success:"webapp_id_creation_socialsecurity_alert_add_success_ca"},[c.Country.GB]:{title:"webapp_id_creation_socialsecurity_title_gb",success:"webapp_id_creation_socialsecurity_alert_add_success_gb"},[c.Country.IE]:{title:"webapp_id_creation_socialsecurity_title_ie",success:"webapp_id_creation_socialsecurity_alert_add_success_ie"},[c.Country.IT]:{title:"webapp_id_creation_socialsecurity_title_it",success:"webapp_id_creation_socialsecurity_alert_add_success_it"},[c.Country.JP]:{title:"webapp_id_creation_socialsecurity_title_jp",success:"webapp_id_creation_socialsecurity_alert_add_success_jp"},[c.Country.NL]:{title:"webapp_id_creation_socialsecurity_title_nl",success:"webapp_id_creation_socialsecurity_alert_add_success_nl"},[c.Country.NO]:{title:"webapp_id_creation_socialsecurity_title_no",success:"webapp_id_creation_socialsecurity_alert_add_success_no"},[c.Country.PT]:{title:"webapp_id_creation_socialsecurity_title_pt",success:"webapp_id_creation_socialsecurity_alert_add_success_pt"},[c.Country.SE]:{title:"webapp_id_creation_socialsecurity_title_se",success:"webapp_id_creation_socialsecurity_alert_add_success_se"}},Kk=e=>{var t;return null!=(t=Xk[e])?t:{title:"webapp_id_creation_socialsecurity_title_default",success:"webapp_id_creation_socialsecurity_alert_add_success_default"}},Jk=e=>g.C.addSocialSecurityId(e),$k={HEADER_DESCRIPTION:"webapp_id_edition_socialsecurity_header_description",DIALOG_DELETE_TITLE:"webapp_id_edition_socialsecurity_dialog_delete_title",ALERT_DELETE:"webapp_id_edition_socialsecurity_alert_delete",ALERT_EDIT:"webapp_id_edition_socialsecurity_alert_edit",COPY_SUCCESS:"webapp_id_copy_success_social_security_id_number"},eZ=e=>async()=>(await g.C.deleteSocialSecurityId({id:e})).success,tZ=(e,t)=>a=>{const n=YA(t,a,An);return g.C.editSocialSecurityId({...n,id:e})};var aZ;const nZ="fiscalIds",iZ=()=>({title:"webapp_id_creation_fiscalid_title_default",success:"webapp_id_creation_fiscalid_alert_add_success_default"}),oZ=e=>g.C.addFiscalId(e),sZ="passports",rZ=()=>({title:"webapp_id_creation_passport_title_default",success:"webapp_id_creation_passport_alert_add_success_default"}),lZ=e=>g.C.addPassport(e),cZ={idCards:{add:({lee:e,listRoute:t,setDialogActive:a})=>{var i;const{translate:o}=(0,j.Z)(),s={name:"",idNumber:"",expirationDate:null,issueDate:null,country:Di(e.carbon.currentLocation),spaceId:null!=(i=(0,Z.B)(e.globalState))?i:""};return n.createElement(FA,{addItem:Pk,initialValues:s,listRoute:t,reportError:e.reportError,setDialogActive:a,countryToKeys:Lk,header:e=>n.createElement(mA,{title:o("webapp_id_creation_idcard_title_default"),country:e,type:Ok}),type:Ok},(({values:e})=>n.createElement(JA,{variant:"add",values:e})))},edit:({listRoute:e,id:t,setDialogActive:a,lee:i,hasUnsavedData:o,setHasUnsavedData:s})=>t?n.createElement(Nk,{listRoute:e,id:`{${t}}`,setDialogActive:a,lee:i,hasUnsavedData:o,setHasUnsavedData:s,ID_TYPE:"idCards",I18N_KEYS:$A,deleteItem:ek,editItem:tk},(({handleCopy:e,values:t})=>n.createElement(JA,{variant:"edit",handleCopy:e,values:t}))):null},socialSecurityIds:{add:({lee:e,listRoute:t,setDialogActive:a})=>{var i;const{translate:o}=(0,j.Z)(),s={name:"",idNumber:"",country:Di(e.carbon.currentLocation),spaceId:null!=(i=(0,Z.B)(e.globalState))?i:""};return n.createElement(FA,{addItem:Jk,initialValues:s,listRoute:t,reportError:e.reportError,setDialogActive:a,countryToKeys:Kk,header:e=>n.createElement(mA,{title:o(Kk(e).title),country:e,type:Qk}),type:Qk},(()=>qk||(qk=n.createElement(Hk,{variant:"add"}))))},edit:({listRoute:e,id:t,setDialogActive:a,lee:i,hasUnsavedData:o,setHasUnsavedData:s})=>t?n.createElement(Nk,{listRoute:e,id:`{${t}}`,setDialogActive:a,lee:i,hasUnsavedData:o,setHasUnsavedData:s,ID_TYPE:"socialSecurityIds",I18N_KEYS:$k,deleteItem:eZ,editItem:tZ},(({handleCopy:e})=>n.createElement(Hk,{variant:"edit",handleCopy:e}))):null},driverLicenses:{edit:({listRoute:e,id:t,setDialogActive:a,lee:i,hasUnsavedData:o,setHasUnsavedData:s})=>t?n.createElement(Nk,{listRoute:e,id:`{${t}}`,setDialogActive:a,lee:i,hasUnsavedData:o,setHasUnsavedData:s,ID_TYPE:"driverLicenses",I18N_KEYS:fk,deleteItem:vk,editItem:Sk},(({handleCopy:e,values:t})=>n.createElement(PA,{variant:"edit",handleCopy:e,handleError:i.reportError,values:t}))):null,add:({lee:e,listRoute:t,setDialogActive:a})=>{var i;const{translate:o}=(0,j.Z)(),s=Di(e.carbon.currentLocation),r=null!=(i=(0,Z.B)(e.globalState))?i:"",l=t=>{e.reportError(t)},c={name:"",idNumber:"",expirationDate:null,issueDate:null,country:s,spaceId:r,state:""};return n.createElement(FA,{addItem:VA,initialValues:c,listRoute:t,reportError:e.reportError,setDialogActive:a,countryToKeys:GA,type:WA,header:e=>n.createElement(mA,{title:Mi(o("webapp_id_creation_driverlicense_title_default"),o.getLocale(),e),country:e,type:WA})},(({values:e})=>n.createElement(PA,{variant:"add",handleError:l,values:e})))}},fiscalIds:{edit:({listRoute:e,id:t,setDialogActive:a,lee:i,hasUnsavedData:o,setHasUnsavedData:s})=>t?n.createElement(Nk,{listRoute:e,id:`{${t}}`,setDialogActive:a,lee:i,hasUnsavedData:o,setHasUnsavedData:s,ID_TYPE:"fiscalIds",I18N_KEYS:Ak,deleteItem:kk,editItem:Zk},(({handleCopy:e})=>n.createElement(Tk,{variant:"edit",handleCopy:e}))):null,add:({lee:e,listRoute:t,setDialogActive:a})=>{var i;const{translate:o}=(0,j.Z)(),s={idNumber:"",teledeclarantNumber:"",country:Di(e.carbon.currentLocation),spaceId:null!=(i=(0,Z.B)(e.globalState))?i:""};return n.createElement(FA,{addItem:oZ,initialValues:s,listRoute:t,reportError:e.reportError,setDialogActive:a,countryToKeys:iZ,type:nZ,header:e=>n.createElement(mA,{title:o("webapp_id_creation_fiscalid_title_default"),country:e,type:nZ})},(()=>aZ||(aZ=n.createElement(Tk,{variant:"add"}))))}},passports:{edit:({listRoute:e,id:t,setDialogActive:a,lee:i,hasUnsavedData:o,setHasUnsavedData:s})=>t?n.createElement(Nk,{listRoute:e,id:`{${t}}`,setDialogActive:a,lee:i,hasUnsavedData:o,setHasUnsavedData:s,ID_TYPE:"passports",I18N_KEYS:Bk,deleteItem:Fk,editItem:Wk},(({handleCopy:e,values:t})=>n.createElement(Uk,{variant:"edit",handleCopy:e,values:t}))):null,add:({lee:e,listRoute:t,setDialogActive:a})=>{var i;const{translate:o}=(0,j.Z)(),s={name:"",idNumber:"",expirationDate:null,issueDate:null,country:Di(e.carbon.currentLocation),spaceId:null!=(i=(0,Z.B)(e.globalState))?i:"",deliveryPlace:""};return n.createElement(FA,{addItem:lZ,initialValues:s,listRoute:t,reportError:e.reportError,setDialogActive:a,countryToKeys:rZ,type:sZ,header:e=>n.createElement(mA,{title:o("webapp_id_creation_passport_title_default"),country:e,type:sZ})},(({values:e})=>n.createElement(Uk,{variant:"add",values:e})))}}};var dZ=a(365503);const uZ=e=>{const{component:t}=e,{routes:a}=(0,J.Xo)(),o=a.userIdsDocuments,[s,r]=n.useState(!1),[l,c]=n.useState(!1),[d,u]=n.useState(!1),p=()=>{(0,O.N)(N.PageView.ItemIdList),(0,i.uX)(o)},m=l?e=>{e?.target?.classList?.contains(dZ.Z.overlay)&&e.stopPropagation(),u(!0)}:()=>{p()};return n.createElement(ns,{ignoreClickOutsideClassName:y.jK,ignoreCloseOnEscape:s||d,onNavigateOut:m},n.createElement(t,{listRoute:o,id:e.match?.params?.uuid,setDialogActive:r,lee:e.lee,hasUnsavedData:l,setHasUnsavedData:c}),d?n.createElement(ss,{onDismissClick:()=>u(!1),onConfirmClick:()=>{u(!1),p()}}):null)},pZ=(0,Dg.P)({Component:({lee:e,children:t})=>{const{routes:a}=(0,J.Xo)();return n.createElement(Lg,{lee:e,editPanel:t},n.createElement(uA,{currentLocation:e.carbon.currentLocation}),n.createElement(aA,{userEditDocumentRoute:a.userEditIdDocument,currentSpaceId:(0,Z.B)(e.globalState),currentCountry:Di(e.carbon.currentLocation)}))},name:"IDs list view"}),mZ=({path:e})=>n.createElement(i.GB,{exact:!0,path:[e,...(0,pA.y)(e)],component:pZ},n.createElement(Mg,{redirectPath:e},Object.keys(pA.V).map((t=>{const a=pA.V[t],o=cZ[t];return o?n.createElement(n.Fragment,{key:a},n.createElement(i.ZB,{path:`${e}/${a}/add`,component:uZ,additionalProps:{component:o.add,mode:"add",type:t}}),n.createElement(i.ZB,{path:`${e}/${a}/:uuid([-a-zA-Z\\d]{36})`,key:`edit-${a}`,component:uZ,additionalProps:{component:o.edit,type:t}})):null})))),_Z=({children:e})=>{const{translate:t}=(0,j.Z)();return n.createElement("div",{className:"topLevelWrapper--EQz2cvDL9R"},n.createElement(Kp,{endWidget:n.createElement(n.Fragment,null,n.createElement(fm,{color:s.O9T.white}),n.createElement(D_,{color:s.O9T.white}))}),n.createElement("div",{className:"contentContainer--n7GRtV0A0L"},n.createElement("h1",{className:"heading--v0RjO82Q9X"},t("web_onboarding_body_title")),n.createElement("p",{className:"headingCaption--iLkaeMgL9m"},t("web_onboarding_body_text")),e))};var gZ=a(274586);const hZ="baseComponent--rz4bn1Wt5Z",bZ="leftIcon--b7oK5CKG5s",CZ="rightIcon--JRwdcdYCPB",wZ={enter:"enter--J3DVsLauyF",enterActive:"enterActive--nk5henrU9o",exit:"exit--UTJVqVWV6K",exitActive:"exitActive--gcSdeBw0CQ"},yZ={enter:parseInt(ds()["--transition-duration-arriving"],10),exit:parseInt(ds()["--transition-duration-leaving"],10)},EZ="for-CSSTransition-",IZ=({message:e,onOnboardingStepClick:t,messageOnHover:a,path:o,leftIcon:s,rightIcon:r,messageOnError:c})=>n.createElement(i.rU,{to:o||"",onClick:t,className:w()(hZ,"stepWrapper--tQfiRcKa3l","onboardingStep--GZrHDcDlRr baseComponent--rz4bn1Wt5Z")},n.createElement("div",{className:bZ},s),n.createElement("div",{className:"messageWrapper--ad6Hho5i93"},n.createElement("div",{className:"messageContent--TxDQZ7tero"},n.createElement("p",{className:"onboardingStepHeader--l7WxRrhxaO"},e),a?n.createElement("p",{className:"messageOnHover--r39XJznUKD"},a):null)),n.createElement(gZ.Z,null,n.createElement(l.Z,{key:c?`${EZ}error`:`${EZ}icon`,timeout:yZ,classNames:wZ},c?n.createElement("div",{key:`${EZ}error`,className:"messageOnError--o0loUR0BQE"},c):n.createElement("div",{key:`${EZ}icon`,className:CZ},r))));var NZ=a(239967);const fZ=({message:e,leftIcon:t,rightIcon:a})=>n.createElement("span",{className:w()(hZ,"completedOnboardingStep--aVGKxAWGPD baseComponent--rz4bn1Wt5Z")},n.createElement("div",{className:bZ},t," "),n.createElement("div",null,n.createElement("p",{className:"completedOnboardingStepHeader--pC_Xip4O7D"},e)),n.createElement("div",{className:CZ},a," "));var vZ;const SZ="web_onboarding_add_first_password_message",DZ="web_onboarding_try_autofill_step_message",xZ="web_onboarding_card_add_mobile",MZ={enter:parseInt(ds()["--transition-duration-arriving"],10),exit:parseInt(ds()["--transition-duration-leaving"],10)},TZ="for-CSSTransition-",AZ=n.createElement(Cv.Z,{key:`${TZ}spinner`,height:24,width:24,animationParams:{renderer:"svg",loop:!0,autoplay:!0,animationData:NZ}}),kZ=({lee:e})=>{const{addMobileOnWeb:t,onboardingHubShown:a,tryAutofillOnWeb:i,saveCredentialOnWeb:o}=e.carbon.webOnboardingMode.completedSteps||{},{flowAddMobileOnWeb:r}=e.carbon.webOnboardingMode||{},{translate:d}=(0,j.Z)(),{routes:u}=(0,J.Xo)(),[p,m]=(0,n.useState)(o),[_,b]=(0,n.useState)(!1),[C,w]=(0,n.useState)(!1),y=(0,Ft.qr)({queryConfig:{query:g.C.getIdentitiesCount},liveConfig:{live:g.C.liveIdentitiesCount}},[]),E=y.status===Ft.rq.Success&&y.data>0,I=i||E,f=vZ||(vZ=n.createElement(s.Kie,{size:40,viewBox:"-4 0 30 30"})),v=n.createElement(s.nQG,{title:d("web_onboarding_step_check_icon"),color:s.O9T.white,viewBox:"-8 -8 26 26"}),S=n.createElement(s.jcJ,{key:`${TZ}arrow`,title:d("web_onboarding_step_right_facing_arrow"),color:s.O9T.orange00,size:24});(0,n.useEffect)((()=>{m(o)}),[o]),(0,n.useEffect)((()=>{(0,O.N)(N.PageView.HomeOnboardingChecklist)}),[]);const D=()=>{h({completedSteps:{addMobileOnWeb:!0}}),(0,O.K)(new N.UserCompleteOnboardingTaskEvent({onboardingTask:N.OnboardingTask.GetMobileApp}))};(0,n.useEffect)((()=>{t||_||C||(async()=>await g.C.getDevicesList(null).then((e=>e.devicesList.filter((e=>["iphone","server_android","server_ipad","server_iphone"].includes(e.devicePlatform))))))().then((e=>{const t=Boolean(e.length);var a;if(r||t)return r?(a=t,2500,w(!0),void window.setTimeout((()=>{if(!a)return b(!0),void window.setTimeout((()=>{b(!1),w(!1)}),2500);D(),w(!1)}),2500)):void D()}))}),[r]),(0,n.useEffect)((()=>{o&&(0,O.K)(new N.UserCompleteOnboardingTaskEvent({onboardingTask:N.OnboardingTask.AddFirstLogin}))}),[o]),(0,n.useEffect)((()=>{I&&(0,O.K)(new N.UserCompleteOnboardingTaskEvent({onboardingTask:N.OnboardingTask.TryAutofill}))}),[I]),!1===a&&h({completedSteps:{onboardingHubShown:!0}});const x=n.createElement(s.NSO,{title:d(p?"web_onboarding_step_password_completed_icon":"web_onboarding_step_password_icon"),color:p?s.O9T.dashGreen00:s.O9T.dashGreen04,size:40,viewBox:"0 0 40 40"}),M=p?n.createElement(fZ,{key:`${TZ}complete`,message:d(SZ),leftIcon:x,rightIcon:v}):n.createElement(IZ,{key:`${TZ}not-complete`,message:d(SZ),onOnboardingStepClick:()=>{h({activeOnboardingType:"saveWeb",leelooStep:c.WebOnboardingLeelooStep.SHOW_SAVE_SITES_DIALOG})},messageOnHover:d("web_onboarding_hover_message"),path:u.userPasswordSites,leftIcon:x,rightIcon:S}),T=n.createElement(s.$2U,{title:d(i?"web_onboarding_step_autofill_completed_icon":"web_onboarding_step_autofill_icon"),color:i?s.O9T.dashGreen00:s.O9T.dashGreen04,size:40,viewBox:"0 0 40 40"}),A=I?n.createElement(fZ,{key:`${TZ}complete`,message:d(DZ),leftIcon:T,rightIcon:v}):n.createElement(IZ,{key:`${TZ}not-complete`,message:d(DZ),onOnboardingStepClick:()=>{h({activeOnboardingType:"tryAutofill"})},messageOnHover:d("web_onboarding_try_autofill_step_hover_message"),path:u.userTryAutofill,leftIcon:T,rightIcon:S}),k=n.createElement(s.pY8,{title:d(t?"web_onboarding_step_mobile_completed_icon":"web_onboarding_step_mobile_icon"),color:t?s.O9T.dashGreen00:s.O9T.dashGreen04,size:38,viewBox:"0 0 40 40"}),Z=C?AZ:S,L=t?n.createElement(fZ,{key:`${TZ}complete`,message:d(xZ),leftIcon:k,rightIcon:v}):n.createElement(IZ,{key:`${TZ}not-complete`,message:d(xZ),onOnboardingStepClick:()=>{h({activeOnboardingType:"addMobile"})},messageOnHover:d("web_onboarding_add_mobile_hover_message"),path:u.userAddMobile,leftIcon:k,rightIcon:n.createElement(gZ.Z,null,n.createElement(l.Z,{key:C?`${TZ}spinner`:`${TZ}arrow`,timeout:MZ,classNames:wZ},Z)),messageOnError:_?d("web_onboarding_add_mobile_error_message"):null});return n.createElement("div",{className:Ap.onboardingStepsWrapper},n.createElement(fZ,{message:d("web_onboarding_get_dashlane_message"),leftIcon:f,rightIcon:v}),n.createElement(gZ.Z,null,n.createElement(l.Z,{key:p?`${TZ}complete`:`${TZ}not complete`,timeout:MZ,classNames:wZ},M)),n.createElement(gZ.Z,null,n.createElement(l.Z,{key:i?`${TZ}complete`:`${TZ}not complete`,timeout:MZ,classNames:wZ},A)),n.createElement(gZ.Z,null,n.createElement(l.Z,{key:t?`${TZ}complete`:`${TZ}not complete`,timeout:MZ,classNames:wZ},L)))},ZZ=({iconUrl:e,domain:t,loginUrl:a,onSiteIconClick:i})=>n.createElement("div",{className:w()({"dummy--HV_cN6qm9p":!a})},n.createElement("a",{className:"imageContainer--pbhZi6zXUJ",onClick:()=>i(t,a)},n.createElement("img",{className:"imageSubContainer--lVaEIY0nha",src:e,width:"97",height:"64"}),n.createElement("p",{className:"domain--L6dV54OOFa"},t))),OZ=[{label:"netflix.com",iconUrl:"https://static-icons.s3-eu-west-1.amazonaws.com/_160x106/netflix_com.png",domain:"netflix.com",loginUrl:"https://www.netflix.com/"},{label:"facebook.com",iconUrl:"https://static-icons.s3-eu-west-1.amazonaws.com/_160x106/facebook_com.png",domain:"facebook.com",loginUrl:"https://www.facebook.com"},{label:"twitter.com",iconUrl:"https://static-icons.s3-eu-west-1.amazonaws.com/_160x106/twitter_com.png",domain:"twitter.com",loginUrl:"https://www.twitter.com/"},{label:"live.com",iconUrl:"https://static-icons.s3-eu-west-1.amazonaws.com/_160x106/live_com.png",domain:"live.com",loginUrl:"https://live.com"},{label:"spotify.com",iconUrl:"https://static-icons.s3-eu-west-1.amazonaws.com/_160x106/spotify_com.png",domain:"spotify.com",loginUrl:"https://www.spotify.com"},{label:"google.com",iconUrl:"https://static-icons.s3-eu-west-1.amazonaws.com/_160x106/google_com.png",domain:"google.com",loginUrl:"https://www.google.com"},{label:"linkedin.com",iconUrl:"https://static-icons.s3-eu-west-1.amazonaws.com/_160x106/linkedin_com.png",domain:"linkedin.com",loginUrl:"https://www.linkedin.com/"},{label:"paypal.com",iconUrl:"https://static-icons.s3-eu-west-1.amazonaws.com/_160x106/paypal_com.png",domain:"paypal.com",loginUrl:"https://www.paypal.com"},{label:"instagram.com",iconUrl:"https://static-icons.s3-eu-west-1.amazonaws.com/_160x106/instagram_com.png",domain:"instagram.com",loginUrl:"https://www.instagram.com"},{label:"amazon.com",iconUrl:"https://static-icons.s3-eu-west-1.amazonaws.com/_160x106/amazon_com.png",domain:"amazon.com",loginUrl:"https://www.amazon.com"}],LZ=[{label:"live.com",iconUrl:"https://static-icons.s3-eu-west-1.amazonaws.com/_160x106/live_com.png",domain:"live.com",loginUrl:"https://live.com"},{label:"google.com",iconUrl:"https://static-icons.s3-eu-west-1.amazonaws.com/_160x106/google_com.png",domain:"google.com",loginUrl:"https://www.google.com"},{label:"linkedin.com",iconUrl:"https://static-icons.s3-eu-west-1.amazonaws.com/_160x106/linkedin_com.png",domain:"linkedin.com",loginUrl:"https://www.linkedin.com/"},{label:"paypal.com",iconUrl:"https://static-icons.s3-eu-west-1.amazonaws.com/_160x106/paypal_com.png",domain:"paypal.com",loginUrl:"https://www.paypal.com"},{label:"amazon.com",iconUrl:"https://static-icons.s3-eu-west-1.amazonaws.com/_160x106/amazon_com.png",domain:"amazon.com",loginUrl:"https://www.amazon.com"}],PZ=({onSiteIconClick:e})=>{const t=(0,Ki.E)(),a=t.status===Gi.rq.Success&&t.data.length>0?LZ:OZ;return(0,we.tZ)(s.Ejs,{flexWrap:"wrap",sx:{padding:"40px 0"}},a.map((t=>(0,we.tZ)(ZZ,{onSiteIconClick:e,key:t.label,...t}))))},zZ={container:"container--PAiv0iriUo",routeContainer:"routeContainer--IwizkStb3B",arrowBtnContainer:"arrowBtnContainer--UNukeqHbPW",passwordsIcon:"passwordsIcon--Onz9Nv6su0",actionText:"actionText--RFi57I1yVb",subContainer:"subContainer--C0Wg37uJgN",title:"title--PALNlWlsuw",description:"description--ZlLve5OGv7"},jZ="stepText--ZmGwohJpHo",RZ="step--TrQuyh7rx9",UZ="stepIcon--kSrRgWoeT4";var BZ;const FZ=n.createElement(s.xCe,{color:s.O9T.dashGreen00,size:20,viewBox:"0 2 20 20"}),WZ=n.createElement(s.NSO,{color:s.O9T.dashGreen02,size:20,viewBox:"0 0 40 40"}),GZ=({domainText:e,loginUrlText:t,setSelectedSite:a})=>{const{translate:o}=(0,j.Z)(),{routes:s}=(0,J.Xo)(),r=()=>{h({activeOnboardingType:"saveWeb",leelooStep:c.WebOnboardingLeelooStep.SHOW_SAVE_SITES_DIALOG}),a(!1)};return(0,n.useEffect)((()=>{(0,O.N)(N.PageView.HomeOnboardingChecklistAddFirstLogin)}),[]),n.createElement(n.Fragment,null,n.createElement("div",{className:zZ.routeContainer},n.createElement(i.rU,{to:s.userPasswordSites,className:zZ.arrowBtnContainer,onClick:r},FZ),n.createElement("div",{className:zZ.passwordsIcon},WZ),n.createElement("h2",{className:zZ.actionText},o("web_onboarding_card_add_password"))),n.createElement("div",{className:zZ.subContainer},n.createElement("h2",{className:zZ.title},o("web_onboarding_card_go_to_site_title")),n.createElement("p",{className:zZ.description},o("web_onboarding_card_go_to_site_description")),n.createElement("div",{className:"stepsContainer--HS9lElcJIf"},n.createElement("div",{className:RZ},n.createElement("div",{className:UZ},"1"),n.createElement("div",{className:"textContainer--BrFn11rX4s"},n.createElement("p",{className:"mainText--dwE2__Nsex"},o("web_onboarding_card_go_to_site_step_1_pt_1")),n.createElement("p",{className:"subText--ZGxdl51zsk"},o.markup("web_onboarding_card_go_to_site_step_1_pt_2_markup")))),n.createElement("div",{className:RZ},n.createElement("div",{className:UZ},"2"),n.createElement("p",{className:jZ},o("web_onboarding_card_go_to_site_step_2"))),n.createElement("div",{className:RZ},n.createElement("div",{className:UZ},"3"),n.createElement("p",{className:jZ},o.markup("web_onboarding_card_go_to_site_step_3_markup")))),n.createElement("div",{className:"ctaContainer--kPEn4Dkwb0"},n.createElement(i.rU,{to:s.userPasswordSites},n.createElement(lr.Z,{label:o("web_onboarding_card_go_back"),marginSide:"right",key:"button-dismiss",onClick:r})),n.createElement(VI.Z,{label:o("web_onboarding_card_go_to_site_link"),icon:BZ||(BZ=n.createElement("img",{src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTggMi41SDEuNVYxNC41SDEzLjVWOEgxNVYxNkgwVjFIOFYyLjVaIiBmaWxsPSJ3aGl0ZSIvPgo8cGF0aCBkPSJNMTAgNi41NTY3MWUtMDhMMTQuNSAwTDE2IDYuNTU2NzFlLTA4VjZIMTQuNVYyLjYyMTMyTDguODY4MTEgOC4yNTMyMUw3LjgwNzQ1IDcuMTkyNTVMMTMuNSAxLjVIMTBWNi41NTY3MWUtMDhaIiBmaWxsPSJ3aGl0ZSIvPgo8L3N2Zz4K"})),onClick:()=>{h({activeOnboardingType:"saveWeb",flowLoginCredentialOnWebSite:{domain:e,url:t}})}}))))};var VZ,YZ,HZ;const qZ=(0,z.tZ)(s.xCe,{color:s.O9T.dashGreen00,size:20,viewBox:"0 2 20 20"}),QZ=(0,z.tZ)(s.NSO,{color:s.O9T.dashGreen02,size:20,viewBox:"0 0 40 40"}),XZ=()=>{const{translate:e}=(0,j.Z)(),{routes:t}=(0,J.Xo)(),a=(0,i.k6)(),[o,r]=(0,n.useState)(!1),[l,c]=(0,n.useState)(""),[d,u]=(0,n.useState)("");return(0,n.useEffect)((()=>{(0,O.N)(N.PageView.HomeOnboardingChecklistAddFirstLoginWebsiteList)}),[]),o?(0,z.tZ)("div",{className:zZ.container},(0,z.tZ)(GZ,{setSelectedSite:e=>{r(e)},domainText:l,loginUrlText:d})):(0,z.tZ)("div",{className:zZ.container},(0,z.tZ)("div",{className:zZ.routeContainer},(0,z.tZ)(s.Ejs,null,(0,z.tZ)(i.rU,{to:t.userOnboarding,onClick:()=>{h()}},qZ),(0,z.tZ)("div",{className:zZ.passwordsIcon},QZ),(0,z.tZ)(s.nvN,{size:"small",color:"ds.text.oddity.disabled"},e("web_onboarding_card_add_password")))),(0,z.tZ)("div",{className:zZ.subContainer},(0,z.tZ)(s.Ejs,{flexDirection:"column",gap:4},(0,z.tZ)(s.X6q,{size:"large"},e("web_onboarding_card_title")),(0,z.tZ)(s.nvN,{size:"small",color:"ds.text.oddity.disabled"},e("web_onboarding_card_body_text"))),(0,z.tZ)(PZ,{onSiteIconClick:(e,t)=>{c(e),u(t),r(!0)}}),VZ||(VZ=(0,z.tZ)("br",null)),(0,z.tZ)(s.Ejs,{flexDirection:"column",gap:4},(0,z.tZ)(s.X6q,{size:"large"}," ",e("web_onboarding_import_title")),(0,z.tZ)(s.nvN,{size:"small",color:"ds.text.oddity.disabled"},e("web_onboarding_import_description"))),YZ||(YZ=(0,z.tZ)("br",null)),(0,z.tZ)(we.zx,{layout:"iconLeading",icon:HZ||(HZ=(0,z.tZ)(s._8t,null)),mood:"neutral",intensity:"quiet",onClick:()=>a.push(t.importData)},e("webapp_account_root_import_data"))))},KZ="iconTextContainer--G4CxEzKXld",JZ=(0,z.tZ)(s.uMt,{color:s.O9T.dashGreen00,size:16,viewBox:"0 2 20 20"}),$Z=(0,z.tZ)(s.pY8,{color:s.O9T.dashGreen02,size:24,viewBox:"0 2 40 40"}),eO=(0,z.tZ)(s.xCe,{color:s.O9T.dashGreen00,size:20,viewBox:"0 2 20 20"}),tO={value:`${Ml.JW}?utm_source=saexqrcode`,size:120},aO=()=>{const{translate:e}=(0,j.Z)(),{routes:t}=(0,J.Xo)(),a=`${e("web_onboarding_card_add_mobile_warning_hover_pt_1")}\n  ${e("web_onboarding_card_add_mobile_warning_hover_pt_2")}`,o=(0,z.tZ)(s.ua7,{placement:"top",content:a,sx:{maxWidth:"270px"}},(0,z.tZ)("div",{className:"hoverMessage--dn4quxfdWq"},e("web_onboarding_card_add_mobile_warning_hover")));return(0,n.useEffect)((()=>{(0,O.N)(N.PageView.HomeOnboardingChecklistAddDevice)}),[]),(0,z.tZ)("div",{className:zZ.container},(0,z.tZ)("div",{className:zZ.routeContainer},(0,z.tZ)(i.rU,{to:t.userOnboarding,className:zZ.arrowBtnContainer},eO),(0,z.tZ)("div",{className:"mobileIcon--kqacy9kAAI"},$Z),(0,z.tZ)("h2",{className:zZ.actionText},e("web_onboarding_card_add_mobile"))),(0,z.tZ)("div",{className:zZ.subContainer},(0,z.tZ)("h1",{className:zZ.title},e("web_onboarding_card_add_mobile_title")),(0,z.tZ)("div",{className:"qrCodeContainer--pdpXBkUfaF"},(0,z.tZ)("img",{className:"phone--WfqeY3SdxX",src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDgiIGhlaWdodD0iODgiIHZpZXdCb3g9IjAgMCA0OCA4OCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0wIDQuOTk5OTlDMCAyLjIzODU3IDIuMjM4NTggMCA1IDBINDIuOTk4MkM0NS43NTk2IDAgNDcuOTk4MiAyLjIzODU4IDQ3Ljk5ODIgNVY4Mi43Mzg3QzQ3Ljk5ODIgODUuNTAwMSA0NS43NTk2IDg3LjczODYgNDIuOTk4MiA4Ny43Mzg2SDVDMi4yMzg1OCA4Ny43Mzg2IDAgODUuNTAwMSAwIDgyLjczODZWNC45OTk5OVpNNCA5SDQ0Vjc2SDRWOVpNMTEgMjlWMzUuOTk2NUgxMy42VjMxLjc5ODZIMTcuNVYyOUgxMVpNMzcgMjlWMzUuOTk2NUgzNC40VjMxLjc5ODZIMzAuNVYyOUgzN1pNMzQuNCA0OS45ODk2SDM3VjU2Ljk4NjFIMzAuNVY1NC4xODc1SDM0LjRWNDkuOTg5NlpNMTcuNSA1NC4xODc1VjU2Ljk4NjFIMTFWNDkuOTg5NkgxMy42VjU0LjE4NzVIMTcuNVoiIGZpbGw9IiNENkQyQ0UiLz4KPC9zdmc+Cg=="}),(0,z.tZ)("img",{className:"scanner--xtmiWDGOH_",src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjEiIGhlaWdodD0iMTE0IiB2aWV3Qm94PSIwIDAgMjEgMTE0IiBmaWxsPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgo8cGF0aCBvcGFjaXR5PSIwLjQiIGQ9Ik0yMSAwTDMuMDUxNzZlLTA1IDI2LjVMMCA5NEwyMSAxMTRWMFoiIGZpbGw9InVybCgjcGFpbnQwX2xpbmVhcikiLz4KPGRlZnM+CjxsaW5lYXJHcmFkaWVudCBpZD0icGFpbnQwX2xpbmVhciIgeDE9Ii00LjUiIHkxPSI3MC41IiB4Mj0iMjUuNDkyMyIgeTI9IjY5LjMwNTgiIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIj4KPHN0b3Agc3RvcC1jb2xvcj0iI0NGRDdEOCIvPgo8c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiNDNEM0QzQiIHN0b3Atb3BhY2l0eT0iMCIvPgo8L2xpbmVhckdyYWRpZW50Pgo8L2RlZnM+Cjwvc3ZnPgo="}),(0,z.tZ)("div",{className:"qrCode--XJn47Ldax_"},(0,z.tZ)("div",{className:"qrCodeSpan--VEJdh3x7UH"},(0,z.tZ)(yl(),{"data-testid":"qr-code",renderAs:"svg",...tO}))),(0,z.tZ)("div",{className:"qrCodeCaption--jzdPFbLgxW"},(0,z.tZ)("p",{className:"caption--bZvc9JdGN2"},e("web_onboarding_card_add_mobile_description")),(0,z.tZ)("button",{className:w()(KZ,"warningContainer--G___wrnBhj")},(0,z.tZ)("div",{className:"infoCircleIcon--rj6fRorz8i"},JZ),o,";"))),(0,z.tZ)("h2",{className:"findDashlane--bdXJYgyFSb"},e("web_onboarding_card_add_mobile_find_dashlane")),(0,z.tZ)("div",{className:KZ},(0,z.tZ)("img",{className:zZ.dashlaneIcon,src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTgiIGhlaWdodD0iMTkiIHZpZXdCb3g9IjAgMCAxOCAxOSIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjE4IiBoZWlnaHQ9IjE5IiByeD0iNSIgZmlsbD0iIzBFNjQ3NiIvPgo8cGF0aCBkPSJNMTQgNy4xODEwN0MxNCA3LjEwMDQ3IDEzLjkxNjMgNy4wMTk4NyAxMy43OTg5IDYuOTg3NjNMMTIuMzkxOCA2LjQ4ODE1QzEyLjE1NzQgNi4zOTE0MyAxMS44ODk0IDYuNTA0MjcgMTEuODg5NCA2LjY2NTY5VjEyLjM0MzdDMTEuODg5NCAxMi40MjQzIDExLjk3MzEgMTIuNTIxIDEyLjA1NjggMTIuNTUzM0wxMy40OTc0IDEzLjA1MjhDMTMuNzE1MiAxMy4xMzM0IDE0IDEzLjAyMDUgMTQgMTIuODQzVjcuMTgxMDdaTTExLjM3IDUuMTk2OTdDMTEuMzcgNS4xMTYxNSAxMS4yODY0IDUuMDM1NTUgMTEuMTY5IDUuMDAzMzFMOS43NjIwNCA0LjUwMzgyQzkuNTI3NDggNC40MDcxIDkuMjU5NDQgNC41MTk5NCA5LjI1OTQ0IDQuNjgxMzZWOC4xMzMwNUM5LjI1OTQ0IDguMjEzNjUgOS4zNDMxMiA4LjMxMDM3IDkuNDI2ODEgOC4zNDI4M0wxMC44Njc0IDguODQyMzJDMTEuMDg1MyA4LjkyMzE1IDExLjM3IDguODEwMDggMTEuMzcgOC42MzI3NlY1LjE5Njk3Wk0xMS4zNyAxMS40MDc5QzExLjM3IDExLjMyNzMgMTEuMjg2NCAxMS4yNDY3IDExLjE2OSAxMS4yMTQ0TDkuNzYyMDQgMTAuNzE0OUM5LjUyNzQ4IDEwLjYxODIgOS4yNTk0NCAxMC43MzExIDkuMjU5NDQgMTAuODkyNVYxNC4zNDQyQzkuMjU5NDQgMTQuNDI0OCA5LjM0MzEyIDE0LjUyMTUgOS40MjY4MSAxNC41NTM3TDEwLjg2NzQgMTUuMDUzMkMxMS4wODUzIDE1LjEzNCAxMS4zNyAxNS4wMjEgMTEuMzcgMTQuODQzNFYxMS40MDc5Wk04Ljc0MDA5IDEyLjEwMTdDOC43NDAwOSAxMi4wMjExIDguNjU2NCAxMS45NDAzIDguNTM5IDExLjkwOEw3LjEzMjA5IDExLjQwODZDNi44OTYzNCAxMS4zMTE4IDYuNjI5NDggMTEuNDI0NyA2LjYyOTQ4IDExLjU4NjFWMTUuMjY0MUM2LjYyOTQ4IDE1LjM0NDcgNi43MTMxNyAxNS40NDE3IDYuNzk2ODYgMTUuNDczOUw4LjIzNzQ5IDE1Ljk3MzRDOC40NTUzMSAxNi4wNTQyIDguNzQwMDkgMTUuOTQxMiA4Ljc0MDA5IDE1Ljc2MzlWMTIuMTAxN1pNOC43NDAwOSAzLjcyODcxQzguNzQwMDkgMy42NDgxMSA4LjY1NjQgMy41Njc1MSA4LjUzOSAzLjUzNTI3TDcuMTMyMDkgMy4wMzU3OEM2Ljg5NjM0IDIuOTM5MDYgNi42Mjk0OCAzLjA1MTkgNi42Mjk0OCAzLjIxMzMyVjYuODkxMzdDNi42Mjk0OCA2Ljk3MjE5IDYuNzEzMTcgNy4wNjg5MSA2Ljc5Njg2IDcuMTAxMTVMOC4yMzc0OSA3LjYwMDY0QzguNDU1MzEgNy42ODEyNCA4Ljc0MDA5IDcuNTY4NCA4Ljc0MDA5IDcuMzkwODZWMy43Mjg3MVpNNi4xMTA2MSAzLjg3NDAxQzYuMTEwNjEgMy43OTM0MSA2LjAyNjkyIDMuNzEyNTkgNS45MDk1MiAzLjY4MDM1TDQuNTAyNjEgMy4xODA4NkM0LjI2ODA0IDMuMDg0MTQgNCAzLjE5Njk4IDQgMy4zNTg0VjE1LjEzNDdDNCAxNS4yMTUzIDQuMDgzNjkgMTUuMzEyIDQuMTY3NjEgMTUuMzQ0M0w1LjYwODAxIDE1Ljg0MzhDNS44MjU4MyAxNS45MjQ0IDYuMTEwNjEgMTUuODExNSA2LjExMDYxIDE1LjYzNFYzLjg3NDAxWiIgZmlsbD0id2hpdGUiLz4KPC9zdmc+Cg=="}),(0,z.tZ)("p",{className:"availableOn--FcKpzTR7cz"},e("web_onboarding_card_add_mobile_available_on")))))},nO=n.createElement(s.xCe,{color:s.O9T.dashGreen00,size:20,viewBox:"0 2 20 20"}),iO=n.createElement(s.$2U,{color:s.O9T.dashGreen02,size:20,viewBox:"0 0 40 40"}),oO=n.createElement(s.RTC,{color:s.O9T.orange00,size:20,viewBox:"0 2 20 20"}),sO=()=>{const{translate:e}=(0,j.Z)(),{routes:t}=(0,J.Xo)();return(0,n.useEffect)((()=>{(0,O.N)(N.PageView.HomeOnboardingChecklistTryAutofillStorePersonalInfo)}),[]),n.createElement("div",{className:w()(zZ.container,"container--dCJ76crwMZ")},n.createElement("div",{className:zZ.routeContainer},n.createElement(i.rU,{to:t.userOnboarding,className:zZ.arrowBtnContainer,onClick:()=>{h()}},nO),n.createElement("div",{className:"tryAutofillIcon--ZvdpiPpviT"},iO),n.createElement("h2",{className:zZ.actionText},e("web_onboarding_card_try_autofill"))),n.createElement("div",{className:zZ.subContainer},n.createElement("h2",{className:zZ.title},e("web_onboarding_card_try_autofill_title")),n.createElement("p",{className:w()(zZ.description,"description--nf4o9IFnXA")},e("web_onboarding_card_try_autofill_description")),n.createElement("button",{className:"storeInfoButton--LASy9sIFMK",onClick:()=>{(async e=>{await(0,_.U)({url:"https://www.dashlane.com/try-autofill-data"})})()}},n.createElement("h2",{className:"title--W3zrOlrLr0"},e("web_onboarding_card_try_autofill_body_text")),n.createElement("div",{className:"openWebsiteIcon--GBbsXnr9gM"},oO))))},rO=({path:e})=>n.createElement(i.GB,{exact:!0,path:[e,`${e}/add-password`,`${e}/add-mobile`,`${e}/try-autofill`],component:_Z},n.createElement(i.Vy,{exact:!0,path:`${e}`,component:kZ}),n.createElement(i.Vy,{exact:!0,path:`${e}/add-password`,component:XZ}),n.createElement(i.Vy,{exact:!0,path:`${e}/add-mobile`,component:aO}),n.createElement(i.Vy,{exact:!0,path:`${e}/try-autofill`,component:sO})),lO=({label:e,value:t,color:a})=>(0,we.tZ)("div",null,(0,we.tZ)(s.nvN,{size:"medium",sx:{color:"ds.text.neutral.quiet",display:"block",marginBottom:"8px"}},e),(0,we.tZ)(s.X6q,{size:"medium",color:a},t));let cO;var dO;!function(e){e[e.RED_SCORE=60]="RED_SCORE",e[e.ORANGE_SCORE=80]="ORANGE_SCORE"}(cO||(cO={}));const uO=e=>e<cO.RED_SCORE?"ds.border.danger.standard.idle":e<cO.ORANGE_SCORE?"ds.border.warning.standard.idle":"ds.border.positive.standard.idle",pO=({score:e,showQueerColors:t=!1})=>{const[a,i]=(0,n.useState)(0),o=3.94*(100-a);return(0,n.useEffect)((()=>{i(e)}),[e]),(0,we.tZ)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"200",height:"153",fill:"none",viewBox:"0 0 200 153"},(0,we.tZ)("mask",{id:"animatedMask"},(0,we.tZ)("path",{sx:{transition:"stroke-dashoffset 1s ease-in-out"},strokeDasharray:394,strokeDashoffset:o,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12",stroke:"white",d:"M18.594 147a94 94 0 11162.827-.025"})),(0,we.tZ)("path",{sx:{stroke:"ds.border.neutral.quiet.idle"},strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12",d:"M18.594 147a94 94 0 11162.827-.025"}),t?dO||(dO=(0,we.tZ)("g",{id:"queerGroup",mask:"url(#animatedMask)"},(0,we.tZ)("path",{stroke:"#760888",strokeLinecap:"round",strokeWidth:"12",d:"M18.594 147a94 94 0 11162.827-.025"}),(0,we.tZ)("path",{stroke:"#014EFF",strokeWidth:"12",d:"M18.594 147a94 94 0 11175.405-46.614"}),(0,we.tZ)("path",{stroke:"#018027",strokeWidth:"12",d:"M18.594 147a94 94 0 01162.812-94"}),(0,we.tZ)("path",{stroke:"#FFEE01",strokeWidth:"12",d:"M18.594 147A94 94 0 01147.133 18.67"}),(0,we.tZ)("path",{stroke:"#FF8D01",strokeWidth:"12",d:"M18.594 147A93.998 93.998 0 0199.749 6"}),(0,we.tZ)("path",{stroke:"#E40404",strokeWidth:"12",d:"M18.594 147A93.998 93.998 0 0153 18.594"}),(0,we.tZ)("path",{stroke:"#795018",strokeWidth:"12",d:"M18.594 147a93.998 93.998 0 01-.213-93.63"}),(0,we.tZ)("path",{fill:"#010101",d:"M13.398 150a6 6 0 1010.392-6l-10.392 6zm10.392-6A88 88 0 0112 99.55l-12-.061A99.998 99.998 0 0013.398 150l10.392-6z"}))):(0,we.tZ)("path",{sx:{stroke:uO(e),transition:"stroke-dashoffset 1s ease-in-out"},opacity:"1",strokeDasharray:394,strokeDashoffset:o,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12",d:"M18.594 147a94 94 0 11162.827-.025"}))},mO=Math.floor(1e3/60),_O=({score:e})=>{const t=n.useRef(null),[a,i]=n.useState(0),[o,s]=n.useState(0),r=n.useCallback((()=>{i(0),s(e/60)}),[e]),l=n.useCallback((()=>{t.current&&clearTimeout(t.current),t.current=null}),[]);return n.useEffect((()=>{r()}),[r]),n.useEffect((()=>(a===e||(t.current=window.setTimeout((()=>{a<e?i((e=>e+o)):l()}),mO)),()=>{l()})),[a,o,l,e]),n.createElement(n.Fragment,null,Math.min(e,Math.ceil(a)))},gO=e=>null===e?"ds.text.neutral.quiet":e<cO.RED_SCORE?"ds.text.danger.quiet":e<cO.ORANGE_SCORE?"ds.text.warning.quiet":"ds.text.positive.quiet",hO=({score:e,shouldAnimateText:t})=>null===e?(0,we.tZ)(n.Fragment,null,"--"):t?(0,we.tZ)(_O,{score:e}):(0,we.tZ)(n.Fragment,null,e),bO=({score:e,shouldAnimateText:t=!1})=>{const{translate:a}=(0,j.Z)(),n=(0,it.w)("webplatform_web_prideColors"),i=null!=e?e:0;return(0,we.tZ)("div",{sx:{display:"grid",gridTemplateAreas:"gauge",justifyItems:"center"}},(0,we.tZ)("div",{sx:{gridArea:"gauge"}},(0,we.tZ)(pO,{score:i,showQueerColors:n})),(0,we.tZ)("span",{sx:{color:gO(e),gridArea:"gauge",marginTop:"48px",fontFamily:"GT Walsheim Pro, Helvetica, Arial, sans-serif",fontSize:"80px",fontWeight:"600",lineHeight:"1"}},(0,we.tZ)(hO,{score:e,shouldAnimateText:t})),(0,we.tZ)(s.dDn,{as:s.nvN,gridArea:"gauge",size:"medium",color:"ds.text.neutral.quiet",sx:{marginTop:"136px",textTransform:"lowercase"}},a("webapp_password_health_score_out_of_100")))};var CO;const wO=({compromisedPasswordCount:e,passwordHealthScore:t,reusedPasswordCount:a,totalPasswordCount:n,weakPasswordCount:i})=>{const{translate:o}=(0,j.Z)(),r=o("webapp_password_health_scores_title");return(0,we.tZ)(s.T5p,{gap:"8px 24px",justifyContent:"start",gridTemplateColumns:"3fr 2fr 2fr",gridTemplateRows:"32px 20px 64px 64px",gridTemplateAreas:"'header header header' 'score . .' 'score scoreInfo scoreInfo' 'score scoreInfo scoreInfo'",sx:{maxWidth:"712px",minWidth:"512px",width:"100%",marginTop:"-4px",marginRight:"auto"}},(0,we.tZ)(s.dDn,{gridArea:"header",alignItems:"center",as:s.Ejs},(0,we.tZ)(s.j49,{as:"h2",size:"medium",color:"ds.text.neutral.quiet"},r),(0,we.tZ)("div",{sx:{marginLeft:"6px"}},(0,we.tZ)(s.ua7,{content:o("webapp_password_health_scores_explanation"),placement:"bottom",sx:{fontSize:2,maxWidth:"256px"}},(0,we.tZ)(s.hU,{icon:CO||(CO=(0,we.tZ)(s.uMt,null)),"aria-label":r})))),(0,we.tZ)(s.dDn,{gridArea:"score",justifySelf:"start"},(0,we.tZ)(bO,{score:t})),(0,we.tZ)(s.dDn,{as:s.T5p,gridTemplateColumns:"1fr 1fr",gap:"8px 24px",gridArea:"scoreInfo","data-testid":"health-scores"},(0,we.tZ)(lO,{label:o("webapp_password_health_scores_total_label"),value:n,color:"ds.text.brand.standard"}),(0,we.tZ)(lO,{label:o("webapp_password_health_scores_compromised_label"),value:e,color:"ds.text.danger.quiet"}),(0,we.tZ)(lO,{label:o("webapp_password_health_scores_reused_label"),value:a,color:"ds.text.warning.quiet"}),(0,we.tZ)(lO,{label:o("webapp_password_health_scores_weak_label"),value:i,color:"ds.text.warning.quiet"})))},yO=({title:e,message:t,action:a})=>(0,we.tZ)(n.Fragment,null,(0,we.tZ)(we.X6,{as:"h5",color:"ds.text.neutral.standard",textStyle:"ds.title.section.medium",sx:{marginBottom:"8px"}},e),(0,we.tZ)(we.nv,{color:"ds.text.neutral.quiet",textStyle:"ds.body.standard.regular"},t),a?(0,we.tZ)(s.Ejs,{justifyContent:"flex-end",sx:{marginTop:"8px"}},a):null),EO=()=>{const{translate:e}=(0,j.Z)(),[t]=(0,n.useState)(0),a=[{title:"webapp_password_health_tip_at_risk_password_title",message:"webapp_password_health_tip_at_risk_password_message"}];return(0,we.tZ)("div",{sx:{padding:"32px 32px 0 32px"}},(0,we.tZ)(s.j49,{size:"medium",color:"ds.text.neutral.quiet"},e("webapp_password_health_tips_title")),a[t]?(0,we.tZ)(yO,{title:e(a[t].title),message:e(a[t].message),action:a[t].action}):null)},IO=({riskLevel:e,children:t})=>(0,we.tZ)(s.Ejs,{flexDirection:"row",justifyContent:"start",alignItems:"center",flexWrap:"nowrap",sx:{maxHeight:"100%"}},(0,we.tZ)("div",{sx:{marginRight:"10px"}},(0,we.tZ)(s.SI8,{"aria-label":"item at risk",color:e===nI.Compromised?s.O9T.red00:s.O9T.orange00})),t),NO={itemButtons:"itemButtons--lK4NMfJDlN",passwordHealthListItem:"passwordHealthListItem--RWLzEt6Dgm",riskFeedbackLabel:"riskFeedbackLabel--uJWHmL1KDh"};var fO,vO,SO;const DO="webapp_security_dashboard_tooltip_exclude",xO="webapp_security_dashboard_tooltip_include",MO=({credential:e,onRowClick:t,onChangeNowClick:a,onIncludeButtonClick:o,onExcludeButtonClick:r,currentFilter:l})=>{const{id:c,title:d,login:u,email:p,autoProtected:m,health:_,domainIcon:g,sharingSatus:{isShared:h},isExcludedFromHealth:b,url:C}=e,{translate:w}=(0,j.Z)(),y=uI(_,l),E=(0,n.useCallback)((t=>{t.stopPropagation(),a(C,e.id)}),[a,e.id,C]),I=(0,n.useCallback)((e=>{e.stopPropagation(),r(c,C)}),[c,r,C]),N=(0,n.useCallback)((e=>{e.stopPropagation(),o(c,C)}),[c,o,C]),{routes:f}=(0,J.Xo)(),v=(0,i.k6)(),S=(0,n.useCallback)((()=>{t(C),v.push(f.userPasswordHealthCredential(c))}),[c,v,t,f,C]),D=!!e.sharingSatus.isShared&&"limited"===e.sharingSatus.permission;return(0,we.tZ)(s.T5p,{as:"li",className:NO.passwordHealthListItem,onClick:S,alignItems:"center",gridTemplateAreas:"'info feedback buttons'",gridTemplateColumns:"2fr 2.5fr auto",gridTemplateRows:"56px"},(0,we.tZ)(s.dDn,{as:Re.Q,title:d,login:u,email:p,shared:h,autoProtected:m,domainIcon:g,gridArea:"info",sx:{overflow:"hidden",marginRight:"16px"}}),(0,we.tZ)(s.dDn,{as:s.Ejs,gridArea:"feedback",alignItems:"center",alignSelf:"center",sx:{overflow:"hidden",maxWidth:"100%",textOverflow:"ellipsis",height:"100%"}},y.level!==nI.None?(0,we.tZ)(IO,{riskLevel:y.level},(0,we.tZ)(s.nvN,{className:NO.riskFeedbackLabel,color:"ds.text.neutral.quiet",sx:{textOverflow:"ellipsis",wordBreak:"break-all",overflow:"hidden"}},((e,t)=>{switch(e.label){case sI.Compromised:return((e,t,a)=>{const{date:n,precision:i}=qx(e,"short",a);return t.length>0?a.markup("webapp_security_dashboard_compromised_credential_markup",{domain:t,date:n}):((e,t,a)=>{switch(a){case Hx.DAY:return e.markup("webapp_security_dashboard_compromised_credential_without_domain_markup",{date:t});case Hx.MONTH:return e.markup("webapp_security_dashboard_compromised_credential_without_domain_month_markup",{date:t});case Hx.YEAR:return e.markup("webapp_security_dashboard_compromised_credential_without_domain_year_markup",{date:t});case Hx.INVALID:return"";default:return(0,Ke.U)(a)}})(a,n,i)})(e.details.date,e.details.domain,t);case sI.Reused:return 1===e.count?t("webapp_security_dashboard_reused_once_credential"):t("webapp_security_dashboard_reused_credential",{count:e.count});case sI.Weak:return e.strength>=1?t("webapp_security_dashboard_weak_credential"):t("webapp_security_dashboard_extremely_weak_credential");default:return null}})(y,w))):null),(0,we.tZ)(s.dDn,{gridArea:"buttons"},(0,we.tZ)(s.Ejs,{flexDirection:"row",justifyContent:"flex-end",alignItems:"center",gap:"6px",className:NO.itemButtons},b?(0,we.tZ)(s.ua7,{placement:"left",content:w(xO)},(0,we.tZ)(s.hU,{"aria-label":w(xO),icon:fO||(fO=(0,we.tZ)(s.wHS,null)),size:"medium",onClick:N})):(0,we.tZ)(n.Fragment,null,(0,we.tZ)(s.ua7,{passThrough:!D,placement:"left",content:w("webapp_security_dashboard_tooltip_limited_rights")},(0,we.tZ)(s.zxk,{type:"button",nature:"secondary",className:NO.passwordChangerButton,size:"medium",onClick:E,disabled:D},vO||(vO=(0,we.tZ)(s.HfT,null)),(0,we.tZ)("span",{className:NO.passwordChangerLabel},w("webapp_security_dashboard_change_password")))),(0,we.tZ)(s.ua7,{placement:"left",content:w(DO)},(0,we.tZ)(s.hU,{"aria-label":w(DO),icon:SO||(SO=(0,we.tZ)(s.upN,null)),size:"medium",onClick:I}))))))},TO=({healthFilter:e,spaceId:t})=>{const{translate:a}=(0,j.Z)(),n=(e=>{const t={filterToken:{filterCriteria:null===e?[]:[{field:"spaceId",value:e,type:"equals"}]},sortToken:{sortCriteria:[],uniqField:"id"}},a=btoa(JSON.stringify(t));return(0,Ft.qr)({queryConfig:{query:g.C.getCredentialsCount,queryParam:t},liveConfig:{live:g.C.liveCredentialsCount,liveParam:a}},[e])})(t);if(n.status!==Ft.rq.Success)return null;const i=n.data>0?(e=>{switch(e){case iI.All:return"webapp_password_health_list_empty";case iI.Compromised:return"webapp_password_health_list_empty_compromised";case iI.Excluded:return"webapp_password_health_list_empty_excluded";case iI.Reused:return"webapp_password_health_list_empty_reused";case iI.Weak:return"webapp_password_health_list_empty_weak";default:(0,Ke.U)(e)}})(e):"webapp_password_health_list_empty_vault",o=n.data>0?(e=>{switch(e){case iI.All:case iI.Compromised:case iI.Weak:case iI.Reused:return(0,we.tZ)(s.H0w,{size:96,color:s.O9T.dashGreen04});case iI.Excluded:return(0,we.tZ)(s.Cmj,{size:96,color:s.O9T.dashGreen04});default:(0,Ke.U)(e)}})(e):(0,we.tZ)(s.Cmj,{size:96,color:s.O9T.dashGreen04});return(0,we.tZ)("div",{"data-testid":"empty-list",sx:{margin:"auto",textAlign:"center"}},(0,we.tZ)("div",{sx:{display:"inline-block",marginBottom:"27px"}},o),(0,we.tZ)(s.nvN,{sx:{width:"384px",color:"ds.text.neutral.quiet",lineHeight:"1.5"}},a(i)))},AO="32px",kO=2*parseFloat(AO)+parseFloat("32px")*parseFloat("1.25"),ZO={rootContainer:{height:"100%",backgroundColor:"ds.background.alternate"},headerContainer:{top:0,width:"100%",height:kO,padding:"16px 0px",backgroundColor:"ds.background.alternate",position:"absolute",zIndex:2},listHeaderContainer:{},listHeader:{backgroundColor:"ds.container.agnostic.neutral.supershy",top:0,zIndex:1,borderColor:"ds.border.neutral.quiet.idle",borderStyle:"solid",padding:`${AO} ${AO} 20px`,borderWidth:"1px 1px 0",borderRadius:" 4px 4px 0 0"},listContainer:{backgroundColor:"ds.container.agnostic.neutral.supershy",borderColor:"ds.border.neutral.quiet.idle",borderStyle:"solid",borderWidth:"0 1px 0",padding:`0 ${AO} ${AO}`},listStyle:{width:"100%",isolation:"isolate"},passwordHealthGrid:{padding:`0 ${AO} 0`,marginTop:kO,gridTemplateRows:"276px 1fr",overflow:"auto",height:"100%",maxHeight:`calc(100% - ${kO-32}px)`},passwordHealthScore:{backgroundColor:"ds.container.agnostic.neutral.supershy",border:"1px solid transparent",borderColor:"ds.border.neutral.quiet.idle",borderRadius:"4px",marginBottom:"16px",padding:"32px 0px 40px 32px"},passwordHealthTips:{backgroundColor:"ds.container.agnostic.neutral.supershy",border:"1px solid transparent",borderColor:"ds.border.neutral.quiet.idle",borderRadius:"4px",width:"448px",marginLeft:"16px",marginBottom:"16px"}},OO={[iI.All]:N.PageView.ToolsPasswordHealthOverview,[iI.Compromised]:N.PageView.ToolsPasswordHealthListCompromised,[iI.Excluded]:N.PageView.ToolsPasswordHealthListExcluded,[iI.Reused]:N.PageView.ToolsPasswordHealthListReused,[iI.Weak]:N.PageView.ToolsPasswordHealthListWeak},LO={marginLeft:"auto",paddingBottom:0},PO=({spaceId:e})=>{const{translate:t}=(0,j.Z)(),[a,i]=(0,n.useState)(iI.All),[o,r]=(0,n.useState)(20),l=e=>()=>{i(e),r(20),(0,O.N)(OO[e])},c=(0,n.useCallback)((()=>{r((e=>e+20))}),[]),[d,u]=(0,n.useState)(null),p=(0,n.useCallback)((e=>u(e)),[]),m=(0,n.useCallback)((()=>{u(null)}),[]),_=(0,n.useCallback)(((e,t)=>{p(t)}),[p]),h=async e=>{await g.C.updateCredential({id:e,update:{isExcludedFromHealth:!1}})},b=async e=>{await g.C.updateCredential({id:e,update:{isExcludedFromHealth:!0}})},C=((e,t,a)=>{const i=n.useRef({items:[],matchingCount:0}),o=function(e){return null===e?[]:[{field:"spaceId",value:e,type:"equals"}]}(e),s={filterToken:{filterCriteria:[...function(e){switch(e){case iI.All:return[{field:"isAtRisk",type:"equals",value:!0}];case iI.Compromised:return[{field:"isCompromised",type:"equals",value:!0}];case iI.Excluded:return[{field:"isExcluded",type:"equals",value:!0}];case iI.Reused:return[{field:"isReused",type:"equals",value:!0}];case iI.Weak:return[{field:"isWeak",type:"equals",value:!0}];default:(0,Ke.U)(e)}}(t),...o]},sortToken:{sortCriteria:[...oI(t),{field:"title",direction:"ascend"}],uniqField:"id"},limit:a},r=btoa(JSON.stringify(s)),l=(0,Ft.qr)({queryConfig:{query:g.C.getCredentials,queryParam:s},liveConfig:{live:g.C.liveCredentials,liveParam:r}},[t,e,a]);return l.status===Ft.rq.Success&&(i.current=l.data),l.status===Ft.rq.Success||i.current&&20!==a?{status:Ft.rq.Success,data:i.current}:{status:Ft.rq.Loading}})(e,a,o);return(0,we.tZ)(n.Fragment,null,(0,we.tZ)(s.Ejs,{alignItems:"center",sx:{...ZO.listHeader,position:"sticky"}},(0,we.tZ)(s.j49,{size:"medium",sx:{color:"ds.text.neutral.quiet"}},t("webapp_password_health_at_risk_title")),d&&(0,we.tZ)(Of,{credentialId:d,dismissCallback:m}),(0,we.tZ)(s.G8v,{sx:LO},(0,we.tZ)(s.OTy,{onClick:l(iI.All),selected:a===iI.All,size:"small",label:t("webapp_password_health_list_filter_all")}),(0,we.tZ)(s.OTy,{onClick:l(iI.Compromised),selected:a===iI.Compromised,size:"small",label:t("webapp_password_health_list_filter_compromised")}),(0,we.tZ)(s.OTy,{onClick:l(iI.Weak),selected:a===iI.Weak,size:"small",label:t("webapp_password_health_list_filter_weak")}),(0,we.tZ)(s.OTy,{onClick:l(iI.Reused),selected:a===iI.Reused,size:"small",label:t("webapp_password_health_list_filter_reused")}),(0,we.tZ)(s.OTy,{onClick:l(iI.Excluded),selected:a===iI.Excluded,size:"small",label:t("webapp_password_health_list_filter_excluded")}))),(0,we.tZ)(s.Ejs,{flexDirection:"column",sx:ZO.listContainer},C.status===Ft.rq.Success?C.data.items.length>0?(0,we.tZ)(n.Fragment,null,(0,we.tZ)("ul",{sx:ZO.listStyle},C.data.items.map((e=>(0,we.tZ)(MO,{onRowClick:()=>{(0,ae.kb)(e.id)},onChangeNowClick:_,onIncludeButtonClick:h,onExcludeButtonClick:b,key:e.id,credential:e,currentFilter:a})))),C.data.matchingCount>C.data.items.length?(0,we.tZ)(s.Ejs,{justifyContent:"center",key:o,sx:{marginTop:"20px"}},(0,we.tZ)(s.zxk,{type:"button",nature:"secondary",size:"medium",onClick:c},t("webapp_password_health_list_load_more"))):null):(0,we.tZ)(TO,{healthFilter:a,spaceId:e}):null))};let zO,jO;!function(e){e.CHANGE_PASSWORD="changePassword",e.NEXT="next",e.INCLUDE="include",e.EXCLUDE="exclude",e.CHANGE_NOW="changeNow",e.FILTER="filter",e.DETAIL="detail",e.OPEN_DASHBOARD="openDashboard"}(zO||(zO={})),function(e){e.ALL="all",e.COMPROMISED="compromised",e.EXCLUDED="excluded",e.REUSED="reused",e.WEAK="weak"}(jO||(jO={}));const RO=()=>{(0,O.N)(N.PageView.ToolsPasswordHealthOverview)};var UO,BO,FO;const WO=({lee:e,children:t})=>{const{translate:a}=(0,j.Z)(),i=(0,Z.B)(e.globalState),{compromisedPasswordCount:o,passwordHealthScore:r,reusedPasswordCount:l,totalPasswordCount:c,weakPasswordCount:d}=(e=>{const t={filterToken:{filterCriteria:null===e?[]:[{field:"spaceId",value:e,type:"equals"}]},sortToken:{sortCriteria:[],uniqField:"id"}},a=btoa(JSON.stringify(t)),n=(0,Ft.qr)({queryConfig:{query:g.C.getCompromisedCredentialsCount,queryParam:t},liveConfig:{live:g.C.liveCompromisedCredentialsCount,liveParam:a}},[e]),i=n.status===Ft.rq.Success?n.data:0,o=(0,Ft.qr)({queryConfig:{query:g.C.getCredentialsHealthScore,queryParam:t},liveConfig:{live:g.C.liveCredentialsHealthScore,liveParam:a}},[e]),s=o.status===Ft.rq.Success?o.data:null,r=(0,Ft.qr)({queryConfig:{query:g.C.getReusedCredentialsCount,queryParam:t},liveConfig:{live:g.C.liveReusedCredentialsCount,liveParam:a}},[e]),l=r.status===Ft.rq.Success?r.data:0,c=(0,Ft.qr)({queryConfig:{query:g.C.getWeakCredentialsCount,queryParam:t},liveConfig:{live:g.C.liveWeakCredentialsCount,liveParam:a}},[e]),d=c.status===Ft.rq.Success?c.data:0,u=(0,Ft.qr)({queryConfig:{query:g.C.getCredentialsCount,queryParam:t},liveConfig:{live:g.C.liveCredentialsCount,liveParam:a}},[e]);return{compromisedPasswordCount:i,passwordHealthScore:s,reusedPasswordCount:l,totalPasswordCount:u.status===Ft.rq.Success?u.data:0,weakPasswordCount:d}})(i),u=(0,we.tZ)(n.Fragment,null,UO||(UO=(0,we.tZ)(fm,null)),BO||(BO=(0,we.tZ)(D_,null)));return(0,n.useEffect)((()=>{RO()}),[]),(0,we.tZ)(Lg,{lee:e,editPanel:t},(0,we.tZ)("div",{sx:ZO.rootContainer},(0,we.tZ)(s.Ejs,{sx:ZO.headerContainer},(0,we.tZ)(Kp,{startWidgets:()=>(0,we.tZ)(s.X6q,null,a("webapp_password_health_page_title")),endWidget:u})),(0,we.tZ)(s.T5p,{gridTemplateAreas:"'score tips' 'list list'",gridTemplateColumns:"1fr auto",sx:{...ZO.passwordHealthGrid,height:"100%"}},(0,we.tZ)(s.dDn,{as:s.Ejs,gridArea:"score",alignItems:"center",justifyContent:"center",sx:ZO.passwordHealthScore},(0,we.tZ)(wO,{compromisedPasswordCount:o,passwordHealthScore:r,reusedPasswordCount:l,totalPasswordCount:c,weakPasswordCount:d})),(0,we.tZ)(s.dDn,{as:s.Ejs,gridArea:"tips",justifyContent:"center",sx:ZO.passwordHealthTips},FO||(FO=(0,we.tZ)(EO,null))),(0,we.tZ)(s.dDn,{as:s.T5p,gridArea:"list",gridTemplateRows:"auto 1fr"},(0,we.tZ)(PO,{spaceId:i})))))},GO=({severity:e,children:t})=>(0,we.tZ)(s.Ejs,{flexDirection:"row",justifyContent:"start",alignItems:"center",flexWrap:"nowrap",sx:{maxHeight:"100%"}},(0,we.tZ)("div",{sx:{marginRight:"10px"}},(0,we.tZ)(s.SI8,{"aria-label":"item at risk",color:e===zc.CorruptionDataSeverity.STRONG?s.O9T.red00:s.O9T.orange00})),t);var VO,YO,HO;const qO="webapp_security_dashboard_tooltip_exclude",QO="webapp_security_dashboard_tooltip_include",XO=({credential:e,onRowClick:t,onChangeNowClick:a,onIncludeButtonClick:o,onExcludeButtonClick:r})=>{const{id:l,title:c,login:d,email:u,autoProtected:p,corruptionData:m,shared:_,excluded:g,domain:h}=e,{translate:b}=(0,j.Z)(),C=(0,n.useCallback)((t=>{t.stopPropagation(),a(h,e.id)}),[a,e.id,h]),w=(0,n.useCallback)((e=>{e.stopPropagation(),r(l,h)}),[l,r,h]),y=(0,n.useCallback)((e=>{e.stopPropagation(),o(l,h)}),[l,o,h]),{routes:E}=(0,J.Xo)(),I=(0,i.k6)(),N=(0,n.useCallback)((()=>{t(h),I.push(E.userPasswordHealthCredential(l))}),[l,I,t,E,h]),f=(0,n.useMemo)((()=>(0,we.tZ)(s.ua7,{placement:"left",content:b(g?QO:qO)},(0,we.tZ)(s.hU,{"aria-label":b(g?QO:qO),icon:g?VO||(VO=(0,we.tZ)(s.wHS,null)):YO||(YO=(0,we.tZ)(s.upN,null)),size:"medium",onClick:g?y:w}))),[g,w,y,b]);return(0,we.tZ)(s.T5p,{as:"li",className:NO.passwordHealthListItem,onClick:N,alignItems:"center",gridTemplateAreas:"'info feedback buttons'",gridTemplateColumns:"2fr 2.5fr auto",gridTemplateRows:"56px"},(0,we.tZ)(s.dDn,{as:Re.Q,title:c,login:d,email:u,domain:h,shared:_,autoProtected:p,gridArea:"info",sx:{overflow:"hidden",marginRight:"16px"}}),(0,we.tZ)(s.dDn,{as:s.Ejs,gridArea:"feedback",alignItems:"center",alignSelf:"center",sx:{overflow:"hidden",maxWidth:"100%",textOverflow:"ellipsis",height:"100%"}},!g&&m?(0,we.tZ)(GO,{severity:m.severity},(0,we.tZ)(s.nvN,{className:NO.riskFeedbackLabel,color:"ds.text.neutral.quiet",sx:{textOverflow:"ellipsis",wordBreak:"break-all",overflow:"hidden"}},((e,t)=>{switch(e.riskType){case zc.RiskType.Compromised:return((e,t,a)=>{const{date:n,precision:i}=qx(e,"short",a);return t?a.markup("webapp_security_dashboard_compromised_credential_markup",{domain:t,date:n}):((e,t,a)=>{switch(a){case Hx.DAY:return e.markup("webapp_security_dashboard_compromised_credential_without_domain_markup",{date:t});case Hx.MONTH:return e.markup("webapp_security_dashboard_compromised_credential_without_domain_month_markup",{date:t});case Hx.YEAR:return e.markup("webapp_security_dashboard_compromised_credential_without_domain_year_markup",{date:t});case Hx.INVALID:return"";default:return(0,Ke.U)(a)}})(a,n,i)})(e.date,e.domain,t);case zc.RiskType.Weak:return e.strength===zc.CorruptionDataStrength.WEAK?t("webapp_security_dashboard_weak_credential"):t("webapp_security_dashboard_extremely_weak_credential");case zc.RiskType.Reused:return 1===e.reuseCount?t("webapp_security_dashboard_reused_once_credential"):t("webapp_security_dashboard_reused_credential",{count:e.reuseCount});default:return null}})(m,b))):null),(0,we.tZ)(s.dDn,{gridArea:"buttons"},(0,we.tZ)(s.Ejs,{flexDirection:"row",justifyContent:"flex-end",alignItems:"center",gap:"6px",className:NO.itemButtons},g?f:(0,we.tZ)(n.Fragment,null,(0,we.tZ)(s.ua7,{passThrough:!0,placement:"left",content:b("webapp_security_dashboard_tooltip_limited_rights")},(0,we.tZ)(s.zxk,{type:"button",nature:"secondary",className:NO.passwordChangerButton,size:"medium",onClick:C,disabled:!1},HO||(HO=(0,we.tZ)(s.HfT,null)),(0,we.tZ)("span",{className:NO.passwordChangerLabel},b("webapp_security_dashboard_change_password")))),f))))},KO={[iI.All]:N.PageView.ToolsPasswordHealthOverview,[iI.Compromised]:N.PageView.ToolsPasswordHealthListCompromised,[iI.Excluded]:N.PageView.ToolsPasswordHealthListExcluded,[iI.Reused]:N.PageView.ToolsPasswordHealthListReused,[iI.Weak]:N.PageView.ToolsPasswordHealthListWeak},JO={marginLeft:"auto",paddingBottom:0},$O=({spaceId:e})=>{const{translate:t}=(0,j.Z)(),{updateIsCredentialExcluded:a}=xv(),[i,o]=(0,n.useState)(iI.All),{filteredCredentials:r}=((e,t)=>{const{data:a}=(0,Gi.k$)(zc.passwordHealthApi,"filterCredentials",{healthFilter:e,spaceId:t});return{filteredCredentials:null!=a?a:[]}})(i,e),l=e=>()=>{o(e),(0,O.N)(KO[e])},[c,d]=(0,n.useState)(null),u=(0,n.useCallback)((e=>d(e)),[]),p=(0,n.useCallback)((()=>{d(null)}),[]),m=(0,n.useCallback)(((e,t)=>{u(t)}),[u]),_=async e=>{a(e,!1)},g=async e=>{a(e,!0)};return(0,z.tZ)(n.Fragment,null,(0,z.tZ)(s.Ejs,{alignItems:"center",sx:{...ZO.listHeader,position:"sticky"}},(0,z.tZ)(s.j49,{size:"medium",sx:{color:"ds.text.neutral.quiet"}},t("webapp_password_health_at_risk_title")),c&&(0,z.tZ)(Of,{credentialId:c,dismissCallback:p}),(0,z.tZ)(s.G8v,{sx:JO},(0,z.tZ)(s.OTy,{onClick:l(iI.All),selected:i===iI.All,size:"small",label:t("webapp_password_health_list_filter_all")}),(0,z.tZ)(s.OTy,{onClick:l(iI.Compromised),selected:i===iI.Compromised,size:"small",label:t("webapp_password_health_list_filter_compromised")}),(0,z.tZ)(s.OTy,{onClick:l(iI.Weak),selected:i===iI.Weak,size:"small",label:t("webapp_password_health_list_filter_weak")}),(0,z.tZ)(s.OTy,{onClick:l(iI.Reused),selected:i===iI.Reused,size:"small",label:t("webapp_password_health_list_filter_reused")}),(0,z.tZ)(s.OTy,{onClick:l(iI.Excluded),selected:i===iI.Excluded,size:"small",label:t("webapp_password_health_list_filter_excluded")}))),(0,z.tZ)(s.Ejs,{flexDirection:"column",sx:ZO.listContainer},r.length>0?(0,z.tZ)("ul",{sx:ZO.listStyle},r.map((e=>(0,z.tZ)(XO,{onRowClick:()=>{(0,ae.kb)(e.id)},onChangeNowClick:m,onIncludeButtonClick:_,onExcludeButtonClick:g,key:e.id,credential:e})))):(0,z.tZ)(TO,{healthFilter:i,spaceId:e})))};var eL,tL,aL,nL;const iL=({lee:e,children:t})=>{var a,i,o,r;const{translate:l}=(0,j.Z)(),c=(0,Z.B)(e.globalState),{counters:d,isInitialized:u}=(e=>{const{data:t}=(0,Gi.k$)(zc.passwordHealthApi,"score",{spaceId:e});return{counters:t?.counters,isInitialized:t?.isInitialized}})(c),p=(0,we.tZ)(n.Fragment,null,eL||(eL=(0,we.tZ)(fm,null)),tL||(tL=(0,we.tZ)(D_,null))),m=d?.score&&u?d.score:null;return(0,n.useEffect)((()=>{RO()}),[]),(0,we.tZ)(Lg,{lee:e,editPanel:t},u?null:(0,we.tZ)(s.YcA,null,(0,we.tZ)(s.bZj,{severity:s.BLW.SUBTLE,showIcon:!1},(0,we.tZ)(s.T5p,{as:"span",gap:20,gridTemplateColumns:"20px 1fr",alignItems:"center",sx:{paddingRight:"4px"}},aL||(aL=(0,we.tZ)(s.HoD,{size:24,color:"ds.text.brand.standard"})),"Calculating your password health score, it should not be long."))),(0,we.tZ)("div",{sx:ZO.rootContainer},(0,we.tZ)(s.Ejs,{sx:ZO.headerContainer},(0,we.tZ)(Kp,{startWidgets:()=>(0,we.tZ)(s.X6q,null,l("webapp_password_health_page_title")),endWidget:p})),(0,we.tZ)(s.T5p,{gridTemplateAreas:"'score tips' 'list list'",gridTemplateColumns:"1fr auto",sx:ZO.passwordHealthGrid},(0,we.tZ)(s.dDn,{as:s.Ejs,gridArea:"score",alignItems:"center",justifyContent:"center",sx:ZO.passwordHealthScore},(0,we.tZ)(wO,{compromisedPasswordCount:null!=(a=d?.compromised)?a:0,passwordHealthScore:m,reusedPasswordCount:null!=(i=d?.reused)?i:0,totalPasswordCount:null!=(o=d?.total)?o:0,weakPasswordCount:null!=(r=d?.weak)?r:0})),(0,we.tZ)(s.dDn,{as:s.Ejs,gridArea:"tips",justifyContent:"center",sx:ZO.passwordHealthTips},nL||(nL=(0,we.tZ)(EO,null))),(0,we.tZ)(s.dDn,{as:s.T5p,gridArea:"list",gridTemplateRows:"auto 1fr"},(0,we.tZ)($O,{spaceId:c})))))},oL=({path:e})=>{const t=(0,it.w)("ims_web_ph_mv3_dev");return n.createElement(i.GB,{exact:!0,path:[e,`${e}/:uuid`],component:t?iL:WO},n.createElement(i.ZB,{path:`${e}/:uuid`,component:Yv,additionalProps:{onClose:()=>{(0,i.uX)(e)}}}))},sL=n.createElement("svg",{width:"108",height:"29",viewBox:"0 0 108 29",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("path",{d:"M16.3936 19.6628C16.124 19.4498 15.8005 19.2902 15.423 19.1837C15.0455 19.0773 14.668 19.024 14.3445 19.024C14.0748 19.024 13.8051 19.0773 13.5355 19.1304C13.2658 19.1837 12.9962 19.2902 12.7805 19.3966C12.5648 19.503 12.3491 19.6627 12.1334 19.8756C11.9177 20.0885 11.8098 20.3014 11.7019 20.5143C11.7019 20.1417 11.5941 19.8756 11.3784 19.6627C11.2165 19.4498 10.947 19.2901 10.6774 19.1837C10.4077 19.0772 10.0842 19.0239 9.76065 19.0239C9.43709 19.0239 9.11343 19.0773 8.73596 19.1304V20.5142C8.95166 20.5142 9.16738 20.5142 9.27524 20.5675C9.43707 20.6209 9.49101 20.674 9.54494 20.7804C9.59895 20.8869 9.65267 20.9934 9.65267 21.153C9.65267 21.3128 9.65267 21.4723 9.65267 21.6852V28.1255H11.7019V22.9627C11.7019 22.5901 11.7559 22.2707 11.9176 22.0046C12.0255 21.7385 12.1874 21.5256 12.4031 21.3659C12.6188 21.2061 12.8884 21.0466 13.158 20.9934C13.4277 20.94 13.7511 20.8336 14.0208 20.8336C14.56 20.8336 15.0455 20.94 15.4769 21.153L16.3936 19.6628Z",fill:"#00A6CA"}),n.createElement("path",{d:"M25.3995 26.7418C25.2376 26.6884 25.1837 26.582 25.1298 26.4756C25.0758 26.3691 25.022 26.2095 25.022 26.0498C25.022 25.8901 25.022 25.7305 25.022 25.5176V19.8757C24.4289 19.6095 23.8356 19.3966 23.1885 19.2902C22.5953 19.1304 21.9482 19.0773 21.3011 19.0773C20.5461 19.0773 19.899 19.1837 19.2518 19.3966C18.6586 19.6095 18.1194 19.9289 17.634 20.3547C17.1487 20.7805 16.8251 21.2595 16.5554 21.8982C16.2858 22.4837 16.124 23.1756 16.124 23.9208C16.124 24.5595 16.1781 25.145 16.3937 25.6772C16.5556 26.2095 16.8252 26.6885 17.1487 27.1143C17.4723 27.5401 17.9037 27.8594 18.443 28.0723C18.9822 28.2853 19.5754 28.3917 20.2225 28.3917C20.8697 28.3917 21.5168 28.232 22.1099 27.8594C22.7031 27.5401 23.1345 27.0611 23.3502 26.4224C23.3502 26.9014 23.4042 27.274 23.5659 27.5401C23.7278 27.8062 23.8896 28.0191 24.1592 28.1256C24.4288 28.2853 24.6985 28.3385 25.022 28.3385C25.3456 28.3385 25.6692 28.3385 25.9927 28.2321V26.7418C25.7231 26.7951 25.5073 26.7951 25.3995 26.7418ZM23.0267 23.6546C23.0267 24.5063 22.8109 25.145 22.3795 25.6772C22.0021 26.2095 21.4088 26.4756 20.6538 26.4756C19.791 26.4756 19.1978 26.2095 18.7664 25.7305C18.335 25.2514 18.1733 24.6127 18.1733 23.7611C18.1733 23.2821 18.281 22.8563 18.4429 22.4305C18.6047 22.0579 18.7665 21.6853 19.0361 21.4192C19.3058 21.1531 19.5753 20.9402 19.9528 20.7805C20.2764 20.6208 20.7078 20.5676 21.1392 20.5676C21.4089 20.5676 21.7324 20.5676 22.056 20.6209C22.3795 20.6742 22.7031 20.7806 23.0267 20.887V23.6546Z",fill:"#00A6CA"}),n.createElement("path",{d:"M35.1602 20.1418C34.8906 19.8224 34.5131 19.5563 34.0278 19.3434C33.5964 19.1305 33.0571 19.0241 32.41 19.0241C32.0864 19.0241 31.8168 19.0241 31.4932 19.0774C31.1697 19.1307 30.9 19.2371 30.6304 19.3435C30.3608 19.4499 30.0911 19.6096 29.8754 19.8225C29.6597 20.0354 29.444 20.2483 29.3361 20.5677C29.3361 20.1419 29.2282 19.8226 29.0664 19.6097C28.9046 19.3968 28.6889 19.2371 28.4193 19.1306C28.1497 19.0773 27.8262 19.0242 27.5026 19.0242C27.179 19.0242 26.8016 19.0775 26.478 19.1306V20.5144C26.6937 20.5144 26.9094 20.5145 27.0173 20.5678C27.1791 20.6211 27.233 20.6742 27.2869 20.7807C27.3409 20.8871 27.3947 20.9935 27.3947 21.1532C27.3947 21.3129 27.3947 21.5258 27.3947 21.7919V28.1258H29.444V23.0693C29.444 22.6968 29.4977 22.3774 29.6057 22.1113C29.7135 21.7919 29.8754 21.579 30.0911 21.3661C30.3068 21.1532 30.5225 20.9936 30.7921 20.8871C31.0618 20.7807 31.3854 20.7274 31.709 20.7274C32.3022 20.7274 32.8414 20.9403 33.2189 21.3129C33.6504 21.6854 33.8121 22.2709 33.8121 22.9628V28.1789H35.8613V22.9628C35.8613 22.4306 35.8073 21.8984 35.6456 21.4193C35.6996 20.8871 35.4837 20.5145 35.1602 20.1419V20.1418Z",fill:"#00A6CA"}),n.createElement("path",{d:"M44.3277 23.495C44.0042 23.2821 43.5728 23.1757 43.1413 23.0692C42.7099 22.9628 42.2245 22.9096 41.7392 22.8564C41.0382 22.75 40.499 22.6435 40.1215 22.537C39.744 22.3773 39.5822 22.1644 39.5822 21.7919C39.5822 21.579 39.6361 21.4193 39.7439 21.2596C39.8518 21.0999 39.9597 20.9935 40.1754 20.887C40.3372 20.7806 40.5529 20.6741 40.7686 20.6209C40.9843 20.5676 41.2539 20.5145 41.4696 20.5145C41.6854 20.5145 41.9551 20.5145 42.1708 20.5678C42.4404 20.6211 42.656 20.6742 42.8178 20.7807C43.0335 20.8871 43.1414 20.9936 43.3032 21.1533C43.411 21.313 43.5189 21.4726 43.5189 21.6855H45.2984C45.2984 21.2597 45.2445 20.8339 45.0289 20.5146C44.8132 20.1952 44.5435 19.9291 44.2199 19.6629C43.8424 19.45 43.4649 19.2371 42.9796 19.1307C42.4943 19.0243 42.0089 18.9709 41.4696 18.9709C40.9843 18.9709 40.499 19.0243 40.0136 19.1307C39.5283 19.2371 39.1509 19.3968 38.7734 19.6629C38.3959 19.8758 38.1262 20.1952 37.9105 20.5146C37.6948 20.8339 37.587 21.2597 37.587 21.7388C37.587 22.271 37.7487 22.6435 37.9644 22.9629C38.234 23.2822 38.5036 23.4952 38.8811 23.6548C39.2586 23.8146 39.69 23.921 40.1754 24.0274C40.6607 24.0807 41.0922 24.1872 41.5775 24.2403C42.1707 24.2936 42.6561 24.4532 43.0336 24.6129C43.4111 24.7726 43.5728 25.0387 43.5728 25.4645C43.5728 25.7306 43.5187 25.9435 43.357 26.1564C43.1952 26.3161 43.0336 26.4757 42.8718 26.5822C42.6561 26.6886 42.4404 26.7419 42.1708 26.7951C41.9011 26.8484 41.6854 26.8485 41.4158 26.8485C41.1461 26.8485 40.9304 26.7951 40.6608 26.7951C40.4451 26.7418 40.2294 26.6354 40.0136 26.529C39.7979 26.4226 39.69 26.2629 39.5282 26.1032C39.4204 25.9435 39.3125 25.7307 39.3125 25.5177H37.3173C37.3713 26.05 37.4791 26.529 37.7487 26.9016C38.0183 27.2741 38.288 27.5403 38.7194 27.7532C39.0969 27.9661 39.5283 28.1258 40.0136 28.2322C40.499 28.3386 40.9843 28.392 41.4696 28.392C41.955 28.392 42.4403 28.3386 42.9256 28.2322C43.411 28.1258 43.8425 27.9661 44.166 27.7C44.4896 27.4338 44.8132 27.1677 45.0289 26.8483C45.2446 26.4758 45.3524 26.05 45.3524 25.571C45.3524 25.0387 45.2446 24.6129 45.0289 24.2935C44.9211 23.921 44.6513 23.7081 44.3277 23.4952V23.495Z",fill:"#00A6CA"}),n.createElement("path",{d:"M67.1928 20.1418C66.9231 19.8224 66.5457 19.5563 66.0603 19.3434C65.6289 19.1305 65.0896 19.0241 64.4425 19.0241C64.119 19.0241 63.8494 19.0241 63.5258 19.0774C63.2022 19.1307 62.9326 19.2371 62.663 19.3435C62.3933 19.4499 62.1237 19.6096 61.908 19.8225C61.6923 20.0354 61.4766 20.2483 61.3687 20.5677C61.3687 20.1419 61.2608 19.8226 61.099 19.6097C60.9372 19.3968 60.7216 19.2371 60.452 19.1306C60.1824 19.0773 59.8587 19.0242 59.5352 19.0242C59.2116 19.0242 58.8341 19.0775 58.5645 19.1306V20.5144C58.7802 20.5144 58.9959 20.5145 59.1037 20.5678C59.2656 20.6211 59.3195 20.6742 59.3734 20.7807C59.4274 20.8871 59.4812 20.9935 59.4812 21.1532C59.4812 21.3129 59.4812 21.5258 59.4812 21.7919V28.1258H61.5304V23.0693C61.5304 22.6968 61.5844 22.3774 61.6923 22.1113C61.8001 21.7919 61.9618 21.579 62.1776 21.3661C62.3933 21.1532 62.609 20.9936 62.8787 20.8871C63.1483 20.7807 63.4718 20.7274 63.7954 20.7274C64.3886 20.7274 64.9279 20.9403 65.3054 21.3129C65.7368 21.6854 65.8985 22.2709 65.8985 22.9628V28.1789H67.9478V22.9628C67.9478 22.4306 67.8938 21.8984 67.732 21.4193C67.732 20.8871 67.5163 20.5145 67.1928 20.1419V20.1418Z",fill:"#00A6CA"}),n.createElement("path",{d:"M70.806 15.2983C70.4824 15.2983 70.2128 15.4047 69.9431 15.6176C69.6735 15.8305 69.5657 16.0967 69.5657 16.5225C69.5657 16.9483 69.7275 17.2144 69.9431 17.4273C70.2128 17.6402 70.4824 17.7467 70.806 17.6934C71.1295 17.6934 71.3992 17.587 71.6149 17.3741C71.8846 17.1612 71.9924 16.895 71.9924 16.4693C71.9924 16.0434 71.8846 15.7773 71.6149 15.5644C71.3992 15.3515 71.1295 15.2983 70.806 15.2983Z",fill:"#00A6CA"}),n.createElement("path",{d:"M71.8307 19.237H69.7815V28.1788H71.8307V19.237Z",fill:"#00A6CA"}),n.createElement("path",{d:"M81.3756 20.195C80.9442 19.8224 80.4049 19.5563 79.8117 19.3434C79.2185 19.1305 78.6253 19.0773 77.9782 19.0773C77.385 19.0773 76.7918 19.1837 76.2525 19.3434C75.7132 19.5563 75.1739 19.8224 74.7425 20.195C74.3111 20.5676 73.9336 21.0466 73.664 21.6321C73.3943 22.2176 73.2325 22.8563 73.2325 23.6546C73.2325 24.453 73.3944 25.145 73.664 25.6772C73.9336 26.2627 74.3111 26.7417 74.7425 27.1675C75.1739 27.5401 75.7132 27.8594 76.2525 28.0191C76.8457 28.232 77.3849 28.2852 78.0321 28.2852C78.6253 28.2852 79.2185 28.1788 79.8117 28.0191C80.4049 27.8594 80.8902 27.5401 81.3216 27.1675C81.753 26.7949 82.1305 26.3159 82.4001 25.6772C82.6698 25.0918 82.8316 24.3998 82.8316 23.6546C82.8316 22.8563 82.6697 22.2176 82.4001 21.6321C82.1844 21.0466 81.807 20.5676 81.3756 20.195ZM80.5667 24.9321C80.4049 25.3047 80.1892 25.5708 79.9735 25.8369C79.7578 26.1031 79.4342 26.2627 79.1106 26.3692C78.7871 26.4756 78.4635 26.5821 78.1399 26.5821C77.8164 26.5821 77.4389 26.5288 77.1153 26.4223C76.7918 26.3159 76.4682 26.103 76.2525 25.8901C75.9829 25.624 75.7671 25.3578 75.6054 24.9852C75.4435 24.6127 75.3897 24.1868 75.3897 23.7078C75.3897 23.2288 75.4435 22.8563 75.6054 22.4837C75.7672 22.1111 75.929 21.845 76.1986 21.6321C76.4683 21.4191 76.7378 21.2063 77.0614 21.0998C77.3849 20.9934 77.7085 20.9401 78.0321 20.8869C78.3556 20.8869 78.7332 20.9402 79.0567 21.0466C79.3803 21.153 79.7038 21.3128 79.9735 21.5789C80.2431 21.7918 80.4588 22.1112 80.6206 22.4837C80.7824 22.8563 80.8903 23.2821 80.8903 23.7611C80.8363 24.1337 80.7285 24.5595 80.5667 24.9321Z",fill:"#00A6CA"}),n.createElement("path",{d:"M0 17.108V15.1918H9.76075V17.108H5.93193V28.1788H3.77482V17.108H0Z",fill:"#00A6CA"}),n.createElement("path",{d:"M47.0243 23.8143V15.1918H49.1813V23.7611C49.1813 25.4643 50.4755 26.4224 52.1472 26.4224C53.819 26.4224 55.0593 25.4643 55.0593 23.7611V15.1918H57.2165V23.8143C57.2165 26.6885 54.8975 28.3385 52.1472 28.3385C49.3431 28.3385 47.0243 26.6885 47.0243 23.8143Z",fill:"#00A6CA"}),n.createElement("path",{d:"M93.0239 26.0499V24.6128V22.8564C93.0239 22.3241 92.97 21.7918 92.8083 21.3128C92.6465 20.8338 92.4308 20.4612 92.1612 20.0886C91.8915 19.7693 91.514 19.5031 91.0286 19.2902C90.5972 19.0773 90.0579 18.9709 89.4108 18.9709C89.0872 18.9709 88.8176 18.9709 88.4941 19.0242C88.1705 19.0775 87.9009 19.184 87.6312 19.2904C87.3616 19.3968 87.0919 19.5564 86.8762 19.7693C86.6605 19.9823 86.4448 20.1952 86.337 20.5145C86.337 20.0887 86.2292 19.7694 86.0674 19.5565C85.9055 19.3436 85.6899 19.1839 85.4202 19.0775C85.1506 19.0242 84.827 18.971 84.5034 18.971C84.1799 18.971 83.8025 19.0244 83.5328 19.0775V20.4613C83.7486 20.4613 83.9643 20.4613 84.0721 20.5146C84.2339 20.5679 84.2878 20.621 84.3417 20.7275C84.3957 20.8339 84.4495 20.9404 84.4495 21.1001C84.4495 21.2598 84.4495 21.4726 84.4495 21.7388V28.0726H86.4987V23.0162C86.4987 22.6436 86.5527 22.3242 86.6605 22.0581C86.7683 21.7388 86.9302 21.5259 87.1459 21.313C87.3617 21.1001 87.5773 20.9404 87.8469 20.834C88.1166 20.7276 88.4401 20.6742 88.7636 20.6742C89.3568 20.6742 89.8961 20.8871 90.2736 21.2597C90.705 21.6323 90.8669 22.2177 90.8669 22.9097V25.9435V26.1564C90.8669 28.3387 92.215 28.5516 93.9946 28.2322V26.9548C93.1857 27.0081 93.0239 26.7419 93.0239 26.0499V26.0499Z",fill:"#00A6CA"}),n.createElement("path",{d:"M98.3627 0.608155C94.8574 0.608155 91.7836 2.47105 90.1658 5.29199C89.5726 6.4097 89.4647 7.36774 89.9501 8.16613C90.4893 9.12418 91.7298 9.23065 92.3769 9.23065H93.5632L93.1317 10.5612C92.8621 11.3596 92.97 12.2645 93.4015 12.85C93.8329 13.4354 94.48 13.7548 95.2889 13.7548C95.8281 13.7548 96.4213 13.6484 96.9606 13.4354C96.7987 13.2226 96.691 13.0097 96.5831 12.7435C96.5291 12.5306 96.4213 12.3177 96.4213 12.0516C96.0977 12.2113 95.7202 12.2645 95.3427 12.2645C95.127 12.2645 94.8035 12.2112 94.6417 11.9451C94.4799 11.7322 94.426 11.4129 94.5339 11.0403L95.1271 9.23065H97.0146L97.4998 7.6871H95.6663L96.4753 5.18553H94.8574L94.0486 7.6871H92.3229C91.7836 7.6871 91.46 7.52741 91.2982 7.26135C91.1364 6.942 91.2982 6.30328 91.7296 5.55812V5.50477C93.1857 3.42899 95.5585 2.04514 98.3088 2.04514C102.677 2.04514 106.236 5.55801 106.236 9.86924C106.236 14.1805 102.677 17.6933 98.3088 17.6933C94.4261 17.6933 91.1904 14.9257 90.4893 11.3063L88.9794 11.6257C89.8422 15.9369 93.6711 19.2369 98.3088 19.2369C103.54 19.2369 107.8 15.0321 107.8 9.86924C107.854 4.81285 103.594 0.608093 98.3627 0.608093V0.608155Z",fill:"#00A6CA"}),n.createElement("path",{d:"M104.402 12.5306C104.025 12.5306 103.54 12.4773 103.216 12.2645C103.108 12.1581 102.946 12.0516 102.892 11.7855C102.892 11.6791 102.892 11.5193 102.946 11.3597L104.133 7.79358H102.515L101.49 10.8806C101.221 11.679 100.358 12.3177 99.6031 12.3177C99.3873 12.3177 99.1176 12.2644 99.0098 12.0516C98.902 11.8919 98.7941 11.679 98.9558 11.3064L100.142 7.74036H98.5244L97.4998 10.8274C97.2302 11.5726 97.3379 12.371 97.7694 12.9564C98.2008 13.4887 98.794 13.8081 99.6029 13.8081C100.358 13.8081 101.167 13.4887 101.814 12.9564C102.03 13.2758 102.299 13.4887 102.677 13.6484C103.216 13.8081 103.54 13.8081 103.917 13.8081C104.079 13.8081 104.295 13.7548 104.348 13.7548C104.402 13.7015 104.403 13.6484 104.456 13.5951C104.51 13.4887 104.564 13.3822 104.618 13.2757C104.672 13.1693 104.726 13.0628 104.78 12.9564C104.834 12.85 104.888 12.7435 104.942 12.637C104.996 12.5837 104.996 12.4773 105.05 12.4241C104.888 12.5305 104.672 12.5305 104.402 12.5305V12.5306Z",fill:"#00A6CA"}),n.createElement("path",{d:"M95.1271 27.1143C95.1271 25.5175 97.5538 25.5175 97.5538 27.1143C97.5538 28.711 95.1271 28.711 95.1271 27.1143ZM97.3381 27.1143C97.3381 25.7304 95.3428 25.7304 95.3428 27.1143C95.3428 28.4981 97.3381 28.4981 97.3381 27.1143ZM96.8526 27.6465L96.6371 27.6999L96.3135 27.2741H96.0438V27.6999H95.8819V26.5289H96.3674C96.5831 26.5289 96.7988 26.6886 96.7988 26.9015C96.7988 27.0612 96.6909 27.2208 96.5291 27.2208L96.8526 27.6465ZM96.0978 27.1143H96.3674C96.5292 27.1143 96.6371 27.0078 96.6371 26.9014C96.6371 26.7416 96.5292 26.6885 96.3674 26.6885H96.0978V27.1143Z",fill:"#00A6CA"})),rL=n.createElement("svg",{width:"43",height:"23",viewBox:"0 0 43 23",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("path",{d:"M0 11.5V23H21.5H43V11.5V-1.90735e-06H21.5H0V11.5ZM41.3865 11.5V21.3789H21.4872H1.58785V11.5V1.62114H21.4872H41.3865V11.5Z",fill:"#00A4E4"}),n.createElement("path",{d:"M31.2192 4.82798C30.6686 4.8761 30.0411 5.00022 29.5596 5.15474C28.5429 5.47897 27.7643 5.95011 27.0063 6.69989C26.1304 7.56619 25.5644 8.55661 25.2494 9.7674C25.0752 10.4488 25.0368 10.7756 25.0368 11.6013C25.0343 12.3511 25.0548 12.5563 25.1751 13.1389C25.3877 14.1521 25.8871 15.1729 26.553 15.9582C26.8142 16.2646 27.3776 16.8067 27.667 17.0296C28.612 17.7566 29.7235 18.1872 30.9938 18.3139C31.4522 18.362 32.4536 18.3341 32.8583 18.2658C33.8315 18.0986 34.692 17.7439 35.4091 17.2095C36.4258 16.4521 37.2018 15.3452 37.5706 14.1242C37.7755 13.4428 37.8523 12.9084 37.8702 11.9863L37.8856 11.3227H35.1658H32.4485V12.2472V13.1718H34.0876C35.3809 13.1718 35.7266 13.1794 35.7266 13.2022C35.7266 13.2807 35.5704 13.8355 35.4987 14.0153C35.2119 14.7271 34.715 15.3654 34.126 15.7783C33.8776 15.9506 33.3833 16.1988 33.1144 16.2849C32.0592 16.6218 30.8145 16.523 29.7722 16.0189C28.4584 15.3857 27.5338 14.1622 27.2393 12.6703C27.0524 11.7229 27.1266 10.6489 27.4391 9.76487C28.0435 8.05254 29.4444 6.9304 31.2525 6.71002C31.6315 6.66443 32.4664 6.69229 32.8173 6.76322C33.98 6.99373 34.9865 7.63205 35.7394 8.61994L35.888 8.81751L36.0698 8.64273C36.1697 8.54901 36.4873 8.24758 36.7767 7.97655C37.0661 7.70551 37.3042 7.47754 37.3094 7.46994C37.3247 7.43447 36.897 6.938 36.6204 6.67203C35.9392 6.01597 35.0275 5.46884 34.1132 5.1674C33.3705 4.9217 32.8327 4.83558 31.9619 4.82544C31.6162 4.82291 31.2832 4.82291 31.2192 4.82798Z",fill:"#00A4E4"}),n.createElement("path",{d:"M11.4146 5.24846C11.3813 5.32192 9.98552 8.25264 8.31316 11.7584C6.64336 15.2666 5.27576 18.1416 5.27576 18.1492C5.27576 18.1568 5.76748 18.1594 6.36932 18.1568L7.46033 18.1492L8.17999 16.5737L8.89964 14.9981L11.6912 14.9956H14.4853L15.1793 16.5711L15.8734 18.1492L16.9644 18.1568C17.5637 18.1594 18.0554 18.1543 18.0554 18.1467C18.0554 18.1264 18.1373 18.3063 13.8937 8.95429C13.3072 7.65738 12.6797 6.2794 12.5056 5.88932C12.3289 5.49923 12.1727 5.16487 12.1599 5.14714C12.1394 5.12687 12.0369 5.11674 11.8064 5.11674H11.4761L11.4146 5.24846ZM12.69 10.8794C13.2048 12.0319 13.6222 12.9818 13.6171 12.9869C13.612 12.992 12.7463 12.992 11.6963 12.9894L9.78576 12.9818L10.7615 10.8718C11.2968 9.71167 11.7398 8.76685 11.745 8.77192C11.7501 8.77698 12.1752 9.72434 12.69 10.8794Z",fill:"#00A4E4"}),n.createElement("path",{d:"M20.3091 11.7153V18.1366H21.3079H22.3067V11.7153V5.29405H21.3079H20.3091V11.7153Z",fill:"#00A4E4"}));var lL,cL,dL,uL,pL;const mL={type:"",action:""},_L=({button:e,shouldDisplay:t,description:a,title:n,icon:i,companyIcon:o})=>t?(0,z.tZ)("section",{className:"premiumPlusSection--GPB6pya_0j"},(0,z.tZ)("div",null,(0,z.tZ)("div",{className:"premiumPlusIconWrapper--v8Pyq5bOLv"},i)),(0,z.tZ)("div",null,(0,z.tZ)("h2",{className:"premiumPlusTitle--F3qUtT4jdw"},n,(0,z.tZ)("span",{className:"premiumPlusTitleIcon--LuidgTXjtd"},o)),(0,z.tZ)("div",{className:"premiumPlusDescription--W68S_tWUDM"},a),e)):null,gL=({lee:e})=>{const{translate:t}=(0,j.Z)(),a=(0,zo.Y)();function i(e){return a.status===Ft.rq.Success&&!!a.data.capabilities?.[e]?.enabled}return(0,z.tZ)(Lg,{lee:e},(0,z.tZ)(Kp,{sx:{marginTop:"16px"},startWidgets:()=>(0,z.tZ)(s.X6q,{sx:{fontWeight:"700"}},t("webapp_premium_plus_title")),endWidget:(0,z.tZ)(n.Fragment,null,lL||(lL=(0,z.tZ)(fm,null)),cL||(cL=(0,z.tZ)(D_,null)))}),(0,z.tZ)("div",{className:"rootContainer--VE0PAAxxgG"},(0,z.tZ)("div",{className:"premiumPlusContainer--v7bgUfMVzi"},(0,z.tZ)(_L,{icon:dL||(dL=(0,z.tZ)(s.op_,{size:52})),companyIcon:sL,description:t.markup("webapp_premium_plus_credit_monitoring_description_markup"),title:t("webapp_premium_plus_credit_monitoring_title"),shouldDisplay:i("creditMonitoring"),button:(0,z.tZ)(s.zxk,{type:"button",nature:"secondary",onClick:()=>(0,je.Yk)("https://www.creditviewdashboard.com/CreditView/welcome.page?enterprise=Dashlane",mL)},t("webapp_premium_plus_credit_monitoring_button"))}),(0,z.tZ)(_L,{icon:uL||(uL=(0,z.tZ)(s.Wz1,{size:47})),companyIcon:rL,description:t.markup("webapp_premium_plus_identity_theft_description_markup"),title:t("webapp_premium_plus_identity_theft_title"),shouldDisplay:i("identityTheftProtection"),button:(0,z.tZ)(s.zxk,{type:"button",nature:"secondary",onClick:()=>(0,je.Yk)("https://support.dashlane.com/hc/en-us/articles/360000040299",mL)},t("webapp_premium_plus_identity_theft_button"))}),(0,z.tZ)(_L,{icon:pL||(pL=(0,z.tZ)(s.bmX,{size:52})),companyIcon:sL,description:t.markup("webapp_premium_plus_identity_restauration_description_markup"),title:t("webapp_premium_plus_identity_restauration_title"),shouldDisplay:i("identityRestoration"),button:(0,z.tZ)(s.zxk,{type:"button",nature:"secondary",onClick:()=>(0,je.Yk)("https://support.dashlane.com/hc/en-us/articles/360000040279",mL)},t("webapp_premium_plus_identity_restauration_button"))}))))},hL=({path:e})=>n.createElement(i.Vy,{path:e,component:gL});var bL=a(451707);const CL=({setCancellationStep:e})=>{var t,a;const i=(0,zo.Y)(),{translate:o}=(0,j.Z)(),[r,l]=(0,n.useState)(!1),c=(0,bL.rU)(r);if((0,n.useEffect)((()=>{g.C.fetchInvoiceList().then((()=>l(!0)))}),[]),i.status!==Ft.rq.Success||!i.data)return(0,z.tZ)(s.HoD,{color:s.O9T.midGreen00});const{planType:d}=i.data,u=(0,b.yf)(i.data),p=null!=(t=d?.includes("ios"))&&t,m=null!=(a=d?.includes("playstore"))&&a,_=c>0,h=((e,t,a)=>e?a?"manage_subscription_billing_section_desc_past_bills_apple":"manage_subscription_billing_section_desc_no_bills_apple":t?a?"manage_subscription_billing_section_desc_past_bills_google":"manage_subscription_billing_section_desc_no_bills_google":a?"manage_subscription_billing_section_desc_with_bills":"manage_subscription_billing_section_desc_no_bills")(p,m,_);return(0,z.tZ)(s.Zbd,{sx:{marginBottom:"16px",padding:"32px"}},(0,z.tZ)(s.X6q,{sx:{marginBottom:"8px"},size:"small"},o("manage_subscription_billing_section_title")),(0,z.tZ)(s.nvN,{color:s.O9T.grey00,sx:{marginBottom:"0px"}},o(h)),u?(0,z.tZ)("div",{sx:{marginTop:"34px"}},p||m?(0,z.tZ)(s.zxk,{type:"button",nature:"secondary",onClick:()=>{(0,je.Yk)(p?Oo.XP:Oo.zF,{type:"billingSupport",action:"goToExternalSupport"})},sx:{marginRight:"8px"}},o("manage_subscription_learn_more_button"),(0,z.tZ)(s.RTC,{color:s.O9T.dashGreen01,style:{marginLeft:"8px"}})):null,_?(0,z.tZ)(s.zxk,{type:"button",nature:"secondary",onClick:()=>{e(lP.INVOICE_LIST)}},o("manage_subscription_billing_section_view_receipts_button")):null):null)},wL="invoiceListColumn--xeaZ0sRdyJ",yL=({invoice:e,onDownloadInvoiceRequested:t,onCustomizeInvoiceRequested:a})=>{const{translate:i}=(0,j.Z)(),o=e.currency||"usd",r=i.price(o,e.amountPaid/100),l=(e=>"premiumplus"===e.planFeature?"manage_subscription_plan_name_premium_plus":"advanced"===e.planFeature?"manage_subscription_plan_name_advanced":"essentials"===e.planFeature?"manage_subscription_plan_name_essentials":["family_created","family_renewed"].includes(e.eventType)?"manage_subscription_plan_name_family":"sync"===e.planFeature?"manage_subscription_plan_name_premium":"default_category_name_other")(e),c=e.duration.includes("M-")?"manage_subscription_billing_section_table_duration_monthly":"manage_subscription_billing_section_table_duration_annual",d=`${i(l)} (${i(c)})`,u=[{key:"planDuration",content:(0,z.tZ)(s.Ejs,{flexDirection:"column"},(0,z.tZ)(s.nvN,{style:{fontWeight:500,fontSize:14},color:s.O9T.black},d),(0,z.tZ)(s.nvN,{style:{fontSize:12},color:s.O9T.grey00},i("manage_subscription_billing_section_table_order",{order:e.invoiceId}))),className:wL},{key:"startDate",content:(p=e.startDate,i.shortDate((0,qo.Z)(p),ne._T.LL)),className:wL},{key:"price",content:r,className:wL},{key:"button",content:(0,z.tZ)(n.Fragment,null,(0,z.tZ)(s.zxk,{type:"button",nature:"secondary",onClick:()=>a(e),size:"small"},i("manage_subscription_billing_section_table_add_details_button")),(0,z.tZ)(s.zxk,{type:"button",nature:"primary",onClick:()=>t(e),sx:{padding:"4px",height:"32px",minWidth:"32px",marginLeft:"10px"},"aria-label":i("team_account_billing_date_cta_invoice")},(0,z.tZ)(s._8t,{color:s.O9T.white}))),className:wL}];var p;return(0,z.tZ)(YC,{style:{padding:"0px"},data:u})},EL={ALL_YEARS_FILTER:"manage_subscription_billing_section_filter_years",ALL_PLANS_FILTER:"manage_subscription_billing_section_filter_all_plans",PLAN_NAME_ADVANCED:"manage_subscription_plan_name_advanced",PLAN_NAME_ESSENTIALS:"manage_subscription_plan_name_essentials",PLAN_NAME_FAMILY:"manage_subscription_plan_name_family",PLAN_NAME_PREMIUM:"manage_subscription_plan_name_premium",PLAN_NAME_OTHER:"manage_subscription_billing_section_filter_plans_others"},IL=({changePlanFilter:e,changeYearFilter:t,currentPlanFilter:a,currentYearFilter:n})=>{const{translate:i}=(0,j.Z)(),o=(0,bL.uv)(),r=((new Date).getFullYear()-1).toString();o.includes(r)||o.push(r);const l=a?EL[`PLAN_NAME_${a}`]:EL.ALL_PLANS_FILTER;return(0,z.tZ)("div",{sx:{marginTop:"32px"}},(0,z.tZ)(s.h_2,{placement:"bottom-start",sx:{width:"140px"},content:[(0,z.tZ)(s.W7o,{fullWidth:!0,key:"yearFilter-all",onClick:()=>t("")},i(EL.ALL_YEARS_FILTER)),...o.map((e=>(0,z.tZ)(s.W7o,{fullWidth:!0,key:`yearFilter-${e}`,onClick:()=>t(e)},e)))]},(0,z.tZ)(s.zxk,{type:"button",nature:"secondary",sx:{mr:"8px"}},n||i(EL.ALL_YEARS_FILTER),(0,z.tZ)(s.veu,{sx:{ml:"12px"}}))),(0,z.tZ)(s.h_2,{placement:"bottom-start",sx:{width:"140px"},content:[(0,z.tZ)(s.W7o,{fullWidth:!0,key:"planFilter-all",onClick:()=>e("")},i(EL.ALL_PLANS_FILTER)),...["ADVANCED","ESSENTIALS","PREMIUM","FAMILY","OTHER"].map((t=>(0,z.tZ)(s.W7o,{fullWidth:!0,key:`planFilter-${t}`,onClick:()=>e(t)},i(EL[`PLAN_NAME_${t}`]))))]},(0,z.tZ)(s.zxk,{type:"button",nature:"secondary"},i(l),(0,z.tZ)(s.veu,{sx:{ml:"12px"}}))))},NL="manage_subscription_billing_details_dialog_address_label",fL="manage_subscription_billing_details_dialog_company_label",vL="manage_subscription_billing_details_dialog_name_label",SL="manage_subscription_billing_details_dialog_tax_id_label",DL="manage_subscription_billing_details_dialog_address_placeholder",xL="manage_subscription_billing_details_dialog_company_placeholder",ML="manage_subscription_billing_details_dialog_name_placeholder",TL="manage_subscription_billing_details_dialog_tax_id_placeholder",AL=({isOpen:e,onClose:t,onDownloadInvoice:a})=>{const{translate:i}=(0,j.Z)(),[o,r]=(0,n.useState)(""),[l,c]=(0,n.useState)(""),[d,u]=(0,n.useState)(""),[p,m]=(0,n.useState)("");return n.createElement(s.VqE,{closeIconName:i("_common_dialog_dismiss_button"),isOpen:e,onClose:t},n.createElement(s.$N8,null,n.createElement(s.X6q,{size:"small"},i("manage_subscription_billing_details_dialog_title"))),n.createElement(s.oil,{autoFocus:!0,fullWidth:!0,id:"invoiceNameInput",label:n.createElement(s.nvN,{as:"label",htmlFor:"invoiceNameInput",sx:{mt:"20px"}},i(vL)),onChange:e=>r(e.target.value),placeholder:i(ML),sx:{mb:"16px"}}),n.createElement(s.oil,{fullWidth:!0,id:"invoiceCompanyInput",label:n.createElement(s.nvN,{as:"label",htmlFor:"invoiceCompanyInput"},i(fL)),onChange:e=>c(e.target.value),placeholder:i(xL),sx:{mb:"16px"}}),n.createElement(s.oil,{fullWidth:!0,id:"invoiceAddressInput",label:n.createElement(s.nvN,{as:"label",htmlFor:"invoiceAddressInput"},i(NL)),onChange:e=>u(e.target.value),placeholder:i(DL),sx:{mb:"16px"}}),n.createElement(s.oil,{fullWidth:!0,id:"invoiceTaxIdInput",label:n.createElement(s.nvN,{as:"label",htmlFor:"invoiceTaxIdInput"},i(SL)),onChange:e=>m(e.target.value),placeholder:i(TL),sx:{mb:"40px"}}),n.createElement(s.cNS,{primaryButtonOnClick:()=>{const e={};""!==o&&(e.recipient=o),""!==l&&(e.company=l),""!==d&&(e.address=d),""!==p&&(e.vatNumber=p),a(e)},primaryButtonTitle:i("manage_subscription_billing_details_dialog_download_button")}))},kL=()=>{const{translate:e}=(0,j.Z)(),[t,a]=(0,n.useState)(1),[i,o]=(0,n.useState)(""),[r,l]=(0,n.useState)(""),[c,d]=(0,n.useState)(!1),[u,p]=(0,n.useState)(null),[m,_]=(0,n.useState)({direction:RC._.descending,field:"startDate"}),h=(0,bL.rU)(),b=(0,bL.rR)({currentPlanFilter:r,currentYearFilter:i,sortDirection:m.direction,sortField:m.field}),C=(0,n.useMemo)((()=>{const e=10*(t-1);return[...b].slice(e,e+10)}),[t,b]),w=e("manage_subscription_billing_section_no_results_try_again"),[y,E,I]=w.split("_"),N=e=>{d(!0),p(e)},f=async(t,a)=>{if(t){const n=`dashlane_invoice_${e.shortDate((0,qo.Z)(t?.startDate),ne._T.L).replace(/[^a-zA-Z0-9]/g,"_")}`,i=await g.C.downloadCustomerInvoice({invoiceId:t.invoiceId,lang:"en",...a});if(i.success){const{data:e}=JSON.parse(i.data),t=new Uint8Array(e).buffer,a=new Blob([t],{type:"application/pdf"});yu()(a,n)}}};return(0,z.tZ)(s.Zbd,{sx:{marginBottom:"16px",padding:"32px"}},(0,z.tZ)(s.X6q,null,e("manage_subscription_billing_section_title")),(0,z.tZ)(IL,{changePlanFilter:e=>{a(1),l(e)},changeYearFilter:e=>{a(1),o(e||"")},currentPlanFilter:r,currentYearFilter:i}),b.length>0?(0,z.tZ)(n.Fragment,null,(0,z.tZ)(uw,{containerClassName:"listHeader--TQUECfUM_5",header:[{key:"item",sortable:!1,content:e("manage_subscription_billing_section_table_head_item"),className:wL},{key:"startDate",sortable:!0,content:e("manage_subscription_billing_section_table_head_date"),className:wL},{key:"amountPaid",sortable:!0,content:e("manage_subscription_billing_section_table_head_price"),className:wL},{key:"action",sortable:!1,content:e("manage_subscription_billing_section_table_head_actions"),className:wL}],onSort:e=>{_(e)},options:m}),C.map((e=>(0,z.tZ)(yL,{key:e.invoiceId,invoice:e,onCustomizeInvoiceRequested:N,onDownloadInvoiceRequested:f}))),(0,z.tZ)(s.tlE,{sx:{marginTop:"8px"},totalPages:b.length>10?Math.ceil(b.length/10):0,currentPage:t,onPageChange:a})):null,0===b.length&&h>0?(0,z.tZ)(s.Ejs,{alignItems:"center",flexDirection:"column",justifyContent:"center",sx:{height:"300px"}},(0,z.tZ)(s.nvN,{color:s.O9T.grey00},e("manage_subscription_billing_section_no_results")),(0,z.tZ)(s.nvN,{color:s.O9T.grey00},y,(0,z.tZ)(s.rUS,{color:s.O9T.midGreen00,onClick:()=>{a(1),l(""),o("")}},E),I)):null,(0,z.tZ)(AL,{isOpen:c,onClose:()=>d(!1),onDownloadInvoice:e=>{u&&(d(!1),f(u,e))}}))};var ZL=a(841443),OL=a(25197);const LL="manage_subscription_plan_section_compare_link",PL=({setCancellationStep:e})=>{const t=(0,lt.B)(),a=(0,zo.Y)(),{routes:n}=(0,J.Xo)(),{translate:i}=(0,j.Z)();if(a.status!==Ft.rq.Success||!a.data)return(0,z.tZ)(s.HoD,{color:s.O9T.midGreen00});const{autoRenewInfo:o,autoRenewal:r,endDate:l=0,planType:d}=a.data,u=(0,b.yf)(a.data),p=(0,b.AF)(a.data),m=(0,b.sZ)(a.data),_=(0,b.p6)(a.data),g=(0,b.ry)(a.data),h=g&&!_,C=(0,b.Sm)(a.data),w=u&&(0,b.Tg)(a.data),y=(0,b.b1)(a.data),E=(0,b.LF)(a.data),I=d?.includes("ios"),f=d?.includes("playstore");let v,S="",D="";const x=new Date(1e3*l),M=i.shortDate(x,ne._T.LL);if(h)v=i("manage_subscription_plan_section_desc_family_invitee");else{const e=r?"manage_subscription_plan_section_desc_b2c_plans_markup":"manage_subscription_plan_section_desc_cancelled_markup";v=l?i.markup(e,{date:M,days:"30"}):""}if(p){const e=(0,b.Fz)(a.data);e&&(0,b.t0)(e.tier)===c.SpaceTier.Team?(S=i("manage_subscription_plan_name_dashlane_team"),v=i("manage_subscription_plan_section_desc_team")):(S=i("manage_subscription_plan_name_dashlane_business"),v=i("manage_subscription_plan_section_desc_business"))}else if(g)S=i("manage_subscription_plan_name_family"),D=i("manage_subscription_plan_section_features_link_family");else if(E)S=i("manage_subscription_plan_name_advanced"),D=i("manage_subscription_plan_section_features_link_advanced");else if(m)S=i("manage_subscription_plan_name_essentials"),D=i("manage_subscription_plan_section_features_link_essentials");else if(y){const e=(0,WT.Z)(x,(new Date).getTime());S=i("manage_subscription_plan_name_premium_trial"),v=i.markup("manage_subscription_plan_section_trial_desc_markup",{days:e,date:M}),D=i(LL)}else w?S=i("manage_subscription_plan_name_premium_plus"):C?(S=i("manage_subscription_plan_name_premium"),D=i("manage_subscription_plan_section_features_link_premium")):(S=i("manage_subscription_plan_name_free"),v=i("manage_subscription_plan_section_desc_free"),D=i(LL));const T=!(h||p||I||f||r),A=!u||y||!r,k=u&&!r&&!w&&!I&&!f&&!h,Z=i(!u||y?"manage_subscription_plan_section_upgrade_button":r?"manage_subscription_plan_section_change_button":"manage_subscription_plan_section_buy_plans_button"),O=!p&&(r||f||I),L=i("manage_subscription_plan_section_cancel_text"),[P,R,U]=L.split("_"),B=i.markup("manage_subscription_plan_section_apple_cancel_text_markup",{link:Oo.o2}),F=i.markup("manage_subscription_plan_section_google_cancel_text_markup",{link:Oo.M});return(0,z.tZ)(s.Zbd,{sx:{marginBottom:"16px",padding:"32px"}},(0,z.tZ)(s.Ejs,{alignItems:"center",justifyContent:"space-between",sx:{marginBottom:"32px"}},(0,z.tZ)("div",null,(0,z.tZ)(s.j49,{color:s.O9T.grey00},i("manage_subscription_plan_section_title")),(0,z.tZ)(s.X6q,{size:"small"},S)),(0,z.tZ)("div",null,T?(0,z.tZ)(s.zxk,{nature:A?"primary":"secondary",onClick:()=>{(0,je.Yk)(n.userGoPlans,{type:"subscriptionManagement",action:"goToPlans"}),(0,OL.xl)(N.CallToAction.AllOffers)},type:"button"},Z):null,k?(0,z.tZ)(s.zxk,{onClick:()=>{const e=((e,t,a,n,i,o)=>e?n.userGoAdvanced(o,(0,nD.c)(i)):t?n.userGoEssentials(o,(0,nD.c)(i)):a?n.userGoFamily(o,(0,nD.c)(i)):n.userGoPremium(o,(0,nD.c)(i)))(E,m,g,n,o,t?.subscriptionCode);(0,je.Yk)(e,{type:"subscriptionManagement",action:"goToCheckout"}),(0,OL.FI)(a.data)},nature:"secondary",sx:{marginLeft:"8px"},type:"button"},i("manage_subscription_plan_section_rejoin_button")):null)),(0,z.tZ)(s.nvN,{color:s.O9T.grey00},v),(0,z.tZ)(s.rUS,{href:n.userGoPlans,sx:{color:s.O9T.midGreen00,fontSize:2,fontWeight:"light"},onClick:()=>{(0,OL.xl)(N.CallToAction.PlanDetails)},target:"_blank"},D),O?(0,z.tZ)(s.nvN,{size:"small",color:s.O9T.grey00,sx:{borderTop:`1px solid ${s.O9T.grey04}`,marginTop:"32px",paddingTop:"32px"}},f||I?null:(0,z.tZ)("span",null,P,(0,z.tZ)(s.rUS,{role:"button",sx:{color:s.O9T.midGreen00},"data-testid":"buttonCancelSubscriptionConfirmation",onClick:()=>{e(lP.CANCEL_CONFIRM),(0,OL.in)(N.CancelPlanStep.Start,a.data)}},R),U),I?B:null,f?F:null):null)},zL={headerContainer:"headerContainer--nza0odu6OM",backButton:"backButton--MQF1V5PPQV"};var jL,RL;const UL=({cancellationStep:e,setCancellationStep:t})=>{const a=(0,zo.Y)(),{translate:i}=(0,j.Z)();return a.status===Ft.rq.Success&&a.data?e===lP.SUBSCRIPTION?n.createElement(s.X6q,null,i("manage_subscription_page_title")):n.createElement(s.zxk,{className:zL.backButton,nature:"ghost",type:"button",onClick:()=>{e===lP.CANCEL_CONFIRM&&(0,OL.in)(N.CancelPlanStep.Abandon,a.data),t(lP.SUBSCRIPTION)}},n.createElement(s.xCe,{className:zL.backButtonArrow,size:16}),i("manage_subscription_cancel_section_back")):null},BL=({cancellationStep:e,setCancellationStep:t})=>{var a;return n.createElement(Kp,{className:zL.headerContainer,startWidgets:()=>a||(a=n.createElement(UL,{cancellationStep:e,setCancellationStep:t})),endWidget:n.createElement(n.Fragment,null,jL||(jL=n.createElement(fm,null)),RL||(RL=n.createElement(D_,null)))})};var FL=a(984433);const WL={CARD_TITLE:"manage_subscription_cancel_confirmed_section_title",DESCRIPTION:{ADVANCED:"manage_subscription_cancel_confirmed_section_desc_advanced",ESSENTIALS:"manage_subscription_cancel_confirmed_section_desc_essentials",FAMILY:"manage_subscription_cancel_confirmed_section_desc_family",PREMIUM:"manage_subscription_cancel_confirmed_section_desc_premium"},FOOTER:{ADVANCED:"manage_subscription_cancel_confirmed_section_refund_request_advanced",ESSENTIALS:"manage_subscription_cancel_confirmed_section_refund_request_essentials",FAMILY:"manage_subscription_cancel_confirmed_section_refund_request_premium",POLICY:"manage_subscription_cancel_confirmed_section_refund_policy_markup",PREMIUM:"manage_subscription_cancel_confirmed_section_refund_request_premium"},RESTART_BUTTON:"manage_subscription_cancel_confirmed_section_restart_button",PLANS_BUTTON:"manage_subscription_cancel_confirmed_section_view_plans_button"},GL=({setCancellationStep:e,surveyAnswer:t})=>{const a=(0,lt.B)(),i=(0,zo.Y)(),{routes:o}=(0,J.Xo)(),{translate:r}=(0,j.Z)(),[l,c]=(0,n.useState)(!1);if((0,n.useEffect)((()=>{!async function(){(await g.C.requestRefund({dryRun:!0})).success&&c(!0)}()}),[]),(0,n.useEffect)((()=>{i.status===Ft.rq.Success&&i.data&&((0,O.N)(N.PageView.PlansManagementCancelDone),(0,OL.in)(N.CancelPlanStep.SuccessCancel,i.data,t))}),[i,t]),i.status!==Ft.rq.Success||!i.data)return(0,z.tZ)(s.HoD,{color:s.O9T.midGreen00});const{endDate:d}=i.data,u=d?new Date(1e3*d):null,p=u?r.shortDate(u,ne._T.LL):"",{planNameString:m,restartPlanUrl:_}=((e,t,a)=>{const{autoRenewInfo:n}=e,i=(0,nD.c)(n);return(0,b.LF)(e)?{planNameString:"ADVANCED",restartPlanUrl:t.userGoAdvanced(a,i)}:(0,b.sZ)(e)?{planNameString:"ESSENTIALS",restartPlanUrl:t.userGoEssentials(a,i)}:(0,b.ry)(e)?{planNameString:"FAMILY",restartPlanUrl:t.userGoFamily(a,i)}:{planNameString:"PREMIUM",restartPlanUrl:t.userGoPremium(a,i)}})(i.data,o,a?.subscriptionCode),h=r(WL.FOOTER[m]),[C,w,y]=h.split("_");return(0,z.tZ)(s.Zbd,{sx:{padding:"32px"}},(0,z.tZ)(s.X6q,{size:"small",sx:{marginBottom:"40px"}},r(WL.CARD_TITLE)),(0,z.tZ)(s.nvN,{size:"small",sx:{marginBottom:"12px"}},r(WL.DESCRIPTION[m],{date:p})),(0,z.tZ)(s.zxk,{sx:{marginRight:"8px"},nature:"secondary",type:"button",onClick:()=>{(0,je.Yk)(_,{type:"subscriptionManagement",action:"restartPlan"}),(0,OL.FI)(i.data)}},r(WL.RESTART_BUTTON)),(0,z.tZ)(s.zxk,{nature:"secondary",type:"button",onClick:()=>{(0,je.Yk)(o.userGoPlans,{type:"subscriptionManagement",action:"goToPlans"})}},r(WL.PLANS_BUTTON)),l?(0,z.tZ)(s.nvN,{size:"small",sx:{borderTop:`1px solid ${s.O9T.grey04}`,marginTop:"40px",paddingTop:"20px"}},C,(0,z.tZ)(s.rUS,{role:"button",sx:{color:s.O9T.midGreen00,fontWeight:400},onClick:async()=>{e(lP.REFUND_PENDING);const t=await g.C.requestRefund({dryRun:!1});e(t.success?lP.REFUND_COMPLETE:lP.REFUND_FAILURE)}},w),y," ",r.markup(WL.FOOTER.POLICY,{policyLink:Oo.sz},{linkTarget:FL.MF})):null)},VL="manage_subscription_cancel_section_warning_feature_dark_web",YL="manage_subscription_cancel_section_warning_feature_unlimited_devices",HL="manage_subscription_cancel_section_warning_feature_vpn",qL={advanced:{descriptionText:"manage_subscription_cancel_section_with_survey_desc_advanced_markup",warningText:"manage_subscription_cancel_section_with_survey_warning_advanced_markup",keepButtonText:"manage_subscription_cancel_section_button_keep_advanced",featureList:[YL,VL]},essentials:{descriptionText:"manage_subscription_cancel_section_with_survey_desc_essentials_markup",warningText:"manage_subscription_cancel_section_with_survey_warning_essentials_markup",keepButtonText:"manage_subscription_cancel_section_button_keep_essentials",featureList:[YL,VL]},family:{descriptionText:"manage_subscription_cancel_section_with_survey_desc_family_markup",warningText:"manage_subscription_cancel_section_with_survey_warning_family_markup",keepButtonText:"manage_subscription_cancel_section_button_keep_family",featureList:[YL,VL,HL]},premium:{descriptionText:"manage_subscription_cancel_section_with_survey_desc_premium_markup",warningText:"manage_subscription_cancel_section_with_survey_warning_premium_markup",keepButtonText:"manage_subscription_cancel_section_button_keep_premium",featureList:[YL,VL,HL]}},{grey00:QL,grey03:XL}=s.O9T,KL="https://support.dashlane.com",JL="mailto:support@dashlane.com",$L=({setCancellationStep:e,setSurveyAnswer:t,surveyAnswer:a})=>{const i=(0,zo.Y)(),{translate:o}=(0,j.Z)(),r=(0,it.w)("monetization_subscriptionCancelled_Survey");if((0,n.useEffect)((()=>{(0,O.N)(N.PageView.PlansManagementAskCancel)}),[]),i.status!==Ft.rq.Success||!i.data)return(0,z.tZ)(s.HoD,{color:s.O9T.midGreen00});const{endDate:l}=i.data,c=l?new Date(1e3*l):null,d=c?o.shortDate(c,ne._T.LL):"",{descriptionText:u,warningText:p,keepButtonText:m,featureList:_}=(h=(0,b.LF)(i.data),C=(0,b.sZ)(i.data),w=(0,b.ry)(i.data),h?qL.advanced:C?qL.essentials:w?qL.family:qL.premium);var h,C,w;const y={borderTop:`1px solid ${XL}`,width:"100%",marginBottom:"32px"},E={color:QL,backgroundColor:"rgba(217, 223, 224, 0.3)",marginLeft:"36px",padding:"4px",borderRadius:"4px"};return(0,z.tZ)(s.Zbd,{sx:{padding:"32px"}},(0,z.tZ)(s.X6q,{size:"small",sx:{marginBottom:"40px"}},o("manage_subscription_cancel_section_with_survey_card_title")),(0,z.tZ)(s.nvN,{sx:{marginBottom:"15px"}},o.markup(u,{date:d})),(0,z.tZ)(s.vDh,{severity:"warning",sx:{marginBottom:"32px"},title:(0,z.tZ)("p",null,o.markup(p,{date:d})," ",_.map(((e,t)=>{let a;return a=++t==_.length-1?" and ":t===_.length?".":", ",(0,z.tZ)("span",{key:`featureList${e}`},o(e),a)})))}),r&&(0,z.tZ)(n.Fragment,null,(0,z.tZ)("hr",{sx:y}),(0,z.tZ)(s.X6q,{size:"small",sx:{marginBottom:"40px"}},o("manage_subscription_cancel_section_with_survey_card_survey_title")),(0,z.tZ)(s.Eep,{value:a,name:"cancellationSurveyRadioGroup",onChange:e=>{t(e.currentTarget.value)},sx:{marginBottom:"40px"}},(0,z.tZ)(s.Ejs,{flexDirection:"column"},(0,z.tZ)(s.Y8K,{label:o("manage_subscription_cancel_section_with_survey_radio_label_didnt_work"),value:N.SurveyAnswer.AutofillDidntWorkAsExpected}),a===N.SurveyAnswer.AutofillDidntWorkAsExpected&&(0,z.tZ)(s.nvN,{size:"small",sx:E},o.markup("manage_subscription_cancel_section_with_survey_radio_desc_didnt_work_markup",{supportLink:KL,mailSupportLink:JL})),(0,z.tZ)(s.Y8K,{label:o("manage_subscription_cancel_section_with_survey_radio_label_tech_issues"),value:N.SurveyAnswer.ThereWereTooManyTechnicalIssues}),a===N.SurveyAnswer.ThereWereTooManyTechnicalIssues&&(0,z.tZ)(s.nvN,{size:"small",sx:E},o.markup("manage_subscription_cancel_section_with_survey_radio_desc_tech_issues_markup",{supportLink:KL,mailSupportLink:JL})),(0,z.tZ)(s.Y8K,{label:o("manage_subscription_cancel_section_with_survey_radio_label_too_expensive"),value:N.SurveyAnswer.DashlaneIsTooExpensive}),a===N.SurveyAnswer.DashlaneIsTooExpensive&&(0,z.tZ)(s.nvN,{size:"small",sx:E},o.markup("manage_subscription_cancel_section_with_survey_radio_desc_too_expensive_markup",{plansLink:"https://www.dashlane.com/plans"})),(0,z.tZ)(s.Y8K,{label:o("manage_subscription_cancel_section_with_survey_radio_label_doesnt_have_features_needed"),value:N.SurveyAnswer.DashlaneDoesntHaveTheFeaturesINeed}),a===N.SurveyAnswer.DashlaneDoesntHaveTheFeaturesINeed&&(0,z.tZ)(s.nvN,{size:"small",sx:E},o.markup("manage_subscription_cancel_section_with_survey_radio_desc_doesnt_have_features_needed_markup",{productBoardLink:"https://support.dashlane.com/hc/requests/new?req_type=product_idea"}))))),(0,z.tZ)(s.zxk,{sx:{marginRight:"8px"},nature:"secondary",type:"button","data-testid":"keepSubscriptionConfirmation",onClick:()=>{e(lP.SUBSCRIPTION),(0,OL.in)(N.CancelPlanStep.Abandon,i.data,a)}},o(m)),(0,z.tZ)(s.zxk,{type:"button",nature:"primary","data-testid":"cancelMySubscriptionConfirmation",onClick:async()=>{e(lP.CANCEL_PENDING);const t=await g.C.cancelAutoRenew();e(t.success?lP.CANCEL_COMPLETE:lP.CANCEL_FAILURE)}},o("manage_subscription_cancel_section_button_cancel")))},eP=({isRefund:e})=>{const t=(0,zo.Y)(),{translate:a}=(0,j.Z)(),i=e?"manage_subscription_refund_fail_title":"manage_subscription_cancel_failure_title",o=e?"manage_subscription_refund_fail_desc":"manage_subscription_cancel_failure_description";return(0,n.useEffect)((()=>{if(t.status===Ft.rq.Success&&t.data){const a=e?N.PageView.PlansManagementRefundError:N.PageView.PlansManagementCancelError,n=e?N.CancelPlanStep.SuccessCancelAndErrorRefund:N.CancelPlanStep.CancelError;(0,O.N)(a),(0,OL.in)(n,t.data)}}),[t]),t.status===Ft.rq.Success&&t.data?(0,z.tZ)(s.Zbd,{sx:{padding:"32px"}},(0,z.tZ)(s.X6q,{size:"small"},a(i)),(0,z.tZ)(s.nvN,{size:"small",sx:{margin:"40px 0"}},a(o)),(0,z.tZ)(s.zxk,{nature:"secondary",type:"button",onClick:()=>{(0,je.Yo)(Oo.h0),(0,OL.in)(N.CancelPlanStep.ContactSupport,t.data)}},a("manage_subscription_refund_fail_support_button"))):null},tP=()=>{const{translate:e}=(0,j.Z)();return(0,z.tZ)(s.Zbd,{sx:{alignItems:"center",display:"flex",flexDirection:"column",height:"420px",justifyContent:"center"}},(0,z.tZ)(s.HoD,{color:s.O9T.dashGreen00,size:"90px"}),(0,z.tZ)(s.nvN,{size:"small"},e("manage_subscription_refund_progress1")),(0,z.tZ)(s.nvN,{size:"small"},e("manage_subscription_refund_progress2")))},aP=()=>{const e=(0,zo.Y)(),{routes:t}=(0,J.Xo)(),{translate:a}=(0,j.Z)();return(0,n.useEffect)((()=>{e.status===Ft.rq.Success&&e.data&&((0,O.N)(N.PageView.PlansManagementRefundDone),(0,OL.in)(N.CancelPlanStep.SuccessRefund,e.data))}),[e]),e.status===Ft.rq.Success&&e.data?(0,z.tZ)(s.Zbd,{sx:{padding:"32px"}},(0,z.tZ)(s.X6q,{size:"small",sx:{marginBottom:"40px"}},a("manage_subscription_refund_success_title")),(0,z.tZ)(s.nvN,{size:"small",sx:{marginBottom:"20px"}},a("manage_subscription_refund_success_desc")),(0,z.tZ)(s.zxk,{nature:"secondary",type:"button",onClick:()=>{(0,je.Yk)(t.userGoPlans,{type:"subscriptionManagement",action:"goToPlans"})}},a("manage_subscription_refund_view_options_button"))):(0,z.tZ)(s.HoD,{color:s.O9T.midGreen00})};var nP,iP,oP,sP,rP;let lP;!function(e){e.SUBSCRIPTION="subscription",e.CANCEL_CONFIRM="cancelConfirm",e.CANCEL_COMPLETE="cancelComplete",e.CANCEL_FAILURE="cancelFailure",e.CANCEL_PENDING="cancelPending",e.REFUND_COMPLETE="refundComplete",e.REFUND_FAILURE="refundFailure",e.REFUND_PENDING="refundPending",e.INVOICE_LIST="invoiceList"}(lP||(lP={}));const cP=()=>{const[e,t]=(0,n.useState)(lP.SUBSCRIPTION),[a,i]=(0,n.useState)(void 0);return(0,n.useEffect)((()=>{(0,O.N)(N.PageView.PlansManagement)}),[]),n.createElement(s.Ejs,{sx:{background:s.O9T.dashGreen06,minHeight:"100%",overflowX:"scroll"}},n.createElement(n.Fragment,null,n.createElement(BL,{cancellationStep:e,setCancellationStep:t}),n.createElement(s.Ejs,{sx:{margin:"0 32px",width:"800px"}},e===lP.SUBSCRIPTION?n.createElement(n.Fragment,null,n.createElement(PL,{setCancellationStep:t}),n.createElement(ZL.I,{styles:{marginBottom:"16px",padding:"32px"}}),n.createElement(CL,{setCancellationStep:t})):null,e===lP.CANCEL_CONFIRM?n.createElement($L,{setSurveyAnswer:i,surveyAnswer:a,setCancellationStep:t}):null,[lP.CANCEL_PENDING,lP.REFUND_PENDING].includes(e)?nP||(nP=n.createElement(tP,null)):null,e===lP.CANCEL_FAILURE?iP||(iP=n.createElement(eP,{isRefund:!1})):null,e===lP.REFUND_FAILURE?oP||(oP=n.createElement(eP,{isRefund:!0})):null,e===lP.CANCEL_COMPLETE?n.createElement(GL,{surveyAnswer:a,setCancellationStep:t}):null,e===lP.REFUND_COMPLETE?sP||(sP=n.createElement(aP,null)):null,e===lP.INVOICE_LIST?rP||(rP=n.createElement(kL,null)):null)))},dP=({path:e})=>n.createElement(i.Vy,{path:e,component:cP});var uP=a(200514);const pP=({premiumStatus:e})=>{const{unseen:t,setAsSeen:a}=(0,Yo.m)(p.NotificationName.VpnProviderIsNowHotspot),{translate:n}=(0,j.Z)();if(!t)return null;const i=(0,z.tZ)(s.zxk,{nature:"secondary",onClick:a,key:"secondaryAction",size:"small",type:"button"},n("webapp_vpn_page_infobox_button"));return(0,z.tZ)(s.vDh,{sx:{"a:hover:not(:disabled)":{color:s.O9T.white},"a:not(:disabled)":{color:s.O9T.dashGreen03},marginBottom:"32px"},severity:s.BLW.STRONG,title:n.markup("webapp_vpn_page_infobox_title_markup"),actions:[i],iconSizePx:16,size:"descriptive",layout:"inline"},(0,z.tZ)(s.nvN,{size:"small",sx:{color:s.O9T.dashGreen05}},n.markup("webapp_vpn_page_infobox_message_markup",{hotspotShield:FL.Xj,plan:n(e&&(0,b.AF)(e)?"webapp_vpn_page_infobox_business":"webapp_vpn_page_infobox_premium")},{linkTarget:FL.MF})))};var mP,_P,gP=a(442138),hP=a(656326),bP=a(717425);const CP="webapp_vpn_page_access_hotspotshield_heading",wP="webapp_vpn_page_access_hotspotshield_text_markup",yP="webapp_vpn_page_install_hotspotshield_button",EP="webapp_vpn_page_install_hotspotshield_button_infobox_message",IP="webapp_vpn_page_install_hotspotshield_heading",NP="webapp_vpn_page_install_hotspotshield_text",fP=null!=(mP=FL.i9[null!=(_P=pN.os.getOSName())?_P:""])?mP:FL.gF,vP={opacity:"0.6",cursor:"not-allowed","&:hover:enabled":{backgroundColor:`${s.O9T.midGreen00}`,borderColor:`${s.O9T.midGreen00}`},"&:focus":{backgroundColor:`${s.O9T.midGreen00}`,borderColor:`${s.O9T.midGreen00}`}},SP=({stepNumber:e,vpnCredential:t})=>{const{translate:a}=(0,j.Z)(),{unseen:n,setAsSeen:i}=(0,Yo.m)(p.NotificationName.VpnHostpotshieldInstalled);if(null===n)return null;const o=a(n?IP:CP),r=n?gP.S.INITIAL:gP.S.COMPLETED,l=t&&(t.status===p.VpnAccountStatusType.Ready||t.status===p.VpnAccountStatusType.Activated);return(0,z.tZ)(hP.K,null,(0,z.tZ)(gP.V,{number:e,status:r,title:o,actions:n?(0,z.tZ)(s.ua7,{content:a(EP),placement:"top",sx:{width:"160px"}},(0,z.tZ)(s.zxk,{type:"button",sx:l?void 0:vP,onClick:l?()=>{i(),(0,bP.gq)(),(0,je.Yo)(fP)}:void 0},a(yP),(0,z.tZ)("div",{sx:{marginLeft:"8px"}},(0,z.tZ)(s.RTC,{color:s.O9T.white})))):null},n?(0,z.tZ)(s.nvN,{size:"small"},a(NP)):(0,z.tZ)(s.nvN,{size:"small"},a.markup(wP,{hotspotShield:fP},{linkTarget:FL.MF,onLinkClicked:bP.gq}))))},DP={marginTop:"8px"},xP=e=>e>0?DP:{},MP=({summary:e,parts:t})=>{const{translateWithMarkup:a}=(0,F.Y)();return(0,z.tZ)(s.UlM,null,(0,z.tZ)(s._Oh,null,a(e)),(0,z.tZ)(s.rN7,null,t?.map(((e,t)=>(0,z.tZ)(s.nvN,{sx:xP(t),size:"x-small",key:e.key},a(e))))))},TP={TITLE:{key:"webapp_vpn_page_faq_title"},GENERAL_SUMMARY:{key:"webapp_vpn_page_faq_general_summary"},GENERAL_DETAILS1:{key:"webapp_vpn_page_faq_general_details1"},GENERAL_DETAILS2_MARKUP:{key:"webapp_vpn_page_faq_general_details2_markup",params:{vpnReadMore:FL.EK}},HOTSPOT_SUMMARY:{key:"webapp_vpn_page_faq_hotspot_summary"},HOTSPOT_DETAILS:{key:"webapp_vpn_page_faq_hotspot_details"},SUPPORT_SUMMARY:{key:"webapp_vpn_page_faq_support_summary"},SUPPORT_DETAILS1_MARKUP:{key:"webapp_vpn_page_faq_support_details1_markup",params:{faq:FL.O7}},SUPPORT_DETAILS2_MARKUP:{key:"webapp_vpn_page_faq_support_details2_markup",params:{hotspotSupport:FL.En}}},AP=()=>{const{translate:e}=(0,j.Z)();return(0,z.tZ)("section",{sx:{marginTop:"32px"}},(0,z.tZ)(s.j49,{sx:{color:s.O9T.grey00}},e(TP.TITLE.key)),(0,z.tZ)(s.UQy,{sx:{marginTop:"16px"}},(0,z.tZ)(MP,{summary:TP.GENERAL_SUMMARY,parts:[TP.GENERAL_DETAILS1,TP.GENERAL_DETAILS2_MARKUP]}),(0,z.tZ)(MP,{summary:TP.HOTSPOT_SUMMARY,parts:[TP.HOTSPOT_DETAILS]}),(0,z.tZ)(MP,{summary:TP.SUPPORT_SUMMARY,parts:[TP.SUPPORT_DETAILS1_MARKUP,TP.SUPPORT_DETAILS2_MARKUP]})))};var kP,ZP,OP,LP=a(413597),PP=a(300697),zP=a.n(PP);a.p,s.O9T.white,zP()["--z-index-webapp-feature-onboarding-overlay"];const jP="webapp_vpn_page_credential_activate_eyebrow",RP=({lee:e})=>{const{translate:t}=(0,j.Z)(),a=(0,zo.Y)(),o=(0,Qo.Qy)(),{showVpnPage:r,vpnPageAccessLoading:l}=(0,LP.q4)(),{routes:c}=(0,J.Xo)();return(0,n.useEffect)((()=>{r&&(0,O.N)(N.PageView.ToolsVpn)}),[r]),a.status!==Ft.rq.Success||l?null:r?(0,z.tZ)(Lg,{lee:e},(0,z.tZ)(BC.QR,{mode:"fullscreen",paywall:BC.qd.Vpn},(0,z.tZ)(s.Ejs,{flexDirection:"column",sx:{bg:s.O9T.dashGreen06,paddingTop:"16px",height:"100%",overflowY:"scroll",flexWrap:"nowrap"}},(0,z.tZ)(Kp,{startWidgets:()=>(0,z.tZ)(s.Ejs,{flexDirection:"column"},(0,z.tZ)(s.X6q,null,t("webapp_vpn_page_title"))),endWidget:(0,z.tZ)(n.Fragment,null,kP||(kP=(0,z.tZ)(fm,null)),ZP||(ZP=(0,z.tZ)(D_,null)))}),(0,z.tZ)(s.Ejs,{flexDirection:"column",sx:{padding:"0px 32px"}},(0,z.tZ)(pP,{premiumStatus:a.data}),(0,z.tZ)("section",null,(0,z.tZ)(s.j49,{sx:{color:s.O9T.grey00}},t(jP)),(0,z.tZ)(uP.L,{stepNumber:1,vpnCredential:o}),(0,z.tZ)(SP,{stepNumber:2,vpnCredential:o})),OP||(OP=(0,z.tZ)(AP,null)))))):((0,i.uX)(c.userCredentials),null)},UP=({path:e})=>n.createElement(i.Vy,{path:e,component:RP});var BP;const FP=()=>BP||(BP=n.createElement("svg",{width:"320",height:"900",viewBox:"0 0 320 900",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("rect",{width:"320",height:"900",fill:"#D9E6E9"}),n.createElement("rect",{x:"46",y:"24",width:"191",height:"24",rx:"8",fill:"#CFE0E4"}),n.createElement("rect",{x:"46",y:"194",width:"191",height:"24",rx:"8",fill:"#CFE0E4"}),n.createElement("rect",{x:"46",y:"344",width:"191",height:"24",rx:"8",fill:"#CFE0E4"}),n.createElement("rect",{x:"46",y:"498",width:"191",height:"24",rx:"8",fill:"#CFE0E4"}),n.createElement("rect",{x:"46",y:"144",width:"191",height:"24",rx:"8",fill:"#CFE0E4"}),n.createElement("rect",{x:"46",y:"294",width:"191",height:"24",rx:"8",fill:"#CFE0E4"}),n.createElement("rect",{x:"46",y:"448",width:"191",height:"24",rx:"8",fill:"#CFE0E4"}),n.createElement("rect",{x:"46",y:"244",width:"191",height:"24",rx:"8",fill:"#CFE0E4"}),n.createElement("rect",{x:"46",y:"394",width:"191",height:"24",rx:"8",fill:"#CFE0E4"}),n.createElement("rect",{x:"46",y:"548",width:"191",height:"24",rx:"8",fill:"#CFE0E4"})));var WP;const GP=()=>WP||(WP=n.createElement("svg",{width:"1120",height:"900",viewBox:"0 0 1120 900",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("rect",{width:"1120",height:"900",fill:"white"}),n.createElement("rect",{x:"32",y:"145",width:"56",height:"36",rx:"4",fill:"#F5F4F3"}),n.createElement("rect",{x:"104",y:"145",width:"1064",height:"36",rx:"4",fill:"#F5F4F3"}),n.createElement("rect",{x:"32",y:"397",width:"56",height:"36",rx:"4",fill:"#F5F4F3"}),n.createElement("rect",{x:"104",y:"397",width:"1064",height:"36",rx:"4",fill:"#F5F4F3"}),n.createElement("rect",{x:"32",y:"649",width:"56",height:"36",rx:"4",fill:"#F5F4F3"}),n.createElement("rect",{x:"104",y:"649",width:"1064",height:"36",rx:"4",fill:"#F5F4F3"}),n.createElement("rect",{x:"32",y:"271",width:"56",height:"36",rx:"4",fill:"#F5F4F3"}),n.createElement("rect",{x:"104",y:"271",width:"1064",height:"36",rx:"4",fill:"#F5F4F3"}),n.createElement("rect",{x:"32",y:"523",width:"56",height:"36",rx:"4",fill:"#F5F4F3"}),n.createElement("rect",{x:"104",y:"523",width:"1064",height:"36",rx:"4",fill:"#F5F4F3"}),n.createElement("rect",{x:"32",y:"775",width:"56",height:"36",rx:"4",fill:"#F5F4F3"}),n.createElement("rect",{x:"104",y:"775",width:"1064",height:"36",rx:"4",fill:"#F5F4F3"}),n.createElement("rect",{x:"32",y:"208",width:"56",height:"36",rx:"4",fill:"#F5F4F3"}),n.createElement("rect",{x:"104",y:"208",width:"1064",height:"36",rx:"4",fill:"#F5F4F3"}),n.createElement("rect",{x:"32",y:"460",width:"56",height:"36",rx:"4",fill:"#F5F4F3"}),n.createElement("rect",{x:"104",y:"460",width:"1064",height:"36",rx:"4",fill:"#F5F4F3"}),n.createElement("rect",{x:"32",y:"712",width:"56",height:"36",rx:"4",fill:"#F5F4F3"}),n.createElement("rect",{x:"104",y:"712",width:"1064",height:"36",rx:"4",fill:"#F5F4F3"}),n.createElement("rect",{x:"32",y:"334",width:"56",height:"36",rx:"4",fill:"#F5F4F3"}),n.createElement("rect",{x:"104",y:"334",width:"1064",height:"36",rx:"4",fill:"#F5F4F3"}),n.createElement("rect",{x:"32",y:"586",width:"56",height:"36",rx:"4",fill:"#F5F4F3"}),n.createElement("rect",{x:"104",y:"586",width:"1064",height:"36",rx:"4",fill:"#F5F4F3"}),n.createElement("rect",{x:"32",y:"838",width:"56",height:"36",rx:"4",fill:"#F5F4F3"}),n.createElement("rect",{x:"104",y:"838",width:"1064",height:"36",rx:"4",fill:"#F5F4F3"}),n.createElement("rect",{x:"32",y:"16",width:"125",height:"40",rx:"4",fill:"#F5F4F3"}),n.createElement("rect",{x:"169",y:"16",width:"125",height:"40",rx:"4",fill:"#F5F4F3"}),n.createElement("rect",{x:"306",y:"16",width:"125",height:"40",rx:"4",fill:"#F5F4F3"}),n.createElement("rect",{x:"443",y:"16",width:"125",height:"40",rx:"4",fill:"#F5F4F3"}),n.createElement("rect",{x:"995",y:"16",width:"125",height:"40",rx:"4",fill:"#F5F4F3"})));var VP,YP;const HP=()=>n.createElement("div",{style:{height:"100vh",whiteSpace:"nowrap"}},VP||(VP=n.createElement(FP,null)),YP||(YP=n.createElement(GP,null)));var qP;const QP=({onPrimaryButtonAction:e,onSecondaryButtonAction:t})=>{const{translate:a}=(0,j.Z)();return(0,z.tZ)(n.Fragment,null,qP||(qP=(0,z.tZ)(s.Std,{size:96})),(0,z.tZ)(s.$N8,{id:"dialogTitle",title:a("webapp_two_factor_authentication_enforcement_dialog_title")}),(0,z.tZ)(s.a7O,null,(0,z.tZ)(s.nvN,{color:s.O9T.grey00},a("webapp_two_factor_authentication_enforcement_dialog_description_1")),(0,z.tZ)(s.nvN,{color:s.O9T.grey00,sx:{marginTop:"20px"}},a("webapp_two_factor_authentication_enforcement_dialog_description_2"))),(0,z.tZ)(s.cNS,{primaryButtonTitle:a("webapp_two_factor_authentication_enforcement_dialog_action"),primaryButtonOnClick:e,secondaryButtonTitle:a("webapp_logout_dialog_confirm"),secondaryButtonOnClick:t}))};let XP;var KP;!function(e){e.FIREFOX="Firefox",e.CHROME="Google Chrome",e.CHROMIUM_EDGE="Microsoft Edge"}(XP||(XP={}));const JP=()=>{const[e,t]=(0,n.useState)(!0),a=jp(),o=(0,i.k6)(),{routes:r}=(0,J.Xo)(),{logout:l}=(0,Gi.u7)(Jp.authenticationFlowApi);(0,n.useEffect)((()=>{a&&e&&(0,O.N)(N.PageView.LoginEnforce2faBusiness)}),[a,e]);const{openTwoFactorAuthenticationEnablerDialog:c}=vc({onDialogStateChanged:e=>{e||t(!0)},onSuccess:()=>{o.push(r.userCredentials)}});return(0,z.tZ)(n.Fragment,null,KP||(KP=(0,z.tZ)("div",{id:"dashlane-dialog"})),(0,z.tZ)(s.VqE,{isOpen:e,onClose:()=>{t(!0)},ariaLabelledby:"dialogTitle",ariaDescribedby:"dialogBody",disableEscapeKeyClose:!0,disableOutsideClickClose:!0},(0,z.tZ)("div",{sx:{maxWidth:"640px"}},(0,z.tZ)(QP,{onPrimaryButtonAction:()=>{nl(),c(),t(!1)},onSecondaryButtonAction:()=>{l()}}))))};var $P;const ez=()=>{const e=(0,i.k6)(),{routes:t}=(0,J.Xo)();return(0,n.useEffect)((()=>{(async()=>{const a=await(async()=>await g.C.getTwoFactorAuthenticationInfo())();(a.status!==p.TwoFactorAuthenticationInfoRequestStatus.READY||a.status===p.TwoFactorAuthenticationInfoRequestStatus.READY&&!a.shouldEnforceTwoFactorAuthentication)&&e.push(t.userCredentials)})()}),[]),$P||($P=(0,z.tZ)(fe.D,null,(0,z.tZ)(HP,null),(0,z.tZ)(qa.r,null,(0,z.tZ)(JP,null))))},tz=({path:e})=>n.createElement(i.Vy,{path:`${e}/enforce`,component:ez});var az=a(737148);let nz;!function(e){e.DASH="DASH",e.CSV="CSV",e.DIRECT="DIRECT"}(nz||(nz={}));const iz={"1password":N.ImportSource.Source1password,bitwarden:N.ImportSource.SourceBitwarden,chrome:N.ImportSource.SourceChrome,dash:N.ImportSource.SourceDash,edge:N.ImportSource.SourceEdge,firefox:N.ImportSource.SourceFirefox,keepass:N.ImportSource.SourceKeepass,keeper:N.ImportSource.SourceKeeper,lastpass:N.ImportSource.SourceLastpass,other:N.ImportSource.SourceOther,safari:N.ImportSource.SourceSafari};let oz;!function(e){e.DIRECT="direct",e.FILE="file"}(oz||(oz={})),p.ImportFormats.Csv,N.BackupFileType.Csv,p.ImportFormats.Dash,N.BackupFileType.SecureVault;const sz=(e,t,a)=>{(0,O.K)(new N.UserImportDataEvent({backupFileType:e,importDataStatus:N.ImportDataStatus.FailureDuringImport,importSource:iz[t],importDataStep:N.ImportDataStep.PreviewItemsToImport,itemsToImportCount:a}))},rz=e=>{(0,O.K)(new N.UserOpenHelpCenterEvent({helpCenterArticleCta:e}))};let lz;!function(e){e.IDLE="idle",e.PROCESSING="processing",e.ERROR_GENERIC="error",e.SUCCESS="success"}(lz||(lz={}));const cz=()=>{throw new Error("method called before initialization")},dz=n.createContext({preview:{previewFile:cz,processFile:cz,resetState:cz,setAttemptedCount:cz,state:{format:null,fileName:"",file:null,requiresPassword:!1,attemptedItemCount:0}},import:{startImport:cz,dismiss:cz,state:{status:lz.IDLE}},importSource:p.ImportSource.Other,setImportSource:cz,previewDataItems:{},setPreviewDataItems:cz,previewDataHeaders:[],setPreviewDataHeaders:cz,resetContext:cz,defaultSpace:null,setDefaultSpace:cz}),uz=({children:e})=>{const t=(()=>{const[e,t]=(0,n.useState)(null),[a,i]=(0,n.useState)(""),[o,s]=(0,n.useState)(null),[r,l]=(0,n.useState)(!1),[c,d]=(0,n.useState)(0),u=async(t,n)=>{if(!o||!e||!a)throw new Error("Need to process file first");const i=await(e=>new Promise(((t,a)=>{const n=new FileReader;n.readAsText(e,"UTF-8"),n.onload=function(e){e.target&&"string"==typeof e.target.result&&t(e.target.result)},n.onerror=a})))(e);switch(o){case p.ImportFormats.Csv:return{content:{importSource:t,data:i},format:o,name:a};case p.ImportFormats.Dash:if(!n)throw new Error("Password required for DASH file");return{content:{importSource:t,data:i},format:o,name:a,password:n};default:(0,Ke.U)(o)}};return{previewFile:async(e,t)=>{const a=await u(e,t),n=await g.C.previewPersonalData(a);return n.success||o===p.ImportFormats.Dash&&n.error===p.PreviewPersonalDataErrorType.BadPassword&&(0,O.K)(new N.UserImportDataEvent({backupFileType:N.BackupFileType.SecureVault,importDataStatus:N.ImportDataStatus.WrongFilePassword,importSource:iz[p.ImportSource.Dash],importDataStep:N.ImportDataStep.SelectFile})),n},processFile:e=>{const a=(e=>{const t=e.name.toUpperCase();if(t.endsWith(".DASH"))return p.ImportFormats.Dash;if(t.endsWith(".CSV"))return p.ImportFormats.Csv;throw new Error("Unsupported")})(e);t(e),s(a),i(e.name),a===p.ImportFormats.Dash&&l(!0)},resetState:()=>{t(null),i(""),s(null),l(!1),d(0)},setAttemptedCount:d,state:{format:o,fileName:a,file:e,requiresPassword:r,attemptedItemCount:c}}})(),a=(()=>{const[e,t]=(0,n.useState)({status:lz.IDLE}),a=(()=>{const e=(0,Ft.qr)({queryConfig:{queryParam:void 0,query:g.C.getImportPersonalDataStatus},liveConfig:{live:g.C.liveImportPersonalDataStatus}},[]);return e.status===Ft.rq.Success?e.data:void 0})();(0,n.useEffect)((()=>{if(!a)return;const n=(e=>{switch(e.status){case p.ImportPersonalDataStateType.Error:return{status:lz.ERROR_GENERIC,name:e.name};case p.ImportPersonalDataStateType.Idle:return{status:lz.IDLE};case p.ImportPersonalDataStateType.Processing:return{status:lz.PROCESSING,name:e.name};case p.ImportPersonalDataStateType.Success:return{status:lz.SUCCESS,name:e.name,totalCredentials:e.totalCount,importedCredentials:e.successCount,duplicateCredentials:e.duplicateCount}}(0,Ke.U)(e)})(a);n&&e.status!==n.status&&t(n)}),[a]);const i=(0,n.useCallback)((async(e,a,n)=>{const i=await g.C.importPersonalData(e);return i.success||(t({status:lz.ERROR_GENERIC,name:e.name}),n&&a&&sz(n,a,e.content.length)),i}),[]),o=(0,n.useCallback)((()=>{g.C.dismissPersonalDataImportNotifications(),t({status:lz.IDLE})}),[]);return{startImport:i,state:e,dismiss:o}})(),[i,o]=(0,n.useState)(p.ImportSource.Other),[s,r]=(0,n.useState)({}),[l,c]=(0,n.useState)([]),[d,u]=(0,n.useState)(null);return n.createElement(dz.Provider,{value:{preview:t,import:a,importSource:i,setImportSource:o,previewDataItems:s,setPreviewDataItems:r,previewDataHeaders:l,setPreviewDataHeaders:c,resetContext:()=>{t.resetState(),a.dismiss(),o(p.ImportSource.Other),u(null),r({}),c([])},defaultSpace:d,setDefaultSpace:u}},e)},pz=()=>n.useContext(dz),mz=75,_z={verticalAlign:"middle",textAlign:"left",backgroundClip:"padding-box",borderBottomWidth:"1px",borderBottomStyle:"solid",borderBottomColor:"ds.border.neutral.quiet.idle",minWidth:300,maxWidth:300,maxHeight:75,height:75,minHeight:75},gz={color:"ds.text.neutral.quiet",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden",padding:"12px",maxHeight:75,"&:hover":{whiteSpace:"break-spaces",overflow:"auto"}},hz={..._z,paddingY:0,paddingX:"24px",position:"sticky",top:0,backgroundColor:"ds.container.agnostic.neutral.standard",height:"50px",zIndex:"2"},bz={maxHeight:mz,height:mz,minHeight:mz};var Cz=a(590898),wz=a(982054);const yz={KWAuthentifiant:(0,we.tZ)(we.JO,{name:"ItemLoginFilled",size:"small",color:"ds.text.neutral.standard"}),KWSecureNote:(0,we.tZ)(we.JO,{name:"ItemSecureNoteFilled",size:"small",color:"ds.text.neutral.standard"}),KWBankStatement:(0,we.tZ)(we.JO,{name:"ItemBankAccountFilled",size:"small",color:"ds.text.neutral.standard"}),KWPaymentMean_creditCard:(0,we.tZ)(we.JO,{name:"ItemPaymentFilled",size:"small",color:"ds.text.neutral.standard"}),DoNotImport:null},Ez={KWAuthentifiant:"webapp_import_item_type_login",KWSecureNote:"webapp_import_item_type_secure_note",KWBankStatement:"webapp_import_item_type_bank",KWPaymentMean_creditCard:"webapp_import_item_type_payment",DoNotImport:"webapp_import_item_type_do_not_import"},Iz=(0,n.memo)((({wrapperRef:e,tableData:t,tableHeaders:a,disabledItemRows:i,spaceList:o,handleItemTypeChange:r,handleSpaceSelectChange:l})=>{var d;const[u,p]=(0,n.useState)(0),[m,_]=(0,n.useState)(0),[g,h]=(0,n.useState)(0),{translate:b}=(0,j.Z)(),C=null!=(d=e.current?.clientHeight)?d:1,w=Math.floor(4*C/75),y=1+a.length+(o.length?1:0),E=(0,n.useMemo)((()=>Object.keys(Ez).reduce(((e,t)=>({...e,[t]:{value:t,label:(0,we.tZ)(s.Ejs,{alignItems:"center"},yz[t],(0,we.tZ)("span",{sx:{marginLeft:2}},b(Ez[t])))}})),{})),[b]),I=b("webapp_form_field_personal_space"),N=(0,n.useMemo)((()=>[...o.reduce(((e,t)=>[...e,{value:t.teamId,label:(0,we.tZ)(s.Ejs,{alignItems:"center"},(0,we.tZ)(T,{space:{...t,id:t.teamId,name:t.teamName}}),(0,we.tZ)("span",{sx:{marginLeft:2}},t.teamName))}]),[]),{value:"",label:(0,we.tZ)(s.Ejs,{alignItems:"center"},(0,we.tZ)(T,{space:{id:"",name:I,letter:I[0]}}),(0,we.tZ)("span",{sx:{marginLeft:2}},I))}]),[I,o]),f=({position:e})=>{const a="start"===e?u*mz:(t.length-m)*mz;return(0,we.tZ)("tr",{key:`${e}-loader`,sx:{height:a}},(0,we.tZ)("td",{colSpan:y},(0,we.tZ)(wz.h,{width:"100%",height:a})))},v=(0,n.useCallback)((e=>{const a=Math.floor(e-w-C/2),n=Math.floor(Math.max(0,Math.floor(a/mz))),i=Math.max(n+w,1),o=Math.floor(Math.min(i,t.length));p(n),_(o)}),[C,w,t.length]);return(0,n.useEffect)((()=>{v(g)}),[g,v]),(0,n.useEffect)((()=>{const t=e.current,a=(0,X.throttle)((()=>{const t=e.current?.scrollTop;void 0!==t&&h(t)}),1e3);return t?.addEventListener("scroll",a),()=>{t?.removeEventListener("scroll",a)}}),[v,e]),(0,we.tZ)("tbody",null,0!==u?(0,we.tZ)(f,{position:"start"}):null,t.slice(u,m).filter((([,e])=>e.baseDataModel.kwType!==c.DataModelType.KWCollection)).map((e=>{var t,n;const[d,u]=e;return(0,we.tZ)("tr",{sx:bz,key:u.baseDataModel.Id},(0,we.tZ)("td",{sx:_z},(0,we.tZ)("div",{sx:gz},(0,we.tZ)(s.qWE,{menuPortalTarget:document.body,isSearchable:!1,onChange:e=>{r(d,c.DataModelType[e.value])},defaultValue:E[null!=(t=u.baseDataModel.kwType)?t:c.DataModelType.KWSecureNote],options:Object.values(E)}))),o.length?(0,we.tZ)("td",{sx:_z},(0,we.tZ)("div",{sx:gz},(0,we.tZ)(s.qWE,{name:"spaceSelect",menuPortalTarget:document.body,isSearchable:!1,options:N,defaultValue:void 0!==u.baseDataModel.SpaceId?null!=(n=N.find((e=>e.value===u.baseDataModel.SpaceId)))?n:N[0]:void 0,isDisabled:i.includes(d),onChange:e=>l(d,e.value)}))):null,a.map((e=>e.matched?(0,we.tZ)("td",{sx:_z,key:e.original},(0,we.tZ)("div",{sx:gz},((e,t,a)=>{let n=e.matched?t.baseDataModel[e.matched]:t.rawData[e.original];switch(n||(n="--"),e.matched){case"Password":n=t.baseDataModel[e.matched]?(0,we.tZ)(Cz.h,{passwordInputProps:{readOnly:!0,value:t.baseDataModel[e.matched],hidePasswordTooltipText:a("_common_password_hide_label"),showPasswordTooltipText:a("_common_password_show_label")}}):null;break;case"Note":t.baseDataModel.kwType===c.DataModelType.KWSecureNote&&t.baseDataModel.Content&&(n=t.baseDataModel.Content)}return n})(e,u,b))):null)))})),m!==t.length?(0,we.tZ)(f,{position:"end"}):null)}));var Nz,fz,vz,Sz;const Dz={Url:"webapp_import_preview_header_url",Login:"webapp_import_preview_header_login",Password:"webapp_import_preview_header_password",OtpSecret:"webapp_import_preview_header_otp",Note:"webapp_import_preview_header_notes",Title:"webapp_import_preview_header_name",kwType:"webapp_import_preview_header_type",SpaceId:"webapp_import_preview_header_space",Other:"webapp_import_preview_header_other",CardNumber:"webapp_import_preview_header_card_number",OwnerName:"webapp_import_preview_header_card_owner",SecurityCode:"webapp_import_preview_header_card_security_code",ExpireMonth:"webapp_import_preview_header_card_expiry_month",ExpireYear:"webapp_import_preview_header_card_expiry_year",BankAccountName:"webapp_import_preview_header_bank_name",BankAccountIBAN:"webapp_import_preview_header_bank_IBAN_account_number",BankAccountBIC:"webapp_import_preview_header_bank_SWIFT_routing_number"},xz=({tableHeaders:e,tableData:t,setTableData:a,setHasChanges:i})=>{const o=(0,n.useRef)(null),r=(0,n.useRef)(null),l=(0,Ki.E)(),d=(0,on.nO)(),{defaultSpace:u}=pz(),[p,m]=(0,n.useState)([]),[_,g]=(0,n.useState)(!1),[h,b]=(0,n.useState)(!0),[C,w]=(0,n.useState)([]),y=(0,n.useMemo)((()=>{const e=new Map;return l.status===Gi.rq.Success&&l.data.forEach((t=>{var a;t.info?.forcedDomainsEnabled&&(_||g(!0),e.set(t.teamId,null!=(a=t.info?.teamDomains)?a:[]))})),e}),[_,l]),{translate:E}=(0,j.Z)();return(0,n.useEffect)((()=>{l.status===Gi.rq.Success&&m(l.data),l.status!==Gi.rq.Loading&&b(!1)}),[y,_,l]),(0,n.useEffect)((()=>{h||Object.keys(t).forEach((e=>{const n=t[e];if(!n)return;const i=n.baseDataModel.Url,o=n.baseDataModel.Email,s=n.baseDataModel.Login,r=i||o||s,l=n.baseDataModel.SpaceId;let c=null!=u?u:l;if(r){const t=d?new an.ParsedURL(i).getRootDomain():(0,tn.extractRootDomain)(i),a=d?new an.ParsedURL(o).getRootDomain():(0,tn.extractRootDomain)(o),n=d?new an.ParsedURL(s).getRootDomain():(0,tn.extractRootDomain)(s);for(const[i,o]of y)if(o.includes(t)||o.includes(a)||o.includes(n)){c=i,w((t=>[...t,e]));break}}l!==c&&(n.baseDataModel.SpaceId=c,a((t=>({...t,[e]:n}))))}))}),[u,y,h]),h?Nz||(Nz=(0,we.tZ)($e.Z,null)):(0,we.tZ)("div",{sx:{display:"inline-grid",position:"relative",marginY:"24px"}},(0,we.tZ)("div",{ref:o,sx:{overflow:"auto",scrollSnapType:"x mandatory",maxHeight:"50vh"},role:"region","aria-label":"Import Data Table"},(0,we.tZ)("table",{ref:r,sx:{width:"100%"}},(0,we.tZ)("thead",{sx:{position:"sticky",zIndex:1}},(0,we.tZ)("tr",null,(0,we.tZ)("th",{sx:hz},(0,we.tZ)(s.j49,{size:"medium"},E(Dz.kwType)),(0,we.tZ)(s.ua7,{content:(0,we.tZ)("div",null,E("webapp_import_preview_item_type_tooltip")),placement:"top"},(0,we.tZ)(s.hU,{sx:{verticalAlign:"middle"},"aria-label":E(Dz.kwType),icon:fz||(fz=(0,we.tZ)(s.uMt,null))}))),p.length?(0,we.tZ)("th",{sx:hz},(0,we.tZ)(s.j49,{size:"medium"},E(Dz.SpaceId)),(0,we.tZ)(s.ua7,{content:(0,we.tZ)("div",null,_?E("webapp_import_preview_smart_space_tooltip"):E.markup("webapp_import_preview_space_tooltip_markup",{spaceName:p[0].teamName})),placement:"top"},(0,we.tZ)(s.hU,{sx:{verticalAlign:"middle"},"aria-label":E(Dz.SpaceId),icon:vz||(vz=(0,we.tZ)(s.uMt,null))}))):null,e.map((e=>e.matched?(0,we.tZ)("th",{sx:hz,key:e.original},(0,we.tZ)(s.j49,{size:"medium"},Dz[e.matched]?E(Dz[e.matched]):E(Dz.Other)),Sz||(Sz=(0,we.tZ)("br",null)),(0,we.tZ)(s.nvN,{size:"small",sx:{fontSize:"10px"}},e.original?`(${e.original})`:"")):null)))),(0,we.tZ)(Iz,{wrapperRef:o,tableData:Object.entries(t),tableHeaders:e,disabledItemRows:C,spaceList:p,handleItemTypeChange:(e,n)=>{const o=t[e];o&&(n===c.DataModelType.KWSecureNote&&(o.rawData.Content?o.baseDataModel.Content=o.rawData.Content:o.baseDataModel.Content=Object.entries(o.rawData).reduce(((e,[t,a])=>a?e+` ${t}: ${a} \n`:""),"")),o.baseDataModel.kwType="DoNotImport"!==n?n:void 0,a((t=>({...t,[e]:o}))),i(!0))},handleSpaceSelectChange:(e,n)=>{const o=t[e];o&&(o.baseDataModel.SpaceId=n,a((t=>({...t,[e]:o}))),i(!0))}}))))};var Mz=a(161488);const Tz=()=>{},Az=({isOpen:e,showCloseIcon:t})=>{const{translate:a}=(0,j.Z)();return(0,we.tZ)(os.o,{isOpen:e,onRequestClose:Tz,showCloseIcon:t,disableOutsideClickClose:!0,disableBackgroundPanelClose:!0},(0,we.tZ)(s.a7O,null,(0,we.tZ)(s.Ejs,{flexDirection:"column",alignContent:"center",justifyContent:"center",alignItems:"center",gap:"25px"},(0,we.tZ)(s.HoD,{size:88,"aria-hidden":"true",color:s.O9T.dashGreen01}),(0,we.tZ)(s.nvN,null,a("webapp_import_chrome_loader")))))},kz=a.p+"e36c66ccea00e4397aa2.png",Zz=a.p+"c072da7dadc141863465.png",Oz=a.p+"3f9bf215a24b52c52cd3.png",Lz=a.p+"ecc88b88a899d260b7ea.png",Pz=a.p+"74678b45fa3a5c928e43.png",zz=a.p+"3bc2dd33e8396ecbd585.png",jz=a.p+"3c3062f7c9a4b4cab36d.png",Rz=a.p+"a399bc830d5b92133b25.png",Uz=a.p+"6ca955729a6ce5fcd04b.png",Bz=a.p+"5d4cab2bf4f2e2dfecc0.png",Fz=a.p+"54b11776a021b0f5c73c.png",Wz=[az.ImportSource.Lastpass];let Gz;!function(e){e.LastPass="lastpass"}(Gz||(Gz={}));const Vz={[az.ImportSource["1Password"]]:"",[az.ImportSource.Bitwarden]:"",[az.ImportSource.Chrome]:"",[az.ImportSource.Dash]:"",[az.ImportSource.Edge]:"",[az.ImportSource.Firefox]:"",[az.ImportSource.Keepass]:"",[az.ImportSource.Keeper]:"",[az.ImportSource.Lastpass]:Gz.LastPass,[az.ImportSource.Other]:"",[az.ImportSource.Safari]:""};var Yz,Hz;const qz={CSV:{STEP_TITLE:"webapp_account_import_select_csv_step_title",STEP_TITLE_SPACES:"webapp_account_import_select_csv_step_title_spaces",STEP_ONE:"webapp_account_import_select_csv_step1",STEP_TWO:"webapp_account_import_select_csv_step2",STEP_TWO_SPACES:"webapp_account_import_select_csv_space_step2",STEP_THREE_SPACES:"webapp_account_import_select_csv_preview_step3",HELP_LINK:"webapp_account_import_select_csv_help_markup"},DASH:{STEP_TITLE:"webapp_account_import_select_dash_step_title",STEP_ONE:"webapp_account_import_select_dash_step1",STEP_TWO:"webapp_account_import_select_dash_step2",HELP_LINK:"webapp_account_import_select_dash_help_markup"},DIRECT:{STEP_TITLE:"webapp_account_import_select_direct_title",STEP_ONE:"webapp_account_import_select_direct_step1",STEP_TWO:"webapp_account_import_select_direct_step2",STEP_THREE:"webapp_account_import_select_csv_preview_step3"}},Qz={"1password":"https://support.dashlane.com/hc/articles/7864226708882",bitwarden:"https://support.dashlane.com/hc/articles/7865404063122",chrome:"https://support.dashlane.com/hc/articles/7874222410770",dash:"https://support.dashlane.com/hc/articles/7874554196626",edge:"https://support.dashlane.com/hc/articles/7874164777618",firefox:"https://support.dashlane.com/hc/articles/7874287780626",keepass:"https://support.dashlane.com/hc/articles/7865061516434",keeper:"https://support.dashlane.com/hc/articles/7865510731666",lastpass:"https://support.dashlane.com/hc/articles/7865163497618",other:"https://support.dashlane.com/hc/articles/360004101920#csv",safari:"https://support.dashlane.com/hc/articles/7874371120274"},Xz={"1password":kz,bitwarden:Zz,chrome:Pz,dash:Lz,edge:Rz,firefox:zz,keepass:Uz,keeper:Bz,lastpass:Fz,other:Oz,safari:jz},Kz={"1password":"webapp_account_import_source_label_1password",bitwarden:"webapp_account_import_source_label_bitwarden",chrome:"webapp_account_import_source_label_chrome",dash:"webapp_account_import_source_label_dash",edge:"webapp_account_import_source_label_edge",firefox:"webapp_account_import_source_label_firefox",keepass:"webapp_account_import_source_label_keepass",keeper:"webapp_account_import_source_label_keeper",lastpass:"webapp_account_import_source_label_lastpass",other:"webapp_account_import_source_label_csv",safari:"webapp_account_import_source_label_safari"},Jz=()=>{const{translate:e}=(0,j.Z)(),t=(0,i.k6)(),{importSource:a,setImportSource:o,resetContext:r}=pz(),l=(0,it.w)("onboarding_web_directimport_lp_dev"),[c,d]=(0,n.useState)(""),[u,p]=(0,n.useState)([]),m=(0,Ki.E)(),_=u.length>0&&c===nz.CSV,g=c===nz.DIRECT,h=l,b=h&&Wz.includes(a),C=Object.values(az.ImportSource).map((t=>{const a=Wz.includes(t)&&h?nz.DIRECT:nz.CSV;return{value:t===az.ImportSource.Dash?nz.DASH:a,source:t,label:(0,z.tZ)(s.Ejs,{alignItems:"center"},(0,z.tZ)("img",{alt:e(Kz[t]),height:24,sx:{borderRadius:"100%"},"aria-hidden":!0,src:Xz[t]}),(0,z.tZ)("span",{style:{marginLeft:5}},e(Kz[t])))}}));return(0,n.useEffect)((()=>{m.status===Ft.rq.Success&&p(m.data)}),[m]),(0,n.useEffect)((()=>{(0,O.N)(N.PageView.ImportSelectPasswordSource)}),[]),(0,n.useEffect)((()=>{r()}),[]),(0,z.tZ)(s.Ejs,{flexDirection:"column"},(0,z.tZ)(s.X6q,{size:"small"},e("webapp_account_import_source_header")),Yz||(Yz=(0,z.tZ)("br",null)),(0,z.tZ)(s.Ejs,{flexDirection:"column"},(0,z.tZ)(s.j49,{color:s.O9T.dashGreen01,size:"small"},e("webapp_account_import_source_dropdown_label")),(0,z.tZ)(s.qWE,{customStyles:{container:e=>({...e,maxWidth:"auto"})},id:"importSelect",isClearable:!1,isSearchable:!1,onChange:e=>{d(e.value),o(e.source)},options:C,placeholder:e("webapp_account_import_source_dropdown_placeholder")}),b?(0,z.tZ)(n.Fragment,null,(0,z.tZ)(s.X6q,{sx:{marginY:"12px"},size:"x-small"},e("webapp_account_import_source_method_header")),(0,z.tZ)(s.Eep,{value:c,onChange:e=>{const t=e.target.value;t in nz&&d(nz[t])}},(0,z.tZ)(s.Ejs,{flexDirection:"column"},(0,z.tZ)(s.Y8K,{"data-testid":"direct-import-method",label:e("webapp_account_import_source_option_direct_import",{source:e(Kz[a])}),value:nz.DIRECT}),(0,z.tZ)(s.Y8K,{"data-testid":"csv-import-method",label:e("webapp_account_import_source_option_csv"),value:nz.CSV})))):null,c?(0,z.tZ)(s.Ejs,{flexDirection:"column",sx:{maxWidth:"480px"}},(0,z.tZ)(s.X6q,{sx:{marginY:"12px"},size:"x-small"},_?e(qz[c].STEP_TITLE_SPACES):e(qz[c].STEP_TITLE,g?{source:e(Kz[a])}:{})),(0,z.tZ)(s.nvN,{color:s.O9T.grey00,sx:{marginBottom:"12px"}},(0,z.tZ)("ol",null,(0,z.tZ)("li",null,e(qz[c].STEP_ONE,g?{source:e(Kz[a])}:{})),(0,z.tZ)("li",null,_?e(qz[c].STEP_TWO_SPACES):e(qz[c].STEP_TWO,g?{source:e(Kz[a])}:{})),(0,z.tZ)("li",null,_?e(qz[c].STEP_THREE_SPACES):c===nz.DIRECT?e(qz.DIRECT.STEP_THREE):null))),g?(0,z.tZ)(we.ke,{sx:{marginY:"12px"},mood:"brand",title:e.markup("webapp_account_import_help_tip_infobox_markup",{supportLink:Qz[a],source:e(Kz[a])},{linkTarget:"_blank",onLinkClicked:()=>rz(N.HelpCenterArticleCta.LearnAboutCsvImportFormatting)})}):(0,z.tZ)(we.ke,{sx:{marginY:"12px"},mood:"neutral",title:e.markup(qz[c].HELP_LINK,{supportLink:Qz[a]},{linkTarget:"_blank",onLinkClicked:()=>rz(N.HelpCenterArticleCta.LearnAboutCsvImportFormatting)})})):null,(0,z.tZ)(s.Ejs,{flexDirection:"row",gap:4,sx:{marginTop:"12px"}},(0,z.tZ)(we.zx,{type:"button",mood:"brand",intensity:"catchy",onClick:()=>{c!==nz.DIRECT?((0,O.K)(new N.UserImportDataEvent({importSource:iz[a],backupFileType:c===nz.DASH?N.BackupFileType.SecureVault:N.BackupFileType.Csv,importDataStatus:N.ImportDataStatus.Start,importDataStep:N.ImportDataStep.SelectImportSource})),t.push(Hj.ImportSelect)):t.push(`${Hj.DirectImport}/${Vz[a]}`)},disabled:!c,layout:g?"iconTrailing":"labelOnly",icon:g?Hz||(Hz=(0,z.tZ)(we.JO,{name:"ActionOpenExternalLinkOutlined"})):void 0},g?(0,z.tZ)(n.Fragment,null,e("webapp_account_import_source_direct_import_button")," ",e(Kz[a])):e("webapp_account_import_source_get_started_button")))))};var $z,ej;const tj=()=>{const{preview:{state:e,setAttemptedCount:t},import:{startImport:a,state:o},importSource:r,previewDataItems:l,setPreviewDataItems:d,previewDataHeaders:u}=pz(),p=(0,i.k6)(),m=(0,ye.V)(),{translate:_}=(0,j.Z)(),g=(0,Ki.E)(),[h,b]=(0,n.useState)([]),[C,w]=(0,n.useState)(!1),[y,E]=(0,n.useState)(!1),I=h.length>0,f=I?3:2;(0,n.useEffect)((()=>{g.status===Ft.rq.Success&&b(g.data)}),[g]),(0,n.useEffect)((()=>{e.file||p.push(Hj.ImportSource)}),[p,e.file]);const v=(0,n.useCallback)((()=>{m.showAlert(_("team_feedback_notification_error_generic"),s.BLW.ERROR)}),[m,_]);(0,n.useEffect)((()=>{(0,O.N)(N.PageView.ImportCsvPreviewDataUpload)}),[]);const S=Object.values(l).filter((e=>e.baseDataModel.kwType&&e.baseDataModel.kwType!==c.DataModelType.KWCollection)).length;return(0,n.useEffect)((()=>{t(S)}),[S,t]),(0,n.useEffect)((()=>{switch(o.status){case lz.ERROR_GENERIC:return sz(N.BackupFileType.Csv,r,e.attemptedItemCount),void v();case lz.SUCCESS:return void p.push(Hj.ImportSummary)}}),[p,o.status,r,v,e.attemptedItemCount]),(0,z.tZ)(s.Ejs,{flexDirection:"column",gap:"10px"},C||o.status===lz.PROCESSING?$z||($z=(0,z.tZ)(Az,{showCloseIcon:!1,isOpen:!0})):null,(0,z.tZ)(Mz.X,{titleText:_("webapp_import_unsaved_changes_title"),bodyText:_("webapp_import_unsaved_changes_body"),onUnsavedChangesCaught:()=>(0,O.N)(N.PageView.ImportLeaveProcess),onLeavePage:()=>((e,t)=>{(0,O.K)(new N.UserImportDataEvent({importSource:iz[e],itemsToImportCount:t,backupFileType:N.BackupFileType.Csv,importDataStatus:N.ImportDataStatus.ImportFlowTerminated,importDataStep:N.ImportDataStep.PreviewItemsToImport,importDataDropAction:N.ImportDataDropAction.CancelProcess}))})(r,Object.keys(l).length),dirty:!!e.fileName&&o.status!==lz.SUCCESS&&y}),(0,z.tZ)(s.j49,null,_.markup("webapp_import_step_tracker_markup",{currentStep:`${f}`,totalSteps:`${f}`})),(0,z.tZ)(s.X6q,{size:"small"},_("webapp_import_preview_title")),(0,z.tZ)(s.nvN,null,_("webapp_import_preview_subtitle")),(0,z.tZ)("ul",{sx:{marginLeft:"24px",listStyle:"disc"}},(0,z.tZ)("li",null,_.markup("webapp_import_preview_tip_labels_markup")),(0,z.tZ)("li",null,_.markup("webapp_import_preview_tip_do_not_import_markup"))),Object.keys(l).length?(0,z.tZ)(xz,{setHasChanges:E,tableData:l,setTableData:d,tableHeaders:u}):null,(0,z.tZ)(s.Ejs,{gap:"16px"},(0,z.tZ)(we.zx,{onClick:()=>{p.push({pathname:I?Hj.ImportSpaceSelect:Hj.ImportSource,state:{userNavigatedAway:!0}})},type:"button",mood:"neutral",intensity:"quiet"},_("_common_action_back")),(0,z.tZ)(we.zx,{mood:"brand",intensity:"catchy",disabled:!S,type:"button",onClick:async()=>{w(!0);try{if(e.format){const t=r===az.ImportSource.Dash?N.BackupFileType.SecureVault:N.BackupFileType.Csv;(await a({format:e.format,name:e.fileName,content:Object.keys(l).map((e=>l[e].baseDataModel)).filter((e=>void 0!==e.kwType))},r,t)).success||v()}}finally{w(!1)}}},_.markup("webapp_import_preview_import_button_markup",{itemCount:S})),ej||(ej=(0,z.tZ)(s.k$b,{flex:1})),(0,z.tZ)(s.k$b,{as:s.rUS,alignSelf:"center",color:"ds.text.brand.standard",href:Qz[r],target:"_blank",onClick:()=>rz(N.HelpCenterArticleCta.TroubleshootImportingIssues)},_("webapp_import_preview_import_troubleshoot_link"))))};var aj,nj,ij=a(314922);const oj={cursor:"pointer",color:"ds.text.brand.standard",transition:"all 300ms ease",textDecoration:"underline"},sj={margin:"0px 8px",color:"ds.text.neutral.quiet","& em":oj},rj={color:"ds.text.danger.quiet","& em":oj},lj={textAlign:"center",width:"100%",paddingTop:"72px",paddingBottom:"72px",backgroundColor:"ds.container.agnostic.neutral.quiet",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",color:"ds.text.neutral.quiet","* > em":{fontStyle:"initial"}},cj={...lj,backgroundColor:"ds.container.expressive.brand.quiet.active"},dj="webapp_import_chrome_on_import_multi_error_message_markup",uj=({accept:e,idleMessage:t,fileSelectedMessage:a,onFileDropped:i,undoFileDropped:o,setErrorMessage:r,error:l="",setFileInvalid:c,importSource:d})=>{var u;const{translate:p}=(0,j.Z)(),[m,_]=(0,n.useState)([]),g=e.includes(".dash")?N.BackupFileType.SecureVault:N.BackupFileType.Csv,h=()=>{o?.(),_([])},b=null!=a?a:p("webapp_import_chrome_file_ready"),{getRootProps:C,getInputProps:w,isDragActive:y}=(0,ij.uI)({accept:e,multiple:!1,onDropAccepted:e=>{if(1!==e.length)return(0,O.K)(new N.UserImportDataEvent({backupFileType:g,importDataStatus:N.ImportDataStatus.MultipleFilesSelected,importSource:iz[d],importDataStep:N.ImportDataStep.SelectFile})),r(p.markup(dj)),void c(!0);const t=e[0];_([t].map((e=>e.name))),r(null),c(!1);try{i(t)}catch(e){r(p.markup("webapp_import_chrome_on_import_error_message_markup")),(0,O.K)(new N.UserImportDataEvent({backupFileType:g,importDataStatus:N.ImportDataStatus.WrongFileFormat,importSource:iz[d],importDataStep:N.ImportDataStep.SelectFile})),c(!0)}},onDropRejected:e=>{h(),e.length>1?((0,O.K)(new N.UserImportDataEvent({backupFileType:g,importDataStatus:N.ImportDataStatus.MultipleFilesSelected,importSource:iz[d],importDataStep:N.ImportDataStep.SelectFile})),r(p.markup(dj))):(r("dash"===d?p.markup("webapp_import_invalid_dash_file_error_markup"):p.markup("webapp_import_invalid_file_error_markup")),(0,O.K)(new N.UserImportDataEvent({backupFileType:g,importDataStatus:N.ImportDataStatus.WrongFileFormat,importSource:iz[d],importDataStep:N.ImportDataStep.SelectFile}))),c(!0)},noClick:m.length>0&&!l});return(0,z.tZ)("div",{...C(),sx:{padding:"8px",overflow:"hidden",border:"2px dashed",borderColor:"ds.border.brand.standard.idle",borderRadius:4},role:"button"},(0,z.tZ)("div",{sx:y?cj:lj},(0,z.tZ)("input",{id:"dropzoneinput","aria-labelledby":"dropzoneinput-label",...w()}),l||0!==m.length?null:(0,z.tZ)(s.nvN,{as:"span",id:"dropzoneinput-label",sx:sj},t),!l&&m?.length>0?(0,z.tZ)(s.Ejs,{flexDirection:"column",alignItems:"center"},m?.map((e=>(0,z.tZ)(n.Fragment,{key:e},u||(u=(0,z.tZ)(s.nvN,{color:"ds.text.neutral.quiet",size:"medium"},b)),(0,z.tZ)(s.Ejs,{as:s.nvN,alignItems:"center",gap:"4px",color:"ds.text.brand.standard",size:"medium",bold:!0},e,(0,z.tZ)(s.Two,{"aria-label":p("_common_action_cancel"),size:12,onClick:h,color:"ds.text.brand.standard",sx:{cursor:"pointer"}})))))):null,l?(0,z.tZ)(n.Fragment,null,aj||(aj=(0,z.tZ)(s.enX,{size:30,color:"ds.text.danger.quiet"})),nj||(nj=(0,z.tZ)("br",null)),(0,z.tZ)(s.nvN,{sx:rj},l)):null))};var pj;const mj={"1password":"webapp_account_import_select_1password_help_markup",bitwarden:"webapp_account_import_select_bitwarden_help_markup",chrome:"webapp_account_import_select_chrome_help_markup",dash:"webapp_account_import_select_dash_help_markup",edge:"webapp_account_import_select_edge_help_markup",firefox:"webapp_account_import_select_firefox_help_markup",keepass:"webapp_account_import_select_keepass_help_markup",keeper:"webapp_account_import_select_keeper_help_markup",lastpass:"webapp_account_import_select_lastpass_help_markup",other:"webapp_account_import_select_other_help_markup",safari:"webapp_account_import_select_safari_help_markup"},_j={"1password":"webapp_account_import_select_1password_error_info_markup",bitwarden:"webapp_account_import_select_bitwarden_error_info_markup",chrome:"webapp_account_import_select_chrome_error_info_markup",dash:"webapp_account_import_select_dash_error_info_markup",edge:"webapp_account_import_select_edge_error_info_markup",firefox:"webapp_account_import_select_firefox_error_info_markup",keepass:"webapp_account_import_select_keepass_error_info_markup",keeper:"webapp_account_import_select_keeper_error_info_markup",lastpass:"webapp_account_import_select_lastpass_error_info_markup",other:"webapp_account_import_select_other_error_info_markup",safari:"webapp_account_import_select_safari_error_info_markup"},gj=()=>{const[e,t]=(0,n.useState)(""),[a,i]=(0,n.useState)(!1),[o,r]=(0,n.useState)(!1),{translate:l}=(0,j.Z)(),c=(0,eN.k6)(),d=(0,Ki.E)(),[u,p]=(0,n.useState)([]),m=d.status===Gi.rq.Loading,_=u.length>0,g=_?3:2;(0,n.useEffect)((()=>{d.status===Gi.rq.Success&&p(d.data)}),[d]);const{preview:{processFile:h,state:b,resetState:C,previewFile:w},importSource:y,setPreviewDataItems:E,setPreviewDataHeaders:I}=pz();(0,n.useEffect)((()=>{C()}),[]),(0,n.useEffect)((()=>{const e=y===az.ImportSource.Dash?N.PageView.ImportDash:N.PageView.ImportCsv;(0,O.N)(e)}),[y]);const f=y!==az.ImportSource.Dash,v=f?[".csv"]:[".dash"],S=l.markup("webapp_account_import_select_idle_markup",{fileExtension:f?"CSV":"DASH"}),D=l(f?"webapp_account_import_select_ready_csv":"webapp_account_import_select_ready_dash");return(0,z.tZ)(s.Ejs,{flexDirection:"column"},(0,z.tZ)(s.j49,{size:"medium",color:"ds.text.neutral.quiet",sx:{mb:"16px"}},l.markup("webapp_import_step_tracker_markup",{currentStep:"1",totalSteps:`${g}`})),(0,z.tZ)(s.X6q,{size:"small",color:"ds.text.neutral.catchy",sx:{mb:"24px"}},l(f?"webapp_account_import_select_header_csv":"webapp_account_import_select_header_dash")),(0,z.tZ)(uj,{onFileDropped:t=>{e&&(0,O.K)(new N.UserImportDataEvent({backupFileType:f?N.BackupFileType.Csv:N.BackupFileType.SecureVault,importDataStatus:N.ImportDataStatus.Start,importSource:iz[y],importDataStep:N.ImportDataStep.SelectFile})),h(t)},undoFileDropped:C,setErrorMessage:t,error:e,accept:v,idleMessage:S,fileSelectedMessage:D,setFileInvalid:r,importSource:y}),o?(0,z.tZ)("div",{sx:{marginTop:"24px"}},(0,z.tZ)(we.ke,{mood:"brand",title:(0,z.tZ)(n.Fragment,null,l("webapp_account_import_select_error_info_intro"),pj||(pj=(0,z.tZ)("br",null)),l.markup(_j[y],{supportLink:Qz[y]},{linkTarget:"_blank"}))})):a?(0,z.tZ)("div",{sx:{marginTop:"24px"}},(0,z.tZ)(we.ke,{mood:"danger",title:l.markup(mj[y],{supportLink:Qz[y]},{linkTarget:"_blank"})})):null,(0,z.tZ)(s.Ejs,{gap:"16px",sx:{mt:"16px"}},(0,z.tZ)(we.zx,{type:"button",mood:"neutral",intensity:"quiet",onClick:()=>{(0,O.K)(new N.UserImportDataEvent({backupFileType:f?N.BackupFileType.Csv:N.BackupFileType.SecureVault,importDataStatus:N.ImportDataStatus.ImportFlowTerminated,importSource:iz[y],importDataDropAction:N.ImportDataDropAction.CancelProcess,importDataStep:N.ImportDataStep.SelectFile})),c.push(Hj.ImportSource)}},l("_common_action_back")),(0,z.tZ)(we.zx,{mood:"brand",intensity:"catchy",type:"button",onClick:()=>{f?w(y).then((e=>{if(e.success&&e.data.items.length){const t={};e.data.items.forEach((e=>{t[e.baseDataModel.Id]=e})),E(t),I(e.data.headers);const a=_?Hj.ImportSpaceSelect:Hj.ImportPreview;c.push(a)}else t(l.markup("webapp_import_chrome_on_import_error_message_markup")),(0,O.K)(new N.UserImportDataEvent({backupFileType:f?N.BackupFileType.Csv:N.BackupFileType.SecureVault,importDataStatus:e.success&&!e.data.items.length?N.ImportDataStatus.NoDataFound:N.ImportDataStatus.WrongFileStructure,importSource:iz[y],importDataStep:N.ImportDataStep.SelectFile,itemsToImportCount:e.success?e.data.items.length:void 0})),i(!0)})):c.push(Hj.SecureImport)},disabled:!b.file||!!e||m},l("webapp_account_import_select_button_next"))))};var hj,bj,Cj,wj;const yj=()=>{const{translate:e}=(0,j.Z)(),{preview:{state:{format:t}},import:{state:a},importSource:i,defaultSpace:o}=pz();return(0,n.useEffect)((()=>{const e=t===p.ImportFormats.Csv?N.PageView.ImportCsvSuccess:N.PageView.ImportDashSuccess;(0,O.N)(e)}),[]),(0,n.useEffect)((()=>{if(null===t||a.status!==lz.SUCCESS)return;const e=t===p.ImportFormats.Csv?N.BackupFileType.Csv:N.BackupFileType.SecureVault;(a.totalCredentials||e===N.BackupFileType.SecureVault)&&((e,t,a,n,i)=>{(0,O.K)(new N.UserImportDataEvent({importSource:iz[t],importedItemsCount:a,backupFileType:e,importDataStatus:N.ImportDataStatus.Success,itemsToImportCount:n,space:i,importDataStep:N.ImportDataStep.Success}))})(e,i,a.importedCredentials,a.totalCredentials,""===o||null===o?N.Space.Personal:N.Space.Professional)}),[t,i,o,a]),(0,z.tZ)(s.Ejs,{flexDirection:"column",gap:6},a.status===lz.SUCCESS?(0,z.tZ)(n.Fragment,null,(0,z.tZ)(s.X6q,{size:"x-small"},e("webapp_import_summary_title",{itemCount:a.importedCredentials})),a.duplicateCredentials?(0,z.tZ)(s.nvN,{color:"ds.text.neutral.quiet"},e.markup("webapp_import_summary_duplicates_markup",{count:a.duplicateCredentials})):null,(0,z.tZ)(s.nvN,{color:"ds.text.neutral.quiet"},t===p.ImportFormats.Csv?(0,z.tZ)(n.Fragment,null,e("webapp_import_summary_text"),hj||(hj=(0,z.tZ)("br",null)),bj||(bj=(0,z.tZ)("br",null)),e("webapp_import_summary_short_tip_csv")):e("webapp_import_summary_short_tip_dash"))):a.status===lz.ERROR_GENERIC?(0,z.tZ)(s.X6q,{size:"x-small",sx:{marginBottom:"24px"}},e("_common_generic_error")):Cj||(Cj=(0,z.tZ)(s.HoD,null)),(0,z.tZ)(we.ke,{mood:"brand",title:(0,z.tZ)(n.Fragment,null,e("webapp_account_import_select_error_info_intro"),wj||(wj=(0,z.tZ)("br",null)),e.markup(_j[i],{supportLink:Qz[i]},{linkTarget:"_blank"}))}))};var Ej;const Ij="_common_generic_error",Nj=()=>{const{preview:{resetState:e,previewFile:t,state:a},import:{startImport:i,state:o},importSource:r}=pz(),l=(0,ye.V)(),{translate:c}=(0,j.Z)(),d=(0,eN.k6)(),u=(0,n.useRef)(!1),m=(0,n.useCallback)((()=>{l.showAlert(c(Ij),s.BLW.ERROR)}),[l,c]);(0,n.useEffect)((()=>{(0,O.N)(N.PageView.ImportDashEnterDashPassword)}),[]);const _=()=>{e(),d.push(Hj.ImportSelect)};return(0,n.useEffect)((()=>{switch(o.status){case lz.ERROR_GENERIC:return void m();case lz.SUCCESS:return void d.push(Hj.ImportSummary)}}),[d,o.status,m]),(0,z.tZ)(n.Fragment,null,o.status===lz.PROCESSING?Ej||(Ej=(0,z.tZ)(Az,{showCloseIcon:!1,isOpen:!0})):null,(0,z.tZ)(_l.J9,{initialValues:{dashPassword:""},onSubmit:async({dashPassword:e},{setErrors:n,setSubmitting:o})=>{o(!0);try{const o=await(async e=>{const a=await t(r,e);return a.success?{success:!0,data:a.data.items.map((({baseDataModel:e})=>e)).filter((e=>void 0!==e.kwType))}:{success:!1,error:a.success||a.error!==p.PreviewPersonalDataErrorType.BadPassword?Ij:"webapp_account_import_dash_password_error"}})(e);if(!o.success)return void n({dashPassword:c(o.error)});const l=await(async e=>a.format&&(await i({format:a.format,name:a.fileName,content:e},r)).success?{success:!0}:{success:!1,error:Ij})(o.data);var s;l.success?u.current=!0:n({dashPassword:c(null!=(s=l.error)?s:Ij)})}catch{n({dashPassword:c(Ij)})}finally{u.current||o(!1)}}},(({handleSubmit:e,handleChange:t,values:a,errors:n,submitCount:i,isSubmitting:o})=>(0,z.tZ)(s.Ejs,{flexDirection:"column",as:"form",onSubmit:e,gap:"16px",noValidate:!0},(0,z.tZ)(s.j49,{size:"small",color:"ds.text.neutral.quiet"},c("webapp_account_security_settings_two_factor_authentication_stage_header",{stageIndex:2,totalStages:2})),(0,z.tZ)(s.X6q,{size:"small",color:"ds.text.neutral.catchy"},c("webapp_account_import_dash_password_header")),(0,z.tZ)(s.nvN,{size:"medium",color:"ds.text.neutral.quiet"},c("webapp_account_import_dash_password_description")),(0,z.tZ)(s.WUg,{disabled:o,autoComplete:"off",name:"dashPassword",onChange:t,value:a.dashPassword,label:c("webapp_account_import_dash_password_label"),placeholder:c("webapp_account_import_dash_password_placeholder"),hidePasswordTooltipText:c("_common_password_hide_label"),showPasswordTooltipText:c("_common_password_show_label"),feedbackType:n.dashPassword?"error":void 0,feedbackText:n.dashPassword}),i>=2?(0,z.tZ)(s.vDh,{title:c.markup("webapp_account_import_dash_password_error_header_markup")}):null,(0,z.tZ)(s.Ejs,{sx:{mt:"8px"},gap:"16px"},(0,z.tZ)(s.zxk,{type:"button",nature:"secondary",onClick:_},c("_common_action_back")),(0,z.tZ)(s.zxk,{type:"submit",disabled:!a.dashPassword||o},c("webapp_account_import_dash_password_button_next")))))))},fj=()=>{const{translate:e}=(0,j.Z)(),t=(0,eN.k6)(),a=(0,eN.TH)(),i=(0,Ki.E)(),[o,r]=(0,n.useState)(!1),l=i.status===Ft.rq.Loading,{importSource:c,preview:{state:d},defaultSpace:u,setDefaultSpace:p}=pz();return(0,n.useEffect)((()=>{d.file||t.push(Hj.ImportSource)}),[t,d.file]),(0,n.useEffect)((()=>{g.C.getIsForcedDomainsEnabled().then((e=>{r(e)})),(0,O.N)(N.PageView.ImportCsvSelectSpace)}),[]),(0,n.useEffect)((()=>{const e=()=>{(0,O.K)(new N.UserImportDataEvent({backupFileType:N.BackupFileType.Csv,importDataStatus:N.ImportDataStatus.ImportFlowTerminated,importSource:iz[c],importDataDropAction:N.ImportDataDropAction.ShutDownBrowserTab,importDataStep:N.ImportDataStep.SelectDashlaneSpace,itemsToImportCount:d.attemptedItemCount}))};return window.addEventListener("beforeunload",e),()=>{window.removeEventListener("beforeunload",e)}}),[c,d.attemptedItemCount]),(0,z.tZ)(s.Ejs,{flexDirection:"column"},(0,z.tZ)(s.j49,{size:"medium",color:"ds.text.neutral.quiet",sx:{mb:"16px"}},e.markup("webapp_import_step_tracker_markup",{currentStep:"2",totalSteps:"3"})),(0,z.tZ)(s.X6q,{size:"small",color:"ds.text.neutral.catchy",sx:{mb:"16px"}},e("webapp_account_import_space_select_title")),(0,z.tZ)(s.nvN,{sx:{mb:"16px"},color:"ds.text.neutral.quiet"},e("webapp_account_import_space_select_subtitle")),(0,z.tZ)(bo,{onChange:e=>{p(e)},hideLabel:!0,wrapperSx:{display:"block"}}),(0,z.tZ)(s.Ejs,{gap:"16px",sx:{my:"24px"}},(0,z.tZ)(we.zx,{mood:"neutral",intensity:"quiet",type:"button",onClick:()=>{t.push(Hj.ImportSource)}},e("_common_action_back")),(0,z.tZ)(we.zx,{mood:"brand",intensity:"catchy",type:"button",onClick:()=>{!0===a.state?.userNavigatedAway&&(0,O.K)(new N.UserImportDataEvent({backupFileType:N.BackupFileType.Csv,importDataStatus:N.ImportDataStatus.Start,importSource:iz[c],importDataStep:N.ImportDataStep.SelectDashlaneSpace,itemsToImportCount:d.attemptedItemCount})),t.push(Hj.ImportPreview)},disabled:l||null===u},e("webapp_account_import_select_button_next"))),o?(0,z.tZ)(we.ke,{size:"medium",mood:"neutral",title:"",description:(0,z.tZ)(s.nvN,{size:"small"},e("webapp_account_import_space_select_forced_domain_infobox"))}):null)};var vj=a(237335),Sj=a(731460),Dj=a(549259),xj=a(666561),Mj=a(598641),Tj=a(329);const Aj="lastpass.com",kj="PHPSESSID";var Zj=a(707502),Oj=a(89685),Lj=a(407573),Pj=a(530263);const zj=async(e,t)=>{try{if(!e)return"";if(e.startsWith("!")){const[a,n]=e.split("|"),i=a.slice(1),o=(0,Zj.R)(i).slice(0,16),s=(0,Zj.R)(n),r=await(0,Pj.decryptAes256)(t,o,s);return(0,Oj.v)(r)}{const a=(new TextEncoder).encode(e);return(0,Oj.v)((0,Pj.decryptAesEcb256)(t,a))}}catch{return""}},jj="PHPSESSID",Rj="_common_generic_error",Uj=100100,Bj=()=>{const[e,t]=(0,n.useState)(""),[a,o]=(0,n.useState)(0),[r,l]=(0,n.useState)(0),[c,d]=(0,n.useState)(null),[u,m]=(0,n.useState)(""),[g,h]=(0,n.useState)(""),b=(0,ye.V)(),{translate:C}=(0,j.Z)(),{preview:{processFile:w}}=pz(),{routes:y}=(0,i.Xo)(),E=(0,eN.k6)(),I=!!c,{listenForLastPassCookie:N,cookieData:f}=(()=>{const[e,t]=(0,n.useState)(""),[a,o]=(0,n.useState)(void 0),{preview:{previewFile:s,state:r},setPreviewDataItems:l,setPreviewDataHeaders:c,previewDataHeaders:d,previewDataItems:u}=pz(),{routes:m}=(0,i.Xo)(),_=(0,i.k6)(),g=(0,Ki.E)(),h=g.status===xj.rq.Success&&g.data.length>0;return(0,n.useEffect)((()=>{(0,Mj.O)({url:`https://${Aj}`,name:kj})}),[]),(0,n.useEffect)((()=>()=>{clearInterval(a)}),[a]),(0,n.useEffect)((()=>{if(d.length&&!(0,Ge.isEmpty)(u)){const e=h?Hj.ImportSpaceSelect:Hj.ImportPreview;_.push(`${m.importData}/${e}`)}}),[h,_,d.length,u,m.importData]),(0,n.useEffect)((()=>{r.file&&r.fileName&&r.format&&s(p.ImportSource.Lastpass).then((e=>{if(e.success&&e.data.items.length){const t={};e.data.items.forEach((e=>{t[e.baseDataModel.Id]=e})),l(t),c(e.data.headers)}}))}),[r.file,s,l,c,h,_,m.importData,r.fileName,r.format]),{listenForLastPassCookie:()=>{a&&window.clearInterval(a);const e=window.setInterval((async()=>{const e=await(0,Tj.g)({domain:Aj,name:kj});e.length&&t(e[0].value)}),5e3);o(e)},cookieData:e}})();(0,n.useEffect)((()=>{(async()=>{const e=await(0,vj.T)();e?.id&&o(e.id)})()}),[]),(0,n.useEffect)((()=>{N(),(0,_.U)({url:`https://lastpass.com/?ac=1&lpnorefresh=1&email=${u}`,active:!0}).then((e=>{var t;l(null!=(t=e.id)?t:0)}))}),[]);const v=(0,n.useCallback)((()=>{I||fetch("https://lastpass.com/getaccts.php?b64=1&hash=0.0&hasplugin=3.0.23&requestsrc=cli",{method:"GET",headers:{Cookie:`${jj}=${f}`}}).then((e=>e.text())).then((e=>{const n=(new DOMParser).parseFromString(e,"application/xml");n.querySelector("parsererror")?t(C(Rj)):(d(n),a&&(0,Sj.V)(a,{active:!0}),r&&((0,Dj.O)([r]),b.showAlert(C("webapp_account_import_direct_import_success_toast",{source:"LastPass"}),s.BLW.SUCCESS)))})).catch((()=>{t(C(Rj))}))}),[f,a,I,r,C]);return(0,n.useEffect)((()=>{f&&v()}),[f,v]),(0,we.tZ)(s.Ejs,{flexDirection:"column",gap:4},(0,we.tZ)(s.j49,{size:"medium",color:"ds.text.neutral.quiet"},C.markup("webapp_import_step_tracker_markup",{currentStep:"1",totalSteps:"3"})),e?(0,we.tZ)(s.nvN,{color:"ds.text.danger.standard"},e):null,(0,we.tZ)(s.X6q,{size:"small"},C("webapp_account_import_direct_import_lastpass_header")),(0,we.tZ)(s.Ejs,{flexDirection:"column",gap:4,as:"form",onSubmit:async e=>{e.preventDefault();try{if(!I||!u||!g)return void t(C(Rj));const e=await(async()=>await fetch(`https://lastpass.com/iterations.php?email=${u}`,{method:"GET",headers:{Cookie:`${jj}=${f}`}}).then((e=>e.text())).then((e=>{const t=parseInt(e,10);return isNaN(t)?Uj:t})).catch((()=>Uj)))(),a=await(async(e,t,a,n)=>{const i=["url,username,password,otp,extra,name,grouping,fav"],o=new TextEncoder,s=new TextDecoder,r=await(0,Pj.deriveKeyPbkdf2)(o.encode(t),o.encode(e.toLocaleLowerCase()),{iterations:a,hashType:"SHA-256"}),l=n.documentElement.querySelectorAll("*");for(let e=0;e<l.length;e++)if("account"===l[e].tagName){var c,d,u,p,m,_,g,h;const t=l[e].getElementsByTagName("login")?.[0],a=null!=(c=l[e].getAttribute("name"))?c:"",n=null!=(d=l[e].getAttribute("group"))?d:"",o=null!=(u=l[e].getAttribute("extra"))?u:"",b=null!=(p=l[e].getAttribute("fav"))?p:"0",C=null!=(m=t?.getAttribute("url"))?m:"",w=null!=(_=t?.getAttribute("p"))?_:"",y=null!=(g=t?.getAttribute("u"))?g:"",E=null!=(h=t?.getAttribute("o"))?h:"",I=await zj(a,r),N=await zj(n,r),f=await zj(o,r),v=s.decode((0,Lj.i)(C)),S=await zj(w,r),D=await zj(y,r),x=await zj(E,r);if("http://group"===v)continue;i.push(`"${v}","${D}","${S}","${x}","${f}","${I}","${N}","${b}"`)}const b=i.join("\n"),C=new Blob([b],{type:"text/csv"});return new File([C],"lastpass.csv",{type:"text/csv"})})(u,g,e,c);w(a)}catch{t(C(Rj))}}},(0,we.tZ)(s.nvN,null,C("webapp_account_import_direct_import_lastpass_import_tip")),(0,we.tZ)(s.oil,{fullWidth:!0,label:C("webapp_import_preview_header_login"),placeholder:C("webapp_account_import_direct_import_lastpass_login_placeholder"),onChange:e=>{m(e.target.value)}}),(0,we.tZ)(s.WUg,{fullWidth:!0,label:C("webapp_import_preview_header_password"),placeholder:C("webapp_account_import_direct_import_lastpass_password_placeholder"),onChange:e=>{h(e.target.value)},hidePasswordTooltipText:C("_common_password_hide_label"),showPasswordTooltipText:C("_common_password_show_label")}),(0,we.tZ)(s.Ejs,{flexDirection:"row",gap:6},(0,we.tZ)(we.zx,{onClick:()=>{E.push(`${y.importData}/${Hj.ImportSource}`)},mood:"neutral",intensity:"quiet"},C("_common_action_back")),(0,we.tZ)(we.zx,{disabled:!g,type:"submit"},C("webapp_account_import_direct_import_lastpass_preview_button")))))};var Fj;const Wj=()=>{const{translate:e}=(0,j.Z)(),{source:t}=(0,i.UO)(),{routes:a}=(0,i.Xo)(),n=(0,i.k6)();return t===Gz.LastPass?Fj||(Fj=(0,we.tZ)(Bj,null)):(0,we.tZ)(s.Ejs,{gap:6},(0,we.tZ)(s.X6q,null,e("_common_generic_error")),(0,we.tZ)(we.zx,{mood:"brand",intensity:"catchy",onClick:()=>{n.push(a.importData)}},e("_common_action_back")))};var Gj,Vj;const Yj=()=>{const{path:e}=(0,eN.$B)(),{pathname:t}=(0,eN.TH)(),{translate:a}=(0,j.Z)(),o=new Set([`${e}/${Hj.ImportPreview}`]);return(0,z.tZ)(uz,null,(0,z.tZ)(s.Ejs,{flexDirection:"column",sx:{bg:s.O9T.white,padding:"16px",height:"100%",overflowY:"scroll",flexWrap:"nowrap"}},(0,z.tZ)(Kp,{startWidgets:()=>(0,z.tZ)(s.Ejs,{flexDirection:"column"},(0,z.tZ)(s.X6q,null,a("webapp_import_title"))),endWidget:(0,z.tZ)(n.Fragment,null,Gj||(Gj=(0,z.tZ)(fm,null)),Vj||(Vj=(0,z.tZ)(D_,null)))}),(0,z.tZ)("hr",{sx:{marginX:"24px",border:"none",borderTopWidth:"1px",borderTopStyle:"solid",borderTopColor:"ds.border.neutral.quiet.idle"}}),(0,z.tZ)(s.Ejs,{flexDirection:"column",sx:{margin:"32px 0 0 32px",maxWidth:o.has(t)?"100%":"500px"}},(0,z.tZ)(eN.rs,null,(0,z.tZ)(eN.AW,{exact:!0,path:`${e}/${Hj.ImportSource}`,component:Jz}),(0,z.tZ)(eN.AW,{path:`${e}/${Hj.ImportSelect}`,component:gj}),(0,z.tZ)(eN.AW,{path:`${e}/${Hj.ImportSpaceSelect}`,component:fj}),(0,z.tZ)(eN.AW,{path:`${e}/${Hj.SecureImport}`,component:Nj}),(0,z.tZ)(eN.AW,{path:`${e}/${Hj.ImportPreview}`,component:tj}),(0,z.tZ)(eN.AW,{path:`${e}/${Hj.ImportSummary}`,component:yj}),(0,z.tZ)(eN.AW,{path:`${e}/${Hj.DirectImport}/:source`,component:Wj}),(0,z.tZ)(i.l_,{exact:!0,from:"*",to:`${e}/${Hj.ImportSource}`})))))};let Hj;!function(e){e.ImportSource="source",e.ImportSelect="select",e.SecureImport="secure-import",e.ImportPreview="preview",e.ImportSpaceSelect="space-select",e.ImportSummary="summary",e.DirectImport="direct-import"}(Hj||(Hj={}));const qj=({path:e})=>(0,z.tZ)(i.AW,{path:e,component:Yj});function Qj({basePath:e,routingSchemeOptions:t}){return n.createElement(n.Fragment,null,n.createElement(i.GB,{path:[`${e}/collections`,`${e}/credentials`,`${e}/darkweb-monitoring`,`${e}/ids`,`${e}/import`,`${e}/notifications`,`${e}/onboarding`,`${e}/password-health`,`${e}/password-history`,`${e}/payments`,`${e}/personal-info`,`${e}/premium-plus`,`${e}/secure-notes`,`${e}/go-premium`,`${e}/sharing-center`,`${e}/subscription`,`${e}/vpn`,`${e}/dashlane-labs`],component:Xp,reducer:u.ZP,permission:e=>e.loggedIn,redirectPath:o.TT},n.createElement(eD,{path:`${e}/collections`}),n.createElement(dx,{path:`${e}/credentials`}),n.createElement(ZT,{path:`${e}/darkweb-monitoring`}),n.createElement(mZ,{path:`${e}/ids`}),n.createElement(qj,{path:`${e}/import`}),n.createElement(Sg,{path:`${e}/notifications`}),n.createElement(rO,{path:`${e}/onboarding`}),n.createElement(oL,{path:`${e}/password-health`}),n.createElement(ux,{path:`${e}/password-history`}),n.createElement(tb,{path:`${e}/payments`}),n.createElement(jC,{path:`${e}/personal-info`}),n.createElement(hL,{path:`${e}/premium-plus`}),n.createElement(TE,{path:`${e}/secure-notes`}),n.createElement($I,{path:`${e}/go-premium`}),n.createElement(GI,{path:`${e}/sharing-center`}),n.createElement(dP,{path:`${e}/subscription`}),n.createElement(UP,{path:`${e}/vpn`}),n.createElement(og,{path:`${e}/dashlane-labs`})),n.createElement(i.GB,{path:[`${e}/family-dashboard`,`${e}/chrome-welcome`,`${e}/two-factor-authentication`],component:qp,reducer:u.ZP,permission:e=>e.loggedIn,redirectPath:o.TT},n.createElement(vg,{path:`${e}/family-dashboard`}),n.createElement(uN,{path:`${e}/chrome-welcome`}),n.createElement(tz,{path:`${e}/two-factor-authentication`})),n.createElement(i.GB,{path:[`${e}/console`],component:qp,permission:e=>e.loggedIn,redirectPath:`${e}${o.S}`},n.createElement(ZE,{path:`${e}/console`,routingSchemeOptions:t})),n.createElement(i.GB,{path:[`${e}/anti-phishing`],component:qp},n.createElement(rN,{path:`${e}/anti-phishing`})))}},667211:(e,t,a)=>{"use strict";a.d(t,{Z:()=>n});const n=(0,a(158432).SP)("sidemenu",{},[])},25197:(e,t,a)=>{"use strict";a.d(t,{FI:()=>l,dV:()=>c,in:()=>s,xl:()=>r});var n=a(110203),i=a(987364),o=a(532704);const s=(e,t,a)=>{const s=(0,o.pF)(t),r=new n.UserCancelPlanEvent({cancelPlanStep:e,plan:(0,o.YD)(t),planBillingPeriod:s,surveyAnswer:a});(0,i.K)(r)},r=e=>{(0,i.K)(new n.UserOpenPricingPageEvent({callToAction:e}))},l=e=>{const t=(0,o.pF)(e),a=new n.UserRestartPlanEvent({plan:(0,o.YD)(e),planBillingPeriod:t});(0,i.K)(a)},c=e=>{const t=(0,o.pF)(e);(0,i.K)(new n.UserUpdatePaymentMethodEvent({flowStep:n.FlowStep.Start,plan:(0,o.YD)(e),planBillingPeriod:t}))}},218681:(e,t,a)=>{"use strict";a.d(t,{v:()=>p});var n=a(696832),i=a(651615),o=a.n(i),s=a(352615),r=a.n(s),l=a(802001),c=a.n(l),d=a(864520),u=a.n(d);const p=e=>{switch(e){case"visa":return n.createElement(o(),{style:{borderRadius:"3px"}});case"mastercard":return n.createElement(r(),{style:{borderRadius:"3px"}});case"american express":case"amex":return n.createElement(c(),{style:{borderRadius:"3px"}});case"discover":return n.createElement(u(),{style:{borderRadius:"3px"}});default:return null}}},841443:(e,t,a)=>{"use strict";a.d(t,{I:()=>g});var n=a(696832),i=a(5727),o=a(708608),s=a(148038),r=a(277786),l=a(202281),c=a(446389),d=a(676025),u=a(473223),p=a(25197),m=a(147511);const _="manage_subscription_payment_section_expired_stripe",g=({b2b:e,hideTitle:t,hideUpdateButton:a,displayModifiedCreditCardView:g,styles:h})=>{var b,C;const{translate:w}=(0,c.Z)(),{loading:y,billingInformation:E,last4DigitsFormatted:I,cardSvg:N,isExpired:f,expFormatted:v,pollUntilCardUpdate:S}=(0,m.C)({b2c:!e}),D=(0,l.Y)(),[x,M]=n.useState(!1);if(D.status!==s.rq.Success||!D.data||y)return(0,i.tZ)(o.HoD,{color:o.O9T.midGreen00});const T=null!=(b=D.data?.planType?.includes("ios"))&&b,A=null!=(C=D.data?.planType?.includes("playstore"))&&C,k=T?"manage_subscription_payment_section_desc_apple":"manage_subscription_payment_section_desc_google",Z=E?.last4||T||A,O=v?w("manage_subscription_payment_section_expiration_date",{date:v}):null;return(0,i.tZ)(o.Zbd,{sx:h},t?null:(0,i.tZ)(o.X6q,{size:"small"},w("manage_subscription_payment_section_title")),Z?(0,i.tZ)("div",{sx:{marginTop:"20px"}},T||A?(0,i.tZ)(n.Fragment,null,(0,i.tZ)(o.nvN,{color:o.O9T.grey00},w(k)),(0,i.tZ)(o.zxk,{type:"button",nature:"secondary",onClick:()=>{(0,r.Yk)(T?d.XP:d.zF,{type:"checkout",action:"goToPayment"})},sx:{marginTop:"20px"}},w("manage_subscription_learn_more_button"),(0,i.tZ)(o.RTC,{color:o.O9T.dashGreen01,sx:{marginLeft:"8px"}}))):(0,i.tZ)(n.Fragment,null,g?(0,i.tZ)(o.Ejs,{sx:{marginBottom:"16px",alignItems:"center",color:"ds.text.neutral.standard"}},N,(0,i.tZ)("div",null,(0,i.tZ)(o.nvN,{color:"ds.text.neutral.standard",bold:!0},(0,i.tZ)("span",{sx:{marginLeft:"10px"}},""),(0,i.tZ)("span",{"data-testid":"card-last-four",sx:{marginLeft:"3px"}},I)),f?(0,i.tZ)(o.nvN,{size:"small",color:o.O9T.red00,sx:{margin:"4px 0 0 10px"}},w(_)):(0,i.tZ)(o.nvN,{size:"small",color:"ds.text.neutral.quiet",sx:{margin:"4px 0 0 10px"}},O))):(0,i.tZ)(n.Fragment,null,(0,i.tZ)(o.Ejs,{sx:{marginBottom:"8px",alignItems:"center"}},N,(0,i.tZ)(o.nvN,{color:o.O9T.grey00},(0,i.tZ)("span",{sx:{marginLeft:"10px"}},""),(0,i.tZ)("span",{"data-testid":"card-last-four",sx:{marginLeft:"3px"}},I))),f?(0,i.tZ)(o.nvN,{color:o.O9T.red00,sx:{marginBottom:"8px",fontSize:14}},w(_)):(0,i.tZ)(o.nvN,{color:o.O9T.grey00,sx:{marginBottom:"8px"}},O)),a?null:(0,i.tZ)(o.zxk,{type:"button",nature:"secondary",onClick:()=>{S(),M(!0),(0,p.dV)(D.data)}},x?(0,i.tZ)(u.J,{b2c:!0,setPaymentLoading:M}):w("manage_subscription_payment_section_update_details")))):(0,i.tZ)("div",{sx:{marginTop:"8px"}},(0,i.tZ)(o.nvN,{color:o.O9T.grey00},w("manage_subscription_payment_section_no_payment"))))}},658016:(e,t,a)=>{"use strict";a.d(t,{T:()=>r});var n=a(5727),i=a(708608),o=a(446389),s=a(676025);const r=()=>{const{translate:e}=(0,o.Z)(),t=e.markup("webapp_two_factor_authentication_sync_devices_time_infobox_markup",{supportArticleLink:s.fL},{linkTarget:"_blank"});return(0,n.tZ)(i.vDh,{sx:{marginTop:"16px"},severity:"subtle",size:"small",title:t})}},89042:(e,t,a)=>{"use strict";a.d(t,{B:()=>n});const n="Dashlane - 2FA backup codes.txt"},646251:(e,t,a)=>{"use strict";a.d(t,{_:()=>E});var n=a(696832),i=a(788355),o=a(446389),s=a(708608),r=a(585921),l=a(616274),c=a(238250),d=a(785362),u=a(925112),p=a(630886);const m=({onDismiss:e,onSuccess:t})=>{const{translate:a}=(0,o.Z)();return n.createElement(p.o,{isOpen:!0,onRequestClose:e,footer:n.createElement(s.cNS,{intent:"primary",primaryButtonTitle:a("webapp_lock_items_copy"),primaryButtonOnClick:t,secondaryButtonTitle:a("webapp_lock_items_cancel"),secondaryButtonOnClick:e}),title:a("webapp_lock_items_confirm_label")},a("webapp_lock_items_confirm_subtitle"))};var _=a(191492),g=a(542899),h=a(80477);const b={DISMISS:"webapp_lock_items_cancel",CONFIRM:"webapp_lock_items_show",CONFIRM_COPY:"webapp_lock_items_copy",PLACEHOLDER:"webapp_lock_items_password_placeholder",WRONG_PASSWORD:"webapp_lock_items_wrong_password",SHOW_LABEL:"webapp_lock_items_password_show_label",HIDE_LABEL:"webapp_lock_items_password_hide_label",CHECKBOX_LABEL_GLOBAL_SETTING:"webapp_lock_items_require_master_password_never_ask_checkbox_label",CHECKBOX_LABEL_FOR_CREDENTIAL:"webapp_lock_items_require_master_password_never_ask_checkbox_label_for_credential",CHECKBOX_WARNING:"webapp_lock_items_require_master_password_never_ask_checkbox_warning",CHECKBOX_SUCCESS_GLOBAL:"webapp_lock_items_require_master_password_never_ask_checkbox_success_alert",CHECKBOX_SUCCESS_CREDENTIAL:"webapp_lock_items_require_master_password_never_ask_checkbox_success_alert_for_credential"},{Subtitle:C,Confirm:w,Placeholder:y}=_.Lz,E=({unlockRequest:e,setUnlockRequest:t,requirePasswordGlobalSetting:a=!1})=>{const{options:p}=e,{translate:E}=(0,o.Z)(),I=(0,u.V)(),{handleDismiss:N}=(({unlockRequest:e,setUnlockRequest:t})=>{const{cancelCallback:a}=e;return{handleDismiss:()=>{a?.(),t?.(null)}}})({unlockRequest:e,setUnlockRequest:t}),{verify:f,handleSuccess:v,onSuccessWithLogs:S}=(({unlockRequest:e,setUnlockRequest:t})=>{const{action:a,successCallback:i}=e,[o,s]=(0,n.useState)(!1),r=()=>{s(!1),i?.(),t?.(null)};return{verify:o,handleSuccess:r,onSuccessWithLogs:()=>{a===_.P7.Copy&&(0,g.isSafari)()?s(!0):r()}}})({unlockRequest:e,setUnlockRequest:t}),[D,x]=(0,n.useState)(!1),M=(0,n.useCallback)((()=>x(!1)),[]);if(f)return(0,r.tZ)(m,{onDismiss:N,onSuccess:v});const T=e=>{const t=(0,h.p)(e,p);if(t)return t.translated?t.field:E(t.key);const a=b[e.toUpperCase()];return a?E(a):null},A=T(C);return(0,r.tZ)("div",null,(0,r.tZ)(i.J9,{initialValues:{password:"",neverAskCheckbox:!1},onSubmit:async t=>{switch((await l.C.unlockProtectedItems(t.password)).status){case c.UnlockProtectedItemsStatus.SUCCESS:if(t.neverAskCheckbox)if(a)await l.C.updateProtectPasswordsSetting(!1),(0,d.a2)(!1),I.showAlert(E(b.CHECKBOX_SUCCESS_GLOBAL),s.BLW.SUCCESS);else if(e.itemType===_.Ru.Password){var n;const t=await l.C.getCredential(e.credentialId);await l.C.disableCredentialProtection({credentialId:e.credentialId}),(0,d.ih)(!1,t.id,t.url,null!=(n=t.spaceId)?n:void 0),I.showAlert(E(b.CHECKBOX_SUCCESS_CREDENTIAL),s.BLW.SUCCESS)}S();break;case c.UnlockProtectedItemsStatus.ERROR:default:x(!0)}}},(({values:t,handleChange:o,isSubmitting:l})=>(0,r.tZ)(i.l0,null,A?(0,r.tZ)(s.nvN,{sx:{marginBottom:"27px"}},A):null,(0,r.tZ)(s.WUg,{name:"password",value:t.password,autoFocus:!0,placeholder:T(y),onChange:e=>{o(e),M()},showPasswordTooltipText:E(b.SHOW_LABEL),hidePasswordTooltipText:E(b.HIDE_LABEL),feedbackType:D?"error":void 0,feedbackText:D?E(b.WRONG_PASSWORD):void 0}),e.itemType===_.Ru.Password&&e.showNeverAskOption?(0,r.tZ)(n.Fragment,null,(0,r.tZ)(s.XZJ,{name:"neverAskCheckbox","data-testid":"neverAskCheckbox",checked:t.neverAskCheckbox,onChange:o,sx:{margin:"12px 0px"},label:E(a?b.CHECKBOX_LABEL_GLOBAL_SETTING:b.CHECKBOX_LABEL_FOR_CREDENTIAL)}),a&&(0,r.tZ)(s.vDh,{severity:"warning",size:"small",title:E(b.CHECKBOX_WARNING)})):null,(0,r.tZ)(s.Ejs,{gap:"16px",justifyContent:"flex-end",sx:{maxWidth:"100%",marginTop:"40px"}},(0,r.tZ)(r.zx,{onClick:N,mood:"neutral",intensity:"quiet"},E(b.DISMISS)),(0,r.tZ)(r.zx,{id:"protected-items-unlocker-confirm-button",type:"submit",disabled:l||!t.password},T(w)))))))}},80477:(e,t,a)=>{"use strict";a.d(t,{p:()=>n});const n=(e,t)=>{if(t){if(t.translated)return t.fields[e]?{translated:!0,field:t.fields[e]}:void 0;{const a=t.fieldsKeys[e];return a?{translated:!1,key:a}:void 0}}}},927761:(e,t,a)=>{"use strict";a.d(t,{D:()=>n.D,jF:()=>r.jF,tY:()=>i.t,DP:()=>s});var n=a(812651),i=a(508159),o=a(696832);function s(e){return t=>{const a=(0,i.t)();return o.createElement(e,{...t,...a})}}a(191492);var r=a(785362)},785362:(e,t,a)=>{"use strict";a.d(t,{a2:()=>u,ih:()=>c,jF:()=>d,u$:()=>p});var n=a(110203),i=a(292210),o=a(616274),s=a(658273),r=a(277786),l=a(987364);const c=async(e,t,a,c)=>{const d=await(0,s.gm)(o.C)?new i.ParsedURL(a).getRootDomain():(0,r.JI)(a),u=await(0,n.hashDomain)(d);((e,t,a,i)=>{(0,l.K)(new n.AnonymousUpdateCredentialEvent({action:n.Action.Edit,fieldList:[e?n.Field.MpProtectedOn:n.Field.MpProtectedOff],domain:{type:t,id:a},space:i}))})(e,n.DomainType.App,u,c?n.Space.Professional:n.Space.Personal),((e,t,a)=>{(0,l.K)(new n.UserUpdateVaultItemEvent({action:n.Action.Edit,fieldsEdited:[n.Field.MpProtectedOn],itemId:t,itemType:n.ItemType.Credential,space:a}))})(0,t,c?n.Space.Professional:n.Space.Personal)},d=()=>{(0,l.K)(new n.UserAskAuthenticationEvent({mode:n.Mode.MasterPassword,reason:n.Reason.EditSettings}))},u=e=>{return t=e,void(0,l.K)(new n.UserChangeProtectWithMasterPasswordSettingEvent({flowStep:n.FlowStep.Complete,flowType:t?n.FlowType.Activation:n.FlowType.Deactivation,settingLevel:n.SettingLevel.Credentials}));var t},p=()=>d()},812651:(e,t,a)=>{"use strict";a.d(t,{S:()=>h,D:()=>b});var n=a(5727),i=a(696832),o=a(630886),s=a(446389),r=a(646251),l=a(191492),c=a(80477),d=a(975131),u=a(148038);const p=({unlockRequest:e,setUnlockRequest:t})=>{const{translate:a}=(0,s.Z)(),i=(0,d.q)(),{options:p,cancelCallback:m}=e;return i.status!==u.rq.Success?null:(0,n.tZ)(o.o,{isOpen:!0,onRequestClose:()=>{m?.(),t?.(null)},disableBackgroundPanelClose:!0,disableOutsideClickClose:!0,showCloseIcon:!0,title:(()=>{const e=(0,c.p)(l.Lz.Title,p);return e?e.translated?e.field:a(e.key):a("webapp_lock_items_label")})(),replaceDialogBody:!0},(0,n.tZ)(r._,{unlockRequest:e,setUnlockRequest:t,requirePasswordGlobalSetting:i.data}))},m=({unlockRequest:e,setUnlockRequest:t})=>i.createElement(p,{unlockRequest:e,setUnlockRequest:t});var _=a(616274),g=a(860039);const h=(0,i.createContext)({openProtectedItemsUnlocker:()=>{},areProtectedItemsUnlocked:!1,protectedItemsUnlockerShown:!1}),b=({children:e})=>{const[t,a]=(0,i.useState)(null),o=function(){const e=(0,g.F)(),t=(0,u.qr)({queryConfig:{query:_.C.areProtectedItemsUnlocked},liveConfig:{live:_.C.liveAreProtectedItemsUnlocked}},[]);return!(t.status===u.rq.Success&&!e&&!t.data)}(),s=null!==t,r=(0,i.useMemo)((()=>({areProtectedItemsUnlocked:o,openProtectedItemsUnlocker:a,protectedItemsUnlockerShown:s})),[o,s]);return(0,n.tZ)(h.Provider,{value:r},e,t?(0,n.tZ)(m,{unlockRequest:t,setUnlockRequest:a}):null)}},191492:(e,t,a)=>{"use strict";let n,i,o;a.d(t,{Lz:()=>o,P7:()=>n,Ru:()=>i}),function(e){e.Show="show",e.Copy="copy",e.CopyVerified="copyVerified",e.Export="export"}(n||(n={})),function(e){e.UpdateContactEmail="update-contact-email",e.Password="password",e.SharedItems="shared-items",e.GeneratedPassword="generated-password",e.CreditCard="credit-card",e.SecureNote="secure-note",e.SecureNoteSetting="secure-note-setting",e.Id="id",e.ExportData="export-data",e.BankAccount="bank-account",e.SecuritySettings="security-settings"}(i||(i={})),function(e){e.Title="title",e.Subtitle="subtitle",e.Confirm="confirm",e.Placeholder="placeholder"}(o||(o={}))},508159:(e,t,a)=>{"use strict";a.d(t,{t:()=>o});var n=a(696832),i=a(812651);function o(){return n.useContext(i.S)}},611224:(e,t,a)=>{"use strict";a.d(t,{IT:()=>i,JW:()=>n,dx:()=>s,tb:()=>o});const n="https://www.dashlane.com/download",i="https://www.dashlane.com/otpphonelost_codes",o="https://blog.dashlane.com",s="https://support.dashlane.com/hc/articles/360000038180"},956306:(e,t,a)=>{"use strict";a.d(t,{Ht:()=>o,jK:()=>n,oo:()=>i});const n="editPanelIgnoreClickOutside",i="accountPanelIgnoreClickOutside",o=[n,i,"sharingPanelIgnoreClickOutsideClassname"].join(" ")},557572:(e,t,a)=>{"use strict";a.d(t,{M:()=>n});const n=948},656326:(e,t,a)=>{"use strict";a.d(t,{K:()=>s});var n=a(708608),i=a(5727);const o={bg:"white",padding:"32px",border:`1px solid ${n.O9T.dashGreen05}`,borderRadius:2,marginTop:"16px"},s=({children:e})=>(0,i.tZ)("div",{sx:o},e)},442138:(e,t,a)=>{"use strict";a.d(t,{V:()=>b,S:()=>u});var n=a(5727),i=a(708608),o=a(481820),s=a(557572);const r=({content:e,size:t})=>(0,n.tZ)(i.Ejs,{as:"span",sx:{bg:i.O9T.midGreen05,borderRadius:"3000px",height:t,width:t,justifyContent:"center",alignContent:"center"}},(0,n.tZ)(i.j49,{size:"medium"},e)),l=({title:e,icon:t})=>(0,n.tZ)(i.Ejs,{gap:"8px",alignItems:"center"},t,(0,n.tZ)(i.X6q,{size:"x-small"},e)),c="'summary' 'details' 'actions'",d={gridTemplateAreas:[c,c,"'summary actions' 'details actions'"]};let u;!function(e){e.INITIAL="initial",e.IN_PROCESS="in_process",e.COMPLETED="completed"}(u||(u={}));const p=(e,t)=>{switch(e){case u.INITIAL:return(0,n.tZ)(r,{content:t,size:20});case u.IN_PROCESS:return(0,n.tZ)(i.HoD,{color:i.O9T.dashGreen00,size:20});case u.COMPLETED:return(0,n.tZ)(i.rE2,{color:i.O9T.accessibleValidatorGreen,size:20})}},m=(0,o.F4)({from:{opacity:1,maxHeight:"240px",animationTimingFunction:"cubic-bezier(0.03, 0.85, 0.34, 1)"},"62%":{opacity:0,maxHeight:"240px",animationTimingFunction:"cubic-bezier(0.43, 0.01, 0, 1)"},to:{opacity:0,maxHeight:"176px"}}),_=(0,o.F4)({from:{opacity:0},to:{opacity:1}}),g={animation:`${m} ${s.M}ms`},h={animation:`${_} 249ms cubic-bezier(0.87, 0, 0.93, 0.5)`},b=({actions:e,number:t=1,status:a=u.INITIAL,title:o,options:s,children:r})=>{const c=s?(0,i.jMf)([d,s.easeOut?g:{},s.easeIn?h:{}]):d;return(0,n.tZ)(i.T5p,{alignItems:"center",gap:"16px",sx:c},(0,n.tZ)(i.dDn,{gridArea:"summary"},(0,n.tZ)(l,{title:o,icon:p(a,t)})),(0,n.tZ)(i.dDn,{gridArea:"details",sx:{alignSelf:"flex-start"}},r),(0,n.tZ)(i.dDn,{gridArea:"actions",sx:{justifySelf:"flex-end"}},e))}},984433:(e,t,a)=>{"use strict";a.d(t,{EK:()=>m,En:()=>c,MF:()=>h,O7:()=>_,PN:()=>r,WW:()=>g,Xj:()=>i,gF:()=>o,i9:()=>s,kG:()=>l});const n="https://www.dashlane.com/vpn",i="https://www.hotspotshield.com/",o=`${n}/install`,s={Windows:`${o}/windows`,"Mac OS":`${o}/mac`,Linux:`${o}/linux`},r=`${n}/terms`,l=`${n}/privacy-policy`,c=`${n}/support`,d="vpn-faq",u="extension",p=(e,t,a)=>`https://support.dashlane.com/hc/articles/${e}?utmMedium=${t}&amp;utmSource=${a}`,m=p("360001158385",d,u),_=p("360000037900",d,u),g=p("360000045439","vpn",u),h="_blank"},200514:(e,t,a)=>{"use strict";a.d(t,{L:()=>R});var n=a(696832),i=a(238250),o=a(299620),s=a(339702),r=a(5727),l=a(446389),c=a(442138),d=a(708608),u=a(673093),p=a(717425);const m="webapp_vpn_page_credential_active_password_label",_="vpnEmailTextInput",g="vpnPasswordInput",h={maxWidth:"464px"},b=(e,t)=>(0,r.tZ)(d.j49,{key:e,sx:{mr:"5px"},as:"label",htmlFor:t,size:"small",color:d.O9T.dashGreen01},e),C=e=>(0,r.tZ)(d.UnL,{key:`lockIcon-${e}`,color:d.O9T.dashGreen01,size:10,"aria-hidden":!0}),w=({email:e,password:t,credentialId:a})=>{const{translate:n}=(0,l.Z)(),i=[b(n("webapp_vpn_page_credential_active_login_label"),_),C(_)],o=[b(n(m),g),C(g)];return(0,r.tZ)(d.T5p,{gridTemplateColumns:"minmax(auto, 464px) auto",gap:"16px",alignItems:"flex-end"},(0,r.tZ)(d.oil,{sx:h,value:e,readOnly:!0,fullWidth:!0,autoComplete:"off",label:i,id:_}),(0,r.tZ)(d.dDn,null,(0,r.tZ)(u.m,{data:e,onCopy:(0,p.dL)(a)})),(0,r.tZ)("form",null,(0,r.tZ)(d.WUg,{sx:h,value:t,readOnly:!0,fullWidth:!0,hidePasswordTooltipText:n("webapp_vpn_page_credential_active_hide_password"),showPasswordTooltipText:n("webapp_vpn_page_credential_active_show_password"),autoComplete:"off",label:o,title:n(m),id:g})),(0,r.tZ)(d.dDn,null,(0,r.tZ)(u.m,{data:t,onCopy:(0,p._z)(a)})))},y=({email:e,password:t,credentialId:a})=>{const{translate:n}=(0,l.Z)();return(0,r.tZ)(c.V,{options:{easeIn:!0,easeOut:!1},status:c.S.COMPLETED,title:n("webapp_vpn_page_credential_active_heading")},(0,r.tZ)(w,{email:e,password:t,credentialId:a}))};var E=a(906978),I=a(984433),N=a(987364),f=a(110203);const v="webapp_vpn_page_credential_activate_text_markup",S="webapp_vpn_page_credential_activate_button",D="webapp_vpn_page_credential_activate_email_error",x="webapp_vpn_page_credential_activate_privacy_consent_markup",M="webapp_vpn_page_credential_activate_missing_consent_tooltip",T=({defaultEmail:e,setEmail:t,isPrivacyConsentChecked:a,setIsPrivacyConsentChecked:i,disabled:o=!1,number:s,onClick:u=(()=>{}),options:p,status:m,title:_})=>{const{translate:g}=(0,l.Z)(),h=(0,n.useRef)();(0,n.useEffect)((()=>{(0,N.N)(f.PageView.ToolsVpnPrivacyConsent)}),[]),(0,n.useEffect)((()=>{e&&h?.current?.select()}),[e,h]);const[b,C]=(0,n.useState)(!0),[w,y]=(0,n.useState)(!1),T=b&&!o,A=g(D),k=g.markup(v,{learnMore:I.WW},{linkTarget:I.MF}),Z=g.markup(x,{privacyPolicyLink:I.kG,serviceTermsLink:I.PN},{linkTarget:I.MF}),O=w&&!a;return(0,r.tZ)(c.V,{options:p,title:_,number:s,status:m,actions:(0,r.tZ)(d.zxk,{type:"button",onClick:()=>a?u():y(!0),disabled:!T},g(S))},(0,r.tZ)(d.Ejs,{flexDirection:"column"},(0,r.tZ)(d.nvN,{size:"small"},k),(0,r.tZ)(d.oil,{sx:{marginTop:"16px",maxWidth:"480px"},defaultValue:e,onChange:e=>t(e.currentTarget.value),onBlur:e=>{return t=e.target.value,C((0,E.vV)(t));var t},onFocus:e=>e.target.select(),feedbackText:b?void 0:A,feedbackType:b?void 0:"error",type:"email",disabled:o,autoFocus:!0,fullWidth:!0,ref:h}),(0,r.tZ)("div",{sx:{marginTop:"36px",width:"100%",height:"40px"}},(0,r.tZ)(d.XZJ,{disabled:o,label:Z,checked:a,onChange:e=>i(e.currentTarget.checked),feedbackText:g(M),intent:O?"error":void 0}))))};var A=a(656326),k=a(274187),Z=a(919005);const O="webapp_vpn_page_credential_activate_heading",L="webapp_vpn_page_credential_activating_heading",P=({stepNumber:e,vpnCredential:t,generateCredential:a})=>{const{translate:o}=(0,l.Z)(),d=(0,k.G)(),u=(0,Z.f)(),[p,m]=(0,n.useState)(!1),[_,g]=(0,n.useState)(""),[h,b]=(0,n.useState)(""),{isIntermediate:C,isActivated:w,isActivating:E}=(0,s.RQ)(t);(0,n.useEffect)((()=>{var e,t;const a=null!=(e=null!=(t=d?.email)?t:u)?e:"";b(a),g(a)}),[d,u]);const I={defaultEmail:h,email:_,isPrivacyConsentChecked:p,setEmail:g,setIsPrivacyConsentChecked:m},N=t?.status===i.VpnAccountStatusType.NotFound||t?.status===i.VpnAccountStatusType.Error,f=E()||t?.status===i.VpnAccountStatusType.Activating||C(),v=f?{disabled:!0}:{onClick:()=>a({email:_})},S=f?c.S.IN_PROCESS:c.S.INITIAL,D=o(f?L:O);return(0,r.tZ)(A.K,null,N||f?(0,r.tZ)(T,{number:e,options:{easeIn:!1,easeOut:C()},status:S,title:D,...I,...v}):null,w()&&t?.status===i.VpnAccountStatusType.Activated?(0,r.tZ)(y,{email:t.email,password:t.password,credentialId:t.credentialId}):null)},z="webapp_vpn_page_credential_active_alert_success",j={[i.VpnAccountActivationErrorType.ServerError]:{key:"webapp_vpn_page_credential_error_alert_error"},[i.VpnAccountActivationErrorType.AccountAlreadyExistError]:{key:"webapp_vpn_page_credential_activate_email_in_use_error_alert_markup",params:{hotspotSupport:I.En}}},R=({stepNumber:e,vpnCredential:t})=>{const{translateWithMarkup:a}=(0,o.Y)(),{onActivateVpnAccount:r,onClearVpnAccountErrors:l,onCompleteVpnAccountActivation:c,openActivateVpnSuccessAlert:d,openActivateVpnErrorAlert:u}=(0,s.LZ)();return(0,n.useEffect)((()=>{t&&(t.status===i.VpnAccountStatusType.Ready&&(d(a(z)),c()),t.status===i.VpnAccountStatusType.Error&&(u(a(j[t.error])),l()))}),[l,c,d,u,a,t]),n.createElement(P,{stepNumber:e,vpnCredential:t,generateCredential:r})}},413597:(e,t,a)=>{"use strict";a.d(t,{RQ:()=>y,LZ:()=>d,BP:()=>E,Qy:()=>p,Hn:()=>b,q4:()=>g});var n=a(696832),i=a(925112),o=a(616274);const s=async e=>await o.C.activateVpnAccount(e);var r=a(708608);const l=async()=>await o.C.clearVpnAccountErrors(),c=async()=>await o.C.completeVpnAccountActivation();function d(){const e=(0,i.V)();return{onActivateVpnAccount:(0,n.useCallback)((async e=>{await s(e)}),[]),onClearVpnAccountErrors:()=>l(),onCompleteVpnAccountActivation:()=>c(),openActivateVpnSuccessAlert:(0,n.useCallback)((t=>{e.showAlert(t,r.BLW.SUCCESS)}),[e]),openActivateVpnErrorAlert:(0,n.useCallback)((t=>{e.showAlert(t,r.BLW.ERROR)}),[e])}}var u=a(148038);const p=()=>{const e=(0,u.qr)({queryConfig:{query:o.C.getVpnAccount},liveConfig:{live:o.C.liveVpnAccount}},[]);return e.status===u.rq.Success?e.data:null};var m=a(238250);const _=(e,t)=>!!e&&!e.hasVpnEnabled&&e?.vpnDisabledReason===t;function g(){const e=E(),t=!!e&&e.hasVpnEnabled,a=_(e,m.VpnDisabledReason.InTeam),n=_(e,m.VpnDisabledReason.NotPremium)||_(e,m.VpnDisabledReason.NoPayment),i=t||n;return{showVpnPage:i,showVpnMenuItem:a||i,showVpnDisabledB2BTooltip:a,vpnPageAccessLoading:!e,showVpnPaywall:n}}const h={VPN_DISABLED_FOR_B2B_TITLE:"webapp_vpn_notification_disabled_for_b2b_title",VPN_DISABLED_FOR_B2B_DESC:"webapp_vpn_notification_disabled_for_b2b_description"};function b(e,t){const{showVpnPage:a,showVpnMenuItem:n,showVpnDisabledB2BTooltip:i,showVpnPaywall:o}=g();return{showVpnPage:a,showVpnMenuItem:n,shouldDisplayVPNPaywall:o,getVpnDisabledNotification:()=>{const a=h.VPN_DISABLED_FOR_B2B_TITLE,n=h.VPN_DISABLED_FOR_B2B_DESC;return{showNotification:!e&&i,notificationClass:t,title:a,description:n}}}}var C=a(557572);let w;!function(e){e.ACTIVATING="activating",e.INITIAL="initial",e.INTERMEDIATE="intermediate",e.ACTIVATED="activated"}(w||(w={}));const y=e=>{const[t,a]=(0,n.useState)(w.INITIAL),[i,o]=(0,n.useState)();return(0,n.useEffect)((()=>{e?.status===m.VpnAccountStatusType.Activated&&t===w.INITIAL?a(w.ACTIVATED):e?.status===m.VpnAccountStatusType.Activating?a(w.ACTIVATING):e?.status===m.VpnAccountStatusType.NotFound&&a(w.INITIAL)}),[e?.status,t]),(0,n.useEffect)((()=>{if(e?.status===m.VpnAccountStatusType.Ready&&t===w.ACTIVATING){a(w.INTERMEDIATE);const e=window.setTimeout((()=>{o(e),a(w.ACTIVATED)}),C.M)}}),[e?.status,t]),(0,n.useEffect)((()=>{i&&window.clearTimeout(i)}),[i]),{isInitial:()=>t===w.INITIAL,isActivating:()=>t===w.ACTIVATING,isActivated:()=>t===w.ACTIVATED,isIntermediate:()=>t===w.INTERMEDIATE}},E=()=>{const e=(0,u.qr)({queryConfig:{query:o.C.getVpnCapabilitySetting}},[]);return e.status===u.rq.Success?e.data:null}},339702:(e,t,a)=>{"use strict";a.d(t,{Hn:()=>n.Hn,LZ:()=>n.LZ,Qy:()=>n.Qy,RQ:()=>n.RQ,Xj:()=>i.Xj}),a(200514);var n=a(413597),i=a(984433)},717425:(e,t,a)=>{"use strict";a.d(t,{_z:()=>r,dL:()=>s,gq:()=>l});var n=a(987364),i=a(110203);const o=(e,t)=>()=>(0,n.K)(new i.UserCopyVaultItemFieldEvent({field:e,itemId:t,itemType:i.ItemType.Credential,isProtected:!1})),s=e=>o(i.Field.Email,e),r=e=>o(i.Field.Password,e),l=()=>(0,n.K)(new i.UserDownloadVpnClientEvent({}))},611066:(e,t,a)=>{"use strict";function n(){return void 0!==window?.PublicKeyCredential&&"function"==typeof window.PublicKeyCredential}function i(){return n()?PublicKeyCredential.isUserVerifyingPlatformAuthenticatorAvailable():Promise.resolve(!1)}function o(){return!1}a.d(t,{FI:()=>i,Sq:()=>o,_U:()=>n})},889959:(e,t,a)=>{"use strict";a.d(t,{p:()=>s,G:()=>o});var n=a(560198),i=a(1971);const o=async e=>{const t=await(async e=>{var t;const a={rp:e.rp,user:{...e.user,id:(i=e.user.id,(new TextEncoder).encode(i))},challenge:(0,n.s)(e.challenge),timeout:e.timeout,pubKeyCredParams:e.pubKeyCredParams,authenticatorSelection:e.authenticatorSelection,excludeCredentials:(null!=(t=e.excludeCredentials)?t:[]).map((e=>({id:(0,n.s)(e.id),type:e.type})))};var i;const o=await navigator.credentials.create({publicKey:a});if(!o)throw new Error("WebAuthn attestation could not be completed as credential cannot be created");return o})(e),a=t.response,o={id:t.id,type:t.type,rawId:(0,i.a)(t.rawId),response:{clientDataJSON:(0,i.a)(a.clientDataJSON),attestationObject:(0,i.a)(a.attestationObject),getAuthenticatorData:()=>a.getAuthenticatorData(),getPublicKey:()=>a.getPublicKey(),getPublicKeyAlgorithm:()=>a.getPublicKeyAlgorithm(),getTransports:()=>a.getTransports()}};return"function"==typeof a.getTransports&&(o.transports=a.getTransports()),o};async function s(e,t){const a=await async function(e,t){var a;const i={challenge:(0,n.s)(e.challenge),allowCredentials:(null!=(a=e.allowCredentials)?a:[]).map((e=>({id:(0,n.s)(e.id),type:e.type}))),userVerification:e.userVerification,rpId:e.rpId,timeout:e.timeout},o=await navigator.credentials.get({publicKey:i,signal:t});if(!o)throw new Error("WebAuthn assertion could not be completed as credential cannot be created");return o}(e,t),o=a.response;return{id:a.id,type:a.type,rawId:(0,i.a)(a.rawId),response:{authenticatorData:(0,i.a)(o.authenticatorData),clientDataJSON:(0,i.a)(o.clientDataJSON),signature:(0,i.a)(o.signature)},clientExtensionResults:a.getClientExtensionResults()}}},296908:(e,t,a)=>{"use strict";a.d(t,{_U:()=>f._U,pM:()=>L.p,rV:()=>v,$_:()=>N,dG:()=>x,Hq:()=>D});var n=a(696832),i=a(770823),o=a(616274);const s=async e=>{const{isMasterPasswordValid:t}=await o.C.checkIfMasterPasswordIsValid({masterPassword:e});if(!t)throw new Error("Master password is not valid");return t};var r=a(383849),l=a.n(r),c=a(708608),d=a(585921),u=a(446389),p=a(956306);const m="icon--mUbeHPFKev";var _;!function(e){e.WRONG_PASSWORD_ERROR="wrong_password"}(_||(_={}));const g=({onValidateMasterPassword:e,onRemoveAuthenticator:t,onDismiss:a})=>{const{translate:i}=(0,u.Z)(),[o,s]=(0,n.useState)(""),[r,g]=(0,n.useState)(null),h=async n=>{n.preventDefault(),o&&await(async t=>{try{return await e(t),g(null),!0}catch(e){return g(_.WRONG_PASSWORD_ERROR),!1}})(o)&&(await t(),a())};return n.createElement(c.VqE,{modalContentClassName:l()(p.Ht),isOpen:!0,closeIconName:i("_common_dialog_dismiss_button"),onClose:a,ariaLabelledby:"disableDialogTitle",ariaDescribedby:"disableDialogBody",disableEscapeKeyClose:!0,disableOutsideClickClose:!0,disableScrolling:!0,disableUserInputTrap:!0},n.createElement("div",{className:m},n.createElement(d.JO,{name:"FeedbackFailOutlined",style:{height:"62px",width:"62px"},color:"ds.text.danger.quiet"})),n.createElement(c.$N8,{title:i("webapp_account_security_settings_passwordless_disable_title")}),n.createElement(c.a7O,null,n.createElement(c.nvN,{id:"disableDialogBody",color:"neutrals.8",sx:{mb:"26px"}},i("webapp_account_security_settings_passwordless_disable_description")),n.createElement("form",{autoComplete:"off",noValidate:!0,onSubmit:h},n.createElement(c.WUg,{autoFocus:!0,showPasswordTooltipText:i("webapp_account_security_settings_passwordless_disable_master_password_show"),hidePasswordTooltipText:i("webapp_account_security_settings_passwordless_disable_master_password_hide"),placeholder:i("webapp_account_security_settings_passwordless_disable_master_password_placeholder"),label:i("webapp_account_security_settings_passwordless_disable_master_password"),onChange:e=>{const t=e.target.value;g(null),s(t)},value:o,feedbackType:r?"error":void 0,feedbackText:r===_.WRONG_PASSWORD_ERROR?i("webapp_account_security_settings_passwordless_disable_master_password_error"):void 0}))),n.createElement(c.cNS,{primaryButtonTitle:i("webapp_account_security_settings_passwordless_disable_button_remove"),primaryButtonOnClick:h,primaryButtonProps:{type:"button",disabled:!o||null!==r},secondaryButtonTitle:i("webapp_account_security_settings_passwordless_disable_button_cancel"),secondaryButtonOnClick:a,secondaryButtonProps:{type:"button"}}))};var h;const b=({onDone:e})=>{const{translate:t}=(0,u.Z)();return n.createElement(c.VqE,{modalContentClassName:l()(p.Ht),isOpen:!0,closeIconName:t("_common_dialog_dismiss_button"),onClose:e,ariaLabelledby:"errorDialogTitle",ariaDescribedby:"errorDialogBody",disableEscapeKeyClose:!0,disableOutsideClickClose:!0,disableScrolling:!0,disableUserInputTrap:!0},n.createElement("div",{className:m},h||(h=n.createElement(c.enX,{size:60,"aria-hidden":"true"}))),n.createElement(c.$N8,{title:t("webapp_account_security_settings_passwordless_error_title")}),n.createElement(c.a7O,null,n.createElement(c.nvN,{id:"errorDialogBody"},t.markup("webapp_account_security_settings_passwordless_error_description_markup",{utmSource:"extension",utmMedium:"account"},{linkTarget:"_blank"}))),n.createElement(c.cNS,{primaryButtonTitle:t("webapp_account_security_settings_passwordless_error_button_done"),primaryButtonOnClick:e,primaryButtonProps:{type:"button"}}))};var C;!function(e){e.NONE="NONE",e.DISABLE="DISABLE",e.ERROR="ERROR"}(C||(C={}));const w=({credentialId:e,onDialogClose:t})=>{var a,o;const[r,l]=(0,n.useState)(C.NONE);(0,n.useEffect)((()=>{l(C.DISABLE)}),[]);const c=(0,n.useCallback)((()=>{l(C.NONE),"function"==typeof t&&t()}),[t]),d=(0,n.useCallback)((async()=>{try{await(0,i.pg)(e)}catch{l(C.ERROR)}}),[e]);return n.createElement((()=>{switch(r){case C.DISABLE:return a||(a=n.createElement(g,{onValidateMasterPassword:s,onRemoveAuthenticator:d,onDismiss:c}));case C.ERROR:return o||(o=n.createElement(b,{onDone:c}));case C.NONE:default:return null}}),null)};var y=a(191492),E=a(927761),I=a(714494);function N(e={}){const{onDialogStateChanged:t}=e,{areProtectedItemsUnlocked:a,openProtectedItemsUnlocker:o}=(0,E.tY)(),{openDialog:s,closeDialog:r}=(0,I.R)(),l=(0,n.useCallback)((()=>{const e=()=>{s(n.createElement(O,{onDialogClose:()=>{r(),t?.(!1)}}))};t?.(!0),a?e():o({itemType:y.Ru.SecuritySettings,successCallback:e,cancelCallback:()=>{t?.(!1)}})}),[s,r,a,o]),c=(0,n.useCallback)((()=>{const e=i.Sl;a?e():o({itemType:y.Ru.SecuritySettings,successCallback:e}),(0,i.Sl)()}),[a,o]),d=(0,n.useCallback)((async e=>{await(0,i.pg)(e)}),[]);return{openWebAuthnEnablerDialog:l,openWebAuthnDisablerDialog:c,openWebAuthnRemoveLastAuthenticatorDialog:(0,n.useCallback)((e=>{t?.(!0),s(n.createElement(w,{credentialId:e,onDialogClose:()=>{r(),t?.(!1)}}))}),[s,r]),onRemoveWebAuthnAuthenticator:d}}var f=a(611066);const v=()=>{const[e,t]=(0,n.useState)(null);return(0,n.useEffect)((()=>{(async()=>{const e=await(0,f.FI)();t(e)})()}),[]),e};var S=a(148038);const D=()=>{const e=(0,S.qr)({queryConfig:{query:o.C.getWebAuthnAuthenticationOptedIn},liveConfig:{live:o.C.liveWebAuthnAuthenticationOptedIn}},[]);return e.status===S.rq.Success&&e.data};function x(){const e=D(),t=((0,n.useEffect)((()=>{o.C.refreshWebAuthnAuthenticators()}),[]),(0,S.qr)({queryConfig:{query:o.C.getWebAuthnAuthenticators},liveConfig:{live:o.C.liveWebAuthnAuthenticators}},[]));return{optedIn:e,authenticators:t.status===S.rq.Success&&t.data||void 0}}var M;const T=({userHasWebAuthnPlatformAuthenticator:e,onAddAuthenticator:t,onDismiss:a})=>{const{translate:i}=(0,u.Z)(),o=e?"webapp_account_security_settings_passwordless_enable_all_authenticators_title":"webapp_account_security_settings_passwordless_enable_noplatform_title",s=e?"webapp_account_security_settings_passwordless_enable_all_authenticators_description":"webapp_account_security_settings_passwordless_enable_noplatform_description",r=e?"webapp_account_security_settings_passwordless_enable_all_authenticators_button_add":"webapp_account_security_settings_passwordless_enable_noplaftorm_button_add";return n.createElement(c.VqE,{modalContentClassName:l()(p.Ht),isOpen:!0,closeIconName:i("_common_dialog_dismiss_button"),onClose:a,ariaLabelledby:"enableDialogTitle",ariaDescribedby:"enableDialogBody",disableEscapeKeyClose:!0,disableOutsideClickClose:!0,disableScrolling:!0,disableUserInputTrap:!0},n.createElement("div",{className:m},M||(M=n.createElement(c.oie,{size:60,"aria-hidden":"true"}))),n.createElement(c.$N8,{title:i(o)}),n.createElement(c.a7O,null,n.createElement(c.nvN,{id:"enableDialogBody",color:"neutrals.8",sx:{marginBottom:"24px"}},i(s)),n.createElement(d.ke,{title:i("webapp_account_security_settings_passwordless_enable_all_authenticators_information_tip")})),n.createElement(c.cNS,{primaryButtonTitle:i(r),primaryButtonOnClick:t,primaryButtonProps:{type:"button"},secondaryButtonTitle:i("webapp_account_security_settings_passwordless_enable_button_cancel"),secondaryButtonOnClick:a,secondaryButtonProps:{type:"button"}}))};var A;const k=({userHasWebAuthnPlatformAuthenticator:e,onDone:t})=>{const{translate:a}=(0,u.Z)(),i=e?"webapp_account_security_settings_passwordless_confirm_enable_all_authenticators_title":"webapp_account_security_settings_passwordless_confirm_enable_noplatform_title",o=e?"webapp_account_security_settings_passwordless_confirm_enable_all_authenticators_description_markup":"webapp_account_security_settings_passwordless_confirm_enable_noplatform_description_markup";return n.createElement(c.VqE,{modalContentClassName:l()(p.Ht),isOpen:!0,closeIconName:a("_common_dialog_dismiss_button"),onClose:t,ariaLabelledby:"confirmEnableDialogTitle",ariaDescribedby:"confirmEnableDialogBody",disableEscapeKeyClose:!0,disableOutsideClickClose:!0,disableScrolling:!0,disableUserInputTrap:!0},n.createElement("div",{className:m},A||(A=n.createElement(c.rE2,{size:60,"aria-hidden":"true"}))),n.createElement(c.$N8,{title:a(i)}),n.createElement(c.a7O,null,n.createElement(c.nvN,{id:"confirmEnableDialogBody",color:"neutrals.8"},a.markup(o))),n.createElement(c.cNS,{primaryButtonTitle:a("webapp_account_security_settings_passwordless_confirm_enable_button_done"),primaryButtonOnClick:t,primaryButtonProps:{type:"button"}}))};var Z;!function(e){e.NONE="NONE",e.ENABLE="ENABLE",e.CONFIRM_ENABLE="CONFIRM_ENABLE",e.ERROR="ERROR"}(Z||(Z={}));const O=({onDialogClose:e})=>{var t,a,o;const[s,r]=(0,n.useState)(),[l,c]=(0,n.useState)(Z.NONE),d=v();(0,n.useEffect)((()=>{(async()=>{try{const e=await(0,i.oz)();r(e),c(Z.ENABLE)}catch{c(Z.ERROR)}})()}),[]);const u=(0,n.useCallback)((()=>{c(Z.NONE),"function"==typeof e&&e()}),[e]),p=(0,n.useCallback)((async()=>{try{await(0,i.i_)(s),r(void 0),c(Z.CONFIRM_ENABLE)}catch{c(Z.ERROR)}}),[s]);return n.createElement((()=>{switch(l){case Z.ENABLE:return t||(t=n.createElement(T,{userHasWebAuthnPlatformAuthenticator:d,onAddAuthenticator:p,onDismiss:u}));case Z.CONFIRM_ENABLE:return a||(a=n.createElement(k,{onDone:u,userHasWebAuthnPlatformAuthenticator:d}));case Z.ERROR:return o||(o=n.createElement(b,{onDone:u}));case Z.NONE:default:return null}}),null)};var L=a(889959)},770823:(e,t,a)=>{"use strict";a.d(t,{Sl:()=>i,i_:()=>l,oz:()=>d,rD:()=>m,nv:()=>p,pg:()=>u});var n=a(616274);const i=async()=>await n.C.disableWebAuthnAuthentication();var o=a(238250),s=a(889959),r=a(611066);const l=async e=>{if(!e||!e.success)throw new Error("WebAuthn authentication - Init Enable Result missing");const{publicKeyOptions:t,webAuthnType:a}=e.response;let i;switch(a){case o.WebAuthnCallTypes.CREATE:i=await(async e=>{const t=await(0,s.G)(e),a=(0,r.Sq)(),i=o.WebAuthnCallTypes.CREATE;return{success:(await n.C.enableWebAuthnAuthentication({authenticationType:i,credential:t,isRoaming:a})).success,data:{authenticationType:i,isRoaming:a}}})(t);break;case o.WebAuthnCallTypes.GET:i=await(async e=>{const t=await(0,s.p)(e),a=o.WebAuthnCallTypes.GET;return{success:(await n.C.enableWebAuthnAuthentication({authenticationType:a,credential:t})).success,data:{authenticationType:a}}})(t);break;default:i={success:!1}}if(!i.success)throw new Error("WebAuthn authentication - Enable call on Carbon failed");return i};var c=a(745268);const d=async()=>{const e=(0,c.Me)();if(!e)throw new Error("WebAuthn Authentication Enable cannot be started as extension Id is missing");const t=await n.C.initEnableWebAuthnAuthentication({relyingPartyId:e});if(!t.success)throw new Error("WebAuthn Authentication Enable cannot be completed as init was not possible");return t},u=async e=>await n.C.removeWebAuthnAuthenticator({credentialId:e}),p=async(e,t,a)=>{if(!e||!e.success)throw new Error("WebAuthn authentication - Init Open Sesion Result missing");const{publicKeyOptions:i}=e.response,o=await(0,s.p)(i,a),r=e.response.authenticatorsInfo.find((e=>e.credentialId===o.id)),l=await n.C.openSessionWithWebAuthnAuthenticator({credential:o,login:t,isRoamingAuthenticator:r?.isRoaming});if(!l.success)throw new Error("WebAuthn authentication - Enable call on Carbon failed");return l},m=async e=>{const t=(0,c.Me)();if(!t)throw new Error("WebAuthn Authentication init Open Session cannot be started as extension Id is missing");const a=await n.C.initOpenSessionWithWebAuthnAuthenticator({relyingPartyId:t,login:e});if(!a.success)throw new Error("WebAuthn Authentication Open Session cannot be completed as init was not possible");return a}},832070:e=>{e.exports={"--dashlane-credentials-grid-collapsing-duration":"300"}},593765:e=>{e.exports={"--dashlane-secure-notes-icon-lock-color":"rgb(255, 255, 255)","--dashlane-secure-notes-icon-sheet-color":"rgba(255, 255, 255, 0.7)","--dashlane-secure-notes-icon-background-blue":"rgb(91, 159, 217)","--dashlane-secure-notes-icon-background-purple":"rgb(184, 111, 209)","--dashlane-secure-notes-icon-background-pink":"rgb(255, 175, 220)","--dashlane-secure-notes-icon-background-red":"rgb(226, 98, 77)","--dashlane-secure-notes-icon-background-brown":"rgb(169, 130, 89)","--dashlane-secure-notes-icon-background-green":"rgb(155, 174, 38)","--dashlane-secure-notes-icon-background-orange":"rgb(250, 147, 67)","--dashlane-secure-notes-icon-background-yellow":"rgb(255, 197, 102)","--dashlane-secure-notes-icon-background-gray":"rgb(113, 113, 113)"}},385462:e=>{e.exports={"--dashlane-credentials-website-icon-border":"hsl(0, 0%, 73%)","--dashlane-credentials-header-height":"72px","--dashlane-credentials-table-header-height":"60px","--sidemenu-collapsed-width":"48px","--sidemenu-uncollapsed-min-width":"320px","--sidemenu-uncollapsed-max-width":"400px","--sidemenu-transition-duration":"500ms","--account-panel-width":"360px","--account-panel-animation-duration":"200ms","--account-panel-animation-easing":"ease-out","--edit-panel-width":"640px","--edit-panel-animation-duration-appear":"200ms","--edit-panel-animation-duration-enter":"200ms","--edit-panel-animation-duration-leave":"200ms","--edit-panel-animation-easing":"linear","--edit-panel-close-action-labels-spacing":"4px","--edit-panel-actions-animation-easing":"ease","--transition-duration-fast":"200ms","--transition-duration-slow":"300ms","--transition-duration-arriving":"400ms","--transition-duration-leaving":"350ms","--exponent-in-easing":"cubic-bezier(0.87, 0, 0.93, 0.5)","--exponent-out-easing":"cubic-bezier(0.03, 0.85, 0.34, 1)","--exponent-in-out-easing":"cubic-bezier(0.43, 0.01, 0, 1)","--bounce-in-easing":"cubic-bezier(0.175, 0.885, 0.32, 1.45)","--box-shadow-values":"0 16px 32px rgba(0, 0, 0, 0.32)","--icon-size-default":"40px"}},524853:(e,t,a)=>{"use strict";a.d(t,{Z:()=>n});const n={container:"container--Tp_HU_mHY8",parentSlider:"parentSlider--NLHdZC0WwL",parentSliderOpen:"parentSliderOpen--qGogfteLyT"}},802001:(e,t,a)=>{var n=a(696832);function i(e){return n.createElement("svg",e,[n.createElement("defs",{key:0},n.createElement("radialGradient",{cx:"25.967%",cy:"20.752%",fx:"25.967%",fy:"20.752%",r:"62.196%",id:"a"},[n.createElement("stop",{stopColor:"#72C7EF",offset:"0%",key:0}),n.createElement("stop",{stopColor:"#1997D5",offset:"100%",key:1})])),n.createElement("g",{fill:"none",fillRule:"evenodd",key:1},[n.createElement("path",{fill:"url(#a)",d:"M0 0h40v30H0z",key:0}),n.createElement("path",{d:"m3.606 11.774-.77-1.888-.764 1.888h1.534Zm16.949-.751a1.036 1.036 0 0 1-.556.097h-1.373v-1.051h1.384c.182-.015.365.015.533.085a.43.43 0 0 1 .236.419.485.485 0 0 1-.224.45Zm9.741.751-.777-1.888-.773 1.888h1.55ZM12.14 13.82h-1.15v-3.715L9.36 13.82h-.993l-1.634-3.715v3.715h-2.29l-.426-1.056h-2.34l-.438 1.056H.017L2.03 9.08H3.7l1.909 4.485V9.08h1.834l1.47 3.213 1.352-3.213h1.871v4.736l.004.002Zm4.593 0h-3.759V9.08h3.755v.986h-2.631v.857h2.567v.972h-2.567v.945h2.631l.004.978Zm5.297-3.462a1.334 1.334 0 0 1-.792 1.263c.217.08.41.218.556.399.16.235.186.445.186.868v.93h-1.135v-.597c0-.286.027-.694-.177-.923-.164-.167-.414-.203-.82-.203h-1.222v1.723h-1.124V9.081h2.586c.567 0 .993.016 1.362.228.368.211.58.52.58 1.048Zm1.798 3.462h-1.147V9.08h1.147v4.738Zm13.307 0h-1.599l-2.127-3.555v3.555h-2.293l-.434-1.058h-2.339l-.425 1.056h-1.315c-.546 0-1.238-.121-1.63-.524-.391-.403-.6-.947-.6-1.809 0-.703.123-1.344.606-1.857.363-.378.932-.553 1.702-.553h1.088v1.015H26.71c-.41 0-.641.061-.866.285-.191.2-.323.572-.323 1.073 0 .502.1.873.31 1.113.172.187.487.244.782.244h.505l1.577-3.723h1.684l1.91 4.485V9.08H34l1.976 3.299V9.081h1.152v4.736l.006.002Zm-37.13.93h1.921l.433-1.052h.969l.425 1.052h3.779v-.805l.338.807h1.96l.338-.82v.816h9.393V13.02h.181c.128 0 .165.016.165.229v1.498h4.857v-.401c.56.28 1.179.418 1.804.403h2.044l.437-1.052h.968l.426 1.052h3.938v-1l.595 1h3.156V8.137h-3.12v.78l-.443-.78h-3.204v.78l-.4-.78h-4.33c-.724 0-1.36.102-1.874.386v-.386h-2.989v.386c-.328-.286-.773-.386-1.277-.386H9.591L8.86 9.851l-.752-1.714H4.67v.78l-.372-.78H1.362L0 11.28v3.466l.006.003Zm39.988 3.491h-2.05a.774.774 0 0 0-.455.086.37.37 0 0 0-.165.342.357.357 0 0 0 .246.352c.14.043.286.06.432.053l.609.017c.614.016 1.025.122 1.277.382.04.034.075.074.104.117l.002-1.349Zm-.002 3.125c-.272.401-.805.605-1.524.605h-2.17v-1.015h2.161c.214 0 .365-.029.455-.117a.417.417 0 0 0 .134-.309.39.39 0 0 0-.142-.313.564.564 0 0 0-.396-.106c-1.055-.035-2.371.033-2.371-1.465 0-.687.432-1.41 1.612-1.41h2.24v-.943h-2.074c-.628 0-1.083.151-1.407.387v-.387h-3.08c-.493 0-1.07.123-1.344.387v-.387H26.59v.387c-.437-.317-1.176-.387-1.516-.387H21.45v.387c-.346-.337-1.115-.387-1.584-.387H15.81l-.928 1.011-.87-1.011H7.954v6.61h5.945l.956-1.027.9 1.027h3.666V21.35h.36c.487.007 1.06-.013 1.56-.233v1.784h3.023V21.18h.142c.186 0 .204.007.204.195v1.527h9.193c.583 0 1.193-.15 1.53-.428v.428h2.91c.606 0 1.198-.085 1.648-.304v-1.231h.001Zm-4.486-1.893c.218.228.336.516.336 1 0 1.018-.632 1.494-1.766 1.494H31.89v-1.016h2.18a.656.656 0 0 0 .46-.117.421.421 0 0 0-.008-.621.588.588 0 0 0-.4-.106c-1.051-.036-2.368.033-2.368-1.466 0-.687.426-1.41 1.607-1.41h2.254v1.009h-2.058a.756.756 0 0 0-.451.086.398.398 0 0 0 .077.694c.141.043.289.06.436.053l.606.017c.611.017 1.03.123 1.281.383Zm-10.143-.286a1.07 1.07 0 0 1-.555.097h-1.359V18.22h1.385c.183-.017.367.013.536.086a.45.45 0 0 1 .232.428.512.512 0 0 1-.235.446l-.004.007Zm.68.59c.216.078.407.215.55.397.158.232.181.447.185.865v.938h-1.134v-.593c0-.285.027-.707-.182-.927-.165-.17-.414-.21-.824-.21h-1.189v1.73h-1.135v-4.743h2.596c.568 0 .983.026 1.353.225.38.206.607.617.578 1.051a1.328 1.328 0 0 1-.796 1.26l-.003.007Zm1.418-2.536h3.751v.98h-2.627v.858h2.568v.967h-2.568v.943h2.633v.982h-3.753l-.004-4.73Zm-7.58 2.182h-1.452v-1.206h1.466c.405 0 .688.167.688.582 0 .414-.27.624-.701.624Zm-2.57 2.12-1.727-1.93 1.726-1.869v3.799Zm-4.458-.556h-2.764v-.943h2.468v-.967h-2.468v-.857h2.818l1.23 1.38-1.284 1.387Zm8.937-2.19c0 1.316-.975 1.587-1.958 1.587h-1.403v1.589h-2.185L14.858 20.4l-1.438 1.572H8.967v-4.739h4.52l1.384 1.553 1.43-1.553h3.591c.894 0 1.895.249 1.895 1.56l.002.003Z",fill:"#FFF",key:1})])])}i.defaultProps={width:"40",height:"30"},e.exports=i,i.default=i},864520:(e,t,a)=>{var n=a(696832);function i(e){return n.createElement("svg",e,[n.createElement("g",{clipPath:"url(#a)",key:0},[n.createElement("path",{d:"m16 24 20-6v6H16Z",fill:"#FD6020",key:0}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M30.607 8.996c1.094 0 1.695.506 1.695 1.461.055.73-.437 1.349-1.093 1.461l1.476 2.08h-1.148l-1.258-2.024h-.11v2.024h-.928V8.995h1.366ZM30.17 11.3h.273c.602 0 .875-.281.875-.787 0-.45-.273-.73-.875-.73h-.273V11.3Zm-4.154 2.697h2.624v-.842h-1.695v-1.35h1.64v-.842h-1.64V9.839h1.695v-.843h-2.624v5.002Zm-2.733-1.63-1.258-3.371h-.983l2.022 5.114h.492l2.023-5.114h-.984l-1.312 3.372Zm-11.099-.842c0 1.405 1.094 2.585 2.46 2.585.438 0 .82-.112 1.203-.281v-1.124c-.273.337-.656.562-1.093.562-.875 0-1.586-.674-1.586-1.574v-.112A1.664 1.664 0 0 1 14.7 9.839c.437 0 .875.225 1.148.562V9.277c-.328-.225-.765-.281-1.148-.281-1.421-.113-2.515 1.068-2.515 2.529Zm-1.694-.618c-.547-.225-.71-.338-.71-.619.054-.337.327-.618.655-.562.273 0 .547.169.765.394l.493-.675c-.383-.337-.875-.562-1.367-.562-.766-.056-1.422.562-1.476 1.35v.055c0 .675.273 1.068 1.148 1.35.218.055.437.168.656.28a.594.594 0 0 1 .273.506c0 .393-.328.73-.656.73h-.055a1.08 1.08 0 0 1-.984-.674l-.601.618c.328.618.984.956 1.64.956.875.056 1.585-.619 1.64-1.518v-.168c-.054-.675-.328-1.012-1.421-1.461Zm-3.17 3.09h.929v-5h-.93v5.002ZM3 8.995h1.64c1.312.056 2.35 1.18 2.296 2.53 0 .73-.328 1.404-.875 1.91-.492.393-1.093.618-1.694.562H3V8.994Zm1.204 4.16c.437.057.93-.112 1.257-.393.328-.337.492-.787.492-1.292 0-.45-.164-.9-.492-1.237-.328-.28-.82-.45-1.257-.393H3.93v3.316h.274Z",fill:"#000",key:1}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.976 8.8c-1.4 0-2.576 1.151-2.576 2.648 0 1.44 1.12 2.648 2.576 2.706 1.456.057 2.576-1.152 2.632-2.648-.056-1.497-1.176-2.706-2.632-2.706Z",fill:"#FD6020",key:2})]),n.createElement("path",{d:"M2 1h32v-2H2v2Zm33 1v20h2V2h-2Zm-1 21H2v2h32v-2ZM1 22V2h-2v20h2Zm1 1a1 1 0 0 1-1-1h-2a3 3 0 0 0 3 3v-2Zm33-1a1 1 0 0 1-1 1v2a3 3 0 0 0 3-3h-2ZM34 1a1 1 0 0 1 1 1h2a3 3 0 0 0-3-3v2ZM2-1a3 3 0 0 0-3 3h2a1 1 0 0 1 1-1v-2Z",fill:"#000",fillOpacity:".1",key:1}),n.createElement("defs",{key:2},n.createElement("clipPath",{id:"a"},n.createElement("path",{d:"M0 2a2 2 0 0 1 2-2h32a2 2 0 0 1 2 2v20a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2Z",fill:"#fff"})))])}i.defaultProps={width:"36",height:"24",fill:"none"},e.exports=i,i.default=i},352615:(e,t,a)=>{var n=a(696832);function i(e){return n.createElement("svg",e,[n.createElement("path",{d:"M0 2a2 2 0 0 1 2-2h32a2 2 0 0 1 2 2v20a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2Z",fill:"#000",key:0}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.18 17.358a7.106 7.106 0 0 1-4.596 1.672c-3.912 0-7.084-3.134-7.084-7s3.172-7 7.084-7c1.754 0 3.358.63 4.596 1.672a7.107 7.107 0 0 1 4.595-1.672c3.912 0 7.084 3.134 7.084 7s-3.172 7-7.084 7a7.106 7.106 0 0 1-4.595-1.672Z",fill:"#ED0006",key:1}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.18 17.358a6.95 6.95 0 0 0 2.489-5.328 6.951 6.951 0 0 0-2.49-5.328 7.107 7.107 0 0 1 4.596-1.672c3.912 0 7.084 3.134 7.084 7s-3.172 7-7.084 7a7.106 7.106 0 0 1-4.595-1.672Z",fill:"#F9A000",key:2}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.18 17.358a6.95 6.95 0 0 0 2.489-5.328 6.95 6.95 0 0 0-2.49-5.328 6.95 6.95 0 0 0-2.488 5.328 6.95 6.95 0 0 0 2.489 5.328Z",fill:"#FF5E00",key:3})])}i.defaultProps={width:"36",height:"24",fill:"none"},e.exports=i,i.default=i},651615:(e,t,a)=>{var n=a(696832);function i(e){return n.createElement("svg",e,[n.createElement("path",{fill:"#1434cb",d:"M0 0h40v30H0z",key:0}),n.createElement("path",{fill:"#fff",fillRule:"nonzero",d:"m19.83 9.548-2.339 10.933h-2.828l2.34-10.933h2.827Zm11.899 7.059 1.488-4.105.857 4.105h-2.345Zm3.155 3.874H37.5L35.217 9.548h-2.414c-.543 0-1.001.316-1.204.802l-4.244 10.131h2.97l.589-1.633h3.629l.341 1.633Zm-7.381-3.57c.012-2.885-3.99-3.044-3.963-4.333.009-.392.382-.809 1.2-.916.405-.053 1.522-.094 2.788.489l.497-2.318a7.602 7.602 0 0 0-2.646-.485c-2.795 0-4.762 1.486-4.779 3.614-.018 1.574 1.404 2.452 2.476 2.975 1.102.536 1.472.88 1.468 1.359-.008.734-.88 1.057-1.694 1.07-1.421.022-2.246-.385-2.904-.69l-.512 2.395c.66.303 1.88.568 3.145.581 2.971 0 4.914-1.468 4.924-3.741M15.789 9.548l-4.582 10.933h-2.99l-2.255-8.725c-.137-.538-.256-.734-.672-.961-.68-.369-1.802-.714-2.79-.929l.067-.318h4.812c.614 0 1.165.408 1.305 1.115l1.19 6.326 2.944-7.441h2.971Z",key:1})])}i.defaultProps={width:"40",height:"30",xmlSpace:"preserve",style:{fillRule:"evenodd",clipRule:"evenodd",strokeLinejoin:"round",strokeMiterlimit:"2"}},e.exports=i,i.default=i},860964:(e,t,a)=>{var n=a(696832);function i(e){return n.createElement("svg",e,n.createElement("path",{d:"m3.5 16.5 13-13m0 13-13-13",stroke:"#9FAEB1",strokeLinecap:"round",strokeLinejoin:"round"}))}i.defaultProps={width:"20",height:"20",fill:"none"},e.exports=i,i.default=i},22827:(e,t,a)=>{var n=a(696832);function i(e){return n.createElement("svg",e,n.createElement("path",{d:"M4 9h2v2H4V9Zm5 0h2v2H9V9Zm7 0h-2v2h2V9Z",fill:"#0E353D"}))}i.defaultProps={width:"20",height:"20",fill:"none"},e.exports=i,i.default=i},469152:(e,t,a)=>{var n=a(696832);function i(e){return n.createElement("svg",e,[n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.5 9.5h-1V8H11v4H9.5V9.5Z",fill:"#0E353D",key:0}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13 16.5H4.5v-13h7.474L15.5 6.904V18H17V6.267L12.58 2H3v16h11l-1-1.5Z",fill:"#0E353D",key:1})])}i.defaultProps={width:"20",height:"20",fill:"none"},e.exports=i,i.default=i},277873:(e,t,a)=>{var n=a(696832);function i(e){return n.createElement("svg",e,[n.createElement("rect",{width:"48",height:"32",rx:"4",key:0}),n.createElement("path",{d:"M6 19a1 1 0 1 0 0-2 1 1 0 0 0 0 2Zm3 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2Zm3 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2Zm3 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2Zm11 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2Zm-3 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2Zm-3 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2Zm17 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2Zm3 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2Zm3 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2Zm-9 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2Zm-5 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2Zm-16.5 5h-7a.5.5 0 0 0 0 1h7a.5.5 0 0 0 0-1Zm12 3h-19a.5.5 0 0 0 0 1h19a.5.5 0 0 0 0-1Z",fill:"#fff",fillOpacity:".6",key:1})])}i.defaultProps={width:"48",height:"32",fill:"#F29100"},e.exports=i,i.default=i},438530:(e,t,a)=>{var n=a(696832);function i(e){return n.createElement("svg",e,n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M35.5 31h-30V9h30v22Zm-3-12v9h-24v-9h5.357l-3-3H8.5v-4h24v4H16.857v3H32.5Z",fill:"#fff"}))}i.defaultProps={width:"41",height:"40",fill:"none"},e.exports=i,i.default=i},520860:(e,t,a)=>{var n=a(696832);function i(e){return n.createElement("svg",e,[n.createElement("rect",{width:"48",height:"32",rx:"4",fill:"#F5F5F5",key:0}),n.createElement("rect",{x:".5",y:".5",width:"47",height:"31",rx:"3.5",stroke:"#191919",strokeOpacity:".1",key:1}),n.createElement("path",{d:"M6 19a1 1 0 1 0 0-2 1 1 0 0 0 0 2Zm3 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2Zm3 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2Zm3 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2Zm11 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2Zm-3 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2Zm-3 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2Zm17 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2Zm3 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2Zm3 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2Zm-9 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2Zm-5 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2Zm-16.5 5h-7a.5.5 0 0 0 0 1h7a.5.5 0 0 0 0-1Zm12 3h-19a.5.5 0 0 0 0 1h19a.5.5 0 0 0 0-1Z",fill:"#191919",fillOpacity:".1",key:2})])}i.defaultProps={width:"48",height:"32",fill:"none"},e.exports=i,i.default=i},752805:(e,t,a)=>{var n=a(696832);function i(e){return n.createElement("svg",e,n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.018 7.248c0-.54-.287-1.101-.774-1.54C10.76 5.271 10.122 5 9.51 5c-.65 0-1.293.217-1.762.582-.463.36-.74.848-.735 1.414v.007L7 9h7v6H5V9h1.54L6 8.997 6.012 7c-.006-.932.461-1.693 1.121-2.207C7.788 4.283 8.65 4 9.509 4c.895 0 1.763.387 2.405.965.64.578 1.104 1.39 1.104 2.283v1.744h-1V7.248ZM13 10H6v4h5l1 1h1.006v-1H13v-4Z",fill:"#0E353D"}))}i.defaultProps={width:"20",height:"20",fill:"none"},e.exports=i,i.default=i},931926:(e,t,a)=>{var n=a(696832);function i(e){return n.createElement("svg",e,[n.createElement("path",{d:"M8.833 9.99a1.5 1.5 0 0 1 0-2.98c.168-.358.394-.681.667-.96a2.5 2.5 0 1 0 0 4.9 3.508 3.508 0 0 1-.667-.96Z",fill:"#0E353D",key:0}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 15h8s-.021-.45-.27-1c-.396-.873-1.365-2-3.73-2-2.366 0-3.334 1.127-3.73 2-.25.55-.27 1-.27 1Zm1.425-1c.338-.45 1.03-1 2.575-1 1.545 0 2.237.55 2.575 1h-5.15Z",fill:"#0E353D",key:1}),n.createElement("path",{d:"M5.237 14c.31-.784 1.027-1.774 2.671-1.967a4.782 4.782 0 0 0-.602.798 5.094 5.094 0 0 0-.263.496c-.34.193-.55.443-.693.673h.433a5.635 5.635 0 0 0-.207.954L6.57 15H5s.019-.45.237-1ZM13.5 8.5c0 .371-.135.71-.358.972l.709.709a2.5 2.5 0 1 0-.767.573L12.3 9.97a1.5 1.5 0 1 1 1.2-1.47Z",fill:"#0E353D",key:2})])}i.defaultProps={width:"20",height:"20",fill:"none"},e.exports=i,i.default=i},146799:(e,t,a)=>{var n=a(696832);function i(e){return n.createElement("svg",e,n.createElement("g",{fill:"#0e353d"},[n.createElement("path",{clipRule:"evenodd",d:"M12 17.257a5.257 5.257 0 1 0 0-10.514 5.257 5.257 0 0 0 0 10.514zm0 1.543c3.787 0 6.857-3.013 6.857-6.8a6.857 6.857 0 1 0-13.714 0c0 3.787 3.07 6.8 6.857 6.8z",fillRule:"evenodd",key:0}),n.createElement("path",{d:"M9.429 22.286h5.142L13.286 24h-2.572zm0-3.976h5.142v2.262H9.43zm11.999-8.024H24V12h-2.571zM12.857 0v2.571h-1.714V0zM2.808 4.221l1.886 1.886 1.414-1.414-1.885-1.886zm18.378 0-1.885 1.886-1.414-1.414 1.885-1.886zM0 10.286h2.571V12H0z",key:1})]))}i.defaultProps={fill:"none",height:"20",viewBox:"0 0 24 24",width:"20"},e.exports=i,i.default=i},32046:e=>{var t={encodeBase64:function(e,a){e||(e="");var n,i,o,s,r,l,c,d,u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",p=[],m="";if((l=(c=(a=void 0!==a&&a)?t.encodeUTF8(e):e).length%3)>0)for(;l++<3;)m+="=",c+="\0";for(l=0;l<c.length;l+=3)i=(n=c.charCodeAt(l)<<16|c.charCodeAt(l+1)<<8|c.charCodeAt(l+2))>>18&63,o=n>>12&63,s=n>>6&63,r=63&n,p[l/3]=u.charAt(i)+u.charAt(o)+u.charAt(s)+u.charAt(r);return(d=p.join("")).slice(0,d.length-m.length)+m},decodeBase64:function(e,a){e||(e="");var n,i,o,s,r,l,c,d,u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",p=[];d=(a=void 0!==a&&a)?t.decodeUTF8(e):e;for(var m=0;m<d.length;m+=4)n=(l=u.indexOf(d.charAt(m))<<18|u.indexOf(d.charAt(m+1))<<12|(s=u.indexOf(d.charAt(m+2)))<<6|(r=u.indexOf(d.charAt(m+3))))>>>16&255,i=l>>>8&255,o=255&l,p[m/4]=String.fromCharCode(n,i,o),64==r&&(p[m/4]=String.fromCharCode(n,i)),64==s&&(p[m/4]=String.fromCharCode(n));return c=p.join(""),a?t.decodeUTF8(c):c},encodeUTF8:function(e){return e||(e=""),(e=e.replace(/[\u0080-\u07ff]/g,(function(e){var t=e.charCodeAt(0);return String.fromCharCode(192|t>>6,128|63&t)}))).replace(/[\u0800-\uffff]/g,(function(e){var t=e.charCodeAt(0);return String.fromCharCode(224|t>>12,128|t>>6&63,128|63&t)}))},decodeUTF8:function(e){return e||(e=""),(e=e.replace(/[\u00c0-\u00df][\u0080-\u00bf]/g,(function(e){var t=(31&e.charCodeAt(0))<<6|63&e.charCodeAt(1);return String.fromCharCode(t)}))).replace(/[\u00e0-\u00ef][\u0080-\u00bf][\u0080-\u00bf]/g,(function(e){var t=(15&e.charCodeAt(0))<<12|(63&e.charCodeAt(1))<<6|63&e.charCodeAt(2);return String.fromCharCode(t)}))},convertToHex:function(e){e||(e="");for(var t="",a="",n=0;n<e.length;n++)t+=1==(a=e.charCodeAt(n).toString(16)).length?"0"+a:a;return t},convertFromHex:function(e){e||(e="");for(var t="",a=0;a<e.length;a+=2)t+=String.fromCharCode(parseInt(e.substring(a,a+2),16));return t},stripLineFeeds:function(e){return e||(e=""),e.replace(/\n/g,"").replace(/\r/g,"")},toByteArray:function(e){e||(e="");for(var t=[],a=0;a<e.length;a++)t[a]=e.charCodeAt(a);return t},fragment:function(e,t,a){if(e||(e=""),!t||t>=e.length)return e;a||(a="\n");for(var n="",i=0;i<e.length;i+=t)n+=e.substr(i,t)+a;return n},formatHex:function(e,t){e||(e=""),t||(t=45);for(var a="",n=e.toLowerCase(),i=0;i<n.length;i+=2)a+=n.substr(i,2)+":";return this.fragment(a,t)},byteArray2String:function(e){for(var t="",a=0;a<e.length;a++)t+=String.fromCharCode(e[a]);return t}};e.exports=t},292210:(e,t,a)=>{"use strict";a.r(t),a.d(t,{ParsedURL:()=>c});var n=a(911590),i=a(427421);const o=/^(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)){3}$/,s=e=>!e||(e=>e.startsWith(".")||e.endsWith("."))(e)?{etld:"",mainDomain:"",subdomain:""}:"localhost"===e?{etld:"",mainDomain:e,subdomain:""}:(e=>o.test(e))(e)?(e=>({etld:"",mainDomain:e,subdomain:""}))(e):(e=>e.startsWith("["))(e)?(e=>({etld:"",mainDomain:e.slice(1,-1),subdomain:""}))(e):(e=>{const t=function(e){if(!e)return"";const t=function(e){const t=[];let a=e.split(".");for(;1!==a.length;)a=a.slice(1),t.push(a.join("."));return t}(e);if(0===t.length)return"";if(i.x.exception.has(e))return t[0];for(let e=0;e<t.length;e++){const a=t[e];if(i.x.exception.has(a))return t[e+1];if(i.x.basic.has(a))return a;const n=t[e+1];if(i.x.wildcard.has(n))return a}return""}(e),a=((e,t)=>(t&&(e=e.slice(0,-t.length-1)),e.replace(/^www\./,"")))(e,t).split(".");return{etld:t,mainDomain:a[a.length-1]?a[a.length-1]:"",subdomain:a.length>1?a.slice(0,-1).join("."):""}})(e),r=/^[A-Za-z+\-.]+:\/\//,l=e=>r.test(e);class c{constructor(e){this.appendETLD=e=>this.etld?`${e}.${this.etld}`:e;const t=(e=>{const t={userInput:"",hash:"",host:"",hostname:"",href:"",origin:"",password:"",pathname:"",port:"",protocol:"",search:"",username:""};if(!e)return t;const a=e;l(e)||(e=`https://${e}`);try{const t=new URL((e=>e.endsWith(".")?e.slice(0,-1):e)(e));return{hash:t.hash,host:t.host,hostname:t.hostname,href:t.href,origin:t.origin,password:t.password,pathname:t.pathname,port:t.port,protocol:t.protocol,search:t.search,username:t.username,userInput:a}}catch(e){return t}})(e="string"==typeof e?e:"");this.isUnicode=e!==(0,n.H9)(e),this.hostname=t.hostname,this.host=t.host,this.piiStrippedURL=(e=>{if(!e)return"";if(!["http:","https:"].includes(e.protocol))return e.href;try{return(l(e.userInput)?e.origin:e.origin.split("://")[1])+(()=>{if("/"!==e.pathname)return e.pathname;const t=e.userInput.split(e.host);return t.length>1&&t[1].startsWith("/")?e.pathname:""})()+e.hash}catch(e){return""}})(t),this.search=t.search,this.hasHTTPProtocol=(e=>e.startsWith("http://")||e.startsWith("https://"))(e);const{etld:a,mainDomain:i,subdomain:o}=s(this.hostname);this.etld=a,this.rootDomainName=i,this.subdomain=o}getRootDomain(){const e=this.appendETLD(this.rootDomainName);return this.isUnicode?(0,n.xX)(e):e}getRootDomainName(){return this.isUnicode?(0,n.xX)(this.rootDomainName):this.rootDomainName}getSubdomain(){return this.isUnicode?(0,n.xX)(this.subdomain):this.subdomain}getHostname(){return this.isUnicode?(0,n.xX)(this.hostname):this.hostname}getHost(){return this.isUnicode?(0,n.xX)(this.host):this.host}getETLD(){return this.isUnicode?(0,n.xX)(this.etld):this.etld}getPIIStrippedURL(){if(this.isUnicode){const e=this.piiStrippedURL.split("://");return`${e[0]}://${(0,n.xX)(e[1])}`}return this.piiStrippedURL}getSearch(){return this.isUnicode?(0,n.xX)(this.search):this.search}isUrlValid(){return this.hasHTTPProtocol||""!==this.etld}}}},s={};function r(e){var t=s[e];if(void 0!==t)return t.exports;var a=s[e]={id:e,loaded:!1,exports:{}};return o[e].call(a.exports,a,a.exports,r),a.loaded=!0,a.exports}r.m=o,r.amdO={},e=[],r.O=(t,a,n,i)=>{if(!a){var o=1/0;for(d=0;d<e.length;d++){for(var[a,n,i]=e[d],s=!0,l=0;l<a.length;l++)(!1&i||o>=i)&&Object.keys(r.O).every((e=>r.O[e](a[l])))?a.splice(l--,1):(s=!1,i<o&&(o=i));if(s){e.splice(d--,1);var c=n();void 0!==c&&(t=c)}}return t}i=i||0;for(var d=e.length;d>0&&e[d-1][2]>i;d--)e[d]=e[d-1];e[d]=[a,n,i]},r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},a=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,r.t=function(e,n){if(1&n&&(e=this(e)),8&n)return e;if("object"==typeof e&&e){if(4&n&&e.__esModule)return e;if(16&n&&"function"==typeof e.then)return e}var i=Object.create(null);r.r(i);var o={};t=t||[null,a({}),a([]),a(a)];for(var s=2&n&&e;"object"==typeof s&&!~t.indexOf(s);s=a(s))Object.getOwnPropertyNames(s).forEach((t=>o[t]=()=>e[t]));return o.default=()=>e,r.d(i,o),i},r.d=(e,t)=>{for(var a in t)r.o(t,a)&&!r.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},r.f={},r.e=e=>Promise.all(Object.keys(r.f).reduce(((t,a)=>(r.f[a](e,t),t)),[])),r.u=e=>(461===e?"device_limit_flow_animation":e)+".js",r.miniCssF=e=>{},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n={},i="@dashlane/leeloo:",r.l=(e,t,a,o)=>{if(n[e])n[e].push(t);else{var s,l;if(void 0!==a)for(var c=document.getElementsByTagName("script"),d=0;d<c.length;d++){var u=c[d];if(u.getAttribute("src")==e||u.getAttribute("data-webpack")==i+a){s=u;break}}s||(l=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,r.nc&&s.setAttribute("nonce",r.nc),s.setAttribute("data-webpack",i+a),s.src=e,0!==s.src.indexOf(window.location.origin+"/")&&(s.crossOrigin="anonymous")),n[e]=[t];var p=(t,a)=>{s.onerror=s.onload=null,clearTimeout(m);var i=n[e];if(delete n[e],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((e=>e(a))),t)return t(a)},m=setTimeout(p.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=p.bind(null,s.onerror),s.onload=p.bind(null,s.onload),l&&document.head.appendChild(s)}},r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),r.j=630,r.p="/",(()=>{var e={630:0};r.f.j=(t,a)=>{var n=r.o(e,t)?e[t]:void 0;if(0!==n)if(n)a.push(n[2]);else{var i=new Promise(((a,i)=>n=e[t]=[a,i]));a.push(n[2]=i);var o=r.p+r.u(t),s=new Error;r.l(o,(a=>{if(r.o(e,t)&&(0!==(n=e[t])&&(e[t]=void 0),n)){var i=a&&("load"===a.type?"missing":a.type),o=a&&a.target&&a.target.src;s.message="Loading chunk "+t+" failed.\n("+i+": "+o+")",s.name="ChunkLoadError",s.type=i,s.request=o,n[1](s)}}),"chunk-"+t,t)}},r.O.j=t=>0===e[t];var t=(t,a)=>{var n,i,[o,s,l]=a,c=0;if(o.some((t=>0!==e[t]))){for(n in s)r.o(s,n)&&(r.m[n]=s[n]);if(l)var d=l(r)}for(t&&t(a);c<o.length;c++)i=o[c],r.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return r.O(d)},a=globalThis.webpackChunk_dashlane_leeloo=globalThis.webpackChunk_dashlane_leeloo||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))})(),r.nc=void 0;var l=r.O(void 0,[410,5,204,695,162,557,483,114,505,762,440,552,903,378,565,906,749,233,978,274,112,356,72,496],(()=>r(987112)));l=r.O(l)})();